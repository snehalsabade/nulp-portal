{"version":3,"sources":["./src/app/modules/player-helper/components/content-credits/content-credits.component.ts","./src/app/modules/player-helper/components/content-credits/content-credits.component.html"],"names":[],"mappings":"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","file":"default~explore-page-explore-page-module-ngfactory~module-course-course-module-ngfactory~modules-lea~acaa3439.js","sourcesContent":["import { Component, OnInit, Input, EventEmitter, Output, OnChanges, ViewChild } from '@angular/core';\nimport { ResourceService } from '@sunbird/shared';\nimport * as _ from 'lodash-es';\nimport { ContentData, ContentCreditsData } from '@sunbird/shared';\nimport { fromEvent, Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-content-credits',\n  templateUrl: './content-credits.component.html',\n  styleUrls: ['./content-credits.component.scss']\n})\nexport class ContentCreditsComponent implements OnInit, OnChanges {\n  @Input() contentData: ContentData;\n  @Output() close = new EventEmitter<any>();\n  @ViewChild('contentCreditsModal') contentCreditsModal;\n\n  showContentCreditModal = false;\n  instance: string;\n  contentCreditsData: ContentCreditsData;\n  private unsubscribe = new Subject<void>();\n\n  constructor(public resourceService: ResourceService) {\n  }\n\n  ngOnInit() {\n    this.instance = _.upperCase(this.resourceService.instance);\n    /* Listen for back button click and close popup */\n    fromEvent(window, 'popstate')\n      .subscribe((e) => {\n        this.closeModal(this.contentCreditsModal);\n      });\n  }\n\n  ngOnChanges() {\n    this.contentCreditsData = { contributors: '', creators: '', attributions: '', copyright: '' };\n    if (this.contentData) {\n      if (this.contentData.copyright) {\n        this.contentCreditsData['copyright'] = this.contentData.copyright;\n      }\n      // contributors , it is a combination of content credits names, creators, and owner\n      const contentCredits = _.get(this.contentData, 'contentCredits');\n      const contentCreditNames = contentCredits && contentCredits.length ? _.map(contentCredits, 'name') : [];\n      const contirbutors = this.contentData['contributors'] ? this.contentData['contributors'].split(',') : [];\n      if (this.contentData['owner']) {\n        contirbutors.push(this.contentData['owner']);\n      }\n      this.contentCreditsData['contributors'] = (_.compact(_.uniq(_.union(contentCreditNames, contirbutors).sort())).join(', '));\n      // creators is a combination of creators and creator\n      const creators = this.contentData['creators'] ? this.contentData['creators'].split(',') : [];\n      if (this.contentData['creator']) {\n        creators.push(this.contentData['creator']);\n      }\n      // attributors\n      if (_.get(this.contentData, 'attributions')) {\n        const attributions = _.isString(_.get(this.contentData, 'attributions')) ?\n          _.get(this.contentData, 'attributions').split(',') : _.get(this.contentData, 'attributions');\n        this.contentCreditsData['attributions'] = (_.compact(_.uniq(attributions).sort()).join(', '));\n      }\n    }\n  }\n\n  public closeModal(contentCreditsModal) {\n    contentCreditsModal.deny();\n    this.close.emit();\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}\n","<app-modal-wrapper [config]=\"{disableClose: true, size: 'small'}\" (dismiss)=\"closeModal(contentCreditsModal)\"\n  #contentCreditsModal>\n  <ng-template sbModalContent>\n    <div class=\"sb-modal\">\n      \n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible small\">\n          <button aria-label=\"close dialog\" mat-dialog-close class=\"mat-close-btn\">\n            <span>&times;</span>\n          </button>\n          <!--Header-->\n          <div class=\"sb-modal-header\">\n            {{resourceService?.frmelmnts?.lbl?.credits | uppercase}}\n          </div>\n          <!--/Header-->\n\n          <!--Content-->\n          <div class=\"sb-modal-content\">\n            <div class=\"ui list\">\n              <div class=\"item mt-10\" *ngIf=\"contentData.copyright\">\n                <div class=\"header text-gray\">{{resourceService.frmelmnts.lbl.copyRight | uppercase}}</div>\n                <div class=\"mt-5\">{{contentData.copyright}}\n                  <span *ngIf=\"contentData.copyrightYear\">,&nbsp;{{contentData.copyrightYear}}</span>\n                </div>\n              </div>\n              <div class=\"item mt-10\" *ngIf=\"contentCreditsData.attributions\">\n                <div class=\"header text-gray\">{{resourceService?.frmelmnts?.lbl?.attributions | uppercase}}</div>\n                <div class=\"mt-5\">{{contentCreditsData.attributions}}</div>\n              </div>\n              <div class=\"item\"\n                *ngIf=\"contentData && contentData.originData && (contentData['contentType'] === 'Course')\">\n                <div class=\"gray-shade mt-10\">\n                  {{resourceService.frmelmnts.lbl?.contentcopiedtitle}}\n                </div>\n                <div class=\"item mt-10\">\n                  <div class=\"header text-gray\">{{resourceService.frmelmnts.lbl?.contenttype | uppercase}}</div>\n                  <div class=\"mt-5\">{{contentData.originData.name}}</div>\n                </div>\n                <div class=\"item mt-10\" *ngIf=\"contentData?.originData?.author\">\n                  <div class=\"header text-gray\">{{resourceService.frmelmnts.lbl?.authorofsourcecontent | uppercase}}\n                  </div>\n                  <div class=\"mt-5\">{{contentData.originData.author}}</div>\n                </div>\n                <div class=\"item mt-10\">\n                  <div class=\"header text-gray\">{{resourceService.frmelmnts.lbl?.licenseTerms | uppercase}}</div>\n                  <div class=\"mt-5\">{{contentData.originData.license}}</div>\n                </div>\n                <div class=\"item mt-10\">\n                  <div class=\"header text-gray\">\n                    {{resourceService.frmelmnts.lbl?.publishedOnInstanceName | interpolate:'{instance}': instance |\n                    uppercase}}</div>\n                  <div class=\"mt-5\">{{contentData.originData.organisation[0]}}</div>\n                </div>\n              </div>\n              <!-- Reverted -->\n              <!-- If content credits / originData  unavailable -->\n              <!-- <div class=\"item mt-10\" *ngIf=\"contentData && !contentData.originData && !contentData.copyright && !contentCreditsData.attributions\">\n        <div class=\"mt-5\">{{resourceService?.frmelmnts?.lbl?.noCreditsAvailable}}</div>\n      </div> -->\n              <!-- If content credits / originData  unavailable -->\n            </div>\n          </div>\n          <!--/Content-->\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>"],"sourceRoot":"webpack:///"}