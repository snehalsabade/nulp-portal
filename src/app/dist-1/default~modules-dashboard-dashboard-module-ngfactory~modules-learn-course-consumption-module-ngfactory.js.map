{"version":3,"sources":["./src/app/modules/dashboard/services/dashboard-utils/dashboard-utils.service.ts","./src/app/modules/dashboard/services/download/download.service.ts","./src/app/modules/dashboard/components/reports/reports.component.ts","./src/app/modules/dashboard/components/report-summary/report-summary.component.ts","./src/app/modules/dashboard/components/user-report/user-report.component.ts","./src/app/modules/dashboard/components/course-category-wise/course-category-wise.component.ts","./src/app/modules/dashboard/services/addusser/addusser.service.ts","./src/app/modules/dashboard/services/course-progress/course-progress.service.ts","./src/app/modules/dashboard/components/dashboard-sidebar/dashboard-sidebar.component.ts","./src/app/modules/dashboard/components/all-dashboard/all-dashboard.component.ts","./src/app/modules/dashboard/components/report/report.component.ts","./src/app/modules/dashboard/services/course-consumption/course-consumption.service.ts","./src/app/modules/dashboard/components/course-progress/course-progress.component.ts","./src/app/modules/dashboard/components/re-issue-certificate/re-issue-certificate.component.ts","./src/app/modules/dashboard/components/course-report/course-report.component.ts","./src/app/modules/dashboard/services/renderer/renderer.service.ts","./src/app/modules/dashboard/components/course-progress-exhaust/course-progress-exhaust.component.html","./src/app/modules/dashboard/components/list-all-reports/list-all-reports.component.ts","./src/app/modules/dashboard/components/course-progress-exhaust/course-progress-exhaust.component.ts","./src/app/modules/dashboard/components/organization-report/organization-report.component.ts","./src/app/modules/dashboard/components/organization/organization.component.ts","./src/app/modules/dashboard/services/chartjs/line-chart/line-chart.service.ts","./node_modules/moment-duration-format/lib/moment-duration-format.js","./src/assets/libs/naturalSortDataTablePlugin/naturalSortDataTablePlugin.js","./src/app/modules/dashboard/services/course-progress/export-csv.service.ts","./src/app/modules/dashboard/dashboard.module.ts","./src/app/modules/dashboard/services/dataset/dataset.service.ts","./src/app/modules/dashboard/course-progress-exhaust.module.ts","./src/app/modules/dashboard/services/organization/organization.service.ts","./src/app/modules/dashboard/components/content-dept-wise-report/content-dept-wise-report.component.ts","./src/app/modules/dashboard/components/dept-city-wise-report/dept-city-wise-report.component.ts","./src/app/modules/dashboard/components/course-dashboard/course-dashboard.component.ts","./src/app/modules/dashboard/components/course-consumption/course-consumption.component.ts","./src/app/modules/dashboard/components/data-table/data-table.component.ts","./src/app/modules/dashboard/components/dataset/dataset.component.ts","./src/app/modules/dashboard/components/usage-reports/usage-reports.component.ts","./src/app/modules/dashboard/components/content-report/content-report.component.ts","./src/app/modules/dashboard/services/index.ts","./src/app/modules/dashboard/components/index.ts","./src/app/modules/dashboard/components/city-wise-report/city-wise-report.component.ts","./src/app/modules/dashboard/components/filter/filter.component.ts","./src/app/modules/dashboard/components/content-creation-statics/content-creation-statics.component.ts","./src/app/modules/dashboard/components/add-summary-modal/add-summary-modal.component.ts","./src/app/modules/dashboard/services/chartjs/index.ts","./src/app/modules/dashboard/services/report/report.service.ts","./src/app/modules/dashboard/components/content-category-wise/content-category-wise.component.ts","./src/app/modules/dashboard/components/data-chart/data-chart.component.ts","./src/app/modules/dashboard/components/map/map.component.ts","../node_modules/tslib/tslib.es6.js","../src/css/layout/bounds.ts","../node_modules/css-line-break/src/Util.ts","../node_modules/css-line-break/src/Trie.ts","../node_modules/css-line-break/src/linebreak-trie.ts","../node_modules/css-line-break/src/LineBreak.ts","../src/css/syntax/tokenizer.ts","../src/css/syntax/parser.ts","../src/css/types/length.ts","../src/css/types/length-percentage.ts","../src/css/types/angle.ts","../src/css/types/color.ts","../src/css/IPropertyDescriptor.ts","../src/css/property-descriptors/background-clip.ts","../src/css/property-descriptors/background-color.ts","../src/css/types/functions/gradient.ts","../src/css/types/functions/linear-gradient.ts","../src/css/types/functions/-prefix-linear-gradient.ts","../src/core/features.ts","../src/core/logger.ts","../src/core/cache-storage.ts","../src/css/types/functions/-webkit-gradient.ts","../src/css/types/functions/radial-gradient.ts","../src/css/types/functions/-prefix-radial-gradient.ts","../src/css/types/image.ts","../src/css/property-descriptors/background-image.ts","../src/css/property-descriptors/background-origin.ts","../src/css/property-descriptors/background-position.ts","../src/css/property-descriptors/background-repeat.ts","../src/css/property-descriptors/background-size.ts","../src/css/property-descriptors/border-color.ts","../src/css/property-descriptors/border-radius.ts","../src/css/property-descriptors/border-style.ts","../src/css/property-descriptors/border-width.ts","../src/css/property-descriptors/color.ts","../src/css/property-descriptors/display.ts","../src/css/property-descriptors/float.ts","../src/css/property-descriptors/letter-spacing.ts","../src/css/property-descriptors/line-break.ts","../src/css/property-descriptors/line-height.ts","../src/css/property-descriptors/list-style-image.ts","../src/css/property-descriptors/list-style-position.ts","../src/css/property-descriptors/list-style-type.ts","../src/css/property-descriptors/margin.ts","../src/css/property-descriptors/overflow.ts","../src/css/property-descriptors/overflow-wrap.ts","../src/css/property-descriptors/padding.ts","../src/css/property-descriptors/text-align.ts","../src/css/property-descriptors/position.ts","../src/css/property-descriptors/text-shadow.ts","../src/css/property-descriptors/text-transform.ts","../src/css/property-descriptors/transform.ts","../src/css/property-descriptors/transform-origin.ts","../src/css/property-descriptors/visibility.ts","../src/css/property-descriptors/word-break.ts","../src/css/property-descriptors/z-index.ts","../src/css/property-descriptors/opacity.ts","../src/css/property-descriptors/text-decoration-color.ts","../src/css/property-descriptors/text-decoration-line.ts","../src/css/property-descriptors/font-family.ts","../src/css/property-descriptors/font-size.ts","../src/css/property-descriptors/font-weight.ts","../src/css/property-descriptors/font-variant.ts","../src/css/property-descriptors/font-style.ts","../src/core/bitwise.ts","../src/css/property-descriptors/content.ts","../src/css/property-descriptors/counter-increment.ts","../src/css/property-descriptors/counter-reset.ts","../src/css/property-descriptors/quotes.ts","../src/css/property-descriptors/box-shadow.ts","../src/css/index.ts","../src/dom/element-container.ts","../src/css/layout/text.ts","../src/dom/text-container.ts","../src/dom/replaced-elements/image-element-container.ts","../src/dom/replaced-elements/canvas-element-container.ts","../src/dom/replaced-elements/svg-element-container.ts","../src/dom/elements/li-element-container.ts","../src/dom/elements/ol-element-container.ts","../src/dom/replaced-elements/input-element-container.ts","../src/dom/elements/select-element-container.ts","../src/dom/elements/textarea-element-container.ts","../src/dom/replaced-elements/iframe-element-container.ts","../src/dom/node-parser.ts","../src/css/types/functions/counter.ts","../src/dom/document-cloner.ts","../src/render/path.ts","../src/render/vector.ts","../src/render/bezier-curve.ts","../src/render/bound-curves.ts","../src/render/effects.ts","../src/render/stacking-context.ts","../src/render/border.ts","../src/render/box-sizing.ts","../src/render/background.ts","../src/core/util.ts","../src/render/font-metrics.ts","../src/render/canvas/canvas-renderer.ts","../src/render/canvas/foreignobject-renderer.ts","../src/index.ts","./src/app/modules/dashboard/components/content-leaderboard/content-leaderboard.component.ts"],"names":["root","factory","define","momentDurationFormatSetup","moment","toLocaleStringWorks","toLocaleStringRoundingWorks","intlNumberFormatWorks","intlNumberFormatRoundingWorks","types","split","bubbles","type","targets","value","stringIncludes","str","search","length","indexOf","repeatZero","qty","result","stringRound","digits","digitsArray","reverse","i","carry","parseInt","toString","push","join","cachedNumberFormat","locale","options","optionsString","map","keys","sort","key","cacheKey","cache","Intl","NumberFormat","formatNumber","number","userLocale","useToLocaleString","useGrouping","grouping","slice","maximumSignificantDigits","minimumIntegerDigits","fractionDigits","groupingSeparator","decimalSeparator","localeStringOptions","maximumFractionDigits","minimumFractionDigits","roundingOptions","extend","parseFloat","format","toLocaleString","numberString","toPrecision","toFixed","integerString","fractionString","exponentString","temp","integerLength","fractionLength","digitCount","replace","exponent","Math","abs","formattedString","group","shift","durationLabelCompare","a","b","label","durationGetLabels","token","localeData","labels","each","localeDataKey","labelType","toLowerCase","labelKey","durationPluralKey","integerValue","decimalValue","engLocale","durationLabelsStandard","S","SS","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","durationLabelsShort","durationTimeTemplates","HMS","HM","MS","durationLabelTypes","string","isArray","array","Object","prototype","call","isObject","obj","findLast","callback","index","find","max","match","item","ret","pluck","prop","compact","unique","_a","intersection","_b","rest","initial","reversed","hasOwnProperty","any","flatten","child","concat","toLocaleStringSupportsLocales","e","name","featureTestFormatterRounding","formatter","featureTestFormatter","passed","durationsFormat","args","arguments","settings","durations","arg","template","precision","returnMomentTypes","formattedDurations","dur","outputTypes","largest","durationFormat","defaults","asMilliseconds","asMonths","isValid","isNegative","remainder","duration","remainderMonths","momentTokens","years","months","weeks","days","hours","minutes","seconds","milliseconds","tokenDefs","escape","general","typeMap","test","tokenizer","RegExp","source","apply","stopTrim","_durationTimeTemplates","useLeftUnits","usePlural","forceLength","trunc","useSignificantDigits","significantDigits","significantDigitsCache","minValue","isMinValue","maxValue","isMaxValue","trim","trimIncludes","rLarge","rSmall","rBoth","rMid","rAll","rFinal","trimLarge","trimSmall","trimMid","trimFinal","rawTokens","text","currentToken","tokens","momentTypes","momentType","isSmallest","isLargest","rawValue","as","wholeValue","floor","subtract","tokenLength","truncMethod","round","truncate","places","factor","pow","foundFirst","bubbled","formatValue","formatOptions","formattedValue","formattedValueEn","formattedValueMS","findType","bubbleTypes","bubble","bubbleMomentType","target","targetMomentType","outputType","values","pluralKey","autoLocalized","pluralizedLabels","_durationLabelTypes","out","defaultFormatTemplate","_data","firstType","lastType","init","context","fn","updateLocale","toLocaleStringFormatter","intlNumberFormatFormatter","window","naturalSort","html","re","sre","dre","hre","ore","htmre","x","xN","yN","xD","Date","parse","yD","cLoc","numS","oFxNcL","oFyNcL","isNaN","module","exports","jQuery","dataTableExt","oSort","SPACE","color","colorType","angle","angleType","isStringToken","transform","loadSerializedSVG","parseColor"],"mappings":"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AApB,CAA2B+G,QAA3B,GAAsC;AAClC;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAuC,UAAI,EAAE,IA1B4B;AA4BlC;AACA;AACA;AACA;AACA;AACA;AACAb,cAAQ,EAAE,IAlCwB;AAoClC;AACA;AACA;AACA;AACA;AACA5B,aAAO,EAAE,IAzCyB;AA2ClC;AACA;AACA;AACA;AACAuC,cAAQ,EAAE,IA/CwB;AAiDlC;AACA;AACA;AACA;AACAF,cAAQ,EAAE,IArDwB;AAuDlC;AACA;AACA;AACA;AACA;AACA;AACA1C,eAAS,EAAE,CA7DuB;AA+DlC;AACA;AACA;AACA;AACAsC,WAAK,EAAE,KAnE2B;AAqElC;AACA;AACA;AACAD,iBAAW,EAAE,IAxEqB;AA0ElC;AACA;AACA;AACA;AACA;AACA;AACA7J,gBAAU,EAAE,IAhFsB;AAkFlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA4J,eAAS,EAAE,IA5FuB;AA8FlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAD,kBAAY,EAAE,KAvGoB;AAyGlC;AACA;AACAzJ,iBAAW,EAAE,IA3GqB;AA6GlC;AACA;AACA;AACA;AACA;AACA;AACA6J,0BAAoB,EAAE,KAnHY;AAqHlC;AACA;AACA;AACA;AACA;AACA;AACA;AACAxC,cAAQ,EAAEmG,qBA5HwB;AA8HlC;AACA;AACA;AACA;AACAzN,uBAAiB,EAAE,IAlIe;AAoIlC;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACAO,uBAAiB,EAAE,GA7Ie;AA+IlC;AACA;AACA;AACAC,sBAAgB,EAAE,GAlJgB;AAoJlC;AACA;AACA;AACA;AACA;AACA;AACAN,cAAQ,EAAE,CAAC,CAAD;AA1JwB,KAAtC;AA6JA4N,WAAO,CAACE,YAAR,CAAqB,IAArB,EAA2B9K,SAA3B;AACH,GA/oDsB,CAipDvB;;;AACA,MAAI+K,uBAAuB,GAAG,SAA1B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","file":"default~modules-dashboard-dashboard-module-ngfactory~modules-learn-course-consumption-module-ngfactory.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport * as moment from 'moment';\nimport 'moment-duration-format';\n\n/**\n * Dashboard utils service\n *\n * It contains all dashboard related common function\n */\n@Injectable()\n\n/**\n * @class DashboardUtilsService\n */\nexport class DashboardUtilsService {\n\n  /**\n   * Default method of DashboardUtilsService class\n   */\n  constructor() {\n  }\n\n\n  /**\n   * Convert second(s) into min(s) or hr(s)\n   *\n   * @param {any} numericData dashboard snapshot numeric data\n   */\n  secondToMinConversion(numericData: any) {\n    numericData.value = +numericData.value;\n    const momentFormat: any = moment.duration(numericData.value, 'seconds');\n    if (numericData.value < 60) {\n      numericData.value = momentFormat.format('s [Second]');\n    } else if (numericData.value >= 60 && numericData.value <= 3600) {\n      numericData.value = momentFormat.format('m [minute]');\n    } else if (numericData.value >= 3600) {\n      numericData.value = momentFormat.format('h [Hour]');\n    } else {\n      return numericData;\n    }\n\n    return numericData;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { LearnerService } from '@sunbird/core';\nimport { ServerResponse, ConfigService } from '@sunbird/shared';\nimport { DashboardUtilsService } from './../dashboard-utils/dashboard-utils.service';\nimport { DashboardParams } from './../../interfaces';\nimport { Observable } from 'rxjs';\n\n/**\n * Service to download dashboard report\n *\n * It responsible to make http call\n */\n@Injectable()\n\n/**\n * @class DownloadService\n */\nexport class DownloadService {\n\n  /**\n   * Contains learner service reference\n   */\n  public learner: LearnerService;\n\n  /**\n   * Contains dashboard utils service reference\n   */\n  public dashboardUtil: DashboardUtilsService;\n\n  /**\n   * To get api urls\n   */\n  public config: ConfigService;\n\n  /**\n   * Dataset types to hold course and organization api urls\n   */\n  datasetType: object = {};\n\n  /**\n   * Default method of DownloadService class\n   *\n   * @param {LearnerService} learner learner service reference\n   * @param {DashboardUtilsService} dashboardUtil dashboard utils service reference\n   * @param {ConfigService} config To get api urls\n   */\n  constructor(learner: LearnerService, dashboardUtil: DashboardUtilsService, config: ConfigService) {\n    this.learner = learner;\n    this.dashboardUtil = dashboardUtil;\n    this.config = config;\n    this.datasetType = {\n      'ORG_CREATION': config.urlConFig.URLS.DASHBOARD.ORG_CREATION,\n      'ORG_CONSUMPTION': config.urlConFig.URLS.DASHBOARD.ORG_CONSUMPTION\n    };\n   }\n\n  /**\n   * Download dashboard report\n   *\n   * @param {DashboardParams} param download params - identifier and time period\n   */\n  getReport(param: DashboardParams): Observable<ServerResponse> {\n    const requestBody = {\n      url: this.datasetType[param.dataset] + '/' + param.data.identifier + '/export',\n      param: {\n        period: param.data.timePeriod,\n        format: 'csv'\n      }\n    };\n    return this.learner.get(requestBody);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Chart } from 'chart.js';\nimport * as _ from 'lodash-es';\nimport { AddusserService } from '../../services/addusser/addusser.service';\n\n//import 'chartjs-plugin-labels';\n@Component({\n  selector: 'app-reports',\n  templateUrl: './reports.component.html',\n  styleUrls: ['./reports.component.scss']\n})\nexport class ReportsComponent implements OnInit {\n  rootName = [];\n  rootValue = [];\n  allReportChanelName= [];\n  Linechart :any;\n  userData: any = new Array()\n  getAllOrgChartData: any = new Array()\n  showUserData: any = new Array()\n  results: any = new Array()\n  results1: any = new Array()\n  colourList: any = new Array()\n  mapChildrenIntoArray: any = new Array()\n  abcd: any = new Array()\n  status: string;\n  userOrgLength: any;\n  orgNameUser: any;\n  aa: any = new Array()\n  TeamA: any = new Array()\n  TeamB: any = new Array()\n  TeamN: any = new Array()\n  TeamA1: any = new Array()\n  TeamB1: any = new Array()\n  TeamN1: any = new Array()\n  teamaLength: any;\n  teambLength: any;\n \nshowUserDataOrg: any = new Array()\nLinechart3:any = null;\ngroupedUserData: any = new Array()\norganizationData=[];\norgName= [];\nOrgLength= [];\norgTypeUser: string;\nrootOrgId: any;\nrootOrgName: string;\nsubOrg:any\n  subOrgData: any;\n  subOrgDatActiveInactive: any;\n  subOrgActiveData: any = new Array()\n  subOrgInActiveData: any = new Array()\n  subRootName: any;\n  subRootNameArry: any = new Array()\n  Linechart4: any;\n  subOrgLabel: string = null;\n  labelRootOrgId: any = new Array()\n  rootOrgNameUser: any = null;\n  showSubOrgActInActGraph: boolean = false;\n  TeamOrgRootNaN1: any = new Array()\n  \n  constructor( private _httpService: AddusserService,private router: Router) { }\n  Linechart1 :any;\n  \n  ngOnInit() {\n    this.ChartTest();\n    this.getOrgData(null,null,null,null);\n    this.getAllOrgData();\n\t\n  }\n\n  getAllOrgData()\n  {\n      let tempArray : any\n      tempArray= {\n      \"request\": {\n      \"filters\": {\n      },\n      \"limit\": 1000,\n      \"offset\": 0\n      }\n      }\n      this._httpService.getSuborgData(tempArray).subscribe(res => {\n\n\n      res.result.response.content.forEach(element => {\n      this.getAllOrgChartData.push({\"orgName\":element.orgName,\"identifier\":element.identifier})\n  \n      });\n      },err=>{\n      // this.popupMsg=err.params.errmsg;\n      });\n  }\n  \n  \n\n getOrgData(orgLabel:string,orgId:any,subOrgLabel:string,channel:any)\n{\n     // this.rootOrgId ='013178749854662656164';\n      //this.rootOrgName =  orgLabel;\n    \n      let tempArray:any;\n      if(subOrgLabel!=null)\n      {\n        tempArray= {\n          'request': {\n          'query': '',\n          'filters': {\n\n          },\n          \"limit\": 10000,\n          }\n          }\n\n      }\n      else\n      {\n      tempArray= {\n      'request': {\n      'query': '',\n      'filters': {\n        \"channel\":channel\n      },\n      \"limit\": 10000,\n      }\n      }\n    }\n     this.showUserDataOrg = [];\n     this.organizationData = [];\n     this.subOrg = [];\n     this.organizationData = [];\n    // this.orgName = [];\n     this._httpService.userSearch(tempArray).subscribe(res => {\n      this.userData = res.result.response.content;\n      this.showUserDataOrg = [];\n      res.result.response.content.forEach(element => {\n       if(element.status==1)\n       {\n         this.status =   'Active';\n       }\n       else if(element.status==0)\n       {\n         this.status =   'Inactive';\n       }\n        this.userOrgLength =  element.organisations.length;\n        this.getAllOrgChartData.forEach(element1 => {\n\n      if(element1.identifier==orgId)\n      {\n        this.rootOrgNameUser  = element1.orgName\n      }\n       \n        if( element.organisations.length>1)\n        {\n        if((element1.identifier==element.organisations[1].organisationId) && (element.rootOrgId!=element.organisations[1].organisationId))\n        {\n         this.orgNameUser  = element1.orgName\n         this.orgTypeUser =   'Sub Organization';\n        }\n        else if(element.rootOrgId==element.organisations[1].organisationId)\n        {\n          this.orgNameUser  = element.organisations[0].orgName;\n          this.orgTypeUser =   'Sub Organization';\n        }\n  \n        }\n       });\n       if( element.organisations.length==1)\n        {\n          this.orgNameUser  = element.organisations[0].orgName;\n          this.orgTypeUser =   'Root  Organization';\n        }    \n       this.showUserDataOrg.push({\"orgType\": this.orgTypeUser,\"userId\":element.id,\"uStatus\":element.status,\"createdDate\":element.createdDate,\"firstName\": element.firstName,\"lastName\":element.lastName,\"email\":element.email,\"phone\":element.phone,\"orgLength\":  element.organisations.length,\"orgName\":this.orgNameUser,\"status\":this.status,\"userOrglengths\":this.userOrgLength})   \n      });\n      this.groupedUserData =   this.showUserDataOrg.reduce(function(rv, x) { // grouping of userdata\n      (rv[x['orgName']] = rv[x['orgName']] || []).push(x);\n      return rv;\n      }, {});\n     // let subOrgLabel:string;\n      //subOrgLabel =  sessionStorage.getItem(\"subOrgLabel\")\n      if(subOrgLabel!=null)\n      {\n      let subOrgVal:string; \n      subOrgVal = subOrgLabel\n      this.subOrgDatActiveInactive =  this.groupedUserData[subOrgVal]\n      /***get the active and the inactive recorrd for sub organization  */\n      this.subRootName = subOrgVal;\n      this.subRootNameArry = [];\n      this.subRootNameArry.push(this.subRootName); \n      let activeRecord = 0;\n      let inActiveRecord = 0;\n      this.subOrgActiveData = [];\n      this.subOrgInActiveData = [];\n      this.subOrgDatActiveInactive.forEach(element => {\n\n        if(element.uStatus == 1)\n        {\n          activeRecord++;\n        }\n        else if(element.uStatus == 0)\n        {\n          inActiveRecord++;\n        }\n\n      });\n      this.subOrgActiveData.push(activeRecord);\n      this.subOrgInActiveData.push(inActiveRecord);\n\n\n      var Team_A={ label: \"Active\", data: this.subOrgActiveData,backgroundColor: \"green\", borderWidth : 1 };\n      var Team_B={ label: \"In Active\", data: this.subOrgInActiveData,backgroundColor: \"red\",  borderWidth : 1 };\n     // var Team_C={ label: \"TeamC score\", data: this.TeamC,backgroundColor: \"green\",borderWidth : 1 };\n    \n      var data = {\n          labels  :this.subRootNameArry,\n          datasets:[Team_A,Team_B]\n        };\n        var options =\n        {\n          title:  { display : true,text:\"Root/Subroot wise Active And Inactive Users\",fontSize : 18, fontColor : \"#111\"},\n          legend: { display : true },\n          scales: { yAxes: [{ ticks : { min : 0},scaleLabel: { display: true, labelString: 'User Count' }}],\n                    xAxes: [{ ticks : { min : 0},scaleLabel: { display: true, labelString: 'Organization' }}],\n                    gridLines:  { color: 'blue' },\n                    angleLines: { color: 'blue' }\n                  }\n        };\n        this.Linechart4 = new Chart('canvas4', { type: 'bar', data: data, options:options });\n      }\n     \n      let subOrgList : any;\n      subOrgList={\n        \"request\": {\n          \"filters\": {\n            isTenant: false,\n            channel: channel\n          },\n          \"limit\": 10000,\n          \"offset\": 0\n        }\n  \n      }\n     \n      this._httpService.getSuborgData(subOrgList).subscribe(res => {\n\n        this.orgName = [];\n        this.OrgLength = [];\n        this.organizationData = [];\n        if(subOrgLabel==null && this.rootOrgNameUser!=null)\n        {\n        if(res.result.response.content.length>0 || res.result.response.content.length==0)\n        {\n        this.subOrg = res.result.response.content;\n\n        this.subOrg.push({\"orgName\":this.rootOrgNameUser});\n        this.orgName = [];\n        this.OrgLength = [];\n        this.subOrg.forEach(element => {\n          let orgNameVal:string; \n          orgNameVal = element.orgName\n  \n         if(this.groupedUserData[orgNameVal]!=undefined)\n         {  \n          this.organizationData.push({\"orgNameVal\" :orgNameVal,\"length\":this.groupedUserData[orgNameVal].length});\n         }\n        else if(this.groupedUserData[orgNameVal]==undefined)\n         {\n          this.organizationData.push({\"orgNameVal\" :orgNameVal,\"length\":0});\n         }\n          });\n          this.orgName = [];\n          this.OrgLength = [];\n          this.organizationData.forEach(element => {\n            this.orgName.push(element.orgNameVal);     \n            this.OrgLength.push(element.length);\n            this.colourList.push(this.getRandomColorHex())\n            });    \n          }\n\n          if (this.Linechart3 ) {\n            this.Linechart3.destroy();\n          }\n          \n         // var ctx = document.getElementById('canvas3').getContext('2d');\n                this.Linechart3 = new Chart('canvas3',\n                {\n                  type: 'bar', //'bar',//'doughnut',//'pie',//'polarArea'\n                  data:\n                      {\n                        labels: this.orgName,\n                      \n                        datasets: [{label: \"Count\",data: this.OrgLength,borderColor: '#000',borderWidth : 0,backgroundColor: this.colourList,}]\n                      },\n                      \n                  options:\n                      {\n                        title:  { display : true,text:\"Root/Subroot Organization wise Users\",fontSize : 18, fontColor : \"#111\"},\n                      legend: {display: true},\n                      scales: {\n                        xAxes: [{ scaleLabel: { display: true, labelString: 'Organization' } }],\n                        yAxes: [{ scaleLabel: { display: true, labelString: 'User Count' } }],\n                                },\n                    \n                      }\n                });\n              //  this.Linechart3.destroy();          \n          }\n        },err=>{\n          // this.popupMsg=err.params.errmsg;\n  \n          });\n   });  \n}\n\nChartTest()\n{\n      let tempArray:any;\n      tempArray= {\n        'request': {\n          'query': '',\n          'filters': {\n          },\n          limit: 10000\n        }\n      }\n      this.showUserData = [];\n      this._httpService.userSearch(tempArray).subscribe(res => {\n      this.userData = res.result.response.content;\n      res.result.response.content.forEach(element => {\n      if(element.status==1)\n        {\n        this.status =   'Active';\n        }\n      else if(element.status==0)\n        {\n        this.status =   'Inactive';\n        }\n      this.userOrgLength =  element.organisations.length;\n      this.getAllOrgChartData.forEach(element1 => {\n      // debugger\n      if( this.userOrgLength>1)\n        {\n        if((element1.identifier==element.organisations[0].organisationId) && (element.rootOrgId!=element.organisations[0].organisationId))\n          {\n          this.orgNameUser  = element1.orgName\n          }\n        }\n      });\n     \n     if( this.userOrgLength==1)\n        {\n          this.orgNameUser  = element.organisations[0].orgName;\n        }\n      this.showUserData.push({\"userId\":element.id,\"uStatus\":element.status,\"createdDate\":element.createdDate,\"firstName\": element.firstName,\"lastName\":element.lastName,\"email\":element.email,\"phone\":element.phone,\"orgLength\":  element.organisations.length,\"orgName\":this.orgNameUser,\"status\":this.status,\"userOrglengths\":this.userOrgLength,\"channel\":element.channel,\"rootOrgId\":element.rootOrgId,\"rootOrgName\":element.rootOrgName})\n });\n      this.results = this.showUserData.reduce(function (r, a) {\n        r[a.channel] = r[a.channel] || [];\n        r[a.channel].push(a);\n        return r;\n      }, Object.create(null));\n        var arr = Object.entries( this.results)\n\n      arr.forEach(x =>\n        {\n\t    this.allReportChanelName.push(x[0]);\n        this.rootName.push(x[1][0].rootOrgName);  \n        this.aa=x[1]\n        this.rootValue.push(this.aa.length);\n        this.labelRootOrgId.push( x[1][0].rootOrgId);\n\n        this.colourList.push(this.getRandomColorHex());\n        });\n      this.Linechart = new Chart('canvas',\n      {\n        type: 'bar', //'bar',//'doughnut',//'pie',//'polarArea'\n        data:\n            {\n              labels: this.rootName,      \n              datasets: [{label: \"Count\", minBarLength: 7.5,data: this.rootValue,borderColor:this.labelRootOrgId,borderWidth :this.allReportChanelName,backgroundColor: this.colourList,}]\n            },\n        options:\n            {\n              title:  { display : true,text:\"Aggregated Organization wise Users\",fontSize : 18, fontColor : \"#111\"},\n            legend: {display: true},\n            scales: {\n              xAxes: [{ scaleLabel: { display: true, labelString: 'Organization' } }],\n              yAxes: [{ scaleLabel: { display: true, labelString: 'User Count' } }],\n                      }, \n            }\n      });\n\nthis.mapChildrenIntoArray = []\n  arr.forEach(y =>\n  {\n  this.TeamN1 = '';\n  this.TeamA1 = [];\n  this.TeamB1 = [];\n  this.TeamN1=y[0] ? y[0] : '';\n  this.TeamOrgRootNaN1=y[1][0].rootOrgName ? y[1][0].rootOrgName : '';    \n  this.aa=y[1]\n  for( var i = 0; i < this.aa.length; i++ ) {\n  if(this.aa[i].uStatus ==0){\n    this.TeamB1.push(this.aa[i]);\n  }\n  else if(this.aa[i].uStatus ==1){\n    this.TeamA1.push(this.aa[i]);    \n  }\n  }\n  this.mapChildrenIntoArray.push({0: this.TeamN1,1:this.TeamOrgRootNaN1, 2:this.TeamA1, 3:this.TeamB1})\n  });\n\nthis.mapChildrenIntoArray.forEach(z =>\n  {\n    this.TeamN.push(z[1]);  \n    this.teamaLength=z[2]\n    this.TeamA.push(this.teamaLength.length);\n    this.teambLength=z[3]\n    this.TeamB.push(this.teambLength.length);\n});\nvar Team_A={ label: \"Active\", data: this.TeamA,backgroundColor: \"green\", borderWidth : 1, minBarLength: 7.5 };\nvar Team_B={ label: \"In Active\", data: this.TeamB,backgroundColor: \"red\",  borderWidth : 1, minBarLength: 7.5 };\n// var Team_C={ label: \"TeamC score\", data: this.TeamC,backgroundColor: \"green\",borderWidth : 1 };\n\nvar data = {\n    labels  :this.TeamN,\n    datasets:[Team_A,Team_B]\n  };\n  var options =\n  {\n    title:  { display : true,text:\"Aggregated Organization wise Active and Inactive Users\",fontSize : 18, fontColor : \"#111\"},\n    legend: { display : true },    \n    scales: { yAxes: [{ ticks : { min : 0},scaleLabel: { display: true, labelString: 'User Count' }}],\n              xAxes: [{ ticks : { min : 0},scaleLabel: { display: true, labelString: 'Organization' }}],\n              gridLines:  { color: 'blue' },\n              angleLines: { color: 'blue' }\n            }\n  };\n  this.Linechart1 = new Chart('canvas1', { type: 'bar', data: data, options:options });\n\n   });\n}\n \ngetRandomColorHex() \n  {\n  //  var hex = \"0123456789ABCDEF\",\n  //      color = \"#\";\n  //  for (var i = 1; i <= 6; i++) \n  //  {\n  //    color += hex[Math.floor(Math.random() * 16)];\n  //  }\n var color= [\"#0000FF\"];\n   return \"blue\";\n }\n  Multi_Bar1()\n  {\n\n  }\n\n\n  showData(evt:any)\n  {\n    var data = this.Linechart.getElementsAtEvent(evt)\n   // alert(JSON.stringify(data[0]));\n   //  alert(JSON.stringify(data[0]._model));\n   // alert(JSON.stringify(data[0]._chart.id));\n   // alert(JSON.stringify(data[0]._model.label));\n   // alert(JSON.stringify(data[0]._options.borderColor));\n  \n    var activePoint = this.Linechart.getElementAtEvent(evt);\n    if (activePoint.length > 0)\n     {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n      if(activePoint[0].$previousStyle)\n      {\n        var filter_data         = activePoint[0].$previousStyle.borderColor;\n\t     var filter_chanel           =activePoint[0].$previousStyle.borderWidth; \n      }\n      else{\n        var filter_data         = activePoint[0]._model.borderColor;\n        var filter_chanel           =activePoint[0]._model.borderWidth;\n      }\n     \n      var label = this.Linechart.data.labels[clickedElementindex];\n      var value = this.Linechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n\t  // alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data+'filter id--'+filter_chanel);\n      this.getOrgData(label,filter_data,null,filter_chanel)\n      this.showSubOrgActInActGraph = false;\n    //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n    }\n    else\n    {\n      this.getOrgData(null,null,null,null)\n      this.showSubOrgActInActGraph = false;\n    }\n  }\n  userReportLink()\n  {\n    this.router.navigate([\"dashBoard/reportsdatewise\"]);\n  }\n  dateWiseLineChart()\n  {\n    this.router.navigate([\"dashBoard/organization-report\"]);\n  }\n  showData3(str:any)\n  {\n\n        var data = this.Linechart3.getElementsAtEvent(str)\n\n\n        let subOrgLabel:string;\n        if(JSON.stringify(data[0]._model.label))\n        {\n        subOrgLabel = String(JSON.stringify(data[0]._model.label))\n        subOrgLabel = subOrgLabel.replace(/^\"(.*)\"$/, '$1');\n        this.showSubOrgActInActGraph = true;\n        }\n        else\n        {\n          \n          subOrgLabel = \"\";\n          this.showSubOrgActInActGraph = true;\n        }\n        this.getOrgData(null,null,subOrgLabel,null)\n       // sessionStorage.setItem(\"subOrgLabel\", this.subOrgLabel);\n  }\n}\n","import { ResourceService } from '@sunbird/shared';\nimport { Component, OnInit, Input } from '@angular/core';\nimport { ReportService } from '../../services';\n\ninterface ReportSummary {\n  label: string;\n  text: Array<string>;\n  createdOn: string;\n}\n\n@Component({\n  selector: 'app-report-summary',\n  templateUrl: './report-summary.component.html',\n  styleUrls: ['./report-summary.component.scss']\n})\nexport class ReportSummaryComponent implements OnInit {\n\n  @Input() inputData: Array<ReportSummary>;\n\n  constructor(public reportService: ReportService, public resourceService: ResourceService) { }\n\n  ngOnInit() {\n  }\n\n}\n","import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Chart } from 'chart.js';\nimport * as _ from 'lodash-es';\nimport { AddusserService } from '../../services/addusser/addusser.service';\n\n@Component({\n  selector: 'app-user-report',\n  templateUrl: './user-report.component.html',\n  styleUrls: ['./user-report.component.scss']\n})\nexport class UserReportComponent implements OnInit {\n  currentDate: Date = new Date();\n  fromDate: Date = null;\n  toDate: Date = null;\n  showUserDataOrg: any = new Array()\n  userData: any = new Array()\n  status: string;\n  colsUser: any[];\n  userOrgLength: any;\n  getAllOrgChartData: any = new Array()\n  orgNameUser: any;\n  myStartDateOrg = [];\n  newStartDateOrg: Date;\n  newTimeStampStartDateOrg: number;\n  myEndDateOrg = [];\n  newEndDateOrg: Date;\n  newTimeStampEndDateOrg: number;\n  showLineChartUserDataOrg: any = new Array()\n  groupedUserDataOrg: any = new Array()\n  rootOrgNameUser: any = null;\n  organizationData = [];\n  orgName = [];\n  OrgLength = [];\n  Linechart3: any = null;\n  subOrg: any;\n  colourList: any = new Array()\n  // groupedUserData: any = new Array()\n\n\n\n  //start  here-----------\n  myStartDate = [];\n  myEndDate = [];\n  aa: any = new Array()\n  labelChartRootOrgId: any = new Array()\n  dateChartresults: any = new Array()\n  newTimeStampEndDate: number;\n  chartrootValue = [];\n  Linechart12: any;\n  newEndDate: Date;\n  chartrootName = [];\n  allChanelName = [];\n  newTimeStampStartDate: number;\n  newStartDate: Date;\n  pushLineChartUserData: any = new Array()\n  showLineChartUserData: any = new Array()\n  noResultMessage: any;\n  sucesErrorPopup: boolean = false;\n  popupMsg: string;\n  //end here-----------\n\n\n\n\n  orgList: any[];\n  orgListData: any[] = new Array();\n  orgListArry: any;\n\n  constructor(private datePipe: DatePipe, private _httpService: AddusserService) { }\n\n  ngOnInit() {\n\n    this.noResultMessage = {\n      'messageText': \"No Records found\"\n    };\n    this.getAllOrgData();\n\n    //  this.dateWiseLineChart();\n    this.initializeColumns();\n\n  }\n  initializeColumns() {\n    this.colsUser = [\n      { field: 'rootOrgName', header: 'Organization', width: '150px' },\n      // { field: 'orgType', header: 'Organization Type', width: '150px' },\n      { field: 'firstName', header: ' First Name', width: '150px' },\n      { field: 'lastName', header: 'Last Name', width: '150px' },\n      { field: 'email', header: 'Email', width: '150px' },\n      { field: 'phone', header: 'Mobile', width: '150px' },\n      { field: 'status', header: 'Status', width: '150px' }\n    ]\n  }\n  getAllOrgData() {\n    let tempArray: any\n    tempArray = {\n      \"request\": {\n        \"filters\": {\n        },\n        \"limit\": 1000,\n        \"offset\": 0\n      }\n    }\n    this._httpService.getSuborgData(tempArray).subscribe(res => {\n\n\n      res.result.response.content.forEach(element => {\n        this.getAllOrgChartData.push({ \"orgName\": element.orgName, \"identifier\": element.identifier })\n\n      });\n    }, err => {\n      // this.popupMsg=err.params.errmsg;\n      console.log(err)\n    });\n  }\n\n  getAllSubOrgData(orgId: any) {\n    let subOrgList: any;\n    // let orgId:any;\n    let tempArray: any;\n    // orgId = \"013178749854662656164\";\n    subOrgList = {\n      \"request\": {\n        \"filters\": {\n          \"rootOrgId\": orgId,\n          isRootOrg: false\n        },\n        \"limit\": 100,\n        \"offset\": 0\n      }\n    }\n\n    this._httpService.getSuborgData(subOrgList).subscribe(res => {\n      this.subOrg = res.result.response.content;\n      this.getAllOrgChartData.forEach(element1 => {\n        if (element1.identifier == orgId) {\n          this.rootOrgNameUser = element1.orgName\n        }\n\n      });\n      this.subOrg.push({ \"orgName\": this.rootOrgNameUser });\n\n    }, err => {\n      // this.popupMsg=err.params.errmsg;\n      console.log(err)\n    });\n\n    //this.getAllData();\n\n  }\n\n\n  getAllData(orgId: any, channel: any) {\n    // alert(this.datePipe.transform(this.fromDate, 'yyyy-MM-ddTHH:MM'))\n    // alert(this.datePipe.transform(this.fromDate, 'yyyy-MM-dd'))\n    //  alert(this.datePipe.transform(this.toDate, 'yyyy-MM-dd'))\n    this.orgName = [];\n    this.OrgLength = [];\n    this.subOrg = [];\n    this.organizationData = [];\n    this.groupedUserDataOrg = [];\n    this.showLineChartUserData = [];\n    let tempArray: any;\n    let subOrgList: any;\n    subOrgList = {\n      \"request\": {\n        \"filters\": {\n          isTenant: false,\n          channel: channel\n        },\n        \"limit\": 2000,\n        \"offset\": 0\n      }\n    }\n    this._httpService.getSuborgData(subOrgList).subscribe(res => {\n      this.subOrg = res.result.response.content;\n      this.getAllOrgChartData.forEach(element1 => {\n        if (element1.identifier == orgId) {\n          this.rootOrgNameUser = element1.orgName\n        }\n\n      });\n      // this.subOrg.push({ \"orgName\": this.rootOrgNameUser });\n\n    }, err => {\n      // this.popupMsg=err.params.errmsg;\n      console.log(err)\n    });\n\n\n    tempArray = {\n      'request': {\n        'query': '',\n        'filters': {\n          \"channel\": channel\n        },\n        limit: 10000\n      }\n    }\n    this.showUserDataOrg = [];\n    this.groupedUserDataOrg = [];\n    // this.canvas1 = [];\n    this._httpService.userSearch(tempArray).subscribe(res => {\n      this.userData = res.result.response.content;\n      this.showUserDataOrg = [];\n      this.orgListData = [];\n      res.result.response.content.forEach(element => {\n        if (element.status == 1) {\n          this.status = 'Active';\n        }\n        else if (element.status == 0) {\n          this.status = 'Inactive';\n        }\n        this.userOrgLength = element.organisations.length;\n        this.getAllOrgChartData.forEach(element1 => {\n          if (element1.identifier == orgId) {\n            this.rootOrgNameUser = element1.orgName\n          }\n          if (element.organisations.length > 1) {\n            if ((element1.identifier == element.organisations[1].organisationId) && (element.rootOrgId != element.organisations[1].organisationId)) {\n              this.orgNameUser = element1.orgName\n            }\n            else if (element.rootOrgId == element.organisations[1].organisationId) {\n              this.orgNameUser = element.organisations[0].orgName;\n            }\n\n          }\n        });\n        if (element.organisations.length == 1) {\n          this.orgNameUser = element.organisations[0].orgName;\n\n        }\n        this.showUserDataOrg.push({ \"userId\": element.id, \"createdDate\": element.createdDate, \"uStatus\": element.status, \"firstName\": element.firstName, \"lastName\": element.lastName, \"email\": element.email, \"phone\": element.phone, \"orgLength\": element.organisations.length, \"orgName\": this.orgNameUser, \"status\": this.status, \"userOrglengths\": this.userOrgLength, \"rootOrgName\": this.orgNameUser })\n      });\n\n\n      // var startDate = \"2020-12-25\"; //yy-mm-dd\n      //var endDate = \"2021-08-12\"; \n      var startDate = this.datePipe.transform(this.fromDate, 'yyyy-MM-dd')\n      var endDate = this.datePipe.transform(this.toDate, 'yyyy-MM-dd')\n      this.myStartDateOrg = startDate.split(\"-\");\n      this.newStartDateOrg = new Date(this.myStartDateOrg[0], this.myStartDateOrg[1] - 1, this.myStartDateOrg[2]);\n      this.newTimeStampStartDateOrg = this.newStartDateOrg.getTime()\n      this.myEndDateOrg = endDate.split(\"-\");\n      this.newEndDateOrg = new Date(this.myEndDateOrg[0], this.myEndDateOrg[1] - 1, this.myEndDateOrg[2]);\n      this.newTimeStampEndDateOrg = this.newEndDateOrg.getTime()\n      this.showLineChartUserDataOrg = [];\n      this.showLineChartUserData = [];\n      this.showUserDataOrg.forEach(xy => {\n        var myDate = xy.createdDate.split(\" \");\n        var myNewDate = myDate[0].split(\"-\");\n        var newDate = new Date(myNewDate[0], myNewDate[1] - 1, myNewDate[2]);\n        var newTimeStampDate = newDate.getTime()\n        if (newTimeStampDate >= this.newTimeStampStartDateOrg && newTimeStampDate <= this.newTimeStampEndDateOrg) {\n          this.showLineChartUserDataOrg.push(xy)\n          this.showLineChartUserData.push(xy)\n        }\n      });\n\n\n      this.orgList = this.showLineChartUserData\n        .map(item => item.orgName)\n        .filter((value, index, self) => self.indexOf(value) === index)\n      this.orgListArry = this.orgList.filter(f => f !== undefined && f !== null) as any;\n      this.orgListArry.forEach(element => {\n        this.orgListData.push({ \"label\": element, \"value\": element })\n      });\n\n      this.groupedUserDataOrg = this.showLineChartUserDataOrg.reduce(function (rv, x) { // grouping of userdata\n        (rv[x['orgName']] = rv[x['orgName']] || []).push(x);\n        return rv;\n      }, {});\n\n\n      this.orgName = [];\n      this.OrgLength = [];\n      this.organizationData = [];\n\n      if (this.subOrg.length > 0 || this.subOrg.length == 0) {\n        this.orgName = [];\n        this.OrgLength = [];\n        this.organizationData = [];\n        this.subOrg.forEach(element => {\n          let orgNameVal: string;\n          orgNameVal = element.orgName\n\n          if (this.groupedUserDataOrg[orgNameVal] != undefined) {\n            this.organizationData.push({ \"orgNameVal\": orgNameVal, \"length\": this.groupedUserDataOrg[orgNameVal].length });\n          }\n          else if (this.groupedUserDataOrg[orgNameVal] == undefined) {\n            this.organizationData.push({ \"orgNameVal\": orgNameVal, \"length\": 0 });\n          }\n        });\n        this.orgName = [];\n        this.OrgLength = [];\n        // this.organizationData = [];\n        this.organizationData.forEach(element => {\n          this.orgName.push(element.orgNameVal);\n          this.OrgLength.push(element.length);\n          this.colourList.push(this.getRandomColorHex());\n        });\n      }\n      if (this.Linechart3) {\n        this.Linechart3.destroy();\n      }\n      var data1 = {\n        labels: this.orgName,\n        datasets: [{ label: \"Count\", data: this.OrgLength, backgroundColor: \"#0000FF\", }]\n      };\n      var options =\n      {\n        title: { display: true, text: \"User Onboarded in Sub Organization\", fontSize: 18, fontColor: \"#111\" },\n        legend: { display: true },\n        scales: {\n          yAxes: [{ ticks: { min: 0 }, scaleLabel: { display: true, labelString: 'User Count' } }],\n          xAxes: [{ ticks: { min: 0 }, scaleLabel: { display: true, labelString: 'Organization' } }],\n          gridLines: { color: 'red' },\n          angleLines: { color: 'blue' }\n        }\n      };\n      this.Linechart3 = new Chart('canvas13', { type: 'bar', data: data1, options: options });\n\n\n    }, err => {\n      console.log(err)\n    });\n\n\n  }\n\n  getRandomColorHex() {\n    //  var hex = \"0123456789ABCDEF\",\n    //      color = \"#\";\n    //  for (var i = 1; i <= 6; i++) \n    //  {\n    //    color += hex[Math.floor(Math.random() * 16)];\n    //  }\n    var color = [\"red\", \"green\", \"blue\", \"purple\", \"magenta\", \"aqua\", \"salmon\", \"darkgray\", \"pink\", \"coral\"];\n    return color[Math.floor(Math.random() * 16) % color.length - 1];\n  }\n\n  closeSucesErrorPopup() {\n    this.sucesErrorPopup = false\n  }\n  dateWiseLineChart() {\n    //alert(this.fromDate);\n    //alert(this.toDate);\n    if (this.fromDate == null || this.fromDate == undefined) {\n      this.popupMsg = \"Please Enter From Date\";\n      this.sucesErrorPopup = true\n\n    }\n    else if (this.toDate == null || this.toDate == undefined) {\n      this.popupMsg = \"Please Enter  To Date\";\n      this.sucesErrorPopup = true\n\n    }\n    let tempArray: any;\n    tempArray = {\n      'request': {\n        'query': '',\n        'filters': {\n        },\n        limit: 10000\n      }\n    }\n    this.pushLineChartUserData = [];\n    this._httpService.userSearch(tempArray).subscribe(res => {\n      this.userData = res.result.response.content;\n      this.orgListData = [];\n      res.result.response.content.forEach(element => {\n        if (element.status == 1) {\n          this.status = 'Active';\n        }\n        else if (element.status == 0) {\n          this.status = 'Inactive';\n        }\n        this.userOrgLength = element.organisations.length;\n        this.getAllOrgChartData.forEach(element1 => {\n          // debugger\n          if (this.userOrgLength > 1) {\n            if ((element1.identifier == element.organisations[0].organisationId) && (element.rootOrgId != element.organisations[0].organisationId)) {\n              this.orgNameUser = element1.orgName\n            }\n          }\n        });\n\n        if (this.userOrgLength == 1) {\n          this.orgNameUser = element.organisations[0].orgName;\n        }\n        this.pushLineChartUserData.push({ \"userId\": element.id, \"uStatus\": element.status, \"createdDate\": element.createdDate, \"firstName\": element.firstName, \"lastName\": element.lastName, \"email\": element.email, \"phone\": element.phone, \"orgLength\": element.organisations.length, \"orgName\": this.orgNameUser, \"status\": this.status, \"userOrglengths\": this.userOrgLength, \"channel\": element.channel, \"rootOrgId\": element.rootOrgId, \"rootOrgName\": element.rootOrgName })\n      });\n\n\n\n      // date wise function  start   here---------------------------\n      var startDate = this.datePipe.transform(this.fromDate, 'yyyy-MM-dd'); //yy-mm-dd\n      var endDate = this.datePipe.transform(this.toDate, 'yyyy-MM-dd');\n      this.myStartDate = startDate.split(\"-\");\n      this.newStartDate = new Date(this.myStartDate[0], this.myStartDate[1] - 1, this.myStartDate[2]);\n      this.newTimeStampStartDate = this.newStartDate.getTime()\n\n      this.myEndDate = endDate.split(\"-\");\n      this.newEndDate = new Date(this.myEndDate[0], this.myEndDate[1] - 1, this.myEndDate[2]);\n      this.newTimeStampEndDate = this.newEndDate.getTime()\n      this.showLineChartUserData = [];\n      this.pushLineChartUserData.forEach(xy => {\n        var myDate = myDate = xy.createdDate.split(\" \");\n        var myNewDate = myDate[0].split(\"-\");\n        var newDate = new Date(myNewDate[0], myNewDate[1] - 1, myNewDate[2]);\n        var newTimeStampDate = newDate.getTime()\n        if (newTimeStampDate >= this.newTimeStampStartDate && newTimeStampDate <= this.newTimeStampEndDate) {\n\n          this.showLineChartUserData.push(xy)\n        }\n\n\n        // this.colourList.push(this.getRandomColorHex());\n      });\n\n\n      this.orgList = this.showLineChartUserData\n        .map(item => item.rootOrgName)\n        .filter((value, index, self) => self.indexOf(value) === index)\n      this.orgListArry = this.orgList.filter(f => f !== undefined && f !== null) as any;\n      this.orgListArry.forEach(element => {\n        this.orgListData.push({ \"label\": element, \"value\": element })\n      });\n      this.chartrootName = [];\n      this.aa = [];\n      this.chartrootValue = [];\n      this.labelChartRootOrgId = [];\n      this.dateChartresults = [];\n      this.dateChartresults = this.showLineChartUserData.reduce(function (r, b) {\n        r[b.channel] = r[b.channel] || [];\n        r[b.channel].push(b);\n        return r;\n      }, Object.create(null));\n      var arr1 = Object.entries(this.dateChartresults)\n      arr1.forEach(chartvalue => {\n        this.allChanelName.push(chartvalue[0]);\n        this.chartrootName.push(chartvalue[1][0].rootOrgName);\n        this.aa = chartvalue[1]\n        this.chartrootValue.push(this.aa.length);\n        this.labelChartRootOrgId.push(chartvalue[1][0].rootOrgId);\n\n        // this.colourList.push(this.getRandomColorHex());\n      });\n\n      var data1 = {\n        labels: this.chartrootName,\n        datasets: [{ label: \"Count\", data: this.chartrootValue, borderColor: this.labelChartRootOrgId, borderWidth: this.allChanelName, backgroundColor: \"#0000FF\", }]\n      };\n      var options =\n      {\n        title: { display: true, text: \"User Onboarded in Root Organization\", fontSize: 18, fontColor: \"#111\" },\n        legend: { display: true },\n        scales: {\n          yAxes: [{ ticks: { min: 0 }, scaleLabel: { display: true, labelString: 'User Count' } }],\n          xAxes: [{ ticks: { min: 0 }, scaleLabel: { display: true, labelString: 'Organization' } }],\n          gridLines: { color: 'red' },\n          angleLines: { color: 'blue' }\n        }\n      };\n\n      if (this.Linechart12 ) {\n        this.Linechart12.destroy();\n      }\n\n      this.Linechart12 = new Chart('canvas12', { type: 'bar', data: data1, options:options });\n\n      //  date  wise function  end here--------------------------\n\n    });\n  }\n\n\n  showData(evt: any) {\n    var data = this.Linechart12.getElementsAtEvent(evt)\n    // alert(JSON.stringify(data[0]));\n    //  alert(JSON.stringify(data[0]._model));\n    // alert(JSON.stringify(data[0]._chart.id));\n    // alert(JSON.stringify(data[0]._model.label));\n    // alert(JSON.stringify(data[0]._options.borderColor));\n\n    var activePoint = this.Linechart12.getElementAtEvent(evt);\n    if (activePoint.length > 0) {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n      var filter_data = activePoint[0]._model.borderColor;\n      var filter_channel = activePoint[0]._model.borderWidth;\n      var label = this.Linechart12.data.labels[clickedElementindex];\n      var value = this.Linechart12.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n      // alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data+'filter id--'+filter_id);\n      this.getAllData(filter_data, filter_channel)\n\n    }\n  }\n\n\n\n\n  showData3(evt: any) {\n    var data = this.Linechart3.getElementsAtEvent(evt)\n    // alert(JSON.stringify(data[0]));\n    //  alert(JSON.stringify(data[0]._model));\n    // alert(JSON.stringify(data[0]._chart.id));\n    // alert(JSON.stringify(data[0]._model.label));\n    // alert(JSON.stringify(data[0]._options.borderColor));\n\n    var activePoint = this.Linechart3.getElementAtEvent(evt);\n    if (activePoint.length > 0) {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n      var filter_data = activePoint[0]._options.borderColor;\n      var filter_channel = activePoint[0]._options.borderWidth;\n      var label = this.Linechart3.data.labels[clickedElementindex];\n      var value = this.Linechart3.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n      //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n      //this.getSubOrgData(label)\n\n    }\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n// import { mapChildrenIntoArray } from '@angular/router/src/url_tree';\nimport { Chart } from 'chart.js';\n//import 'chartjs-plugin-labels';\n/////////////////////////////////////////\nimport { UserService, SearchService } from '@sunbird/core';\nimport { ReportService } from '../../services/report/report.service';\nimport { ToasterService, ResourceService, INoResultMessage, ConfigService } from '@sunbird/shared';\n////////////////////////////////////////\nimport * as _ from 'lodash-es';\nimport { AddusserService } from '../../services/addusser/addusser.service';\n// import { content } from 'html2canvas/dist/types/css/property-descriptors/content';\n\n@Component({\n  selector: 'app-course-category-wise',\n  templateUrl: './course-category-wise.component.html',\n  styleUrls: ['./course-category-wise.component.scss']\n})\nexport class CourseCategoryWiseComponent implements OnInit {\n\n  constructor\n  (\n    private _httpService: AddusserService,\n    public reportService: ReportService,\n    private searchService:SearchService,\n    private toasterService: ToasterService,\n    public resourceService: ResourceService,\n    ) { }\n\n  ////////////Tab///////////////////////\n  organizationTab: boolean  = true;\n  userTab: boolean = true;\n  //////////////////////////////////////\n  cityList: any = [];\n  userList: any = [];\n  noResultMessage :any;\n  noResult = true;\n  ////////popup//////////////////////\n  popupTitle=\"Course wise Graphical Reports\";\n  selectedItems = [];\n  addUserPopup: boolean = false;\n  ////////////extra////////////////\n  i=0;\n  strList=\"\";\n  colsUser=[];\n  ////////////////////////////\n  Graph_Data_List=[];\n  Table_Data_List=[];\n  B1_Root_list=[];\n  B2_Root_list=[];\n  B1_Piechart:any;\n  B2_Piechart:any;\n  /////////////////////////////////\n  ///////////////////////////////////\n  strTxt='';\n  tooltip='';\n  /////////////////////////////////////\n    ngOnInit()\n    {\n      this.getCourseList();\n      this.colsUser = [\n        { field: 'SNo',           header: 'SNo',          width: '50px' },\n        { field: 'organisation',  header: 'Organisation', width: '150px' },\n        { field: 'Category',      header: 'Category',     width: '150px' },\n        { field: 'subject',       header: 'Sub Category',      width: '150px' },\n        { field: 'name',          header: 'Topic',         width: '150px' },\n        { field: 'creator',       header: 'Creator',      width: '150px' },\n        //{ field: 'contentType',   header: 'ContentType',  width: '150px' },\n        //{ field: 'copyright',     header: 'Copyright',    width: '150px' },\n      ]\n    }\n\n    /////Load content List////////////////////////////\n\n    getCourseList()\n    {\n      const data = {\n        \"request\":\n        {\n          \"query\"   : \"\",\n          \"filters\" : { \"status\": [\"Live\"],\n                        \"framework\": [\"nulp\"],\n                        \"contentType\": [\"Course\"]},\n\n          \"limit\"   : \"1000\",\n          \"sort_by\" : { \"lastUpdatedOn\": \"desc\" },\n          \"fields\"  :\n          [\"identifier\", \"creator\", \"organisation\",\"copyright\",\n          \"name\", \"contentType\", \"createdFor\", \"channel\",\n          \"board\", \"medium\", \"gradeLevel\", \"subject\",\n          \"lastUpdatedOn\", \"status\", \"createdBy\",\n          \"framework\", \"createdOn\", \"lastPublishedOn\"]\n        }\n      };\n\n      this.reportService.getContentCreationStaticsReport(data).subscribe((response) =>\n      {\n        if (_.get(response, 'responseCode') === 'OK')\n        {\n          if (response.result.count > 0)\n          {\n            var tableData = [];\n            let tempObj = _.cloneDeep(response.result.content);\n            tableData = tempObj;\n            var self = this;\n            ///////////////LOOPING ROOT ORG/////////////////////////////////\n            var ChnlIds=[];\n            var UserIds=[];\n             ChnlIds = _.uniq(_.map(tempObj, 'channel'));\n             UserIds = _.uniq(_.map(tempObj, 'createdBy'));\n            /////////////////GET USER LIST/////////////////////////////////\n            const reqParam = {  filters: { id:UserIds}}\n            this.searchService.getUserList(reqParam).subscribe(response =>\n              {\n              this.userList = [];\n              let userObj = _.cloneDeep(response.result.response.content);\n              this.userList = userObj;\n              //////////////////GET CITY/ORG LIST/////////////////////////////\n              const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds}, \"limit\": 1000,\"offset\": 0 } };\n              //const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds, \"isRootOrg\":true, \"status\":1 } } };\n              //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true, \"status\":1 } } };\n              //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true} } };\n              //URLS.ADMIN.ORG_SEARCH,\n                this.reportService.getOrganizationName(reqPayload).subscribe((response) =>\n                {\n                      //this.cityList = [];\n                      //let cityObj = _.cloneDeep(response.result.response.content);\n                      //this.cityList = cityObj;\n                      //this.cityList = _.reject(response.result.response.content,obj=>_.isEmpty(obj.orgName));\n                      //////////////////////////////////////////////////////////////////\n                      response.result.response.content.forEach(c =>\n                        {\n                        this.cityList.push({\"id\":c.id,\"orgName\":c.orgName,\"identifier\":c.identifier});\n                        });\n                      //////////////////////////////////////////////////////////////\n                      this.InitializeGraph(tableData);\n                ////////////////////////////////////////////////////\n                }); //City close\n                /////////////////////////////////////////////////////////////////\n             }); //User Close\n          }\n          else\n          {\n            this.noResultMessage = {'messageText': 'messages.stmsg.m0131' };\n            this.noResult = true;\n          }\n        }\n        else\n        {\n          this.toasterService.error(this.resourceService.messages.emsg.m0007);\n        }\n      }, (err) => {\n\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }); //Content close\n    }\n\n    ///////////////////////////////////////////////////\n\n    InitializeGraph(C_List:any)\n    {\n        //debugger;\n        if (this.cityList.length > 0)\n        {\n\n        }\n        ///////UPDATE USER LIST//////USER-ID-to-SUB-ORG-MAPING////////////////////\n        this.userList.forEach(element =>\n          {\n            this.cityList.forEach(element1 =>\n              {\n               //if(element1.identifier==orgId)\n               //{\n               //  this.rootOrgNameUser_new  = element1.orgName\n               //}\n\n                if( element.organisations.length>1)\n                    {\n                      if((element1.identifier==element.organisations[1].organisationId) &&\n                          (element.rootOrgId!=element.organisations[1].organisationId))\n                          {\n                            element.orgNameUser_new  =   element1.orgName\n                            element.orgTypeUser_new  =   'Sub Organization';\n                           }\n                           else if(element.rootOrgId==element.organisations[1].organisationId)\n                           {\n                            element.orgNameUser_new  =  element.organisations[0].orgName;\n                            element.orgTypeUser_new =   'Sub Organization';\n                           }else\n                           {\n                            element.orgNameUser_new  =  element.organisations[0].orgName;\n                            element.orgTypeUser_new =   'Sub Organization';\n                           }\n                    }\n                    else if( element.organisations.length==1)\n                    {\n                          element.orgNameUser_new  = element.organisations[0].orgName;\n                          element.orgTypeUser_new   =   'Root  Organization';\n                    }\n                });\n          });\n        \n        //////////////////////////////////////////////////////////////////////////\n        var groupedUserData =   this.userList.reduce(function(rv, x) { // grouping of userdata\n          (rv[x['orgNameUser_new']] = rv[x['orgNameUser_new']] || []).push(x);\n          return rv;\n          }, {});\n        /////////////////Camposing comman content data list//////////////////////////\n         this.Graph_Data_List=[];\n        C_List.forEach(x =>\n        {\n          let CityTraced= this.cityList.find(el => el.id === x.channel);\n          let UserTraced= this.userList.find(el => el.id === x.createdBy);\n            \n            this.Graph_Data_List.push({\n            \"identifier\":x.identifier,\n            \"copyright\":x.copyright,\n            \"createdFor\":x.createdFor,\n            \"creator\":x.creator,\n            \"subject\":x.subject,\n            \"channel\":x.channel,\n            \"organisation\":x.organisation,\n            //////////////Add Processed Column///////////////\n            \"RootOrgName_new_user\":CityTraced[\"orgName\"],\n            \"rootOrgName_new_city\":UserTraced[\"rootOrgName\"],\n            \"orgNameUser_new\":UserTraced[\"orgNameUser_new\"],\n            \"orgTypeUser_new\":UserTraced[\"orgTypeUser_new\"],\n            \"lastNameUser_new\":UserTraced[\"lastName\"],\n            /////////////////////////////////////////////////\n            \"createdBy\":x.createdBy,\n            \"medium\":x.medium,\n            \"name\":x.name,\n            \"createdOn\":x.createdOn,\n            \"objectType\":x.objectType,\n            \"gradeLevel\":x.gradeLevel,\n            \"framework\":x.framework,\n            \"contentType\":x.contentType,\n            \"Category\":x.board,\n            \"lastPublishedOn\":x.lastPublishedOn,\n            \"lastUpdatedOn\":x.lastUpdatedOn,\n            \"status\":x.status\n          });\n        });\n        //this.strList=JSON.stringify(this.Graph_Data_List);\n\n        ///////SHORTING//////////////////////////////////////////////////\n        this.Graph_Data_List.sort((a, b) =>\n        {\n          if (a.createdBy < b.createdBy)\n          return -1;\n          if (a.createdBy > b.createdBy)\n          return 1;\n          return 0;\n      });\n\n\n      this.GeneratingCategorylChart(this.Graph_Data_List);\n    }\n  ///////////////////////////////////////////\n\n  GeneratingCategorylChart(ResultCT:any)\n  {\n      var B1_Name=[];\n      var B1_Value=[];\n      var B1_Filter=[];\n      var B1_Colour=[];\n        /////////////////////////////////////////////////////////////////\n        this.B1_Root_list = this.groupByKey(ResultCT,\"Category\");\n        \n        Object.keys(this.B1_Root_list).forEach( x=>\n          {\n            B1_Name.push(x);\n            B1_Value.push(this.B1_Root_list[x].length);\n            var xx=this.B1_Root_list[x];\n            B1_Filter.push(xx[0].Category);\n            B1_Colour.push(this.getRandomColorHex());\n          });\n\n\n\n\n        this.B1_Chart(B1_Name,B1_Value,B1_Filter,B1_Colour);\n  }\n\n\n  B1_Chart(B1_Name:any,B1_Value:any,B1_Filter:any,B1_Colour:any)\n  {\n    if (this.B1_Piechart) // != undefined\n    {\n      this.B1_Piechart.destroy();\n    }\n      this.B1_Piechart = new Chart('B1_Canvas2',\n      {\n        type: 'bar',\n        data:\n            {\n              labels  :             B1_Name,\n              datasets: [{\n                    data:           B1_Value,\n                    borderColor:    B1_Filter,\n                    borderSkipped:  B1_Filter,\n                    backgroundColor:B1_Colour,\n                    borderWidth: 1,\n                    fill: true }\n                  ]\n            },\n        options:\n            {\n            tooltips: { mode: 'index'},\n            //hover: { mode: 'index', intersect: true  },\n            title:{ display : true,text:\"Category wise Course Dashboard\",fontSize : 18, fontColor : \"#111\",},\n            legend: { display :false ,labels: { fontColor: \"green\", }},\n            scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Course Category' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Course Count' } }],\n                    },\n            // plugins: {\n            //   labels: [\n            //             { render: 'label', fontColor: '#000', position: 'outside' },\n            //             { render:'value',fontColor: '#000'}\n            //           ]\n            //         },\n            }\n      });\n  }\n\n  B1_Chart_showData(evt:any)\n  {\n    //alert('enter in b1');\n    this.resetGraph('B1');\n    var activePoint = this.B1_Piechart.getElementAtEvent(evt);\n    if (activePoint.length > 0)\n     {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n      //var filter_data         = activePoint[0]._options.borderColor;  //pie\n      var filter_data           = activePoint[0]._model.borderSkipped;  //bar\n      this.strTxt=JSON.stringify(activePoint[0]._model);\n      var label = this.B1_Piechart.data.labels[clickedElementindex];\n      var value = this.B1_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n      //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n      //////////////////////////////////////////////\n      //this.B2_Root_list=this.groupByKey(this.B1_Root_list[filter_data],\"orgNameUser_new\");\n      this.B2_Root_list=this.groupBy(this.B1_Root_list[filter_data], function(item)\n          {\n            return [item.orgTypeUser_new, item.orgNameUser_new];\n          });\n\n      ///////////////////////////////////////////////\n      this.popupTitle=this.B1_Root_list[filter_data].length+\" Course(s) Created in '\"+filter_data+\"' Category.\";\n      this.tooltip=filter_data;\n      ////////////////////////////////\n      this.loadGridView(this.B1_Root_list[filter_data]);\n      this.GeneratingOrg_TypeChart(this.B2_Root_list);\n    }\n  }\n\n\n  GeneratingOrg_TypeChart(ResultCO:any)\n  {\n    var B2_Name=[];\n    var B2_Value=[];\n    var B2_Filter=[];\n    var B2_Colour=[];\n    Object.keys(ResultCO).forEach( x=>\n      {\n      var Obj=ResultCO[x];\n      B2_Name.push(Obj[0].orgNameUser_new);\n      B2_Value.push(ResultCO[x].length);\n      B2_Filter.push(x);\n      B2_Colour.push(this.getRandomColorHex());\n      });\n      this.B2_Chart(B2_Name,B2_Value,B2_Filter,B2_Colour);\n  }\n\n  B2_Chart(B2_Name:any,B2_Value:any,B2_Filter:any,B2_Colour:any)\n  {\n    if (this.B2_Piechart) // != undefined\n    {\n      this.B2_Piechart.destroy();\n    }\n     this.B2_Piechart = new Chart('B2_Canvas2',\n      {\n        type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n        data:\n            {\n              labels  :             B2_Name,\n              datasets: [{\n                    data:           B2_Value,\n                    borderColor:    B2_Filter,\n                    borderSkipped:  B2_Filter,\n                    backgroundColor:B2_Colour,\n                    borderWidth: 1,\n                    fill: true }\n                  ]\n            },\n        options:\n            {\n            tooltips: { mode: 'index'},\n            //hover: { mode: 'index', intersect: true  },\n            title:{ display : true,text:\"Orgnization wise Course Created\",fontSize : 18, fontColor : \"#111\",},\n            legend: { display :false ,labels: { fontColor: \"green\", }},\n            scales: {\n              xAxes: [{ scaleLabel: { display: true, labelString: 'Organization' } }],\n              yAxes: [{ scaleLabel: { display: true, labelString: 'Course Count' } }],\n                  },\n            // plugins: {\n            //   labels: [\n            //             { render: 'label', fontColor: '#000', position: 'outside' },\n            //             { render:'value',fontColor: '#000'}\n            //           ]\n            //         },\n            }\n      });\n  }\n\n\n\n\n  B2_Chart_showData(evt:any)\n  {\n    this.resetGraph('B2');\n    var activePoint = this.B2_Piechart.getElementAtEvent(evt);\n    if (activePoint.length > 0)\n     {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n      //var filter_data         = activePoint[0]._options.borderColor;  //pie\n      var filter_data           = activePoint[0]._model.borderSkipped;  //bar\n      //this.strTxt=JSON.stringify(activePoint[0]._model);\n      var label = this.B2_Piechart.data.labels[clickedElementindex];\n      var value = this.B2_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n      //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n      this.popupTitle=this.B2_Root_list[filter_data].length+\" Course(s) of '\"+this.tooltip+\"' Category are Created.\";\n      // in '\"+filter_data+\"'\";\n      this.loadGridView(this.B2_Root_list[filter_data]);\n    }\n  }\n\n\n\n  resetGraph(ngClick:any)\n  {\n    if(ngClick==\"B1\")\n     {\n    //  this.B2_Piechart=new Chart(\"B2_Canvas\", { type: \"bar\", data: {} ,options: {} });\n      this.Table_Data_List=[];\n      this.B2_Root_list=[];\n      //alert(88);\n    }\n    else  if(ngClick==\"B2\")\n    {\n      this.Table_Data_List=[];\n      //this.B2_Root_list=[];\n    }\n  }\n\n\n  loadGridView(tableData:any)\n  {\n    var SNo=0;\n    tableData.forEach(y =>\n      {\n        SNo++;\n        y.SNo=SNo;\n      });\n\n      this.Table_Data_List=tableData;\n  }\n\n  //////////////////////////////////////\n  getRandomColorHex()\n  {\n  //  var hex = \"0123456789ABCDEF\",\n  //      color = \"#\";\n  //  for (var i = 1; i <= 6; i++)\n  //  {\n  //    color += hex[Math.floor(Math.random() * 16)];\n  //  }\n    var color= [\"red\", \"green\", \"blue\", \"purple\", \"magenta\",\"aqua\", \"salmon\", \"darkgray\", \"pink\", \"coral\"];\n    //var min=0;\n    //var max=color.length-1;\n    //var rand= Math.floor(Math.random() * (max - min + 1) + min);\n    this.i++;\n    //return color[this.i%color.length-1];\n    return \"blue\";\n  }\n\n  ///MULTIPLE GROUP BY FUNCTION////////\n  groupBy( array , f )\n  {\n    var groups = {};\n    array.forEach( function( o )\n    {\n      var group = JSON.stringify( f(o) );\n      groups[group] = groups[group] || [];\n      groups[group].push( o );\n    });\n    return Object.keys(groups).map( function( group )\n    {\n      return groups[group];\n    })\n  }\n ///MULTIPLE GROUP BY FUNCTION////////\n  groupByKey(list, key)\n  {\n   return list.reduce(function(rv, x)\n   {\n     (rv[x[key]] = rv[x[key]] || []).push(x);\n     return rv;\n   }, {});\n  };\n\n\n\n  //////////////////////////////////////////////////////////////////\n\n\n}\n","import { Injectable } from \"@angular/core\";\nimport { ConfigService } from \"@sunbird/shared\";\nimport { LearnerService } from \"@sunbird/core\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AddusserService {\n  public config: ConfigService;\n  constructor(\n    private learnerService: LearnerService,\n    public configService: ConfigService\n  ) {}\n\n  createUserDetailSave(data) {\n    console.log(data);\n    const options = {\n      url: this.configService.urlConFig.URLS.USER.SIGNUP,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n  userSearch(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.USER_SEARCH,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  orgSearch(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.ORG_SEARCH_OLD,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  getOrgDetail(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.ORG_SEARCH_OLD,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  userBlock(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.DELETE_USER,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n  userUnBlock(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.UNDELETE_USER,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n  addroleSubRootOrganization(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.UPDATE_USER_ORG_ROLES,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  addroleRootOrganization(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.UPDATE_USER_ORG_ROLES,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n  getEditUserById(data) {\n    const option = {\n      url: this.configService.urlConFig.URLS.USER.GET_PROFILE + data,\n    };\n    return this.learnerService.get(option);\n  }\n  updateUserData(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.USER.UPDATE_USER_PROFILE,\n      data: data,\n    };\n    return this.learnerService.patch(options);\n  }\n  removeOrg(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ORGANIZATION.MEMBERREMOVE,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  //organization service code\n\n  getorgData(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ORGANIZATION.READ,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n  getSuborgData(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.ORG_SEARCH_OLD,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  updateOrgDetail(data) {\n    console.log(data);\n    const options = {\n      url: this.configService.urlConFig.URLS.ORGANIZATION.UPDATE,\n      data: data,\n    };\n    return this.learnerService.patch(options);\n  }\n\n  updateOrgStatusDetail(data) {\n    console.log(data);\n    const options = {\n      url: this.configService.urlConFig.URLS.ORGANIZATION.STATUSUPDATE,\n      data: data,\n    };\n    return this.learnerService.patch(options);\n  }\n\n  createOrgDetailSave(data) {\n    console.log(data);\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.ORG_CREATE,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  createRootOrgDetailSave(data) {\n    console.log(data);\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.ORG_CREATE,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  createForm(data) {\n    console.log(data);\n    const options = {\n      url: this.configService.urlConFig.URLS.ORGANIZATION.FORMCREATEORG,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  bulkUserUpload(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.BULK.USERS_UPLOAD,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n\n  updatePatch(data, orgId) {\n    console.log(data);\n    const options = {\n      url:\n        this.configService.urlConFig.URLS.ORGANIZATION.UPDATEPATCH +\n        \"/\" +\n        orgId,\n      data: data,\n    };\n    return this.learnerService.patch(options);\n  }\n\n  createPreference(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ORGANIZATION.PREFERENCES_CREATE,\n      data: data,\n    };\n    return this.learnerService.post(options);\n  }\n  //organization service code\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { ServerResponse, ConfigService } from '@sunbird/shared';\nimport { LearnerService } from '@sunbird/core';\n// Rxjs\nimport { Observable } from 'rxjs';\n\nimport * as _ from 'lodash-es';\nimport { UsageService } from '../usage/usage.service';\nimport { map } from 'rxjs/operators';\nimport { TelemetryService } from '@sunbird/telemetry';\nimport { DataService} from './../../../core/services/data/data.service';\nimport { PublicDataService} from './../../../core/services/public-data/public-data.service';\nimport { HttpClient, HttpParams } from '@angular/common/http';\n\n/**\n * Service to get course progress dashboard\n *\n * It responsible to make http call\n */\n@Injectable()\n\n/**\n * @class CourseProgressService\n */\nexport class CourseProgressService  {\n\n  /**\n   * To get api urls\n   */\n  public config: ConfigService;\n\n  constructor(private learnerService: LearnerService,\n    config: ConfigService, private usageService: UsageService, \n    private telemetryService: TelemetryService, private dataService: DataService, \n    private http: HttpClient, private publicDataService: PublicDataService) {\n      this.config = config;\n  }\n\n  /**\n   * To method calls the batch list API\n   */\n  getBatches(requestParam) {\n    const option = {\n      url: this.config.urlConFig.URLS.BATCH.GET_BATCHS,\n      data: {\n        'request': {\n          'filters': {\n            'courseId': requestParam.courseId,\n            'status': requestParam.status,\n            // 'createdBy': requestParam.createdBy,\n            'mentors': requestParam.mentors\n          },\n          'sort_by': { 'createdDate': 'desc' }\n        }\n      }\n    };\n    return this.learnerService.post(option);\n  }\n\n  /**\n   * To method calls the get dashboard API\n   */\n  getDashboardData(requestParam) {\n    const option = {\n      url: this.config.urlConFig.URLS.DASHBOARD.COURSE_PROGRESS_V2 + '/' + requestParam.batchIdentifier,\n      param: {\n        limit: requestParam.limit,\n        offset: requestParam.offset,\n      }\n    };\n    if ( _.get(requestParam, 'sortBy')) {\n      option.param['sortBy'] = requestParam.sortBy;\n      option.param['sortOrder'] = requestParam.sortOrder;\n    }\n    if ( _.get(requestParam, 'username')) {\n      option.param['userName'] = requestParam.username;\n    }\n    return this.learnerService.get(option);\n  }\n\n\n  /**\n   * To method calls the get the course progress exhaust data\n   */\n  getCourseProgressExhaustData(requestParam) {\n\n    let option: any;\n    if (requestParam.batchId !== undefined) {\n      option = {\n        url: this.config.urlConFig.URLS.BATCH.COURSE_PROGRESS_EXHAUST + '/' + requestParam.courseId,\n        param: {\n          batchid: requestParam.batchId,\n          limit: requestParam.limit,\n          offset: requestParam.offset,\n        }\n      };\n    }\n    else {\n      option = {\n        url: this.config.urlConFig.URLS.BATCH.COURSE_PROGRESS_EXHAUST + '/' + requestParam.courseId,\n        param: {\n          limit: requestParam.limit,\n          offset: requestParam.offset,\n        }\n      };\n    }\n    if (_.get(requestParam, 'query')) {\n      option.param['query'] = requestParam.query;\n    }\n\n    console.log(\"API option -\", option);\n\n    return this.learnerService.get(option);\n  }\n\n\n  /**\n   * To method calls the get the course progress export data\n   */\n  getExportData(requestParam) {\n\n    let option: any;\n    if (requestParam.batchId !== undefined) {\n      option = {\n        url: this.config.urlConFig.URLS.BATCH.COURSE_PROGRESS_EXHAUST_CSV + '/' + requestParam.courseId,\n        param: {\n          batchid: requestParam.batchId,\n        }\n      };\n    }\n    else {\n      option = {\n        url: this.config.urlConFig.URLS.BATCH.COURSE_PROGRESS_EXHAUST_CSV + '/' + requestParam.courseId,\n      };\n    }\n\n    if (_.get(requestParam, 'query')) {\n      option.param['query'] = requestParam.query;\n    }\n\n    return this.learnerService.get(option);\n  }\n\n  /**\n   * To method calls the get the course data\n   */\n  getCourseData(requestParam) {\n    const option = {\n      url: this.config.urlConFig.URLS.COURSE.HIERARCHY + '/'  + requestParam\n    };\n    return this.learnerService.get(option);\n  }\n\n  /**\n   * This method calls the download API\n   */\n  downloadDashboardData(requestParam) {\n    const option = {\n      url: this.config.urlConFig.URLS.DASHBOARD.COURSE_PROGRESS + '/' + requestParam.batchIdentifier + '/export',\n    };\n    return this.learnerService.get(option);\n  }\n\n  /**\n   * This method takes the result and formats it\n   */\n  parseDasboardResponse(data) {\n    let tableData = [];\n    _.forEach(data.series, (seriesData, key) => {\n      if (key === 'course.progress.course_progress_per_user.count') {\n        _.forEach(seriesData, (bucketData, bucketKey) => {\n          if (bucketKey === 'buckets') {\n            tableData = bucketData;\n          }\n        });\n      }\n    });\n    return tableData;\n  }\n\n  getReportsMetaData(requestParam): Observable<ServerResponse> {\n    const url = `${this.config.urlConFig['URLS'].COURSE.GET_REPORTS_METADATA}`;\n    return this.usageService.getData(url, requestParam).pipe(map((response: any) => {\n      if (requestParam.telemetryData) {\n        for (const reportName of Object.keys(response.result)) {\n          const event = {\n            context: {\n              env: requestParam.telemetryData.snapshot.data.telemetry.env\n            },\n            edata: {\n              type: requestParam.telemetryData.snapshot.data.telemetry.type,\n              level: _.get(response, `result.${reportName}.statusCode`) !== 200 ? 'ERROR' : 'SUCCESS',\n              // tslint:disable-next-line: max-line-length\n              message: _.get(response, `result.${reportName}.lastModified`) ? `${reportName} is available` : `${reportName} is not available`,\n              pageid: requestParam.telemetryData.snapshot.data.telemetry.pageid\n            }\n          };\n          this.telemetryService.log(event);\n        }\n      }\n      return response;\n    }));\n  }\n}\n","import { CourseConsumptionService } from '@sunbird/learn';\nimport { PermissionService } from '@sunbird/core';\nimport { IInteractEventEdata, IInteractEventObject } from '@sunbird/telemetry';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ResourceService } from '@sunbird/shared';\nimport { Component, OnInit } from '@angular/core';\nimport * as _ from 'lodash-es';\n@Component({\n  selector: 'app-dashboard-sidebar',\n  templateUrl: './dashboard-sidebar.component.html',\n  styleUrls: ['./dashboard-sidebar.component.scss']\n})\nexport class DashboardSidebarComponent implements OnInit {\n\n  courseStatsEdata: IInteractEventEdata;\n  courseBatchesEdata: IInteractEventEdata;\n  courseCertificatesEdata: IInteractEventEdata;\n  courseProgressExhaustEdata: IInteractEventEdata;\n  telemetryInteractObject: IInteractEventObject;\n  courseHierarchy: {};\n\n  constructor(public resourceService: ResourceService, public router: Router,\n    private activatedRoute: ActivatedRoute, public permissionService: PermissionService,\n    private courseConsumptionService: CourseConsumptionService) {\n      this.courseHierarchy = this.courseConsumptionService.courseHierarchy;\n    }\n\n    ngOnInit() {\n      this.setTelemetryData();\n    }\n\n    setTelemetryData() {\n      this.courseStatsEdata = {\n        id: 'course-dashboard',\n        type: 'click',\n        pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n      };\n      this.courseBatchesEdata = {\n        id: 'course-batches',\n        type: 'click',\n        pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n      };\n      this.courseCertificatesEdata = {\n        id: 'course-reissue-cert',\n        type: 'click',\n        pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n      };\n      this.courseProgressExhaustEdata = {\n        id: 'course-progress-exhaust',\n        type: 'click',\n        pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n      };      \n      this.telemetryInteractObject = {\n        id: _.get(this.activatedRoute.snapshot, 'params.courseId'),\n        type: _.get(this.activatedRoute.snapshot, 'data.telemetry.object.type'),\n        ver: _.get(this.activatedRoute.snapshot, 'data.telemetry.object.ver'),\n      };\n    }\n} \n","import { IInteractEventEdata, IInteractEventObject, TelemetryInteractDirective } from '@sunbird/telemetry';\nimport { IImpressionEventInput } from './../../../telemetry/interfaces/telemetry';\nimport { Component, Inject, OnInit, ViewChild } from '@angular/core';\nimport { UsageService, ReportService } from './../../services';\nimport * as _ from 'lodash-es';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { UserService } from '@sunbird/core';\nimport {\n  ToasterService, ResourceService,\n  INoResultMessage, ConfigService, LayoutService, UtilService,\n  ConnectionService\n} from '@sunbird/shared';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { CertificateDownloadAsPdfService } from 'sb-svg2pdf';\nimport { CsCourseService } from '@project-sunbird/client-services/services/course/interface';\nimport { ProfileService } from '@sunbird/profile';\n@Component({\n  selector: 'app-all-dashboard',\n  templateUrl: './all-dashboard.component.html',\n  styleUrls: ['./all-dashboard.component.scss'],\n  providers: [CertificateDownloadAsPdfService]\n})\nexport class AllReportsComponent implements OnInit {\n  /**\n* Admin Dashboard access roles\n*/\n layoutConfiguration: any;\n  azureUrl: string;\n  adminDashboard: Array<string>;\n  reportMetaData: any;\n  donutChartData: any = [];\n  chartData: Array<object> = [];\n  table: any;\n  showTrainingstats: boolean = true;\n  isTableDataLoaded = false;\n  enrolledCourseData: any = [];\n  currentReport: any;\n  slug: string;\n  cols: any = [];\n  noResult: boolean;\n  noResultMessage: INoResultMessage;\n  noRecorsFoundMessage:any\n  private activatedRoute: ActivatedRoute;\n  telemetryImpression: IImpressionEventInput;\n  telemetryInteractEdata: IInteractEventEdata;\n  telemetryInteractDownloadEdata: IInteractEventEdata;\n  urlPathValue: string;\n  private unsubscribe$ = new Subject<void>();\n  isDesktopApp;\n  isConnected = true;\n\n  constructor(public configService: ConfigService, private layoutService: LayoutService, private usageService: UsageService, private sanitizer: DomSanitizer,\n    public userService: UserService, private toasterService: ToasterService, public utilService: UtilService,private connectionService: ConnectionService,\n    public resourceService: ResourceService, activatedRoute: ActivatedRoute, private certDownloadAsPdf: CertificateDownloadAsPdfService,\n    private router: Router, public reportService: ReportService,\n    @Inject('CS_COURSE_SERVICE') private courseCService: CsCourseService,\n    public profileService: ProfileService\n  ) {\n    this.activatedRoute = activatedRoute;\n  }\n\n  ngOnInit() {\n    this.isDesktopApp = this.utilService.isDesktopApp;\n    this.setTelemetryImpression();\n    this.adminDashboard = this.configService.rolesConfig.headerDropdownRoles.adminDashboard;\n    this.urlPathValue='';\n    this.urlPathValue=  sessionStorage.getItem(\"urlPath\");\n    this.getEnrolledCourses();\n    this.initLayout()\n    this.noRecorsFoundMessage = {\n      'messageText': \"No Records found\"\n    };\n\n    if (this.isDesktopApp) {\n      this.connectionService.monitor()\n      .pipe(takeUntil(this.unsubscribe$)).subscribe(isConnected => {\n        this.isConnected = isConnected;\n      });\n    }\n  }\n\n  initLayout() {\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout().pipe(takeUntil(this.unsubscribe$)).subscribe(layoutConfig => {\n      if (layoutConfig != null) {\n        this.layoutConfiguration = layoutConfig.layout;\n      }\n    });\n  }\n  getEnrolledCourses() {\n    this.reportService.getEnrolledCourses().subscribe(response => {\n      this.enrolledCourseData = [];\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.courses.length > 0) {\n          this.enrolledCourseData = response.result.courses;\n          var self = this;\n          _.map(this.enrolledCourseData, function (obj) {\n            obj.batchName = obj.batch.name;\n            obj.courseName = obj.courseName;\n            obj.enrollmentType = obj.batch.enrollmentType;\n            if(obj.batch.startDate) obj.startDate = moment(obj.batch.startDate).format('DD-MMM-YYYY')\n            if(obj.batch.endDate) obj.endDate = moment(obj.batch.endDate).format('DD-MMM-YYYY');\n            if(obj.enrolledDate) obj.enrollmentDate = moment(obj.enrolledDate).format('DD-MMM-YYYY');\n            obj.statusName = (obj.progress === 0) ? 'Not-Started' : ((obj.progress === obj.leafNodesCount || obj.progress > obj.leafNodesCount) ? 'Completed' : 'In-Progress');\n            obj.statusName = (obj.statusName != 'Completed' && (new Date(obj.batch.endDate) < new Date())) ? 'Expired' : obj.statusName;\n            if(obj.statusName === 'Completed'){\n              obj.completedOn = moment(obj.completedOn).format('DD-MMM-YYYY')\n            }\n            else if(obj.statusName === 'Expired'){\n              obj.completedOn = 'Incomplete'\n            }\n            else if(obj.statusName === 'In-Progress'){\n              obj.completedOn = 'Ongoing'\n            }\n            obj.downloadUrl = self.azureUrl + obj.courseName + '-' + self.userService.userid + '-' + obj.courseId + '.pdf';\n          });\n          this.initializeColumns();\n          this.initializeDonutChart();\n        }\n        this.showTrainingstats = true;\n        if (_.isEmpty(this.enrolledCourseData)) {\n          this.showTrainingstats = false;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0005);\n      }\n    }, (err) => {\n      this.noResultMessage = {\n        'messageText': 'messages.stmsg.m0131'\n      };\n    });\n  }\n  initializeColumns() {\n    this.cols = [\n      { field: 'batchName', header: 'Batch Name' },\n      { field: 'courseName', header: 'Course Name' },\n      { field: 'enrollmentType', header: 'Enrollment Type' },\n      { field: 'startDate', header: 'Batch Start Date' },\n      { field: 'enrollmentDate', header: 'Enrollment Date' },\n      { field: 'endDate', header: 'Batch End Date' },\n      { field: 'completedOn', header: 'Completion Date' },\n      { field: 'statusName', header: 'Status' },\n      { field: 'certificate', header: 'Certificate', width: '75px' }\n    ]\n  }\n\n  downloadCert(course) {\n    if (this.isDesktopApp && !this.isConnected) {\n      this.toasterService.error(this.resourceService.messages.desktop.emsg.cannotAccessCertificate);\n      return;\n    }\n    // Check for V2\n    if (_.get(course, 'issuedCertificates.length')) {\n      this.toasterService.success(_.get(this.resourceService, 'messages.smsg.certificateGettingDownloaded'));\n      const certificateInfo = course.issuedCertificates[0];\n      const courseName = course.courseName || _.get(course, 'issuedCertificates[0].name') || 'certificate';\n      if (_.get(certificateInfo, 'identifier')) {\n        this.courseCService.getSignedCourseCertificate(_.get(certificateInfo, 'identifier'))\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe((resp) => {\n          if (_.get(resp, 'printUri')) {\n            this.certDownloadAsPdf.download(resp.printUri, null, courseName);\n          } else if (_.get(course, 'certificates.length')) {\n            this.downloadPdfCertificate(course.certificates[0]);\n          } else {\n            this.toasterService.error(this.resourceService.messages.emsg.m0076);\n          }\n        }, error => {\n          this.downloadPdfCertificate(certificateInfo);\n        });\n      } else {\n        this.downloadPdfCertificate(certificateInfo);\n      }\n    } else if (_.get(course, 'certificates.length')) { // For V1 - backward compatibility\n      this.toasterService.success(_.get(this.resourceService, 'messages.smsg.certificateGettingDownloaded'));\n      this.downloadPdfCertificate(course.certificates[0]);\n    } else {\n      this.toasterService.error(this.resourceService.messages.emsg.m0076);\n    }\n  }\n\n  downloadPdfCertificate(value) {\n    if (_.get(value, 'url')) {\n      const request = {\n        request: {\n          pdfUrl: _.get(value, 'url')\n        }\n      };\n      this.profileService.downloadCertificates(request).subscribe((apiResponse) => {\n        const signedPdfUrl = _.get(apiResponse, 'result.signedUrl');\n        if (signedPdfUrl) {\n          window.open(signedPdfUrl, '_blank');\n        } else {\n          this.toasterService.error(this.resourceService.messages.emsg.m0076);\n        }\n      }, (err) => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0076);\n      });\n    } else {\n      this.toasterService.error(this.resourceService.messages.emsg.m0076);\n    }\n  }\n\n  downloadCertificate(url) {\n    window.open(url, '_blank');\n  }\n  initializeDonutChart() {\n    let labelArray = [];\n    let datasets = [];\n    let self = this;\n    _.map(_.uniqBy(this.enrolledCourseData, 'statusName'), function (obj) {\n      labelArray.push(' ' + _.get(obj, 'statusName'));\n      datasets.push(_.filter(self.enrolledCourseData, { statusName: _.get(obj, 'statusName') }).length);\n    });\n    this.donutChartData = {\n      labels: labelArray,\n      datasets: [\n        {\n          data: datasets,\n          backgroundColor: [\"#42a5f5\", \"#26a69a\", \"#8bc34a\", \"#43a047\"],\n          hoverBackgroundColor: [\"#42a5f5\", \"#26a69a\", \"#8bc34a\", \"#43a047\"]\n        }]\n    };\n  }\n  setTelemetryInteractObject(val) {\n    return {\n      id: val,\n      type: 'view',\n      ver: '1.0'\n    };\n  }\n\n  setTelemetryImpression() {\n    this.telemetryInteractEdata = {\n      id: 'report-view',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n\n    this.telemetryInteractDownloadEdata = {\n      id: 'report-download',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n\n    this.telemetryImpression = {\n      context: {\n        env: this.activatedRoute.snapshot.data.telemetry.env\n      },\n      object: {\n        id: this.userService.userid,\n        type: 'user',\n        ver: '1.0'\n      },\n      edata: {\n        type: this.activatedRoute.snapshot.data.telemetry.type,\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n        uri: this.router.url\n      }\n    };\n  }\n\n  ngOnDestroy(){\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n}\n","import { TelemetryService } from '@sunbird/telemetry';\nimport { UserService, TncService } from '@sunbird/core';\nimport { INoResultMessage, ResourceService, ToasterService, NavigationHelperService, LayoutService } from '@sunbird/shared';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Component, OnInit, ViewChildren, QueryList, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport { ReportService } from '../../services';\nimport * as _ from 'lodash-es';\nimport { Observable, throwError, of, forkJoin, Subject, merge, combineLatest } from 'rxjs';\nimport { mergeMap, switchMap, map, retry, catchError, tap, pluck, first } from 'rxjs/operators';\nimport { DataChartComponent } from '../data-chart/data-chart.component';\nimport html2canvas from 'html2canvas';\nimport * as jspdf from 'jspdf';\nimport { ISummaryObject } from '../../interfaces';\n\nenum ReportType {\n  report,\n  dataset\n}\n\n@Component({\n  selector: 'app-report',\n  templateUrl: './report.component.html',\n  styleUrls: ['./report.component.scss']\n})\nexport class ReportComponent implements OnInit {\n  public report: any;\n  public showSummaryModal = false;\n  public report$;\n  public noResultMessage: INoResultMessage;\n  public noResult: boolean;\n  private downloadUrl: string;\n  public reportObj: any;\n  public isUserReportAdmin = false;\n  @ViewChildren(DataChartComponent) chartsComponentList: QueryList<DataChartComponent>;\n  @ViewChild('reportElement') reportElement;\n  public hideElements: boolean;\n  public reportExportInProgress = false;\n  public exportOptions = ['Pdf', 'Img'];\n  public inputForSummaryModal: any;\n  private _reportSummary: string;\n  private addSummaryBtnClickStream$ = new Subject<ISummaryObject>();\n  private publishBtnStream$ = new Subject();\n  private retireBtnStream$ = new Subject();\n  public markdownUpdated$ = new Subject();\n  public currentReportSummary: any;\n  public showComponent = true;\n  public showConfirmationModal = false;\n  public confirmationPopupInput: { title: string, event: 'retire' | 'publish', body: string };\n  private materializedReport = false;\n  private hash: string;\n  public getParametersValueForDropDown$: Observable<any>;\n  public type: ReportType = ReportType.report;\n  private reportConfig: object;\n  layoutConfiguration: any;\n  public selectedFilters: Object;\n  public showChart = true;\n  public reportData: any;\n  public chartsReportData: any;\n  public globalFilterChange: Object;\n  public resetFilters: Object;\n  filterType = 'report-filter';\n  public reportResult: any;\n  public showExportsOption = true;\n  private set setMaterializedReportStatus(val: string) {\n    this.materializedReport = (val === 'true');\n  }\n  userProfile;\n  reportViewerTncVersion: string;\n  reportViewerTncUrl: string;\n  showTncPopup = false;\n\n  private set setParametersHash(report) {\n    const { hash } = this.activatedRoute.snapshot.params;\n    this.hash = hash;\n    if (this.reportService.isReportParameterized(report) && !this.reportService.isUserSuperAdmin()) {\n      this.hash = _.get(report, 'hashed_val') || this.reportService.getParametersHash(this.report);\n    }\n  }\n\n  constructor(public reportService: ReportService, private activatedRoute: ActivatedRoute,\n    private resourceService: ResourceService, private toasterService: ToasterService,\n    private navigationhelperService: NavigationHelperService,\n    private router: Router, private telemetryService: TelemetryService, private layoutService: LayoutService,\n    private cdr: ChangeDetectorRef, private userService: UserService, public tncService: TncService\n  ) { }\n\n\n  ngOnInit() {\n    this.initLayout();\n    this.userService.userData$.pipe(first()).subscribe(async (user) => {\n      if (user && user.userProfile) {\n        this.userProfile = user.userProfile;\n        this.getReportViewerTncPolicy();\n      }\n    });\n    this.report$ = combineLatest(this.activatedRoute.params, this.activatedRoute.queryParams).pipe(\n      switchMap(params => {\n        const { reportId, hash } = this.activatedRoute.snapshot.params;\n        this.setMaterializedReportStatus = this.activatedRoute.snapshot.queryParams.materialize;\n        return this.reportService.isAuthenticated(_.get(this.activatedRoute, 'snapshot.data.roles')).pipe(\n          mergeMap((isAuthenticated: boolean) => {\n            this.noResult = false;\n            this.hideElements = false;\n            return isAuthenticated ? this.renderReport(reportId, hash) : throwError({ messageText: 'messages.stmsg.m0144' });\n          }),\n          catchError(err => {\n            console.error('Error while rendering report', err);\n            this.noResultMessage = {\n              'messageText': _.get(err, 'messageText') || 'messages.stmsg.m0131'\n            };\n            this.noResult = true;\n            return of({});\n          })\n        );\n\n      })\n    );\n\n    this.mergeClickEventStreams();\n  }\n\n  /**\n   * @description fetches a report by its report id\n   * @param reportId\n   */\n  private fetchConfig(reportId, hash?: string): Observable<any> {\n    if (this.materializedReport) { hash = null; }\n    return this.reportService.fetchReportById(reportId, hash).pipe(\n      mergeMap(apiResponse => {\n        const report = _.get(apiResponse, 'reports');\n        return report ? of(_.head(report)) : throwError('No report found');\n      })\n    );\n  }\n\n  /**\n   * @description This function fetches config file, datasource and prepares chart and tables data from it.\n   * @param reportId\n   */\n  private renderReport(reportId: string, hash?: string) {\n    return this.fetchConfig(reportId, hash)\n      .pipe(\n        switchMap(report => {\n          const isUserReportAdmin = this.isUserReportAdmin = this.reportService.isUserReportAdmin();\n          if (!isUserReportAdmin && _.toLower(_.get(report, 'status')) !== 'live') {\n            return throwError({ messageText: 'messages.stmsg.m0144' });\n          } else {\n            this.report = report;\n            this.type = _.get(report, 'report_type') === 'report' ? ReportType.report : ReportType.dataset;\n            if (this.reportService.isReportParameterized(report) && _.get(report, 'children.length') &&\n              !this.reportService.isUserSuperAdmin()) {\n              return throwError({ messageText: 'messages.emsg.mutliParametersFound' });\n            }\n            this.setParametersHash = this.report;\n            this.getParametersValueForDropDown$ = this.getParametersValueForDropDown(report);\n            if (this.materializedReport) {\n              this.report.status = 'draft';\n            }\n            const reportConfig = this.reportConfig = _.get(report, 'reportconfig');\n            this.setDownloadUrl(_.get(reportConfig, 'downloadUrl'));\n            const dataSource = _.get(reportConfig, 'dataSource') || [];\n            let updatedDataSource = _.isArray(dataSource) ? dataSource : [{ id: 'default', path: dataSource }];\n            updatedDataSource = this.reportService.getUpdatedParameterizedPath(updatedDataSource, this.hash);\n            const charts = _.get(reportConfig, 'charts'), tables = _.get(reportConfig, 'table'), files = _.get(reportConfig, 'files');\n            return forkJoin(this.reportService.downloadMultipleDataSources(updatedDataSource), this.getLatestSummary(reportId)).pipe(\n              retry(1),\n              map((apiResponse) => {\n                const [data, reportSummary] = apiResponse;\n                const result: any = Object.assign({});\n                const chart = (charts && this.reportService.prepareChartData(charts, data, updatedDataSource,\n                  _.get(reportConfig, 'reportLevelDataSourceId'))) || [];\n                result['charts'] = chart;\n                result['tables'] = (tables && this.reportService.prepareTableData(tables, data, _.get(reportConfig, 'downloadUrl'),\n                  this.hash)) || [];\n                result['reportMetaData'] = reportConfig;\n                result['reportSummary'] = reportSummary;\n                result['files'] = this.reportService.getParameterizedFiles(files || [], this.hash);\n                result['lastUpdatedOn'] = this.reportService.getFormattedDate(this.reportService.getLatestLastModifiedOnDate(data));\n\n                this.chartsReportData = JSON.parse(JSON.stringify(result));\n                this.reportData = JSON.parse(JSON.stringify(result));\n                return result;\n              })\n            );\n          }\n        })\n      );\n  }\n\n  /**\n   * @description Downloads csv file from azure blob storage\n   * @param downloadUrl\n   */\n  public downloadCSV(downloadUrl?: string) {\n    this.reportService.downloadReport(downloadUrl || this.downloadUrl).subscribe(\n      result => {\n        window.open(result, '_blank');\n      }, err => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0076);\n      }\n    );\n  }\n  /**\n   * @description sets downloadUrl for active tab\n   * @param url\n   */\n  public setDownloadUrl(url) {\n    this.downloadUrl = this.reportService.resolveParameterizedPath(url, this.hash ?\n      this.reportService.getParameterFromHash(this.hash) : null);\n  }\n\n  public getTelemetryInteractEdata = ({ id = 'report-chart', type = 'click', pageid = this.activatedRoute.snapshot.data.telemetry.pageid,\n    subtype = null }) => ({ id, type, pageid, ...subtype && { subtype } })\n\n  public setTelemetryInteractObject(val?: string) {\n    return {\n      id: val || this.activatedRoute.snapshot.params.reportId,\n      type: 'Report',\n      ver: '1.0'\n    };\n  }\n\n  public setTelemetryInteractEdata(val) {\n    return {\n      id: val,\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n  }\n\n  downloadReport(reportType: string) {\n    this.reportExportInProgress = true;\n    this.toggleHtmlVisibilty(true);\n    setTimeout(() => {\n      switch (_.toLower(reportType)) {\n        case 'img': {\n          this.downloadReportAsImage();\n          break;\n        }\n        case 'pdf': {\n          this.downloadReportAsPdf();\n          break;\n        }\n      }\n      const telemetryObj = this.getTelemetryImpressionObj({ type: 'export-request', subtype: _.toLower(reportType) });\n      this.telemetryService.impression(telemetryObj);\n    }, 1500);\n  }\n\n\n  private convertHTMLToCanvas(element, options) {\n    return html2canvas(element, options);\n  }\n\n  private downloadReportAsPdf() {\n\n    this.convertHTMLToCanvas(this.reportElement.nativeElement, {\n      scrollX: 0,\n      scrollY: -window.scrollY,\n      scale: 2\n    }).then(canvas => {\n      const imageURL = canvas.toDataURL('image/jpeg');\n      const pdf = new jspdf('p', 'px', 'a4');\n      const pageWidth = pdf.internal.pageSize.getWidth();\n\n      const imageHeight = (canvas.height * pageWidth) / canvas.width;\n      pdf.internal.pageSize.setHeight(imageHeight);\n      pdf.addImage(imageURL, 'JPEG', 10, 8, pageWidth - 28, imageHeight - 24);\n      pdf.save('report.pdf');\n      this.toggleHtmlVisibilty(false);\n      this.reportExportInProgress = false;\n    }).catch(err => {\n      this.toggleHtmlVisibilty(false);\n      this.reportExportInProgress = false;\n    });\n  }\n\n  private downloadReportAsImage() {\n\n    this.convertHTMLToCanvas(this.reportElement.nativeElement, {\n      scrollX: 0,\n      scrollY: -window.scrollY,\n      scale: 2\n    }).then(canvas => {\n      const imageURL = canvas.toDataURL('image/jpeg');\n      const anchorElement = document.createElement('a');\n      anchorElement.href = imageURL.replace('image/jpeg', 'image/octet-stream');\n      anchorElement.download = 'report.jpg';\n      anchorElement.click();\n      this.toggleHtmlVisibilty(false);\n      this.reportExportInProgress = false;\n    }).catch(err => {\n      this.toggleHtmlVisibilty(false);\n      this.reportExportInProgress = false;\n    });\n  }\n\n  private toggleHtmlVisibilty(flag: boolean): void {\n    this.hideElements = flag;\n  }\n\n  public openAddSummaryModal({ type, title, index = null, chartId = null,\n    summary = null }: ISummaryObject): void {\n    this.showSummaryModal = true;\n    this.inputForSummaryModal = { title, type, index, chartId, summary };\n  }\n\n  public openReportSummaryModal(): void {\n    this.openAddSummaryModal({\n      title: (this.currentReportSummary != '' ? 'Update ' : 'Add ') + _.get(this.resourceService, 'frmelmnts.lbl.reportSummary'),\n      type: 'report',\n      ...(this._reportSummary && { summary: this._reportSummary })\n    });\n  }\n\n  private getLatestSummary(reportId: string) {\n    const hash = this.hash;\n    return this.reportService.getLatestSummary({ reportId, hash }).pipe(\n      map(reportSummary => {\n        this._reportSummary = '';\n        const summaries = this.currentReportSummary = _.map(reportSummary, summaryObj => {\n          const summary = _.get(summaryObj, 'summary');\n          this._reportSummary = summary;\n\n          return {\n            label: (this.currentReportSummary != '' ? 'Update ' : 'Add ') + _.get(this.resourceService, 'frmelmnts.lbl.reportSummary'),\n            text: [summary],\n            createdOn: _.get(summaryObj, 'createdon')\n          };\n        });\n        return summaries;\n      })\n    );\n  }\n\n  public closeSummaryModal(): void {\n    this.showSummaryModal = false;\n  }\n\n  public onAddSummary(event: ISummaryObject) {\n    this.addSummaryBtnClickStream$.next(event);\n  }\n\n  public openConfirmationModal(eventType: 'publish' | 'retire') {\n    const { confirmReportPublish, confirmRetirePublish } = _.get(this.resourceService, 'messages.imsg');\n    this.confirmationPopupInput = {\n      title: 'Confirm',\n      body: eventType === 'publish' ? confirmReportPublish : confirmRetirePublish,\n      event: eventType\n    };\n    this.showConfirmationModal = true;\n  }\n\n  private closeConfirmationModal() {\n    this.showConfirmationModal = false;\n  }\n\n  public handleConfirmationEvent(event: boolean) {\n    this.closeConfirmationModal();\n    if (event) {\n      switch (this.confirmationPopupInput.event) {\n        case 'publish': {\n          this.onPublish(event);\n          break;\n        }\n        case 'retire': {\n          this.onRetire(event);\n          break;\n        }\n      }\n    }\n  }\n\n  public onPublish(event) {\n    this.publishBtnStream$.next(event);\n  }\n\n  public onRetire(event): void {\n    this.retireBtnStream$.next(event);\n  }\n\n  private mergeClickEventStreams() {\n    merge(this.handleAddSummaryStreams(), this.handlePublishBtnStream(), this.handleRetireBtnStream(),\n      this.handleUpdatedMarkdown())\n      .subscribe(res => {\n        this.refreshComponent();\n      }, err => {\n        console.log({ err });\n        this.toasterService.error(this.resourceService.messages.emsg.m0005);\n      });\n  }\n\n  /**\n  * @description handles click stream from add report and chart summary button\n  * @private\n  * @returns\n  * @memberof ReportComponent\n  */\n  private handleAddSummaryStreams() {\n    return this.addSummaryBtnClickStream$.pipe(\n      mergeMap(event => {\n        const { reportId } = this.activatedRoute.snapshot.params;\n        event['hash'] = this.hash;\n        this.closeSummaryModal();\n        const cdata = [...(event['chartId'] ? [this.getCDataObj({ id: event['chartId'], type: 'Chart' })] : [])];\n        this.logTelemetry({ type: 'select-submit', cdata, subtype: _.get(event, 'type') });\n        return this.reportService.addReportSummary({\n          reportId,\n          summaryDetails: event\n        });\n      }),\n      tap(res => {\n        this.toasterService.info(this.resourceService.messages.imsg.reportSummaryAdded);\n      })\n    );\n  }\n  /**\n   * @description refreshes the component to show updated data\n   * @private\n   * @memberof ReportComponent\n   */\n  private refreshComponent() {\n    this.showComponent = false;\n    setTimeout(() => {\n      this.showComponent = true;\n    });\n  }\n\n  /**\n   * @description handles click stream from publish button\n   * @private\n   * @returns\n   * @memberof ReportComponent\n   */\n  private handlePublishBtnStream() {\n    return this.publishBtnStream$.pipe(\n      switchMap(event => {\n        const { reportId } = this.activatedRoute.snapshot.params;\n        const hash = this.hash;\n        return this.reportService.publishReport(reportId, hash);\n      }),\n      tap(res => {\n        this.toasterService.info(this.resourceService.messages.imsg.reportPublished);\n        this.report.status = 'live';\n        if (this.materializedReport) {\n          this.materializedReport = false;\n          this.router.navigate(['.'], { relativeTo: this.activatedRoute, queryParams: {} });\n        }\n      })\n    );\n  }\n\n  private handleRetireBtnStream() {\n    return this.retireBtnStream$.pipe(\n      switchMap(event => {\n        const { reportId } = this.activatedRoute.snapshot.params;\n        const hash = this.hash;\n        return this.reportService.retireReport(reportId, hash);\n      }),\n      tap(res => {\n        this.toasterService.info(this.resourceService.messages.imsg.reportRetired);\n        this.report.status = 'retired';\n        if (this.materializedReport) {\n          this.materializedReport = false;\n          this.router.navigate(['.'], { relativeTo: this.activatedRoute, queryParams: {} });\n        }\n      })\n    );\n  }\n\n  public gotoListPage() {\n    this.router.navigate(['/dashBoard/reports']);\n  }\n\n  public getParametersValueForDropDown(report?: object) {\n    const { reportId } = this.activatedRoute.snapshot.params;\n    return this.reportService.fetchReportById(reportId).pipe(\n      pluck('reports'),\n      switchMap(reports => {\n        if (this.reportService.isUserSuperAdmin()) {\n          return this.reportService.getMaterializedChildRows(reports).pipe(\n            map(response => {\n              const [reportObj] = response;\n              return _.get(reportObj, 'children');\n            })\n          );\n        } else {\n          return of(_.map(_.get(reports[0], 'children') || [],\n            child => ({ ...child, label: this.reportService.getParameterFromHash(child.hashed_val) })));\n        }\n      })\n    );\n  }\n\n  public handleParameterChange(val) {\n    const { reportId } = this.activatedRoute.snapshot.params;\n    const { hashed_val, materialize = false } = val;\n    this.router.navigate(['/dashBoard/reports', reportId, hashed_val], { queryParams: { ...materialize && { materialize } } }).then(() => {\n      this.refreshComponent();\n    });\n  }\n\n  public getCDataObj = ({ id, type }) => ({ id, type });\n\n  private logTelemetry({ type, cdata = [], subtype = null }) {\n    const interactData = {\n      context: {\n        env: _.get(this.activatedRoute.snapshot.data.telemetry, 'env') || 'reports',\n        cdata: [...cdata, { id: _.get(this.reportService.getParameterValues('$slug'), 'value'), type: 'State' }]\n      },\n      edata: {\n        ...this.getTelemetryInteractEdata({ type, subtype }),\n      },\n      object: {\n        ...this.setTelemetryInteractObject(),\n        rollup: {}\n      }\n    };\n    this.telemetryService.interact(interactData);\n  }\n\n  public getTelemetryImpressionObj = ({ type, subtype = null }) => ({\n    context: {\n      env: this.activatedRoute.snapshot.data.telemetry.env\n    },\n    object: {\n      id: this.activatedRoute.snapshot.params.reportId,\n      type: 'Report',\n      ver: '1.0'\n    },\n    edata: {\n      type: type || this.activatedRoute.snapshot.data.telemetry.type,\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n      uri: this.router.url,\n      duration: this.navigationhelperService.getPageLoadTime(),\n      ...(subtype && { subtype })\n    }\n  })\n\n  private handleUpdatedMarkdown() {\n    return this.markdownUpdated$.pipe(\n      switchMap((event: { data: string, type: string }) => {\n        const updatedReportConfig = {\n          ...this.reportConfig,\n          dataset: {\n            ...this.reportConfig['dataset'],\n            [event.type]: btoa(event.data)\n          }\n        };\n\n        const { reportId } = this.activatedRoute.snapshot.params;\n        return this.reportService.updateReport(reportId, {\n          reportconfig: updatedReportConfig\n        });\n      })\n    );\n  }\n\n  initLayout() {\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout()\n      .subscribe(layoutConfig => {\n        if (layoutConfig != null) {\n          this.layoutConfiguration = layoutConfig.layout;\n        }\n      });\n  }\n\n  getAllChartData() {\n    const chartData = [];\n    if (this.reportData.charts) {\n      this.reportData.charts.map(chartInfo => {\n        chartData.push({ id: chartInfo.chartConfig.id, data: chartInfo.chartData });\n      });\n    }\n    return chartData;\n  }\n\n  getChartData(chart) {\n    const chartInfo = this.chartsReportData.charts.find(data => {\n      if (data['chartConfig']['id'] == chart['chartConfig']['id']) {\n        return true;\n      }\n    });\n    return chartInfo;\n  }\n  public filterChanged(data: any): void {\n    if (this.chartsReportData && this.chartsReportData.charts) {\n      this.chartsReportData.charts.map(element => {\n        data.chartData.forEach(chart => {\n          if (chart['id'] === element['chartConfig']['id']) {\n            element.chartData = chart.data;\n          }\n        });\n        return element;\n      });\n    }\n    this.globalFilterChange = {\n      chartData: data.chartData,\n      filters: data.filters\n    };\n    this.cdr.detectChanges();\n  }\n\n  resetFilter() {\n    this.resetFilters = { data: this.getAllChartData(), reset: true };\n  }\n\n  selectedTabChange(event) {\n    const { type, downloadURL } = _.get(event, 'tab.textLabel');\n    this.showExportsOption = ['chart', 'download'].includes(type);\n    downloadURL && this.setDownloadUrl(downloadURL);\n  }\n  getReportViewerTncPolicy() {\n    this.tncService.getReportViewerTnc().subscribe((data) => {\n      const reportViewerTncData = JSON.parse(_.get(data, 'result.response.value'));\n      if (_.get(reportViewerTncData, 'latestVersion')) {\n        this.reportViewerTncVersion = _.get(reportViewerTncData, 'latestVersion');\n        this.reportViewerTncUrl = _.get(_.get(reportViewerTncData, _.get(reportViewerTncData, 'latestVersion')), 'url');\n        this.showReportViewerTncForFirstUser();\n      }\n  });\n}\n\n  showReportViewerTncForFirstUser() {\n     const reportViewerTncObj = _.get(this.userProfile, 'allTncAccepted.reportViewerTnc');\n     if (!reportViewerTncObj) {\n     this.showTncPopup = true;\n     }\n  }\n}\n\n","\nimport {throwError as observableThrowError,  Observable } from 'rxjs';\n\nimport {catchError, map} from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\nimport { ServerResponse, ConfigService } from '@sunbird/shared';\nimport { LearnerService } from '@sunbird/core';\nimport { DashboardParams, DashboardData } from './../../interfaces';\nimport { DashboardUtilsService } from './../dashboard-utils/dashboard-utils.service';\n\n\nimport * as _ from 'lodash-es';\n\n/**\n * Service to get course consumption dashboard\n *\n * It responsible to make http call\n */\n@Injectable()\n\n/**\n * @class CourseConsumptionService\n */\nexport class CourseConsumptionService {\n\n  /**\n   * Contains parsed snapshot data like authors and reviewers count\n   */\n  blockData: string[];\n\n  /**\n   * To get api urls\n   */\n  public config: ConfigService;\n\n  /**\n   * Constructor - default method of CourseConsumptionService class\n   *\n   * @param learnerService\n   * @param dashboardUtil\n   */\n  constructor(private learnerService: LearnerService, private dashboardUtil: DashboardUtilsService,\n  config: ConfigService) {\n    this.config = config;\n  }\n\n  /**\n   * To get course consumption data by making api call\n   *\n   * @param {requestParam} requestParam identifier and time period\n   *\n   * @return {object} api response\n   */\n  getDashboardData(param: DashboardParams) {\n    const paramOptions = {\n      url: this.config.urlConFig.URLS.DASHBOARD.COURSE_CONSUMPTION + '/' + param.data.identifier,\n      param: {\n        period: param.data.timePeriod\n      }\n    };\n\n    return this.learnerService.get(paramOptions).pipe(\n      map((data: ServerResponse) => {\n        return this.parseApiResponse(data);\n      }),\n      catchError((err) => {\n        return observableThrowError(err);\n      }), );\n  }\n\n  /**\n   * Converts course consumption time spent count and completion count from second to min(s) or hr(s)\n   *\n   * @param {any} data api response\n   *\n   * @return {object} parsed api response\n   */\n  parseApiResponse(data: ServerResponse): DashboardData {\n    this.blockData = [];\n    _.forEach(data.result.snapshot, (numericData, key) => {\n      switch (key) {\n        case 'course.consumption.time_spent.count':\n        case 'course.consumption.time_spent_completion_count':\n          this.blockData.push(this.dashboardUtil.secondToMinConversion(numericData));\n          break;\n        default:\n          this.blockData.push(numericData);\n      }\n    });\n\n    return {\n      bucketData: data.result.series,\n      numericData: this.blockData,\n      series: ''\n    };\n  }\n}\n","import { combineLatest, Subscription, Observable, Subject, of } from 'rxjs';\n\nimport { first, takeUntil, map, debounceTime, distinctUntilChanged, switchMap, delay, tap } from 'rxjs/operators';\nimport { Component, OnInit, OnDestroy, AfterViewInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport * as _ from 'lodash-es';\nimport { UserService, FormService } from '@sunbird/core';\nimport {\n  ResourceService, ToasterService, ServerResponse, PaginationService, ConfigService,\n  NavigationHelperService, IPagination, OnDemandReportsComponent\n} from '@sunbird/shared';\nimport { CourseProgressService, UsageService } from './../../services';\nimport { ICourseProgressData, IBatchListData, IForumContext } from './../../interfaces';\nimport { IInteractEventInput, IImpressionEventInput, TelemetryService } from '@sunbird/telemetry';\nimport { OnDemandReportService } from './../../../shared/services/on-demand-report/on-demand-report.service';\nimport dayjs from 'dayjs';\n\n/**\n * This component shows the course progress dashboard\n */\n@Component({\n  selector: 'app-course-progress',\n  templateUrl: './course-progress.component.html',\n  styleUrls: ['./course-progress.component.scss']\n})\nexport class CourseProgressComponent implements OnInit, OnDestroy, AfterViewInit {\n  modelChanged: Subject<string> = new Subject<string>();\n\n  @ViewChild(OnDemandReportsComponent)\n  public onDemandReports: OnDemandReportsComponent;\n  /**\n   * Variable to gather and unsubscribe all observable subscriptions in this component.\n   */\n  public unsubscribe = new Subject<void>();\n\n  interactObject: any;\n  /**\n\t * This variable helps to show and hide page loader.\n\t */\n  showLoader = true;\n  /**\n\t * This variable sets the batch list data related to the given course\n\t */\n  batchlist: Array<IBatchListData>;\n  /**\n\t * This variable sets the course id\n\t */\n  courseId: string;\n  userDataSubscription: Subscription;\n\n  // TODO: We have to remove this & use currentBatch.id\n  batchId: string;\n  /**\n\t * This variable sets the user id\n\t */\n  userId: string;\n  /**\n * value typed\n */\n  searchText: string;\n  /**\n\t * This variable sets the dashboard result related to the given batch\n\t */\n  dashboarData: ICourseProgressData;\n  /**\n\t * This variable is set to true when the length of batch is 0.\n   * It helps to show a message div on html\n\t */\n  showNoBatch = false;\n  /**\n\t * This variable helps to show the download modal after successful download API call\n\t */\n  showDownloadModal = false;\n  /**\n\t * This variable sets the filter description which is displayed inside the dashboard\n\t */\n  filterText: string;\n  /**\n\t * This variable sets the name of the field which is to be sorted\n\t */\n  order: string;\n  /**\n\t * This variable sets the order to true or false\n\t */\n  reverse = true;\n  /**\n\t * This variable sets the queryparams on url\n\t */\n  queryParams: any;\n  /**\n\t * This variable sets selected batch id, if exist\n\t */\n  selectedOption: string;\n  /**\n\t * This variable helps to unsubscribe the params and queryparams\n\t */\n  paramSubcription: any;\n  /**\n\t * This variable helps to show the warning div\n\t */\n  showWarningDiv = false;\n  /**\n  * This variable helps to show the csv downloadURl\n  */\n  showDownloadLink = true;\n  /**\n   * To navigate to other pages\n   */\n  route: Router;\n  /**\n      * Contains page limit of inbox list\n   */\n  pageLimit: number;\n\n  /**\n    * Current page number of inbox list\n  */\n  pageNumber = 1;\n\n  /**\n    * totalCount of the list\n  */\n  totalCount: Number;\n  /**\n   *  to store the current batch when updated;\n   */\n  currentBatch: any;\n\n  /**\n    * Contains returned object of the pagination service\n  * which is needed to show the pagination on inbox view\n    */\n  pager: IPagination;\n  /**\n   * input data for fetchforum Ids\n   */\n   fetchForumIdReq: IForumContext;\n\n  /**\n   * To send activatedRoute.snapshot to router navigation\n   * service for redirection to parent component\n   */\n  private activatedRoute: ActivatedRoute;\n  /**\n   * To call resource service which helps to use language constant\n   */\n  public resourceService: ResourceService;\n  /**\n   * To show toaster(error, success etc) after any API calls\n   */\n  private toasterService: ToasterService;\n  /**\n  * To get user profile of logged-in user\n  */\n  public user: UserService;\n  /**\n  * To get user profile of logged-in user\n  */\n  public courseProgressService: CourseProgressService;\n  /**\n  * For showing pagination on draft list\n  */\n  private paginationService: PaginationService;\n  /**\n    * To get url, app configs\n    */\n  public config: ConfigService;\n  /**\n    * To display score report updated date\n    */\n  public scoreReportUpdatedOn;\n  /**\n    * To display progress report updated date\n    */\n  public progressReportUpdatedOn;\n\n  /**\n\t * telemetryImpression object for course progress page\n\t*/\n  telemetryImpression: IImpressionEventInput;\n  telemetryCdata: Array<{}>;\n  subscription: Subscription;\n  isDownloadReport = false;\n  stateWiseReportData = [];\n  public message = 'There is no data available';\n  columns = [\n    { name: 'State', isSortable: true, prop: 'state', placeholder: 'Filter state' },\n    { name: 'District', isSortable: true, prop: 'district', placeholder: 'Filter district' },\n    { name: 'No. of Enrolment', isSortable: false, prop: 'noOfEnrollments', placeholder: 'Filter enrollment' }];\n  fileName: string;\n  userConsent;\n  reportTypes = [];\n  userRoles;\n  selectedTab = 2;\n  /**\n\t * Constructor to create injected service(s) object\n   * @param {UserService} user Reference of UserService\n   * @param {Router} route Reference of Router\n   * @param {ActivatedRoute} activatedRoute Reference of ActivatedRoute\n   * @param {ResourceService} resourceService Reference of ResourceService\n   * @param {ToasterService} toasterService Reference of ToasterService\n   * @param {CourseProgressService} courseProgressService Reference of CourseProgressService\n\t */\n  constructor(user: UserService,\n    route: Router,\n    activatedRoute: ActivatedRoute,\n    resourceService: ResourceService,\n    toasterService: ToasterService,\n    public telemetryService: TelemetryService,\n    courseProgressService: CourseProgressService, paginationService: PaginationService,\n    config: ConfigService,\n    public onDemandReportService: OnDemandReportService,\n    public formService: FormService,\n    public navigationhelperService: NavigationHelperService, private usageService: UsageService,\n   ) {\n    this.user = user;\n    this.route = route;\n    this.activatedRoute = activatedRoute;\n    this.resourceService = resourceService;\n    this.toasterService = toasterService;\n    this.courseProgressService = courseProgressService;\n    this.paginationService = paginationService;\n    this.config = config;\n    this.route.onSameUrlNavigation = 'ignore';\n    this.pageLimit = this.config.appConfig.DASHBOARD.PAGE_LIMIT;\n  }\n\n  /**\n  * To method helps to get all batches related to the course.\n  * Then it helps to set flag dependeing on number of batches.\n  */\n  populateBatchData(): void {\n    this.showLoader = true;\n    const searchParamsCreator = {\n      courseId: this.courseId,\n      status: ['0', '1', '2'],\n      createdBy: this.userId\n    };\n    const searchParamsMentor = {\n      courseId: this.courseId,\n      status: ['0', '1', '2'],\n      mentors: [this.userId]\n    };\n    combineLatest(\n      this.courseProgressService.getBatches(searchParamsCreator),\n      this.courseProgressService.getBatches(searchParamsMentor),\n    ).pipe(takeUntil(this.unsubscribe))\n      .subscribe((results) => {\n        this.batchlist = _.union(results[0].result.response.content, results[1].result.response.content);\n        this.showLoader = false;\n        const isBatchExist = _.find(this.batchlist, (batch) => batch.id === this.queryParams.batchIdentifier);\n        if (this.batchlist.length === 0) {\n          this.showNoBatch = true;\n        } else if (isBatchExist) {\n          this.selectedOption = this.queryParams.batchIdentifier;\n          this.currentBatch = isBatchExist;\n          this.populateCourseDashboardData(isBatchExist);\n        } else if (this.batchlist.length === 1 && isBatchExist === undefined) {\n          this.queryParams.batchIdentifier = this.batchlist[0].id;\n          this.selectedOption = this.batchlist[0].id;\n          this.currentBatch = this.batchlist[0];\n          this.generateDataForDF(this.currentBatch);\n          this.setBatchId(this.currentBatch);\n          this.populateCourseDashboardData(this.batchlist[0]);\n        } else {\n          this.showWarningDiv = true;\n        }\n        this.paramSubcription.unsubscribe();\n      }, (err) => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0005);\n        this.showLoader = false;\n        this.showNoBatch = true;\n      });\n  }\n\n  summaryReport(tabNumber) {\n    this.setInteractEventDataForTabs('summary-report');\n    this.selectedTab = tabNumber;\n    this.getSummaryReports();\n  }\n\n  /**\n  * To method helps to set batch id and calls the populateCourseDashboardData\n  *\n\t* @param {string} batchId batch identifier\n  */\n  setBatchId(batch?: any): void {\n    this.fetchForumIdReq = null;\n    this.showWarningDiv = false;\n    this.queryParams.batchIdentifier = batch.id;\n    this.queryParams.pageNumber = this.pageNumber;\n    this.searchText = '';\n    this.currentBatch = batch;\n    // this.currentBatch.lastUpdatedOn = dayjs(this.currentBatch.lastUpdatedOn).format('DD-MMM-YYYY hh:mm a');\n    this.batchId = batch.id;\n    this.setCounts(this.currentBatch);\n    this.populateCourseDashboardData(batch);\n    if (this.selectedTab === 1) {\n      this.summaryReport(1);\n    } else {\n      this.loadOndemandReports(2);\n    }\n  }\n\n\n  /**\n   * Method to update the url with selected query params\n   */\n  navigate(): void {\n    this.route.navigate([], { queryParams: this.queryParams });\n  }\n  redirect() {\n    this.route.navigate(['/learn/course', this.courseId]);\n  }\n\n  /**\n  * To method helps to set time period and calls the populateCourseDashboardData\n  *\n\t* @param {string} timePeriod time period\n  */\n  setTimePeriod(timePeriod: string): void {\n    this.queryParams.timePeriod = timePeriod;\n    this.populateCourseDashboardData();\n  }\n\n  setInteractEventDataForTabs(id) {\n    const telemetryObj = {\n      context: {\n        env: 'reports',\n        cdata: [\n          {id: _.get(this.currentBatch , 'courseId'), type: 'Course'},\n          {id: _.get(this.currentBatch , 'batchId'), type: 'Batch'}\n        ]\n      },\n      edata: {\n        id: id,\n        type: 'click',\n        pageid: id\n      }\n    };\n    this.telemetryService.interact(telemetryObj);\n  }\n\n  getSummaryReports() {\n    const request = {\n      'request': {\n        'filters': {\n          'collectionId': this.currentBatch.collectionId || this.currentBatch.courseId,\n          'batchId': this.currentBatch.batchId\n        },\n        'groupBy': ['dist', 'state'],\n        'granularity': 'ALL' // data conformation\n      }\n    };\n    this.onDemandReportService.getSummeryReports(request).subscribe((reports: any) => {\n      if (reports && reports.result && !_.isEmpty(reports.result)) {\n        const result = _.get(reports, 'result');\n        const groupData = _.get(result, 'groupBy');\n        this.stateWiseReportData = _.map(groupData, (x) => {\n          return {\n            state: x.state,\n            district: x.district,\n            noOfEnrollments: this.getFieldValue(x.values, 'enrolment')\n          };\n        });\n        this.stateWiseReportData = [...this.stateWiseReportData];\n        const metrics = _.get(result, 'metrics');\n        this.currentBatch.participantCount = this.getFieldValue(metrics, 'enrolment');\n        this.currentBatch.completedCount = this.getFieldValue(metrics, 'complete');\n        this.currentBatch.lastUpdatedOn = _.get(result, 'lastUpdatedOn') || '';\n      }\n      this.generateDataForDF(this.currentBatch);\n    }, error => {\n      this.stateWiseReportData = [\n        {\n          state: 'Andhra Pradesh',\n          district: 'Chittoor',\n          noOfEnrollments: 20\n        },\n        {\n          state: 'Andhra Pradesh',\n          district: 'Vishakapatanam',\n          noOfEnrollments: 50\n        },\n        {\n          state: 'Andhra Pradesh',\n          district: 'Guntur',\n          noOfEnrollments: 70\n        },\n        {\n          state: 'Andhra Pradesh',\n          district: 'Kadapa',\n          noOfEnrollments: 65\n        },\n        {\n          state: 'Andhra Pradesh',\n          district: 'Nellore',\n          noOfEnrollments: 100\n        },\n        {\n          state: 'Telengana',\n          district: 'Hydrabad',\n          noOfEnrollments: 45\n        }\n      ];\n      this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0004'));\n      this.generateDataForDF(this.currentBatch);\n    });\n  }\n\n  /**\n  * To method fetches the dashboard data with specific batch id and timeperiod\n  */\n // TODO: This function will be removed. API got deprecated.\n  populateCourseDashboardData(batch?: any): void {\n    return ;\n    if (!batch && this.currentBatch) {\n      batch = this.currentBatch;\n    }\n    this.showWarningDiv = false;\n    this.navigate();\n    this.showLoader = true;\n    const option: any = {\n      batchIdentifier: this.queryParams.batchIdentifier,\n      limit: this.pageLimit,\n      offset: (this.pageNumber - 1) * (this.pageLimit),\n    };\n    if (this.order) {\n      option.sortBy = this.order;\n      option.sortOrder = this.reverse ? 'desc' : 'asc';\n    }\n    if (this.searchText) {\n      option.username = this.searchText;\n    }\n    this.courseProgressService.getDashboardData(option).pipe(\n      takeUntil(this.unsubscribe))\n      .subscribe(\n        (apiResponse: ServerResponse) => {\n          if (!apiResponse.result.count && _.get(apiResponse, 'result.data.length')) {\n            apiResponse.result.count = _.get(apiResponse, 'result.data.length');\n          } else {\n            apiResponse.result.count = 0;\n          }\n          this.showLoader = false;\n          this.dashboarData = apiResponse.result;\n          this.showDownloadLink = apiResponse.result.showDownloadLink ? apiResponse.result.showDownloadLink : false;\n          this.dashboarData.count = _.get(batch, 'participantCount') || _.get(apiResponse, 'result.data.length');\n          this.totalCount = _.get(batch, 'participantCount') || _.get(apiResponse, 'result.data.length');\n          if (this.totalCount >= 10000) {\n            this.pager = this.paginationService.getPager(10000, this.pageNumber, this.config.appConfig.DASHBOARD.PAGE_LIMIT);\n          } else {\n            this.pager = this.paginationService.getPager(\n              apiResponse.result.count, this.pageNumber, this.config.appConfig.DASHBOARD.PAGE_LIMIT);\n          }\n        },\n        err => {\n          this.toasterService.error(err.error.params.errmsg);\n          this.showLoader = false;\n        }\n      );\n  }\n\n  /**\n  * To method helps to set order of a specific field\n  *\n\t* @param {string} value Field name that is to be sorted\n  */\n  setOrder(value: string): void {\n    this.order = value;\n    this.reverse = !this.reverse;\n    this.setInteractEventData();\n    if (this.currentBatch) {\n      this.populateCourseDashboardData(this.currentBatch);\n    }\n  }\n\n  /**\n   * method to download course progress reports\n   */\n  private downloadCourseReport(reportType: string) {\n    const batchId = this.queryParams.batchIdentifier;\n    const url = `/courseReports/${reportType}/report-${batchId}.csv`;\n    return this.usageService.getData(url)\n      .pipe(\n        tap(response => {\n          if (_.get(response, 'responseCode') === 'OK') {\n            const signedUrl = _.get(response, 'result.signedUrl');\n            if (signedUrl) { window.open(signedUrl, '_blank'); }\n          } else {\n            this.toasterService.error(this.resourceService.messages.stmsg.m0141);\n          }\n        })\n      );\n  }\n\n  /**\n   * method to download assessment score reports\n   */\n  private downloadAssessmentReport() {\n    const option = {\n      batchIdentifier: this.queryParams.batchIdentifier,\n    };\n\n    return this.courseProgressService.downloadDashboardData(option).pipe(\n      tap((apiResponse: ServerResponse) => {\n        let downloadUrl;\n        downloadUrl = _.get(apiResponse, 'result.reports.assessmentReportUrl');\n        if (downloadUrl) {\n          window.open(downloadUrl, '_blank');\n        } else {\n          this.toasterService.error(this.resourceService.messages.stmsg.m0141);\n        }\n      }));\n  }\n\n  /**\n   * To method helps to set filter description\n   */\n  setFilterDescription(): void {\n    const filterDesc = {\n      '7d': this.resourceService.messages.imsg.m0022,\n      '14d': this.resourceService.messages.imsg.m0023,\n      '5w': this.resourceService.messages.imsg.m0024,\n      'fromBegining': this.resourceService.messages.imsg.m0025\n    };\n    this.filterText = filterDesc[this.queryParams.timePeriod];\n  }\n\n  /**\n   * method to download assessment/course progress report\n   * @param downloadAssessmentReport\n   */\n  downloadReport(downloadAssessmentReport: boolean) {\n    of(downloadAssessmentReport)\n      .pipe(\n        switchMap((flag: boolean) => flag ? this.downloadCourseReport('assessment-reports') :\n          this.downloadCourseReport('course-progress-reports')),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe(res => { }, err => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0076);\n      });\n  }\n\n  navigateToPage(page: number): undefined | void {\n    if (page < 1 || page > this.pager.totalPages) {\n      return;\n    }\n    this.pageNumber = page;\n    this.queryParams.pageNumber = this.pageNumber;\n    this.navigate();\n    if (this.currentBatch) {\n      this.populateCourseDashboardData(this.currentBatch);\n    }\n  }\n  keyup(event) {\n    this.modelChanged.next(_.trim(event));\n  }\n  searchBatch() {\n    this.modelChanged.pipe(debounceTime(1000),\n      distinctUntilChanged(),\n      switchMap(search => of(search))\n    ).\n      subscribe(query => {\n        this.populateCourseDashboardData();\n      });\n  }\n\n\n  getFieldValue(array, field) {\n    if (_.find(array, {'type': field})) {\n      return _.find(array, {'type': field}).count;\n    } else {\n      return;\n    }\n  }\n\n  /**\n  * To method subscribes the user data to get the user id.\n  * It also subscribes the activated route params to get the\n  * course id and timeperiod\n  */\n  ngOnInit() {\n    // ---- Mock data Start-----\n    const apiData = {\n      userConsent: 'No',\n      audience: 'Teacher'\n    };\n    this.fileName = 'State wise report';\n    this.isDownloadReport = true;\n    // this.searchFields = ['state', 'district'];\n    // ----- Mock date end -------------\n    this.userDataSubscription = this.user.userData$.pipe(first()).subscribe(userdata => {\n      if (userdata && !userdata.err) {\n        this.userId = userdata.userProfile.userId;\n        this.userRoles = _.get(userdata, 'userProfile.userRoles');\n        this.paramSubcription = combineLatest(this.activatedRoute.parent.params,\n          this.activatedRoute.params, this.activatedRoute.queryParams,\n          (parentParams: any, params: any, queryParams: any) => {\n            return {\n              params: parentParams || params,\n              queryParams: queryParams\n            };\n          })\n          .subscribe(bothParams => {\n            this.courseId = bothParams.params.courseId;\n            this.batchId = bothParams.params.batchId;\n            this.queryParams = { ...bothParams.queryParams };\n            this.interactObject = { id: this.courseId, type: 'Course', ver: '1.0' };\n            this.populateBatchData();\n          });\n      }\n    });\n    this.searchBatch();\n    this.setInteractEventData();\n  }\n\n  /**\n   * Load on demand reports\n   */\n  loadOndemandReports(tabNumber) {\n    this.getSummaryReports();\n    setTimeout(() => {\n      if (this.onDemandReports) {\n      this.setInteractEventDataForTabs('on-demand-reports');\n      this.selectedTab = tabNumber;\n      if (_.isEmpty(this.reportTypes)) {\n        this.getFormData();\n      }\n      this.onDemandReports.loadReports(this.currentBatch);\n    }\n      }, 500);\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env,\n          cdata: [{ id: this.activatedRoute.snapshot.params.courseId, type: 'Course' }]\n        },\n        edata: {\n          uri: '/learn/course/' + this.courseId + '/dashboard&batchIdentifier=' + this.activatedRoute.snapshot.params.batchId,\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          duration: this.navigationhelperService.getPageLoadTime()\n        },\n        object: {\n          id: this.courseId,\n          type: this.activatedRoute.snapshot.data.telemetry.object.type,\n          ver: this.activatedRoute.snapshot.data.telemetry.object.ver\n        }\n      };\n    });\n  }\n\n  /**\n   * @since - #SH-601\n   * @param  {} currentBatch\n   * @description - This will set completedCount and participantCount to the currentBatch object;\n   */\n    setCounts(currentBatch) {\n      this.currentBatch['completedCount'] = _.get(currentBatch, 'completedCount') ? _.get(currentBatch, 'completedCount') : 0;\n      this.currentBatch['participantCount'] = _.get(currentBatch, 'participantCount') ? _.get(currentBatch, 'participantCount') : 0;\n    }\n\n  setInteractEventData() {\n    if (_.get(this.queryParams, 'batchIdentifier')) {\n      this.telemetryCdata = [{ 'type': 'batch', 'id': this.queryParams.batchIdentifier }];\n    } else {\n      this.telemetryCdata = [{ 'type': 'course', 'id': this.courseId }];\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.userDataSubscription) {\n      this.userDataSubscription.unsubscribe();\n    }\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  getFormData() {\n    const isCourseCreator = _.includes(this.userRoles, 'CONTENT_CREATOR');\n    const formReadInputParams = {\n      formType: 'batch',\n      formAction: 'list',\n      contentType: 'report_types'\n    };\n    this.formService.getFormConfig(formReadInputParams).subscribe((formResponsedata) => {\n      if (formResponsedata) {\n        const options = formResponsedata;\n        if (isCourseCreator) {\n          this.reportTypes = options;\n        } else {\n          this.reportTypes = _.filter(options, (report) => report.title !== 'User profile exhaust');\n        }\n      }\n    }, error => {\n      this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0004'));\n    });\n  }\n  generateDataForDF(batchId) {\n    this.fetchForumIdReq = null;\n    if (batchId) {\n      this.fetchForumIdReq = {\n        type: 'batch',\n        identifier: [batchId.id]\n      };\n    }\n  }\n  /**\n     * @description - navigate to the DF Page when the event is emited from the access-discussion component\n     * @param  {} routerData\n     */\n   assignForumData(routerData) {\n    this.route.navigate(['/discussion-forum'], {\n      queryParams: {\n        categories: JSON.stringify({ result: routerData.forumIds }),\n        userId: routerData.userId\n      }\n    });\n  }\n  selectedTabChange(event) {\n    const { index } = _.get(event, 'tab.textLabel');\n    if (index == 2) {\n      this.loadOndemandReports(2);\n    }\n  }\n}\n","import { IImpressionEventInput, TelemetryService } from '@sunbird/telemetry';\nimport { CertRegService, UserService } from '@sunbird/core';\nimport { ResourceService, ToasterService, NavigationHelperService } from '@sunbird/shared';\nimport { Subject } from 'rxjs';\nimport { Component, OnInit, OnDestroy, Input, ViewChild, HostListener } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport * as _ from 'lodash-es';\nimport { IUserCertificate } from '../../interfaces';\nimport { takeUntil } from 'rxjs/operators';\n@Component({\n  selector: 'app-re-issue-certificate',\n  templateUrl: './re-issue-certificate.component.html',\n  styleUrls: ['./re-issue-certificate.component.scss']\n})\nexport class ReIssueCertificateComponent implements OnInit, OnDestroy {\n  @ViewChild('searchBtn') button;\n  @Input() userName;\n  courseId: string;\n  userData: IUserCertificate;\n  channelName: string;\n  showModal = false;\n  userBatch: {};\n  telemetryImpression: IImpressionEventInput;\n  criteriaMet: boolean;\n\n  public unsubscribe$ = new Subject<void>();\n  constructor(\n    public resourceService: ResourceService,\n    private certService: CertRegService,\n    private activatedRoute: ActivatedRoute,\n    private toasterService: ToasterService,\n    private navigationhelperService: NavigationHelperService,\n    private router: Router,\n    private telemetryService: TelemetryService,\n    private userService: UserService,\n    ) { }\n\n  @HostListener('window:popstate', ['$event'])\n  onPopState(event) {\n    if (this.showModal) {\n      this.showModal = false;\n    }\n  }\n\n  ngOnInit() {\n    this.channelName = _.upperCase(this.resourceService.instance);\n    this.activatedRoute.parent.params.pipe(takeUntil(this.unsubscribe$)).subscribe(params => {\n      this.courseId = _.get(params, 'courseId');\n      this.setImpressionEvent();\n    });\n  }\n\n  searchCertificates() {\n    let value = !_.isEmpty(this.userData) ? this.userData['courses'].batches = [] : [];\n    this.button.nativeElement.disabled = true;\n    this.button.nativeElement.classList.add('sb-btn-disabled');\n    this.button.nativeElement.classList.remove('sb-btn-outline-primary');\n    this.certService.getUserCertList(this.userName.trim(), this.courseId, this.userService.userid)\n    .pipe(takeUntil(this.unsubscribe$)).subscribe((data) => {\n      this.modifyCss();\n      if (!this.isErrorOccurred(_.get(data, 'result.response'))) {\n        this.userData = _.get(data, 'result.response');\n        this.criteriaMet = this.certService.checkCriteria(_.get(this.userData, 'courses.batches'));\n      }\n    }, (err) => {\n      this.modifyCss();\n      this.showErrorMsg(this.resourceService.messages.dashboard.emsg.m001);\n      value = !_.isEmpty(this.userData) ? this.userData['courses'].batches = [] : [];\n    });\n  }\n\n  isErrorOccurred(response) {\n    const errMsg = _.isEmpty(response) ? (this.resourceService.messages.emsg.m004).replace('{instance}', this.channelName) :\n        (_.isEmpty(_.get(response, 'courses.batches')) ? this.resourceService.messages.dashboard.emsg.m002 : '');\n      if (!_.isEmpty(errMsg)) {\n        this.showErrorMsg(errMsg);\n        return true;\n      }\n      return false;\n  }\n\n  modifyCss() {\n    this.button.nativeElement.disabled = false;\n    this.button.nativeElement.classList.remove('sb-btn-disabled');\n    this.button.nativeElement.classList.add('sb-btn-outline-primary');\n  }\n\n  showErrorMsg(msg)  {\n    this.toasterService.error(msg);\n  }\n\n  reIssueCert (batch) {\n    const request = {\n      request: {\n        courseId: this.courseId,\n        batchId: _.get(batch, 'batchId'),\n        userIds: [_.get(this.userData, 'userId')],\n        createdBy: _.get(batch, 'createdBy')\n      }\n    };\n    this.certService.reIssueCertificate(request).pipe(takeUntil(this.unsubscribe$)).subscribe(data => {\n      this.toggleModal(false);\n      this.toasterService.success(this.resourceService.messages.dashboard.smsg.m001);\n    }, err => {\n      this.toggleModal(false);\n      this.toasterService.error(this.resourceService.messages.dashboard.emsg.m003);\n    });\n  }\n\n  toggleModal(visibility = false, batch?: {}) {\n    this.showModal = visibility;\n    this.userBatch  = !_.isEmpty(batch) ? batch : this.userBatch;\n  }\n\n    // To set telemetry impression\n    setImpressionEvent() {\n      this.telemetryImpression = {\n        context: {\n          env: _.get(this.activatedRoute.snapshot, 'data.telemetry.env')\n        },\n        edata: {\n          type: _.get(this.activatedRoute.snapshot, 'data.telemetry.type'),\n          pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n          uri: this.router.url,\n          duration: this.navigationhelperService.getPageLoadTime()\n        },\n        object: this.setObject()\n      };\n    }\n\n    addTelemetry (id, extra) {\n      const interactData = {\n        context: {\n          env: _.get(this.activatedRoute, 'snapshot.data.telemetry.env'),\n          cdata: []\n        },\n        edata: {\n          id: id,\n          type: 'click',\n          pageid:  _.get(this.activatedRoute, 'snapshot.data.telemetry.pageid')\n        },\n        object: this.setObject()\n      };\n\n      if (extra) {\n        interactData.edata['extra'] = extra;\n        _.map(extra, ((value, key) =>  interactData.context.cdata.push({id: value, type: key})));\n      }\n\n      this.telemetryService.interact(interactData);\n    }\n\n    setObject() {\n      return {\n        id: this.courseId,\n        type: _.get(this.userData, 'courses.contentType') || _.get(this.activatedRoute.snapshot, 'data.telemetry.object.type'),\n        ver: _.get(this.userData, 'courses.pkgVersion') ? _.get(this.userData, 'courses.pkgVersion') ? `${_.get(this.userData, 'courses.pkgVersion')}` : '1.0' : '1.0',\n      };\n    }\n\n  toLowerCase(msg: string) {\n    if (msg) {\n      return msg[0].toUpperCase() + msg.substring(1).toLowerCase();\n    }\n    return '';\n  }\n\n  resetValues() {\n    this.userName = this.userName ? this.userName.trim() : this.userName;\n    const value = !_.isEmpty(this.userData) ? this.userData['courses'].batches = [] : [];\n  }\n\n  enableReIssueCert(batch) {\n    return ((!_.isEmpty(_.get(batch, 'certificates')) || !_.isEmpty(_.get(batch, 'issuedCertificates')))  || _.get(batch, 'status') === 2);\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n// import { mapChildrenIntoArray } from '@angular/router/src/url_tree';\nimport { Chart } from 'chart.js';\n//import 'chartjs-plugin-labels';\n/////////////////////////////////////////\nimport { UserService, SearchService } from '@sunbird/core';\nimport { ReportService } from '../../services/report/report.service';\nimport { ToasterService, ResourceService, INoResultMessage, ConfigService } from '@sunbird/shared';\n////////////////////////////////////////\nimport * as _ from 'lodash-es';\nimport { AddusserService } from '../../services/addusser/addusser.service';\n// import { content } from 'html2canvas/dist/types/css/property-descriptors/content';\n\n\n@Component({\n  selector: 'app-course-report',\n  templateUrl: './course-report.component.html',\n  styleUrls: ['./course-report.component.scss']\n})\nexport class CourseReportComponent implements OnInit {\n\n\n  constructor\n  (\n    private _httpService: AddusserService,\n    public reportService: ReportService,\n    private searchService:SearchService,\n    private toasterService: ToasterService,\n    public resourceService: ResourceService,\n    ) { }\n\n////////////Tab///////////////////////\n  organizationTab: boolean  = true;\n  userTab: boolean = true;\n//////////////////////////////////////\n  cityList: any = [];\n  userList: any = [];\n  noResultMessage :any;\n  noResult = true;\n  ////////popup/////////////////\n  popupTitle=\"Course wise Graphical Reports\";\n  selectedItems = [];\n  addUserPopup: boolean = false;\n  ////////////extra/////////////\n  i=0;\n  Graph_Data_List=[];\n  Table_Data_List=[];\n  //////////chart.js data//////\n  G1_Piechart:any;\n  G2_Piechart:any;\n  G3_Piechart:any;\n  G4_Piechart:any;\n////////////graph data list////\n  G1_Group_list=[];\n  G2_Group_list=[];\n  G3_Group_list=[];\n  G4_Group_list=[];\n  //////////////////////////////\n  strList=\"\";\n  colsUser=[];\n  //////////////////////////////\n\n  ngOnInit() {\n    this.getCourseList();\n    this.colsUser = [\n      { field: 'SNo',           header: 'SNo',          width: '50px' },\n      { field: 'creator',       header: 'Creator',      width: '150px' },\n      { field: 'subject',       header: 'Subject',      width: '150px' },\n      { field: 'organisation',  header: 'Organisation', width: '150px' },\n      { field: 'Category',      header: 'Category',     width: '150px' },\n      { field: 'name',          header: 'Name',         width: '150px' },\n      { field: 'contentType',   header: 'ContentType',  width: '150px' },\n      { field: 'copyright',     header: 'Copyright',    width: '150px' },\n    ]\n  }\n\n\n  /////Load content List////////////////////////////\n\n  getCourseList()\n  {\n\n    const data = {\n      \"request\":\n      {\n        \"query\"   : \"\",\n        \"filters\" : { \"status\": [\"Live\"],\n                      \"framework\": [\"nulp\"],\n                      \"contentType\": [\"Course\"]},\n\n        \"limit\"   : \"1000\",\n        \"sort_by\" : { \"lastUpdatedOn\": \"desc\" },\n        \"fields\"  :\n        [\"identifier\", \"creator\", \"organisation\",\"copyright\",\n        \"name\", \"contentType\", \"createdFor\", \"channel\",\n        \"board\", \"medium\", \"gradeLevel\", \"subject\",\n        \"lastUpdatedOn\", \"status\", \"createdBy\",\n        \"framework\", \"createdOn\", \"lastPublishedOn\"]\n    }\n    };\n\n    this.reportService.getContentCreationStaticsReport(data).subscribe((response) =>\n    {\n      if (_.get(response, 'responseCode') === 'OK')\n      {\n        if (response.result.count > 0)\n        {\n          var tableData = [];\n          let tempObj = _.cloneDeep(response.result.content);\n          tableData = tempObj;\n          var self = this;\n          ///////////////LOOPING ROOT ORG/////////////////////////////////\n          var ChnlIds=[];\n          var UserIds=[];\n           ChnlIds = _.uniq(_.map(tempObj, 'channel'));\n           UserIds = _.uniq(_.map(tempObj, 'createdBy'));\n          //console.log('1-ChannelIds:-'+ChnlIds);\n          //console.log('2-UserIds:-'+UserIds);\n          /////////////////GET USER LIST/////////////////////////////////\n          const reqParam = {  filters: { id:UserIds}}\n          this.searchService.getUserList(reqParam).subscribe(response =>\n            {\n            this.userList = [];\n            let userObj = _.cloneDeep(response.result.response.content);\n            this.userList = userObj;\n            //console.log( '----UserList---------');\n            //console.log( this.userList);\n            //////////////////GET CITY/ORG LIST/////////////////////////////\n            const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds, \"isTenant\":true} } };\n            //const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds, \"isRootOrg\":true, \"status\":1 } } };\n            //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true, \"status\":1 } } };\n            //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true} } };\n              this.reportService.getOrganizationName(reqPayload).subscribe((response) =>\n              {\n                    this.cityList = [];\n                    let cityObj = _.cloneDeep(response.result.response.content);\n                    this.cityList = cityObj;\n                    this.cityList = _.reject(response.result.response.content,obj=>_.isEmpty(obj.orgName));\n                    //////////////////////////////////////////////////////////////////\n                    this.InitializeGraph(tableData);\n              ////////////////////////////////////////////////////\n              }); //City close\n              /////////////////////////////////////////////////////////////////\n           }); //User Close\n        }\n        else\n        {\n          this.noResultMessage = {'messageText': 'messages.stmsg.m0131' };\n          this.noResult = true;\n        }\n      }\n      else\n      {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    }); //Content close\n      ////////////////////////////////////////////////////////////\n  }\n\n  ///////////////////////////////////////////////////\n\n  InitializeGraph(C_List:any)\n  {\n      //debugger;\n      if (this.cityList.length > 0)\n      {\n\n      }\n      ///////UPDATE USER LIST//////USER-ID-to-SUB-ORG-MAPING////////////////////\n      this.userList.forEach(element =>\n        {\n          this.cityList.forEach(element1 =>\n            {\n             //if(element1.identifier==orgId)\n             //{\n             //  this.rootOrgNameUser_new  = element1.orgName\n             //}\n\n              if( element.organisations.length>1)\n                  {\n                    if((element1.identifier==element.organisations[1].organisationId) &&\n                        (element.rootOrgId!=element.organisations[1].organisationId))\n                        {\n                          element.orgNameUser_new  =   element1.orgName\n                          element.orgTypeUser_new  =   'Sub Organization';\n                         }\n                         else if(element.rootOrgId==element.organisations[1].organisationId)\n                         {\n                          element.orgNameUser_new  =  element.organisations[0].orgName;\n                          element.orgTypeUser_new =   'Sub Organization';\n                         }else\n                         {\n                          element.orgNameUser_new  =  element.organisations[1].orgName;\n                          element.orgTypeUser_new =   'Sub Organization';\n                         }\n                  }\n                  else if( element.organisations.length==1)\n                  {\n                        element.orgNameUser_new  = element.organisations[0].orgName;\n                        element.orgTypeUser_new   =   'Root  Organization';\n                  }\n              });\n        });\n      //console.log(\"Updated userList:-\"+JSON.stringify(this.userList));\n      //console.log(this.userList);\n      //////////////////////////////////////////////////////////////////////////\n      var groupedUserData =   this.userList.reduce(function(rv, x) { // grouping of userdata\n        (rv[x['orgNameUser_new']] = rv[x['orgNameUser_new']] || []).push(x);\n        return rv;\n        }, {});\n      /////////////////Camposing comman content data list//////////////////////////\n       this.Graph_Data_List=[];\n      C_List.forEach(x =>\n      {\n        let CityTraced= this.cityList.find(el => el.id === x.channel);\n        let UserTraced= this.userList.find(el => el.id === x.createdBy);\n          //console.log(\"cha:-\"+x.createdBy+\"  Traced-\"+JSON.stringify(UserTraced));\n          this.Graph_Data_List.push({\n          \"identifier\":x.identifier,\n          \"copyright\":x.copyright,\n          \"createdFor\":x.createdFor,\n          \"creator\":x.creator,\n          \"subject\":x.subject,\n          \"channel\":x.channel,\n          \"organisation\":x.organisation,\n          //////////////Add Processed Column///////////////\n          \"RootOrgName_new_user\":CityTraced[\"orgName\"],\n          \"rootOrgName_new_city\":UserTraced[\"rootOrgName\"],\n          \"orgNameUser_new\":UserTraced[\"orgNameUser_new\"],\n          \"orgTypeUser_new\":UserTraced[\"orgTypeUser_new\"],\n          \"lastNameUser_new\":UserTraced[\"lastName\"],\n          /////////////////////////////////////////////////\n          \"createdBy\":x.createdBy,\n          \"medium\":x.medium,\n          \"name\":x.name,\n          \"createdOn\":x.createdOn,\n          \"objectType\":x.objectType,\n          \"gradeLevel\":x.gradeLevel,\n          \"framework\":x.framework,\n          \"contentType\":x.contentType,\n          \"Category\":x.board,\n          \"lastPublishedOn\":x.lastPublishedOn,\n          \"lastUpdatedOn\":x.lastUpdatedOn,\n          \"status\":x.status\n        });\n      });\n      //console.log('Updated Graph_Data_List for json-----'+JSON.stringify(this.Graph_Data_List));\n      ///////SHORTING//////////////////////////////////////////////////\n      this.Graph_Data_List.sort((a, b) =>\n      {\n        if (a.createdBy < b.createdBy)\n        return -1;\n        if (a.createdBy > b.createdBy)\n        return 1;\n        return 0;\n    });\n     this.GeneratingChannelList(this.Graph_Data_List);\n  }\n///////////////////////////////////////////\n\nGeneratingChannelList(ResultCN:any)\n{\n      var G1_Name=[];\n      var G1_Value=[];\n      var G1_Filter=[]\n      var G1_Colour=[]\n      //////////////////////////////////////////////////////////\n      this.G1_Group_list=this.groupBy1(ResultCN,\"channel\");\n      Object.keys(this.G1_Group_list).forEach( x=>\n        {\n        var xx=this.G1_Group_list[x];\n        G1_Name.push(   xx[0].RootOrgName_new_user);\n        G1_Value.push(  this.G1_Group_list[x].length);\n        G1_Filter.push( xx[0].channel);\n        //G1_Filter.push(x);\n        G1_Colour.push(this.getRandomColorHex());\n        });\n        //console.log(\"----this.G1_Group_list------\")\n        //console.log(this.G1_Group_list);\n      this.G1_Chart(G1_Name,G1_Value,G1_Filter,G1_Colour);\n}\n\nG1_Chart(G1_Name:any,G1_Value:any,G1_Filter:any,G1_Colour:any)\n{\n  if ( this.G1_Piechart) // != undefined\n  {\n    this.G1_Piechart.destroy();\n  }\n    this.G1_Piechart = new Chart('G1_Canvas1',\n    {\n      type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n      data:\n          {\n            labels  :             G1_Name,\n            datasets: [{\n                  data:           G1_Value,\n                 // borderColor:    G1_Filter,\n                  borderSkipped:  G1_Filter,\n                  backgroundColor:G1_Colour,\n                  //borderWidth: 1, // Specify bar border width\n                  fill: true }\n                ]\n          },\n      options:\n          {\n            //tooltips: { mode: 'index'},\n            //hover: { mode: 'index', intersect: true  },\n            title:{ display : true,text:\"Aggregated Organization wise Courses \",fontSize : 18, fontColor : \"#111\",},\n            legend: { display :false ,labels: { fontColor: \"green\", }},\n            scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Organization' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Course Count' } }],\n                    },\n         // plugins: {\n         //   labels: [\n         //             { render: 'label', fontColor: '#000', position: 'outside' },\n         //             { render:'value',fontColor: '#000'}\n         //           ]\n         //         },\n          }\n    });\n}\n\nG1_Chart_showData(evt:any)\n{\n  this.resetGraph('G1');\n  //var data = this.G1_Piechart.getElementsAtEvent(evt)\n  var activePoint = this.G1_Piechart.getElementAtEvent(evt);\n  if (activePoint.length > 0)\n   {\n    var filter_data         = activePoint[0]._model.borderSkipped; //bar\n    this.G2_Group_list=this.groupBy1(this.G1_Group_list[filter_data],\"Category\");\n    this.G3_Group_list=this.groupBy(this.G1_Group_list[filter_data], function(item)\n    {\n      return [item.orgTypeUser_new, item.orgNameUser_new];\n    });\n\n    this.GeneratingCategoryChart(this.G2_Group_list);\n    this.GeneratingOrg_TypeChart(this.G3_Group_list);\n  }\n}\n\nGeneratingCategoryChart(ResultTT:any)\n{\n    var G2_Name=[];\n    var G2_Value=[];\n    var G2_Filter=[]\n    var G2_Colour=[]\n    Object.keys(ResultTT).forEach( x=>\n      {\n      G2_Name.push(x);\n      G2_Value.push(ResultTT[x].length);\n      G2_Filter.push(x);\n      G2_Colour.push(this.getRandomColorHex());\n      });\n    this.G2_Chart(G2_Name,G2_Value,G2_Filter,G2_Colour);\n}\n\nG2_Chart(G2_Name:any,G2_Value:any,G2_Filter:any,G2_Colour:any)\n{\n  if ( this.G2_Piechart) // != undefined\n  {\n    this.G2_Piechart.destroy();\n  }\n    this.G2_Piechart = new Chart('G2_Canvas1',\n    {\n      type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n      data:\n          {\n            labels:                 G2_Name,\n            datasets: [{\n                  data:             G2_Value,\n                  //borderColor:      G2_Filter,\n                  borderSkipped:    G2_Filter,\n                  backgroundColor:  G2_Colour,\n                  //borderWidth: 1, // Specify bar border width // Set this data to a line chart\n                  fill: true }\n                ]\n          },\n      options:\n          {\n          legend: {display: false},\n          //tooltips: { mode: 'index'},\n\n          title:{ display : true,text:\"Category wise Courses based on Aggregated Organization\",fontSize : 18, fontColor : \"#111\",},\n          scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Categories' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Course Count' } }],\n                    },\n        // plugins: {\n        //   labels: [\n        //             { render: 'label', fontColor: '#000', position: 'outside' },\n        //             { render:'value',fontColor: '#000'}\n        //           ]\n        //         },\n         }\n    });\n}\n\n\nG2_Chart_showData(evt:any)\n{\n  this.resetGraph('G2');\n  var data = this.G2_Piechart.getElementsAtEvent(evt)\n  var activePoint = this.G2_Piechart.getElementAtEvent(evt);\n  if (activePoint.length > 0)\n   {\n    var clickedDatasetIndex = activePoint[0]._datasetIndex;\n    var clickedElementindex = activePoint[0]._index;\n     //var filter_data         = activePoint[0]._options.borderColor;  //pie\n     var filter_data         = activePoint[0]._model.borderSkipped; //bar\n    var label = this.G2_Piechart.data.labels[clickedElementindex];\n    var value = this.G2_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n    //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n    this.loadGridView(this.G2_Group_list[filter_data]);\n    this.popupTitle=\"List of Courses Created under '\"+ filter_data +\"' Category \";\n  }\n}\n\nGeneratingOrg_TypeChart(ResultCC:any)\n{\n  var G3_Name=[];\n  var G3_Value=[];\n  var G3_Filter=[];\n  var G3_Colour=[];\n  Object.keys(ResultCC).forEach( x=>\n    {\n    var Obj=ResultCC[x];\n    G3_Name.push(Obj[0].orgNameUser_new);\n\n    //G3_Name.push(x);\n    G3_Value.push(ResultCC[x].length);\n    G3_Filter.push(x);\n    G3_Colour.push(this.getRandomColorHex());\n    });\n    this.G3_Chart(G3_Name,G3_Value,G3_Filter,G3_Colour);\n}\n\n\nG3_Chart(G3_Name:any,G3_Value:any,G3_Filter:any,G3_Colour:any)\n{\n  if ( this.G3_Piechart) // != undefined\n  {\n    this.G3_Piechart.destroy();\n  }\n    this.G3_Piechart = new Chart('G3_Canvas1',\n    {\n      type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n      data:\n          {\n            labels:                 G3_Name,\n            datasets: [{\n                  data:             G3_Value,\n                 // borderColor:      G3_Filter,\n                  borderSkipped:    G3_Filter,\n                  backgroundColor:  G3_Colour,\n                  //borderWidth: 1, // Specify bar border width // Set this data to a line chart\n                  fill: true }\n                ]\n          },\n      options:\n          {\n          legend: {display: false},\n          //tooltips: { mode: 'index'},\n          title:{ display : true,text:\"Root/Subroot Organization wise Courses\",fontSize : 18, fontColor : \"#111\",},\n          scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Organization' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Course Count' } }],\n                    },\n        // plugins: {\n        //   labels: [\n        //             { render: 'label', fontColor: '#000', position: 'outside' },\n        //             { render:'value',fontColor: '#000'}\n        //           ]\n        //         },\n         }\n    });\n}\n\n\n\n\n\nG3_Chart_showData(evt:any)\n{\n  this.resetGraph('G3');\n  var activePoint = this.G3_Piechart.getElementAtEvent(evt);\n  if (activePoint.length > 0)\n   {\n    var clickedDatasetIndex = activePoint[0]._datasetIndex;\n    var clickedElementindex = activePoint[0]._index;\n     //var filter_data         = activePoint[0]._options.borderColor;  //pie\n     var filter_data         = activePoint[0]._model.borderSkipped; //bar\n    var label = this.G3_Piechart.data.labels[clickedElementindex];\n    var value = this.G3_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n    //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n    this.G4_Group_list=this.groupBy1(this.G3_Group_list[filter_data],\"Category\");\n    this.CourseChart(this.G4_Group_list);\n  }\n}\n\nCourseChart(ResultTT:any)\n{\n  var G4_Name=[];\n      var G4_Value=[];\n      var G4_Filter=[];\n      var G4_Colour=[];\n\n      Object.keys(ResultTT).forEach( x=>\n        {\n          G4_Name.push(x);\n          G4_Value.push(ResultTT[x].length);\n          G4_Filter.push(x);\n          G4_Colour.push(this.getRandomColorHex());\n        });\n      this.G4_Chart(G4_Name,G4_Value,G4_Filter,G4_Colour);\n}\n\nG4_Chart(G4_Name:any,G4_Value:any,G4_Filter:any,G4_Colour:any)\n{\n  if ( this.G4_Piechart) // != undefined\n  {\n    this.G4_Piechart.destroy();\n  }\n this.G4_Piechart = new Chart('G4_Canvas1',\n {\n   type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n   data:\n       {\n         labels:                 G4_Name,\n         datasets: [{\n               data:             G4_Value,\n              // borderColor:      G4_Filter,\n               borderSkipped:    G4_Filter,\n               backgroundColor:  G4_Colour,\n               //borderWidth: 1,\n               fill: true }\n             ]\n       },\n   options:\n       {\n       legend: {display: false},\n       //tooltips: { mode: 'index'},\n       //hover: { mode: 'index', intersect: true  },\n       title:{ display : true,text:\"Category wise Courses based on Root/Subroot Organization\",fontSize : 18, fontColor : \"#111\",},\n       scales: {\n        xAxes: [{ scaleLabel: { display: true, labelString: 'Sub Categories' } }],\n        yAxes: [{ scaleLabel: { display: true, labelString: 'Course Content' } }],\n                },\n      // plugins: {\n      //   labels: [\n      //             { render: 'label', fontColor: '#000', position: 'outside' },\n      //             { render:'value',fontColor: '#000'}\n      //           ]\n      //         },\n       }\n });\n }\n\nG4_Chart_showData(evt:any)\n{\n    var activePoint = this.G4_Piechart.getElementAtEvent(evt);\n    if (activePoint.length > 0)\n     {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n       //var filter_data         = activePoint[0]._options.borderColor;  //pie\n    var filter_data         = activePoint[0]._model.borderSkipped; //bar\n\n      var label = this.G4_Piechart.data.labels[clickedElementindex];\n      var value = this.G4_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n      //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n      this.loadGridView(this.G4_Group_list[filter_data]);\n      this.popupTitle=\"List of Courses Created under '\"+ filter_data +\"' Category \";\n    }\n}\n\n////////////Global Function///////////////////////////////\n\n\nresetGraph(ngClick:any)\n{\n  if(ngClick==\"G1\")\n   {\n    //this.G3_Piechart=null;\n    //this.G3_Piechart=new Chart(\"G4_Canvas\", { type: \"pie\", data: {} ,options: {} });\n    this.Table_Data_List=[];\n  }\n  else  if(ngClick==\"G2\")\n  {\n    this.Table_Data_List=[];\n  }\n  else  if(ngClick==\"G3\")\n  {\n    this.Table_Data_List=[];\n  }\n}\n\n\nloadGridView(tableData:any)\n{\n  var SNo=0;\n  tableData.forEach(y =>\n    {\n      SNo++;\n      y.SNo=SNo;\n    });\n    this.Table_Data_List=tableData;\n}\n\n getRandomColorHex()\n  {\n  //  var hex = \"0123456789ABCDEF\",\n  //      color = \"#\";\n  //  for (var i = 1; i <= 6; i++)\n  //  {\n  //    color += hex[Math.floor(Math.random() * 16)];\n  //  }\n    var color= [\"red\", \"green\", \"blue\", \"purple\", \"magenta\",\"aqua\", \"salmon\", \"darkgray\", \"pink\", \"coral\"];\n    //var min=0;\n    //var max=color.length-1;\n    //var rand= Math.floor(Math.random() * (max - min + 1) + min);\n    this.i++;\n    //return color[this.i%color.length-1];\n    return \"blue\";\n }\n\n groupBy( array , f )\n {\n   var groups = {};\n   array.forEach( function( o )\n   {\n     var group = JSON.stringify( f(o) );\n     groups[group] = groups[group] || [];\n     groups[group].push( o );\n   });\n   return Object.keys(groups).map( function( group )\n   {\n     return groups[group];\n   })\n }\n\n\n groupBy1(list, key)\n {\n  return list.reduce(function(rv, x)\n  {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n///////////////////////////////////////\n////////////////////////////////////////////////\n\n}\n\n","import { Injectable } from '@angular/core';\nimport { LineChartService } from './../chartjs';\nimport { DashboardData } from './../../interfaces';\n\n/**\n * Responsible to get chart data\n */\n@Injectable()\n\n/**\n * @class RendererService\n */\nexport class RendererService {\n\n  /**\n * Default method of OrganisationService class\n   *\n   * @param lineChartService\n   */\n  constructor(private lineChartService: LineChartService) { }\n\n  /**\n   * Based on chart type call chart service\n   *\n   * Currently, it supports only line chart\n   *\n   * @param {DashboardData} data data\n   * @param {string}        chartType chart type\n   */\n  visualizer(data: DashboardData, chartType: string) {\n    switch (chartType) {\n      case 'line':\n        return this.lineChartService.parseLineChart(data);\n    }\n  }\n}\n","<!-- Updated code as per new design for semantic datatable-->\n  <div class=\"sb-bg-color-white p-16\">\n  \n  <div>\n    <div id=\"dashoardFiltersHolder\" *ngIf=\"batchlist && batchlist.length > 0\">\n      <div class=\"d-flex  progress-report-content\">\n        <div class=\"d-flex w-300 flex-dc\">\n          <label\n            class=\"fnormal font-weight-normal pl-4 text-left\">{{resourceService?.frmelmnts?.lbl?.selectBatch}}</label>\n          <label class=\"w-100\">\n            <sui-select class=\"selection course-dashboard-select\" placeholder=\"Select batch to see dashboard\"\n              [(ngModel)]=\"selectedOption\" [options]=\"batchlist\" labelField=\"name\" valueField=\"id\" #select>\n              <sui-select-option *ngFor=\"let course of select.filteredOptions\" [value]=\"course\"\n                (click)=\"setBatchId(course);\" tabindex=\"0\" appTelemetryInteract\n                [telemetryInteractObject]=\"interactObject\"\n                [telemetryInteractEdata]=\"{id:'batchSelection',type:'click',pageid:'course-progress-dashboard'}\"\n                [telemetryInteractCdata]=\"[{ 'type': 'batch', 'id': course.id}]\">\n              </sui-select-option>\n            </sui-select>\n          </label>\n        </div>\n        <!-- below needs to be done score card -->\n        <app-access-discussion *ngIf=\"fetchForumIdReq\" [fetchForumIdReq]=\"fetchForumIdReq\"\n          (routerData)=\"assignForumData($event)\"> </app-access-discussion>\n      </div>\n\n      <div class=\"d-flex\">\n        <label class=\"fnormal mt-24 font-weight-normal pl-4 text-left\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustCourseName}} :\n        </label>          \n        <label class=\"fnormal mt-24 font-weight-bold pl-4 text-left\">{{courseName}}\n        </label>          \n      </div>\n    \n      <!-- NOTE: Using currentBatch data instead of dashboardData, as API got deprecated -->\n      <div class=\"d-flex flex-dc current-batch-list\">\n        <p *ngIf=\"currentBatch?.lastUpdatedOn\" class=\"d-flex flex-ai-flex-end mr-24 fsmall mt-8 mb-0 update-text\">\n          {{resourceService?.frmelmnts?.lbl?.batchReportUpdateNote | interpolate:'{date}': (currentBatch?.lastUpdatedOn\n          | sbDataTable : 'dateTime')}}</p>\n\n        <div class=\"d-flex flex-dc my-16 sb-course-progress-status\" *ngIf=\"currentBatch\">\n          <div class=\"sb-course-progress-status-label\">\n            <span class=\"course-start-dt course-participants-label\">\n              <span *ngIf=\"currentBatch.startDate\">\n                {{resourceService?.frmelmnts?.lbl?.batchstartdate}}\n              </span>\n            </span>\n\n            <span class=\"course-end-dt course-participants-label\">\n              <span>{{resourceService?.frmelmnts?.lbl?.batchenddate}}\n              </span>\n            </span>\n\n            <span *ngIf=\"currentBatch.participantCount !== null\"\n              class=\"d-flex flex-dc course-participants course-participants-label\">\n              <span>{{resourceService?.frmelmnts?.lbl?.totalEnrolments}}</span>\n            </span>\n          </div>\n\n          <div class=\"sb-bg-color-white sb-course-progress-status-result\">\n            <span class=\"course-start-dt course-participants-label\">\n              <span class=\"font-weight-bold\"> {{currentBatch.startDate | dateFormat :'DD/MM/YYYY' }}</span>\n            </span>\n\n            <span class=\"course-end-dt course-participants-label\">\n              <span *ngIf=\"currentBatch.endDate\" class=\"font-weight-bold\">{{currentBatch.endDate | dateFormat\n                :'DD/MM/YYYY'}}</span>\n              <span *ngIf=\"!currentBatch.endDate\">-</span>\n            </span>\n            <span *ngIf=\"totalCount !== null\" class=\"course-participants course-participants-label\">\n              <span class=\"font-weight-bold\">{{totalCount}}</span>\n            </span>\n          </div>\n\n        </div>\n      </div>\n      <!-- Select Batch image content start-->\n      <div class=\"d-flex flex-jc-center\" *ngIf=\"batchlist && batchlist.length > 1 && showWarningDiv && !showLoader\">\n        <div class=\"d-flex flex-dc flex-ai-center pb-24\">\n          <div><img src=\"assets/images/batch.png\" width=\"329px\" height=\"229px\" alt=\"batch\"></div>\n          <p class=\"img-text\">Select batch to view details</p>\n        </div>\n      </div>\n      <!-- Select Batch image content end-->\n    </div>\n    <div class=\"sb-toaster sb-toast-info sb-mw-100 sb-toast-sm-padding\"\n      *ngIf=\"currentBatch &&  currentBatch.count>10000\">\n      <div class=\"sb-toast-body\">\n        <div class=\"sb-toast-texts\">\n          <div class=\"sb-toast-message\">{{resourceService?.frmelmnts?.instn?.t0085}}</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"tweleve wide column\" *ngIf=\"showLoader\">\n      <app-loader></app-loader>\n    </div>\n    <div class=\"ui grid\" *ngIf=\"showNoBatch\">\n      <div class=\"twelve wide column\">\n        <div class=\"ui info message\">\n          <div class=\"header\">{{resourceService?.frmelmnts?.instn?.t0061}}</div>\n          <ul class=\"list\">\n            <li>{{resourceService?.frmelmnts?.instn?.t0062}}</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"ui grid mt-16\">\n    <div class=\"six wide column pt-0 pl-0\">\n      <div class=\"ui fluid icon input left action\" id=\"search-input-container\">\n        <div class=\"searchfilterinput ui search\">\n          <div class=\"searchicon ui icon input pl-16\">\n            <input class=\"upForReviewSearchBox\" type=\"text\" name=\"filter_search\" [(ngModel)]=\"searchText\"\n              (keyup)=\"keyup(searchText)\" placeholder=\"{{resourceService?.frmelmnts?.prmpt?.courseProgressExhaustSearch}}\"\n              title=\"Search\" autocomplete=\"off\" spellcheck=\"false\" dir=\"auto\" />\n            <i class=\"circular search link icon\"></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"six wide column pt-0 pl-0\">\n      <div class=\"ui-helper-clearfix export-btns\">\n        <button type=\"button\" style=\"float:right\" icon=\"fa fa-file\"\n          class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left\" pbutton=\"\" iconPos=\"left\"\n          label=\"Export\" (click)=\"exportToCsv(currentBatch)\"><span aria-hidden=\"true\"\n            class=\"ui-button-icon-left ui-clickable fa fa-file\"></span><span\n            class=\"ui-button-text ui-clickable\">Export</span></button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"ui grid scrollable\">\n    <table class=\"ui upForReviewTable table\">\n      <thead>\n        <tr>\n          <th class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustUserName}}</th>\n          <th class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustEmail}}</th>\n          <th class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustPhoneNo}}</th>\n\n          <th *ngIf=\"showCourseData\" class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustBatchId}}</th>\n          <th *ngIf=\"showCourseData\" class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustBatchName}}</th>\n          <th *ngIf=\"showCourseData\" class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustBatchStartDate}}</th>\n          <th *ngIf=\"showCourseData\" class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustBatchEndDate}}</th>\n\n          <th class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustEnrollDate}}</th>\n          <th class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustCompletedOn}}</th>\n          <th class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustProgress}}</th>\n          <th class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustCompletedPercentage}}</th>\n          <th class=\"UpReviewTableHeader\">{{resourceService?.frmelmnts?.lbl?.courseProgressExhaustIssuedCertificate}}</th>\n        </tr>\n      </thead>\n      <tbody *ngIf=\"courseProgressExhaustData\">\n        <tr class=\"UpForReviewListHover cursor-pointer\" *ngFor=\"let courseProgressExhaust of courseProgressExhaustData\">\n          <td class=\"content\">{{courseProgressExhaust?.userName}}</td>\n          <td class=\"content\">{{courseProgressExhaust?.maskedEmail}}</td>\n          <td class=\"content\">{{courseProgressExhaust?.maskedPhone}}</td>\n\n          <td *ngIf=\"showCourseData\" class=\"content\">{{courseProgressExhaust?.batchid}}</td>\n          <td *ngIf=\"showCourseData\" class=\"content\">{{courseProgressExhaust?.batchname}}</td>\n          <td *ngIf=\"showCourseData\" class=\"content\">{{courseProgressExhaust?.start_date}}</td>\n          <td *ngIf=\"showCourseData\" class=\"content\">{{courseProgressExhaust?.end_date}}</td>\n\n          <td class=\"content\">{{courseProgressExhaust?.enrolled_date | date:'dd/MM/yyyy'}}</td>\n          <td class=\"content\">{{courseProgressExhaust?.completedon  | dateFormat :'DD/MM/YYYY'}} </td>\n          <td class=\"content\">{{courseProgressExhaust?.progress}}</td>\n          <td class=\"content\">{{courseProgressExhaust?.completionpercentage}}</td>\n          <td  *ngIf=\"courseProgressExhaust?.issued_certificates\" class=\"content\">Yes</td>\n          <td  *ngIf=\"!courseProgressExhaust?.issued_certificates\" class=\"content\">No</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class=\"ui grid\">\n    <div class=\"two wide column\"></div>\n    <div class=\"ten wide column\">\n      <div class=\"pb-10\" *ngIf=\"courseProgressExhaustData && totalCount > config.appConfig.DASHBOARD.PAGE_LIMIT && !showLoader && !showError && !noResult\">\n          <div class=\"ui pagination menu mt-10 right-floated p-0 \" *ngIf=\"pager.pages.length \">\n          <a [ngClass]=\"{disabled:pager.currentPage===1 }\" class=\"item \" tabindex=\"0\" (click)=\"navigateToPage(1) \">First</a>\n          <a [ngClass]=\"{disabled:pager.currentPage===1 }\" class=\"item \" tabindex=\"0\" (click)=\"navigateToPage(pager.currentPage - 1)\">Previous</a>\n          <a *ngFor=\"let page of pager.pages\" [ngClass]=\"{active:pager.currentPage===page}\" tabindex=\"0\" (click)=\"navigateToPage(page)\" class=\"item\">{{page}}</a>\n          <a [ngClass]=\"{disabled:pager.currentPage=== pager.totalPages}\" tabindex=\"0\" (click)=\"navigateToPage(pager.currentPage + 1)\" class=\"item\">Next</a>\n          <a [ngClass]=\"{disabled:pager.currentPage=== pager.totalPages}\" tabindex=\"0\" (click)=\"navigateToPage(pager.totalPages)\" class=\"item \">Last</a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>","import { UserService, TncService } from '@sunbird/core';\nimport { TelemetryService } from '@sunbird/telemetry';\nimport { ResourceService, NavigationHelperService, LayoutService } from '@sunbird/shared';\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { catchError, mergeMap, map, first } from 'rxjs/operators';\nimport * as _ from 'lodash-es';\nimport { ReportService } from '../../services';\nimport { of, Observable, throwError } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport * as moment from 'moment';\nimport * as $ from 'jquery';\nimport 'datatables.net';\n\n@Component({\n  selector: 'app-list-all-reports',\n  templateUrl: './list-all-reports.component.html',\n  styleUrls: ['./list-all-reports.component.scss']\n})\nexport class ListAllReportsComponent implements OnInit {\n  reports: any;\n  userProfile;\n  reportViewerTncVersion: string;\n  reportViewerTncUrl: string;\n  showTncPopup = false;\n\n  constructor(public resourceService: ResourceService, public reportService: ReportService, private activatedRoute: ActivatedRoute,\n    private router: Router, private userService: UserService, private navigationhelperService: NavigationHelperService,\n    private telemetryService: TelemetryService, private layoutService: LayoutService, public tncService: TncService) { }\n\n  public reportsList$: Observable<any>;\n  public noResultFoundError: string;\n  private _isUserReportAdmin: boolean;\n  layoutConfiguration: any;\n\n\n  @ViewChild('all_reports') set inputTag(element: ElementRef | null) {\n    if (!element) { return; }\n    const [reports, ] = this.reports;\n    this.prepareTable(element.nativeElement, reports);\n  }\n\n  @ViewChild('all_datasets') set datasetTable(element: ElementRef | null) {\n    if (!element) { return; }\n    let [, datasets] = this.reports;\n    if (this.reportService.isUserReportAdmin() && !this.reportService.isUserSuperAdmin()) {\n      datasets = datasets.filter(dataset => dataset.status === 'live');\n    }\n    this.prepareTable(element.nativeElement, datasets);\n  }\n\n  ngOnInit() {\n    this.initLayout();\n    this.userService.userData$.pipe(first()).subscribe(async (user) => {\n      if (user && user.userProfile) {\n        this.userProfile = user.userProfile;\n        this.getReportViewerTncPolicy();\n      }\n    });\n    this.reportsList$ = this.reportService.isAuthenticated(_.get(this.activatedRoute, 'snapshot.data.roles')).pipe(\n      mergeMap((isAuthenticated: boolean) => {\n        this._isUserReportAdmin = this.reportService.isUserReportAdmin();\n        return isAuthenticated ? this.getReportsList(this._isUserReportAdmin) : throwError({ messageText: 'messages.stmsg.m0144' });\n      }),\n      catchError(err => {\n        this.noResultFoundError = _.get(err, 'messageText') || 'messages.stmsg.m0006';\n        return of({\n          table: {},\n          count: 0,\n          reportsArr: [],\n          datasetsArr: []\n        });\n      })\n    );\n  }\n\n\n  private filterReportsBasedOnRoles = (reports: any[]) => {\n    if (this.reportService.isUserSuperAdmin()) {\n      return this.reportService.getMaterializedChildRows(reports);\n    } else if (this.reportService.isUserReportAdmin()) {\n      return of(reports);\n    } else {\n      return of(this.reportService.getFlattenedReports(reports));\n    }\n  }\n\n  /**\n   * @private\n   * @returns Observable with list of reports.\n   * @memberof ListAllReportsComponent\n   */\n  private getReportsList(isUserReportAdmin: boolean) {\n    const filters = {};\n    return this.reportService.listAllReports(filters).pipe(\n      mergeMap(res => this.filterReportsBasedOnRoles(res.reports)),\n      map(reports => {\n        const [reportsArr, datasetsArr] = this.reports = _.partition(reports, report => _.toLower(_.get(report, 'report_type')) === 'report');\n        const count = _.get(reports, 'length');\n        return { count, reportsArr, datasetsArr };\n      })\n    );\n  }\n\n  /**\n   * @description routes to report detailed view page\n   * @param {*} event\n   * @memberof ListAllReportsComponent\n   */\n  public rowClickEventHandler(reportId: string, hash?: string, materialize?: boolean) {\n    this.router.navigate(['/dashBoard/reports', reportId, ...(hash ? [hash] : [])],\n      { queryParams: { ...(this.reportService.isUserReportAdmin() && { materialize }) } }).catch(err => {\n        console.log({ err });\n      });\n  }\n\n  private renderStatus(data, type, row) {\n\n    if (row.isParameterized && row.children && this.reportService.isUserReportAdmin()) {\n      if (_.every(row.children, child => _.toLower(child.status) === 'live')) {\n        data = 'live';\n      } else {\n        if (_.some(row.children, child => _.toLower(child.status) === 'live')) {\n          data = 'partially live';\n        } else {\n          data = 'draft';\n        }\n      }\n    }\n\n    const icon = {\n      live: { color: 'success-0', icon: 'check' },\n      draft: { color: 'warning-0', icon: 'edit' },\n      retired: { color: 'primary-100', icon: 'close' },\n      ['partially live']: { color: 'secondary-0', icon: 'check' }\n    };\n\n    const status = _.startCase(_.toLower(data));\n    const spanElement = `<span class=\"sb-label sb-label-table sb-label-${icon[_.toLower(data)].color}\">\n    ${data === 'live' ? `<span class=\"sb-live\"></span>` : ''} ${status}</span>`;\n    return spanElement;\n  }\n\n  private renderTags(data) {\n\n    if (Array.isArray(data)) {\n      const elements = _.join(_.map(data, tag => `<span class=\"sb-label-name sb-label-table sb-label-primary-100 mr-5 px-8 py-4\">${_.startCase(_.toLower(tag))}</span>`), ' ');\n      return `<div class=\"sb-filter-label\"><div class=\"d-inline-flex m-0\">${elements}</div></div>`;\n    }\n\n    return _.startCase(_.toLower(data));\n  }\n\n  /**\n   * @description returns default config options for master and child table\n   * @private\n   * @memberof ListAllReportsComponent\n   */\n  private getDefaultTableOptions = () => ({\n    paging: true,\n    lengthChange: true,\n    searching: true,\n    ordering: true,\n    info: true,\n    autoWidth: true,\n  })\n\n\n  private indexColumn(table) {\n    table.on('order.dt search.dt', () => {\n      table.column(0, { search: 'applied', order: 'applied' }).nodes().each((cell, i) => {\n        cell.innerHTML = i + 1;\n      });\n    }).draw();\n  }\n\n  /**\n   * @description initializes the dataTables with relevant configurations\n   * @param {*} el\n   * @memberof ListAllReportsComponent\n   */\n  public prepareTable(el, data = []) {\n    const masterTable = $(el).DataTable({\n      ...this.getDefaultTableOptions(),\n      order: [[1, 'desc']],\n      data,\n      columns: [\n        {\n          title: 'Serial No.',\n          searchable: false,\n          orderable: false,\n          data: null\n        },\n        { title: 'Created On', data: 'createdon', visible: false },\n        ...(this.reportService.isUserReportAdmin() ? [{\n          class: 'details-control',\n          title: '',\n          orderable: false,\n          data: null,\n          render: (value, type, row) => {\n            const isParameterized = _.get(row, 'isParameterized') || false;\n            let count = 0;\n            if (isParameterized && row.children) {\n              count = _.filter(row.children, child => _.toLower(child.status) === 'live').length;\n            }\n            return `<button class=\"sb-btn sb-btn-link sb-btn-link-primary sb-btn-normal sb-btn-square\" aria-label=\"file-icon\">\n            <i class=\"icon ${isParameterized && row.children ? 'copy outline' : 'file outline'}\n            alternate\"></i><span>${isParameterized && row.children ? `${count}/${row.children.length} Live` : ''}</span></button>`;\n          },\n          defaultContent: ''\n        }] : []),\n        { title: 'Report Id', data: 'reportid', visible: false },\n        {\n          title: 'Title', data: 'title', render: (value, type, row) => {\n            const { title, description } = row;\n            return `<div class=\"sb-media\"><div class=\"sb-media-body\"><h6 class=\"p-0\">\n                  ${title}</h6> <p class=\"media-description sb__ellipsis\"> ${description}</p></div></div>`;\n          }\n        },\n        {\n          title: 'Last Published Date', data: 'updatedon',\n          render: (value) => {\n            const date = moment(value);\n            if (date.isValid()) {\n              return `<td> ${moment(value).format('YYYY/MM/DD')} </td>`;\n            }\n            return _.startCase(_.toLower(value));\n          }\n        }, {\n          title: 'Tags',\n          data: 'tags',\n          render: this.renderTags\n        }, {\n          title: 'Update Frequency',\n          data: 'updatefrequency',\n          render: this.renderTags\n        },\n        ...(this._isUserReportAdmin ? [{\n          title: 'Status',\n          data: 'status',\n          render: this.renderStatus.bind(this)\n        }] : [])]\n    });\n\n    this.indexColumn(masterTable);\n\n    $(el).on('click', 'tbody tr td:not(.details-control)', (event) => {\n      const rowData = masterTable && masterTable.row(event.currentTarget).data();\n      if (_.get(rowData, 'isParameterized') && _.has(rowData, 'children') && rowData.children.length > 0) { return false; }\n      const { reportid, hashed_val, materialize } = rowData;\n      this.logTelemetry({ type: 'select-report', id: `${reportid}` });\n      this.rowClickEventHandler(reportid, hashed_val, materialize || false);\n    });\n\n    const getChildTable = (table_id) => `<table id=\"${table_id}\" class=\"w-80 b-1\"></table>`;\n\n    $(el).on('click', 'td.details-control', (event) => {\n      const tr = $(event.currentTarget).closest('tr');\n      const row = masterTable.row(tr);\n      const rowData = _.get(row, 'data')();\n      if (row.child.isShown()) {\n        row.child.hide();\n      } else {\n        if (!rowData.isParameterized) { return false; }\n        if (!_.has(rowData, 'children')) { return false; }\n        const id = rowData.reportid;\n\n        this.logTelemetry({\n          type: 'select-parameterized', id: `${id}`,\n          cdata: [{ id: `${_.get(rowData, 'children.length')}`, type: 'CountReports' },\n          { id: `${this.getReportsCount({ reports: rowData.children, status: 'live' })}`, type: 'Live' },\n          { id: `${this.getReportsCount({ reports: rowData.children, status: 'draft' })}`, type: 'Draft' }]\n        });\n\n        row.child(getChildTable(id)).show();\n        const childTable = $(`#${id}`).DataTable({\n          ...this.getDefaultTableOptions(),\n          lengthChange: false,\n          info: false,\n          data: rowData.children,\n          columns: [\n            {\n              title: 'Serial No.',\n              searchable: false,\n              orderable: false,\n              data: null\n            },\n            {\n              title: 'Parameter',\n              data: 'hashed_val',\n              className: 'text-center',\n              render: value => {\n                const parameters = _.split(atob(value), '__');\n                return parameters;\n              }\n            }, {\n              title: 'Status',\n              data: 'status',\n              render: this.renderStatus.bind(this),\n              className: 'text-center'\n            }]\n        });\n\n        this.indexColumn(childTable);\n\n        $(`#${id}`).on('click', 'td', e => {\n          const { reportid, hashed_val, materialize } = childTable.row(e.currentTarget).data();\n          this.logTelemetry({ type: 'select-report', id: `${reportid}`, cdata: [{ id: `${this.reportService.getParameterFromHash(hashed_val)}`, type: 'ParameterName' }] });\n          this.rowClickEventHandler(reportid, hashed_val, materialize || false);\n        });\n      }\n    });\n  }\n\n  public getTelemetryImpression = ({ type, cdata = [] }) => ({\n    context: {\n      env: this.activatedRoute.snapshot.data.telemetry.env,\n      cdata\n    },\n    object: {\n      id: this.userService.userid,\n      type: 'user',\n      ver: '1.0'\n    },\n    edata: {\n      type,\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n      uri: this.router.url,\n      duration: this.navigationhelperService.getPageLoadTime()\n    }\n  })\n\n  public setTelemetryInteractObject = ({ id, type = 'Report', ver = '1.0' }) => ({ id, type, ver });\n\n  public setTelemetryInteractEdata({ type, id = 'reports-list' }) {\n    return {\n      id,\n      type,\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n  }\n\n  private logTelemetry({ type, cdata = [], id }) {\n    const interactData = {\n      context: {\n        env: _.get(this.activatedRoute.snapshot.data.telemetry, 'env') || 'reports',\n        cdata\n      },\n      edata: {\n        ...this.setTelemetryInteractEdata({ type }),\n      },\n      object: {\n        ...this.setTelemetryInteractObject({ id }),\n        rollup: {}\n      }\n    };\n    this.telemetryService.interact(interactData);\n  }\n\n  private getReportsCount({ reports = [], status = 'draft' }) {\n    return _.size(_.filter(reports, report => _.get(report, 'status') === status));\n  }\n\n  initLayout() {\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout()\n      .subscribe(layoutConfig => {\n        if (layoutConfig != null) {\n          this.layoutConfiguration = layoutConfig.layout;\n        }\n      });\n  }\n\n  public getReportViewerTncPolicy() {\n    this.tncService.getReportViewerTnc().subscribe((data) => {\n      const reportViewerTncData = JSON.parse(_.get(data, 'result.response.value'));\n      if (_.get(reportViewerTncData, 'latestVersion')) {\n        this.reportViewerTncVersion = _.get(reportViewerTncData, 'latestVersion');\n        this.reportViewerTncUrl = _.get(_.get(reportViewerTncData, _.get(reportViewerTncData, 'latestVersion')), 'url');\n        this.showReportViewerTncForFirstUser();\n      }\n  });\n  }\n\n  public showReportViewerTncForFirstUser() {\n    const reportViewerTncObj = _.get(this.userProfile, 'allTncAccepted.reportViewerTnc');\n    if (!reportViewerTncObj) {\n     this.showTncPopup = true;\n    }\n  }\n\n}\n","import { Subject, Subscription, combineLatest, of } from 'rxjs';\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormService, UserService } from '@sunbird/core';\nimport {\n  ConfigService,\n  IPagination,\n  NavigationHelperService,\n  PaginationService,\n  ResourceService,\n  ServerResponse,\n  ToasterService\n} from '@sunbird/shared';\nimport { IImpressionEventInput, TelemetryService } from '@sunbird/telemetry';\nimport * as _ from 'lodash-es';\nimport { debounceTime, distinctUntilChanged, first, switchMap, takeUntil } from 'rxjs/operators';\nimport { OnDemandReportService } from '../../../shared/services/on-demand-report/on-demand-report.service';\nimport { IBatchListData, ICourseProgressData, IForumContext } from '../../interfaces';\nimport { UsageService } from '../../services';\nimport { CourseProgressService } from '../../services';\n\nimport { courseProgressData } from \"./data\";\nimport { ExportCsvService } from './../../services/course-progress/export-csv.service';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-course-progress-exhaust',\n  templateUrl: './course-progress-exhaust.component.html',\n  styleUrls: ['./course-progress-exhaust.component.scss']\n})\nexport class CourseProgressExhaustComponent implements OnInit, OnDestroy { //, AfterViewInit\n  modelChanged: Subject<string> = new Subject<string>();\n\n  /**\n   * Variable to gather and unsubscribe all observable subscriptions in this component.\n   */\n  public unsubscribe = new Subject<void>();\n\n  interactObject: any;\n  /**\n\t * This variable helps to show and hide page loader.\n\t */\n  showLoader = true;\n  /**\n\t * This variable sets the batch list data related to the given course\n\t */\n  batchlist: Array<IBatchListData>;\n  /**\n\t * This variable sets the course id\n\t */\n  courseId: string;\n  userDataSubscription: Subscription;\n\n  // TODO: We have to remove this & use currentBatch.id\n  batchId: string;\n  /**\n\t * This variable sets the user id\n\t */\n  userId: string;\n  /**\n * value typed\n */\n  searchText: string;\n  /**\n\t * This variable sets the dashboard result related to the given batch\n\t */\n  dashboarData: ICourseProgressData;\n  /**\n\t * This variable is set to true when the length of batch is 0.\n   * It helps to show a message div on html\n\t */\n  showNoBatch = false;\n  /**\n\t * This variable helps to show the download modal after successful download API call\n\t */\n  // showDownloadModal = false;\n  /**\n\t * This variable sets the filter description which is displayed inside the dashboard\n\t */\n  filterText: string;\n  /**\n\t * This variable sets the name of the field which is to be sorted\n\t */\n  order: string;\n  /**\n\t * This variable sets the order to true or false\n\t */\n  reverse = true;\n  /**\n\t * This variable sets the queryparams on url\n\t */\n  queryParams: any;\n  /**\n\t * This variable sets selected batch id, if exist\n\t */\n  selectedOption: string;\n  /**\n\t * This variable helps to unsubscribe the params and queryparams\n\t */\n  paramSubcription: any;\n  /**\n\t * This variable helps to show the warning div\n\t */\n  showWarningDiv = false;\n  /**\n  * This variable helps to show the csv downloadURl\n  */\n  showDownloadLink = true;\n  /**\n   * To navigate to other pages\n   */\n  route: Router; \n\n  /**\n   * Contains page limit of inbox list\n   */\n  pageLimit: 0;\n\n  /**\n    * Current page number of inbox list\n  */\n  pageNumber = 1;\n\n  /**\n    * totalCount of the list\n  */\n  totalCount = 0;\n  /**\n   *  to store the current batch when updated;\n   */\n  currentBatch: any;\n\n  /**\n    * Contains returned object of the pagination service\n  * which is needed to show the pagination on inbox view\n    */\n  pager: IPagination;\n  /**\n   * input data for fetchforum Ids\n   */\n   fetchForumIdReq: IForumContext;\n\n  /**\n   * To send activatedRoute.snapshot to router navigation\n   * service for redirection to parent component\n   */\n  private activatedRoute: ActivatedRoute;\n  /**\n   * To call resource service which helps to use language constant\n   */\n  public resourceService: ResourceService;\n  /**\n   * To show toaster(error, success etc) after any API calls\n   */\n  private toasterService: ToasterService;\n  /**\n  * To get user profile of logged-in user\n  */\n  public user: UserService;\n  /**\n  * To get user profile of logged-in user\n  */\n  public courseProgressService: CourseProgressService;\n  /**\n  * For showing pagination on draft list\n  */\n  private paginationService: PaginationService;\n  /**\n    * To get url, app configs\n    */\n  public config: ConfigService;\n  /**\n    * To display score report updated date\n    */\n  public scoreReportUpdatedOn;\n  /**\n    * To display progress report updated date\n    */\n  public progressReportUpdatedOn;\n\n  /**\n\t * This variable sets the course progress data related to the given course\n\t */\n  courseProgressExhaustData: any;\n\n  /**\n\t * This variable holds the course name\n\t */\n  courseName: string;\n\n  /**\n   * To show / hide no result message when no result found\n   */\n  noResult = false;\n\n  /**\n   * To show / hide error\n  */\n  showError = false;\n\n  /**\n   * To show / hide error\n  */\n  showCourseData = false;\n  \n  /**\n\t * telemetryImpression object for course progress page\n\t*/\n  telemetryImpression: IImpressionEventInput;\n  telemetryCdata: Array<{}>;\n  subscription: Subscription;\n  isDownloadReport = false;\n  stateWiseReportData = [];\n  public message = 'There is no data available';\n  \n  columns: string[] = [];\n  fileName = 'course-progress-exhaust-data';\n  \n  userRoles;\n  firstTime = false;\n  \n  /**\n\t * Constructor to create injected service(s) object\n   * @param {UserService} user Reference of UserService\n   * @param {Router} route Reference of Router\n   * @param {ActivatedRoute} activatedRoute Reference of ActivatedRoute\n   * @param {ResourceService} resourceService Reference of ResourceService\n   * @param {ToasterService} toasterService Reference of ToasterService\n   * @param {CourseProgressService} courseProgressService Reference of CourseProgressService\n\t */\n  constructor(user: UserService,\n    route: Router,\n    activatedRoute: ActivatedRoute,\n    resourceService: ResourceService,\n    toasterService: ToasterService,\n    public telemetryService: TelemetryService,\n    courseProgressService: CourseProgressService, paginationService: PaginationService,\n    config: ConfigService,\n    public onDemandReportService: OnDemandReportService,\n    public formService: FormService,\n    public navigationhelperService: NavigationHelperService, private usageService: UsageService,\n    public exportCsvService: ExportCsvService\n   ) {\n    this.user = user;\n    this.route = route;\n    this.activatedRoute = activatedRoute;\n    this.resourceService = resourceService;\n    this.toasterService = toasterService;\n    this.courseProgressService = courseProgressService;\n    this.paginationService = paginationService;\n    this.config = config;\n    this.route.onSameUrlNavigation = 'ignore';\n    this.pageLimit = this.config.appConfig.DASHBOARD.PAGE_LIMIT;\n  }\n\n  /**\n  * To method helps to get all batches related to the course.\n  * Then it helps to set flag dependeing on number of batches.\n  * And populates the course progress exhaust data\n  */\n  populateBatchData(): void {\n    this.showLoader = true;\n    const searchParamsCreator = {\n      courseId: this.courseId,\n      status: ['0', '1', '2'],\n      createdBy: this.userId\n    };\n    const searchParamsMentor = {\n      courseId: this.courseId,\n      status: ['0', '1', '2'],\n      mentors: [this.userId]\n    };\n    combineLatest(\n      this.courseProgressService.getBatches(searchParamsCreator),\n      this.courseProgressService.getBatches(searchParamsMentor),\n    ).pipe(takeUntil(this.unsubscribe))\n      .subscribe((results) => {\n        console.log(\"results Batch -\", results);\n        this.batchlist = _.union(results[0].result.response.content, results[1].result.response.content);\n        this.showLoader = false;\n        const isBatchExist = _.find(this.batchlist, (batch) => batch.id === this.queryParams.batchIdentifier);\n        if (this.batchlist.length === 0) {\n          this.showCourseData = false;          \n          this.showLoader = false;\n          this.showNoBatch = true;\n        } else if (isBatchExist) {\n          this.showCourseData = false;\n          this.selectedOption = this.queryParams.batchIdentifier;\n          this.currentBatch = isBatchExist;\n          this.populateCourseProgressExhaustData(isBatchExist);\n        } else if (this.batchlist.length === 1 && isBatchExist === undefined) {\n          this.showCourseData = false;\n          this.queryParams.batchIdentifier = this.batchlist[0].id;\n          this.selectedOption = this.batchlist[0].id;\n          this.currentBatch = this.batchlist[0];\n          this.generateDataForDF(this.currentBatch);\n          this.populateCourseProgressExhaustData(this.currentBatch);\n        } else if (this.batchlist.length > 1 && isBatchExist === undefined) {\n          this.generateDataForDF(this.currentBatch);\n          this.showCourseData = true;\n          this.currentBatch = undefined;\n          this.populateCourseProgressExhaustData(this.currentBatch);\n        } else {\n          this.showWarningDiv = true;\n        }\n        // this.paramSubcription.unsubscribe();\n      }, (err) => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0005);\n        this.showLoader = false;\n        this.showNoBatch = true;\n        this.paramSubcription.unsubscribe();\n      });\n  }\n\n\n  populateCourseProgressExhaustData(batch: any) {\n    let option: any;\n\n    // If there are multiple batches and none of the batch is selected.\n    if (this.showCourseData) {\n      option = {\n        courseId: this.courseId,\n        limit: this.pageLimit,\n        offset: (this.pageNumber - 1) * (this.pageLimit),\n      }\n    } else {\n      option = {\n        courseId: this.courseId,\n        batchId: batch.batchId,\n        limit: this.pageLimit,\n        offset: (this.pageNumber - 1) * (this.pageLimit),\n      }\n    }\n\n    if (this.searchText) {\n      option.query = this.searchText;\n    }\n\n\n    this.courseProgressService.getCourseProgressExhaustData(option).subscribe(\n      (apiResponse) => {\n        console.log(\"Success Handler => getCourseProgressExhaustData() : \", apiResponse);\n        this.courseProgressExhaustData = apiResponse?.result?.content;\n        this.totalCount = apiResponse?.result?.total_items;\n        this.pager = this.paginationService.getPager(this.totalCount, this.pageNumber, this.pageLimit);\n        this.showLoader = false;\n        if (this.totalCount === 0) {\n          this.noResult = true;\n        }\n        this.noResult = false;\n        if (this.firstTime){\n          this.searchBatch();\n          this.setInteractEventData();\n        }\n        this.paramSubcription.unsubscribe();\n      },\n      (err) => {\n        console.log(\"Error Handler => getCourseProgressExhaustData():\",  err);\n        this.toasterService.error(err);\n        this.showLoader = false;\n        this.paramSubcription.unsubscribe();\n      }\n    );\n\n  }\n\n  /**\n  * To method helps to set batch id and calls the populateCourseDashboardData\n  *\n\t* @param {string} batchId batch identifier\n  */\n  setBatchId(batch?: any): void {\n    this.fetchForumIdReq = null;\n    this.showWarningDiv = false;\n    this.queryParams.batchIdentifier = batch.id;\n    this.searchText = '';\n    this.currentBatch = batch;\n    // this.currentBatch.lastUpdatedOn = dayjs(this.currentBatch.lastUpdatedOn).format('DD-MMM-YYYY hh:mm a');\n    this.batchId = batch.id;\n    this.setCounts(this.currentBatch);\n    // this.populateCourseDashboardData(batch);\n    this.showCourseData = false;\n    this.populateCourseProgressExhaustData(batch);\n  }\n\n  redirect() {\n    this.route.navigate(['/learn/course', this.courseId]);\n  }\n\n  navigateToPage(page: number): undefined | void {\n    if (page < 1 || page > this.pager.totalPages) {\n      return;\n    }\n    this.pageNumber = page;\n    const isBatchExist = _.find(this.batchlist, (batch) => batch.id === this.queryParams.batchIdentifier);\n    this.currentBatch = isBatchExist;\n    this.populateCourseProgressExhaustData(this.currentBatch);\n  }   \n\n  keyup(event) {\n    // console.log(\"event\", event);\n    this.modelChanged.next(_.trim(event));\n    // this.searchBatch();\n    this.searchText = _.trim(event);\n    this.populateCourseProgressExhaustData(this.currentBatch);\n  }\n  \n  searchBatch() {\n    this.modelChanged.pipe(debounceTime(1000),\n      distinctUntilChanged(),\n      switchMap(search => of(search))\n    ).\n      subscribe(searchText => {\n        this.searchText = searchText;\n        this.populateCourseProgressExhaustData(this.currentBatch);\n      });\n  }\n\n\n  getFieldValue(array, field) {\n    if (_.find(array, {'type': field})) {\n      return _.find(array, {'type': field}).count;\n    } else {\n      return;\n    }\n  }\n\n  /**\n  * To method subscribes the course data using course id.\n  */\n  populateCourseData(courseId: string) {\n    this.courseProgressService.getCourseData(courseId).subscribe(\n      (apiResponse: ServerResponse)  => {\n        this.courseName = apiResponse.result.content.name;\n      },\n      (err) => {  \n        this.toasterService.error(err.error.params.errmsg);\n        this.showLoader = false;\n      }\n    )\n  }\n\n  /**\n  * To method subscribes the user data to get the user id.\n  * It also subscribes the activated route params to get the\n  * course id and timeperiod\n  */\n  ngOnInit() {\n    this.userDataSubscription = this.user.userData$.pipe(first()).subscribe(userdata => {\n      if (userdata && !userdata.err) {\n        this.userId = userdata.userProfile.userId;\n        this.userRoles = _.get(userdata, 'userProfile.userRoles');\n        this.paramSubcription = combineLatest(this.activatedRoute.parent.params,\n          this.activatedRoute.params, this.activatedRoute.queryParams,\n          (parentParams: any, params: any, queryParams: any) => {\n            return {\n              parentParams: parentParams,\n              params: params,\n              queryParams: queryParams\n            };\n          })\n          .subscribe(allParams => {\n            this.courseId = undefined;\n            this.batchId = undefined;\n            if ( allParams?.parentParams?.courseId) {\n              this.courseId = allParams?.parentParams?.courseId;\n              this.batchId = allParams?.parentParams?.batchId;\n              this.queryParams = { ...allParams?.parentParams?.queryParams };  \n            } else if (allParams?.params?.courseId) {\n              this.courseId = allParams?.params?.courseId;\n              this.batchId = allParams?.params?.batchId;\n              this.queryParams = { ...allParams.params.queryParams };  \n            }\n            this.interactObject = { id: this.courseId, type: 'Course', ver: '1.0' };\n            this.populateCourseData(this.courseId);\n            this.populateBatchData();\n          });\n      }\n    });\n  }\n\n\n  /**\n   * @since - #SH-601\n   * @param  {} currentBatch\n   * @description - This will set completedCount and participantCount to the currentBatch object;\n   */\n    setCounts(currentBatch) {\n      this.currentBatch['completedCount'] = _.get(currentBatch, 'completedCount') ? _.get(currentBatch, 'completedCount') : 0;\n      this.currentBatch['participantCount'] = _.get(currentBatch, 'participantCount') ? _.get(currentBatch, 'participantCount') : 0;\n    }\n\n  setInteractEventData() {\n    if (_.get(this.queryParams, 'batchIdentifier')) {\n      this.telemetryCdata = [{ 'type': 'batch', 'id': this.queryParams.batchIdentifier }];\n    } else {\n      this.telemetryCdata = [{ 'type': 'course', 'id': this.courseId }];\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.userDataSubscription) {\n      this.userDataSubscription.unsubscribe();\n    }\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  generateDataForDF(batchId) {\n    this.fetchForumIdReq = null;\n    if (batchId) {\n      this.fetchForumIdReq = {\n        type: 'batch',\n        identifier: [batchId.id]\n      };\n    }\n  }\n\n  exportToCsv(batch: any) {\n    let option: any;\n    this.columns = this.getColumns();\n\n    // If there are multiple batches and none of the batch is selected.\n    if (this.showCourseData) {\n      option = {\n        courseId: this.courseId,\n      }\n      this.fileName = this.courseId;\n    } else {\n      option = {\n        courseId: this.courseId,\n        batchId: batch.batchId,\n      }\n      this.fileName = this.courseId + '_' + batch.batchId;\n    }\n\n    if (this.searchText) {\n      option.query = this.searchText;\n      this.fileName = this.fileName + '_' + this.searchText;\n    }\n\n    let currentDate = moment(new Date(), 'DD-MM-YYYY');\n    this.fileName = this.fileName + '_' + currentDate;\n\n    this.courseProgressService.getExportData(option).subscribe(\n      (apiResponse) => {\n        console.log(\"Success Handler => exportToCsv() : \", apiResponse);\n        this.courseProgressExhaustData = apiResponse?.result?.content;\n        this.totalCount = apiResponse?.result?.total_items;\n        this.exportCsvService.downloadFile(this.courseProgressExhaustData, this.columns, this.fileName);\n        this.paramSubcription.unsubscribe();\n      },\n      err => {\n        console.log(\"Error Handler => exportToCsv()  : \", err);\n        this.toasterService.error(err);\n        this.paramSubcription.unsubscribe();\n      }\n    );\n  }\n\n  getColumns() {\n    this.columns = [\n      'userName', \n      'maskedEmail', \n      'maskedPhone', \n      'coursename', \n      'batchname',\n      'start_date',\n      'end_date',\n      'enrolled_date',\n      'completedon',\n      'progress',\n      'completionpercentage',\n      'issued_certificates'  \n    ];\n    return this.columns;\n  }\n} \n","import { Component, OnInit } from '@angular/core';\nimport { AddusserService } from '../../services/addusser/addusser.service';\nimport { DatePipe } from '@angular/common';\nimport { Chart } from 'chart.js';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-organization-report',\n  templateUrl: './organization-report.component.html',\n  styleUrls: ['./organization-report.component.scss']\n})\nexport class OrganizationReportComponent implements OnInit {\n  currentDate: Date = new Date();\n  fromDate: Date;\n  toDate: Date;\n  orgSearchData: any;\n  countOrgRecord: any;\n  showOrgData: any[] = new Array();\n  status: string;\n  orgType: string;\n  rootOrgName: any;\n  myStartDateOrg=[];\n  newStartDateOrg: Date;\n  newTimeStampStartDateOrg: number;\n  myEndDateOrg=[];\n  newEndDateOrg: Date;\n  newTimeStampEndDateOrg: number;\n  showLineChartUserData: any = new Array()\n  cols: { field: string; header: string; width: string; }[];\n  noResultMessage:any;\n  sucesErrorPopup: boolean= false;\n  popupMsg: string;\n  orgTypelListOrg: any[];\n  orgTypeOrgArry: any;\n  orgTypeListOrgArryData: any[] = new Array();\n  Linechart3:any = null;\n  graphError = false\n  filteredResult:any = []\n  first = 0;\n\n  constructor(private datePipe: DatePipe,private _httpService: AddusserService) { }\n  ngOnInit() {\n    this.initializeColumnsOrg();\n    this.getOrgChartDetail()\n    this.noResultMessage = {\n      'messageText': \"No Records found\"\n    };\n  }\n  initializeColumnsOrg()\n  {\n    this.cols = [\n      { field: 'orgName', header: 'Organization', width: '170px' },\n      { field: 'orgType', header: 'Organization Type', width: '170px' },\n      { field: 'description', header: 'Description', width: '170px' },\n      { field: 'channel', header: 'Channel', width: '170px' },\n      { field: 'status', header: 'Status', width: '170px' }, \n    ]\n  \n  }\n\ncloseSucesErrorPopup()\n{\nthis.sucesErrorPopup = false\n}\n\npopulateData(data){\n  this.showOrgData = []\n  data.forEach(element => {\n    if (element.status == 1) {\n      this.status = 'Active';\n    }\n    else if (element.status == 0) {\n      this.status = 'Inactive';\n    }\n\n    if (element.isRootOrg == true) {\n      this.orgType = 'Root  Organization';\n    }\n    else if (element.isRootOrg == false) {\n      this.orgType = 'Sub Organization';\n    }\n\n    if (element.isRootOrg) {\n      this.rootOrgName = element.orgName;\n    }\n    this.showOrgData.push({ \"createdDate\": element.createdDate, \"orgType\": this.orgType, \"id\": element.id, \"orgName\": element.orgName, \"description\": element.description, \"channel\": element.channel, \"status\": this.status })\n  });\n  return this.showOrgData\n}\n\nrenderGraph(){\n  let orgNames = Object.keys(this.filteredResult);\n  // @ts-ignore \n  let orgLength = Object.values(this.filteredResult).map(arr => arr.length)\n  \n  if (this.Linechart3 ) {\n    this.Linechart3.destroy();\n  }\n\n  this.Linechart3 = new Chart('canvas98',\n  {\n    type: 'bar', //'bar',//'doughnut',//'pie',//'polarArea'\n    data:\n    {\n      labels: orgNames,\n      datasets: [{ label: \"Count\", data: orgLength, borderColor: '#000', borderWidth: 0, backgroundColor: \"blue\", }]\n    },\n\n    options:\n    {\n      title: { display: true, text: \"Organization Wise Dashboard \", fontSize: 18, fontColor: \"#111\" },\n      legend: { display: true },\n      scales: {\n        xAxes: [{ scaleLabel: { display: true, labelString: 'Month' }, ticks : { min : 0} }],\n        yAxes: [{ scaleLabel: { display: true, labelString: 'Organization Count' }, ticks : { min : 0} }],\n      },\n\n    }\n  });\n}\n\ngetOrgChartDetail(submit = false)\n{\n  if (submit) {\n    if (this.fromDate == null || this.fromDate == undefined) {\n      this.popupMsg = \"Please Enter From Date\";\n      this.sucesErrorPopup = true\n\n    }\n    else if (this.toDate == null || this.toDate == undefined) {\n      this.popupMsg = \"Please Enter To Date\";\n      this.sucesErrorPopup = true\n    }\n  }\n\n  let tempArray:any;\n  tempArray= {\n    'request': {\n      'query': '',\n      'filters': {\n      }\n    }\n  }\n  this._httpService.orgSearch(tempArray).subscribe(res => {\n    this.orgSearchData = res.result.response.content;\n    this.countOrgRecord = res.result.response.count;\n    this.orgTypeListOrgArryData = [];\n    this.populateData(res.result.response.content)\n    if (this.toDate != null && this.fromDate != null) {\n      var startDate = this.datePipe.transform(this.fromDate, 'yyyy-MM-dd')\n      var endDate = this.datePipe.transform(this.toDate, 'yyyy-MM-dd')\n      this.myStartDateOrg = startDate?.split(\"-\");\n      this.newStartDateOrg = new Date(this.myStartDateOrg[0], this.myStartDateOrg[1] - 1, this.myStartDateOrg[2]);\n      this.newTimeStampStartDateOrg = this.newStartDateOrg.getTime()\n      this.myEndDateOrg = endDate?.split(\"-\");\n      this.newEndDateOrg = new Date(this.myEndDateOrg[0], this.myEndDateOrg[1] - 1, this.myEndDateOrg[2]);\n      this.newTimeStampEndDateOrg = this.newEndDateOrg.getTime()\n      this.showLineChartUserData = [];\n      this.showOrgData.forEach(xy => {\n        var myDate = xy?.createdDate?.split(\" \");\n        if (myDate) {\n          var myNewDate = myDate[0]?.split(\"-\");\n          var newDate = new Date(myNewDate[0], myNewDate[1] - 1, myNewDate[2]);\n          var newTimeStampDate = newDate.getTime()\n        }\n        if (newTimeStampDate >= this.newTimeStampStartDateOrg && newTimeStampDate <= this.newTimeStampEndDateOrg) {\n          this.showLineChartUserData.push(xy)\n        }\n      });\n\n      if (this.Linechart3) {\n        this.filteredResult = this.showLineChartUserData.reduce(function (r, a) {\n          r[moment(a.createdDate).format('YYYY-MM-DD')] = r[moment(a.createdDate).format('YYYY-MM-DD')] || [];\n          r[moment(a.createdDate).format('YYYY-MM-DD')].push(a);\n          return r;\n        }, Object.create(null));\n        this.renderGraph()\n      }\n    }\n    else{\n      this.showLineChartUserData = this.showOrgData\n    }\n\n    this.orgTypelListOrg = this.showOrgData.map(item => item.orgType).filter((value, index, self) => self.indexOf(value) === index)\n    this.orgTypeOrgArry = this.orgTypelListOrg.filter(f => f !== undefined && f !== null) as any;\n    this.orgTypeOrgArry.forEach(element => {\n      this.orgTypeListOrgArryData.push({ \"label\": element, \"value\": element })\n    });\n  });\n}\n\n  showGraph() {\n    let tempArray:any;\n    tempArray= {\n      'request': {\n        'query': '',\n        'filters': {\n        }\n      }\n    }\n    this._httpService.orgSearch(tempArray).subscribe(res => {\n      this.graphError = false\n      this.populateData(res.result.response.content)\n      this.showLineChartUserData = this.showOrgData\n      this.filteredResult = res.result.response.content.reduce(function (r, a) {\n        r[moment(a.createdDate).format('MMMM YYYY')] = r[moment(a.createdDate).format('MMMM YYYY')] || [];\n        r[moment(a.createdDate).format('MMMM YYYY')].push(a);\n        return r;\n      }, Object.create(null));\n      this.renderGraph()      \n    },\n    (err) => {\n        this.graphError = true\n    })\n  }\n\n  filterData(evt){\n    var activePoint = this.Linechart3.getElementAtEvent(evt);\n    this.first = 0\n    if (activePoint.length > 0)\n     {\n      var clickedElementindex = activePoint[0]._index;\n      var label = this.Linechart3.data.labels[clickedElementindex];\n      this.showLineChartUserData = this.populateData(this.filteredResult[label])\n    }\n\n  }\n\n}\n","\nimport {takeUntil, first} from 'rxjs/operators';\nimport { Component, OnDestroy, AfterViewInit } from '@angular/core';\nimport { ActivatedRoute, RouterModule, Router } from '@angular/router';\nimport { Subscription ,  Subject } from 'rxjs';\nimport { RendererService, OrganisationService, DownloadService } from './../../services';\nimport { UserService, SearchService } from '@sunbird/core';\nimport { ResourceService, ServerResponse, ToasterService, NavigationHelperService } from '@sunbird/shared';\nimport { DashboardData } from './../../interfaces';\nimport { IInteractEventInput, IImpressionEventInput } from '@sunbird/telemetry';\nimport * as _ from 'lodash-es';\n\n/**\n * The organization component\n *\n * Display organization creation, consumption dashboard data\n */\n@Component({\n  selector: 'app-organization',\n  templateUrl: './organization.component.html',\n  styleUrls: ['./organization.component.scss']\n})\n\n/**\n * @class OrganisationComponent\n */\nexport class OrganisationComponent implements OnDestroy, AfterViewInit {\n  /**\n   * Variable to gather and unsubscribe all observable subscriptions in this component.\n   */\n  public unsubscribe = new Subject<void>();\n\n  interactObject: any;\n  /**\n   * Contains time period - last 7days, 14days, and 5weeks\n   */\n  timePeriod = '7d';\n\n  /**\n   * Contains selected course identifier\n   *\n   * Identifier is needed to construct dashboard api url\n   */\n  identifier = '';\n\n  /**\n   * Dataset type\n   */\n  datasetType = 'creation';\n  userDataSubscription: Subscription;\n  /**\n   * Contains course consumption line chart data\n   */\n  graphData: any;\n\n  /**\n   * Contains dashboard block data\n   */\n  blockData: string[];\n\n  /**\n   * Contains Graph index to switch between two graphs\n   */\n  showGraph = 1;\n\n  /**\n   * Organization list\n   */\n  myOrganizations: Array<any> = [];\n\n  /**\n   * Selected organization\n   */\n  SelectedOrg: string;\n\n  /**\n   * To display graph legend\n   */\n  lineChartLegend = true;\n\n  /**\n   * Chart type\n   */\n  chartType = 'line';\n\n  /**\n   * To show / hide loader\n   */\n  showLoader = true;\n\n  /**\n   * To show dashboard canvas\n   */\n  showDashboard = false;\n\n  /**\n   * To show / hide organization dropdwon\n   */\n  isMultipleOrgs = false;\n\n  /**\n   * Disabled class\n   */\n  disabledClass = false;\n\n  /**\n   * To show download successful confirmation modal\n   */\n  showDownloadSuccessModal = false;\n\n  /**\n   * Download report service\n   */\n  public downloadService: DownloadService;\n\n  /**\n   * Router to change url\n   */\n  public route: Router;\n\n  /**\n   * To get params from url\n   */\n  public activatedRoute: ActivatedRoute;\n\n  /**\n   * To get logged-in user published course(s)\n   */\n  searchService: SearchService;\n\n  /**\n   * Chart renderer to call chart service like Line chart service\n   *\n   * Currently it supports only line and bar chart\n   */\n  rendererService: RendererService;\n\n  /**\n   * To get language constant\n   */\n  resourceService: ResourceService;\n\n  /**\n   * To get org dashboard data by making api call\n   */\n  orgService: OrganisationService;\n\n  /**\n   * To get logged-in user profile\n   */\n  userService: UserService;\n\n  /**\n\t * telemetryImpression object for org admin dashboard page\n\t*/\n  telemetryImpression: IImpressionEventInput;\n  subscription: Subscription;\n\n  /**\n   * Default method of OrganisationService class\n   *\n   * @param {DownloadService} downloadService To make download report api call\n   * @param {Router} route Url navigation\n   * @param {ActivatedRoute} activatedRoute To get params from url\n   * @param {UserService} userService To get logged-in user profile\n   * @param {SearchService} searchService To get organization details\n   * @param {RendererService} rendererService To get chart service\n   * @param {OrganisationService} orgService To get dashboard data\n   * @param {ResourceService} resourceService To get language constant\n   */\n  constructor(downloadService: DownloadService, route: Router, activatedRoute: ActivatedRoute, userService: UserService,\n    searchService: SearchService, rendererService: RendererService, orgService: OrganisationService, resourceService: ResourceService,\n    public toasterService: ToasterService, public navigationhelperService: NavigationHelperService) {\n    this.downloadService = downloadService;\n    this.activatedRoute = activatedRoute;\n    this.searchService = searchService;\n    this.rendererService = rendererService;\n    this.resourceService = resourceService;\n    this.orgService = orgService;\n    this.userService = userService;\n    this.route = route;\n    this.activatedRoute.params.subscribe(params => {\n      if (params.id && params.timePeriod) {\n        // this.datasetType = params.datasetType;\n        this.showDashboard = false;\n        this.interactObject = { id: params.id, type: 'Organization', ver: '1.0' };\n        this.getDashboardData(params.timePeriod, params.id);\n      }\n    });\n    this.getMyOrganisations();\n  }\n\n  /**\n   * Function to get dashboard data for given time period and organization identifier\n   *\n   * @param {string} timePeriod timePeriod: last 7d/14d/5w\n   * @param {string} identifier organization unique identifier\n   *\n   * @example getDashboardData(7d, do_xxxxx)\n   */\n  getDashboardData(timePeriod: string, identifier: string) {\n    this.showLoader = true;\n    this.isMultipleOrgs = false;\n    this.timePeriod = timePeriod;\n    this.identifier = identifier;\n\n    const params = {\n      data: {\n        identifier: this.identifier,\n        timePeriod: this.timePeriod\n      },\n      dataset: this.datasetType === 'creation' ? 'ORG_CREATION' : 'ORG_CONSUMPTION'\n    };\n\n    this.orgService.getDashboardData(params).pipe(\n    takeUntil(this.unsubscribe))\n    .subscribe(\n      (data: DashboardData) => {\n        this.blockData = data.numericData;\n        this.graphData = this.rendererService.visualizer(data, this.chartType);\n        this.showDashboard = true;\n        this.setError(false);\n      },\n      err => {\n        this.setError(true);\n        this.toasterService.error(`Root org doesn't exist for this Organization Id and channel`);\n      }\n    );\n  }\n\n  /**\n   * This function is used to validate given organization identifier.\n   *\n   * User gets redirect to home page if url contains invalid identifier or\n   * valid identifier but logged-in user is not a member of given identifier\n   *\n   * @param {string} identifier organization unique identifier\n   *\n   * @example validateIdentifier(do_xxxxx)\n   */\n  validateIdentifier(identifier: string | '') {\n    if (identifier) {\n      const selectedOrg = _.find(this.myOrganizations, ['id', identifier]);\n      if (selectedOrg && selectedOrg.id) {\n        this.SelectedOrg = selectedOrg.orgName;\n      } else {\n        // TODO: Need to redirect to home page\n        this.route.navigate(['groups']);\n      }\n    }\n  }\n\n  /**\n   * Change time period filter.\n   *\n   * As of now dashboard supports only to show last 7 days, 14 days, and 5 weeks data.\n   *\n   * @param {string} timePeriod timePeriod: last 7d / 14d / 5w\n   *\n   * @example onAfterFilterChange(7d)\n   */\n  onAfterFilterChange(timePeriod: string) {\n    if (this.timePeriod === timePeriod) {\n      return false;\n    }\n\n    this.route.navigate(['dashBoard/organization', this.datasetType, this.identifier, timePeriod]);\n  }\n\n  /**\n   * To change dashboard type\n   *\n   * @param {string} datasetType creation and consumption\n   *\n   * @example onAfterDatasetChange(creation)\n   */\n  onAfterDatasetChange(datasetType: string) {\n    if (this.datasetType === datasetType) {\n      return false;\n    }\n    this.showGraph = datasetType === 'creation' ? 1 : 0;\n    this.route.navigate(['dashBoard/organization', datasetType, this.identifier, this.timePeriod]);\n  }\n\n  /**\n   * To change graph - from Number of user per day to Time spent by day and vice versa\n   *\n   * @param {string} step next / previous\n   *\n   * @example graphNavigation(next)\n   */\n  graphNavigation(step: string) {\n    step === 'next' ? this.showGraph++ : this.showGraph--;\n  }\n\n  /**\n   * To change organization selection\n   *\n   * @param {string} identifier organization identifier\n   * @param {string} orgName    organization name\n   *\n   * @example onAfterOrgChange(identifier: do_xxxxx, Test Organization)\n   */\n  onAfterOrgChange(identifier: string, orgName: string) {\n    if (this.identifier === identifier) {\n      return false;\n    }\n\n    this.route.navigate(['dashBoard/organization', this.datasetType, identifier, this.timePeriod]);\n  }\n\n  /**\n   * To set error\n   *\n   * @param {boolean} flag show error\n   *\n   * @example setError(true)\n   */\n  setError(flag: boolean) {\n    this.showLoader = false;\n  }\n\n  /**\n   * Get logged user organization ids list\n   */\n  getMyOrganisations(): void {\n    const data = this.searchService.searchedOrganisationList;\n    if (data && data.content && data.content.length) {\n      this.myOrganizations = data.content;\n      if (this.myOrganizations.length === 1) {\n        this.identifier = this.myOrganizations[0].id;\n        this.route.navigate(['dashBoard/organization', this.datasetType, this.identifier, this.timePeriod]);\n      }\n      this.isMultipleOrgs = this.userService.userProfile.organisationIds.length > 1 ? true : false;\n      this.showLoader = false;\n      this.validateIdentifier(this.identifier);\n    } else {\n      this.userDataSubscription = this.userService.userData$.pipe(first()).subscribe(\n        user => {\n          if (user && user.userProfile.organisationIds && user.userProfile.organisationIds.length) {\n            this.getOrgDetails(user.userProfile.organisationIds);\n          } else {\n            // this.route.navigate(['groups']);\n          }\n        },\n        err => {\n          this.setError(true);\n        }\n      );\n    }\n  }\n\n  /**\n   * Download dashboard report\n   */\n  downloadReport() {\n    this.disabledClass = true;\n    const option = {\n      data: { identifier: this.identifier, timePeriod: this.timePeriod },\n      dataset: this.datasetType === 'creation' ? 'ORG_CREATION' : 'ORG_CONSUMPTION'\n    };\n\n    this.downloadService.getReport(option).pipe(\n    takeUntil(this.unsubscribe))\n    .subscribe(\n      (data: ServerResponse) => {\n        this.showDownloadSuccessModal = true;\n        this.disabledClass = false;\n      },\n      err => {\n        this.disabledClass = false;\n      }\n    );\n  }\n\n  /**\n   * To get organization details.\n   *\n   * @param {string[]} orgIds org id list\n   *\n   * @example getOrgDetails([do_xxxxx])\n   */\n  getOrgDetails(orgIds: string[]) {\n    if (orgIds && orgIds.length) {\n      this.searchService.getOrganisationDetails({ orgid: orgIds }).pipe(\n      takeUntil(this.unsubscribe))\n      .subscribe(\n        (data: ServerResponse) => {\n          if (data.result.response.content) {\n            this.myOrganizations = data.result.response.content;\n            this.isMultipleOrgs = orgIds.length > 1 ? true : false;\n            if (this.myOrganizations.length === 1) {\n              this.identifier = this.myOrganizations[0].id;\n              this.route.navigate(['dashBoard/organization', this.datasetType, this.identifier, this.timePeriod]);\n            }\n          }\n\n          if (this.identifier) {\n            this.isMultipleOrgs = false;\n            this.validateIdentifier(this.identifier);\n          }\n          this.showLoader = false;\n        },\n        (err: ServerResponse) => {\n          this.setError(true);\n        }\n      );\n    }\n  }\n\n  ngAfterViewInit () {\n    const params = this.activatedRoute.snapshot.params;\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env\n        },\n        edata: {\n          uri: 'dashboard/organization/' + params.datasetType\n          + '/' + params.id + '/' + params.timePeriod,\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          duration: this.navigationhelperService.getPageLoadTime()\n        },\n        object: {\n          id: params.id,\n          type: 'org',\n          ver: '1.0'\n        }\n      };\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.userDataSubscription) {\n      this.userDataSubscription.unsubscribe();\n    }\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as _ from 'lodash-es';\nimport { DashboardData } from './../../../interfaces';\n\n/**\n * Service to prepare line chart data - x, y axes data, lineColor,chartOption data\n */\n@Injectable()\n\n/**\n * @class LineChartService\n */\nexport class LineChartService {\n\n  /**\n   * Default method of OrganisationService class\n   */\n  constructor() { }\n\n  /**\n   * Get chart data\n   *\n   * @param {any} data data\n   *\n   * @return {object} line chart data\n   */\n  parseLineChart(data: DashboardData) {\n    const chartList = [];\n    const groupList = {};\n    let i = 0;\n    _.forEach(data.bucketData, (bucketData, key) => {\n      const groupData: object = {};\n      let yAxesLabel: string = data.name;\n      let legendLabel = '';\n\n      if (data.series === '') {\n        legendLabel = bucketData.name;\n        groupData['legend'] = [bucketData.name];\n\n        if (bucketData.time_unit !== undefined) {\n          yAxesLabel = bucketData.name + ' (' + bucketData.time_unit + ')';\n        } else {\n          yAxesLabel = bucketData.name;\n        }\n      } else {\n        groupData['legend'] = data.series;\n        legendLabel = data.series[i];\n      }\n      const chartData = this.getLineData(bucketData);\n\n      // Options\n      groupData['options'] = this.getChartOption(yAxesLabel);\n      groupData['yAxes'] = [{ data: chartData.values, label: legendLabel }];\n      groupData['xAxes'] = chartData.labels;\n\n      if (groupList[bucketData.group_id]) {\n        Array.prototype.push.apply(groupList[bucketData.group_id].yAxes, groupData['yAxes']);\n      } else {\n        groupList[bucketData.group_id] = groupData;\n      }\n\n      // Colors\n      groupData['colors'] = this.getChartColors(groupList[bucketData.group_id].legend.length);\n      i++;\n    });\n\n    _.forOwn(groupList, (group: any, groupId) => {\n      chartList.push({ yaxesData: group.yAxes, xaxesData: group.xAxes, chartOptions: group.options, chartColors: group.colors });\n    });\n\n    return chartList;\n  }\n\n  /**\n   * Get line chart value and lable\n   *\n   * @param {any} bucketData line chart value and lable\n   */\n  getLineData(bucketData: any) {\n    const values: Array<any> = [];\n    const labels: Array<any> = [];\n    _.forEach(bucketData.buckets, (bucketValue, bucketKey) => {\n      values.push(bucketValue.value);\n      labels.push(bucketValue.key_name);\n    });\n    return { labels: labels, values: values };\n  }\n\n  /**\n   * Get chart options\n   *\n   * @param {string} labelString get chart option\n   */\n  getChartOption(labelString: string) {\n    return {\n      legend: { display: true },\n      scales: {\n        xAxes: [{\n          gridLines: { display: false }\n        }],\n        yAxes: [{\n          scaleLabel: { display: true, labelString: labelString },\n          ticks: { beginAtZero: true }\n        }]\n      }\n    };\n  }\n\n  /**\n   * Get line chart color\n   *\n   * @param {number} legendCount legendCount\n   */\n  getChartColors(legendCount: number): string[] {\n    const colors = ['Red', 'Blue', 'Green'];\n    const colorArray = [];\n    for (let i = 0; i < legendCount; i++) {\n      colorArray.push({\n        backgroundColor: colors[i],\n        borderColor: colors[i],\n        fill: false\n      });\n    }\n    return colorArray;\n  }\n}\n","/*! Moment Duration Format v2.2.2\n *  https://github.com/jsmreese/moment-duration-format\n *  Date: 2018-02-16\n *\n *  Duration format plugin function for the Moment.js library\n *  http://momentjs.com/\n *\n *  Copyright 2018 John Madhavan-Reese\n *  Released under the MIT license\n */\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['moment'], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but only CommonJS-like\n        // enviroments that support module.exports, like Node.\n        try {\n            module.exports = factory(require('moment'));\n        } catch (e) {\n            // If moment is not available, leave the setup up to the user.\n            // Like when using moment-timezone or similar moment-based package.\n            module.exports = factory;\n        }\n    }\n\n    if (root) {\n        // Globals.\n        root.momentDurationFormatSetup = root.moment ? factory(root.moment) : factory;\n    }\n})(this, function (moment) {\n    // `Number#tolocaleString` is tested on plugin initialization.\n    // If the feature test passes, `toLocaleStringWorks` will be set to `true` and the\n    // native function will be used to generate formatted output. If the feature\n    // test fails, the fallback format function internal to this plugin will be\n    // used.\n    var toLocaleStringWorks = false;\n\n    // `Number#toLocaleString` rounds incorrectly for select numbers in Microsoft\n    // environments (Edge, IE11, Windows Phone) and possibly other environments.\n    // If the rounding test fails and `toLocaleString` will be used for formatting,\n    // the plugin will \"pre-round\" number values using the fallback number format\n    // function before passing them to `toLocaleString` for final formatting.\n    var toLocaleStringRoundingWorks = false;\n\n    // `Intl.NumberFormat#format` is tested on plugin initialization.\n    // If the feature test passes, `intlNumberFormatRoundingWorks` will be set to\n    // `true` and the native function will be used to generate formatted output.\n    // If the feature test fails, either `Number#tolocaleString` (if\n    // `toLocaleStringWorks` is `true`), or the fallback format function internal\n    //  to this plugin will be used.\n    var intlNumberFormatWorks = false;\n\n    // `Intl.NumberFormat#format` rounds incorrectly for select numbers in Microsoft\n    // environments (Edge, IE11, Windows Phone) and possibly other environments.\n    // If the rounding test fails and `Intl.NumberFormat#format` will be used for\n    // formatting, the plugin will \"pre-round\" number values using the fallback number\n    // format function before passing them to `Intl.NumberFormat#format` for final\n    // formatting.\n    var intlNumberFormatRoundingWorks = false;\n\n    // Token type names in order of descending magnitude.\n    var types = \"escape years months weeks days hours minutes seconds milliseconds general\".split(\" \");\n\n    var bubbles = [\n        {\n            type: \"seconds\",\n            targets: [\n                { type: \"minutes\", value: 60 },\n                { type: \"hours\", value: 3600 },\n                { type: \"days\", value: 86400 },\n                { type: \"weeks\", value: 604800 },\n                { type: \"months\", value: 2678400 },\n                { type: \"years\", value: 31536000 }\n            ]\n        },\n        {\n            type: \"minutes\",\n            targets: [\n                { type: \"hours\", value: 60 },\n                { type: \"days\", value: 1440 },\n                { type: \"weeks\", value: 10080 },\n                { type: \"months\", value: 44640 },\n                { type: \"years\", value: 525600 }\n            ]\n        },\n        {\n            type: \"hours\",\n            targets: [\n                { type: \"days\", value: 24 },\n                { type: \"weeks\", value: 168 },\n                { type: \"months\", value: 744 },\n                { type: \"years\", value: 8760 }\n            ]\n        },\n        {\n            type: \"days\",\n            targets: [\n                { type: \"weeks\", value: 7 },\n                { type: \"months\", value: 31 },\n                { type: \"years\", value: 365 }\n            ]\n        },\n        {\n            type: \"months\",\n            targets: [\n                { type: \"years\", value: 12 }\n            ]\n        }\n    ];\n\n    // stringIncludes\n    function stringIncludes(str, search) {\n        if (search.length > str.length) {\n          return false;\n        }\n\n        return str.indexOf(search) !== -1;\n    }\n\n    // repeatZero(qty)\n    // Returns \"0\" repeated `qty` times.\n    // `qty` must be a integer >= 0.\n    function repeatZero(qty) {\n        var result = \"\";\n\n        while (qty) {\n            result += \"0\";\n            qty -= 1;\n        }\n\n        return result;\n    }\n\n    function stringRound(digits) {\n        var digitsArray = digits.split(\"\").reverse();\n        var i = 0;\n        var carry = true;\n\n        while (carry && i < digitsArray.length) {\n            if (i) {\n                if (digitsArray[i] === \"9\") {\n                    digitsArray[i] = \"0\";\n                } else {\n                    digitsArray[i] = (parseInt(digitsArray[i], 10) + 1).toString();\n                    carry = false;\n                }\n            } else {\n                if (parseInt(digitsArray[i], 10) < 5) {\n                    carry = false;\n                }\n\n                digitsArray[i] = \"0\";\n            }\n\n            i += 1;\n        }\n\n        if (carry) {\n            digitsArray.push(\"1\");\n        }\n\n        return digitsArray.reverse().join(\"\");\n    }\n\n    // cachedNumberFormat\n    // Returns an `Intl.NumberFormat` instance for the given locale and configuration.\n    // On first use of a particular configuration, the instance is cached for fast\n    // repeat access.\n    function cachedNumberFormat(locale, options) {\n        // Create a sorted, stringified version of `options`\n        // for use as part of the cache key\n        var optionsString = map(\n            keys(options).sort(),\n            function(key) {\n                return key + ':' + options[key];\n            }\n        ).join(',');\n\n        // Set our cache key\n        var cacheKey = locale + '+' + optionsString;\n\n        // If we don't have this configuration cached, configure and cache it\n        if (!cachedNumberFormat.cache[cacheKey]) {\n            cachedNumberFormat.cache[cacheKey] = Intl.NumberFormat(locale, options);\n        }\n\n        // Return the cached version of this configuration\n        return cachedNumberFormat.cache[cacheKey];\n    }\n    cachedNumberFormat.cache = {};\n\n    // formatNumber\n    // Formats any number greater than or equal to zero using these options:\n    // - userLocale\n    // - useToLocaleString\n    // - useGrouping\n    // - grouping\n    // - maximumSignificantDigits\n    // - minimumIntegerDigits\n    // - fractionDigits\n    // - groupingSeparator\n    // - decimalSeparator\n    //\n    // `useToLocaleString` will use `Intl.NumberFormat` or `toLocaleString` for formatting.\n    // `userLocale` option is passed through to the formatting function.\n    // `fractionDigits` is passed through to `maximumFractionDigits` and `minimumFractionDigits`\n    // Using `maximumSignificantDigits` will override `minimumIntegerDigits` and `fractionDigits`.\n    function formatNumber(number, options, userLocale) {\n        var useToLocaleString = options.useToLocaleString;\n        var useGrouping = options.useGrouping;\n        var grouping = useGrouping && options.grouping.slice();\n        var maximumSignificantDigits = options.maximumSignificantDigits;\n        var minimumIntegerDigits = options.minimumIntegerDigits || 1;\n        var fractionDigits = options.fractionDigits || 0;\n        var groupingSeparator = options.groupingSeparator;\n        var decimalSeparator = options.decimalSeparator;\n\n        if (useToLocaleString && userLocale) {\n            var localeStringOptions = {\n                minimumIntegerDigits: minimumIntegerDigits,\n                useGrouping: useGrouping\n            };\n\n            if (fractionDigits) {\n                localeStringOptions.maximumFractionDigits = fractionDigits;\n                localeStringOptions.minimumFractionDigits = fractionDigits;\n            }\n\n            // toLocaleString output is \"0.0\" instead of \"0\" for HTC browsers\n            // when maximumSignificantDigits is set. See #96.\n            if (maximumSignificantDigits && number > 0) {\n                localeStringOptions.maximumSignificantDigits = maximumSignificantDigits;\n            }\n\n            if (intlNumberFormatWorks) {\n                if (!intlNumberFormatRoundingWorks) {\n                    var roundingOptions = extend({}, options);\n                    roundingOptions.useGrouping = false;\n                    roundingOptions.decimalSeparator = \".\";\n                    number = parseFloat(formatNumber(number, roundingOptions), 10);\n                }\n\n                return cachedNumberFormat(userLocale, localeStringOptions).format(number);\n            } else {\n                if (!toLocaleStringRoundingWorks) {\n                    var roundingOptions = extend({}, options);\n                    roundingOptions.useGrouping = false;\n                    roundingOptions.decimalSeparator = \".\";\n                    number = parseFloat(formatNumber(number, roundingOptions), 10);\n                }\n\n                return number.toLocaleString(userLocale, localeStringOptions);\n            }\n        }\n\n        var numberString;\n\n        // Add 1 to digit output length for floating point errors workaround. See below.\n        if (maximumSignificantDigits) {\n            numberString = number.toPrecision(maximumSignificantDigits + 1);\n        } else {\n            numberString = number.toFixed(fractionDigits + 1);\n        }\n\n        var integerString;\n        var fractionString;\n        var exponentString;\n\n        var temp = numberString.split(\"e\");\n\n        exponentString = temp[1] || \"\";\n\n        temp = temp[0].split(\".\");\n\n        fractionString = temp[1] || \"\";\n        integerString = temp[0] || \"\";\n\n        // Workaround for floating point errors in `toFixed` and `toPrecision`.\n        // (3.55).toFixed(1); --> \"3.5\"\n        // (123.55 - 120).toPrecision(2); --> \"3.5\"\n        // (123.55 - 120); --> 3.549999999999997\n        // (123.55 - 120).toFixed(2); --> \"3.55\"\n        // Round by examing the string output of the next digit.\n\n        // *************** Implement String Rounding here ***********************\n        // Check integerString + fractionString length of toPrecision before rounding.\n        // Check length of fractionString from toFixed output before rounding.\n        var integerLength = integerString.length;\n        var fractionLength = fractionString.length;\n        var digitCount = integerLength + fractionLength;\n        var digits = integerString + fractionString;\n\n        if (maximumSignificantDigits && digitCount === (maximumSignificantDigits + 1) || !maximumSignificantDigits && fractionLength === (fractionDigits + 1)) {\n            // Round digits.\n            digits = stringRound(digits);\n\n            if (digits.length === digitCount + 1) {\n                integerLength = integerLength + 1;\n            }\n\n            // Discard final fractionDigit.\n            if (fractionLength) {\n                digits = digits.slice(0, -1);\n            }\n\n            // Separate integer and fraction.\n            integerString = digits.slice(0, integerLength);\n            fractionString = digits.slice(integerLength);\n        }\n\n        // Trim trailing zeroes from fractionString because toPrecision outputs\n        // precision, not significant digits.\n        if (maximumSignificantDigits) {\n            fractionString = fractionString.replace(/0*$/, \"\");\n        }\n\n        // Handle exponent.\n        var exponent = parseInt(exponentString, 10);\n\n        if (exponent > 0) {\n            if (fractionString.length <= exponent) {\n                fractionString = fractionString + repeatZero(exponent - fractionString.length);\n\n                integerString = integerString + fractionString;\n                fractionString = \"\";\n            } else {\n                integerString = integerString + fractionString.slice(0, exponent);\n                fractionString = fractionString.slice(exponent);\n            }\n        } else if (exponent < 0) {\n            fractionString = (repeatZero(Math.abs(exponent) - integerString.length) + integerString + fractionString);\n\n            integerString = \"0\";\n        }\n\n        if (!maximumSignificantDigits) {\n            // Trim or pad fraction when not using maximumSignificantDigits.\n            fractionString = fractionString.slice(0, fractionDigits);\n\n            if (fractionString.length < fractionDigits) {\n                fractionString = fractionString + repeatZero(fractionDigits - fractionString.length);\n            }\n\n            // Pad integer when using minimumIntegerDigits\n            // and not using maximumSignificantDigits.\n            if (integerString.length < minimumIntegerDigits) {\n                integerString = repeatZero(minimumIntegerDigits - integerString.length) + integerString;\n            }\n        }\n\n        var formattedString = \"\";\n\n        // Handle grouping.\n        if (useGrouping) {\n            temp = integerString;\n            var group;\n\n            while (temp.length) {\n                if (grouping.length) {\n                    group = grouping.shift();\n                }\n\n                if (formattedString) {\n                    formattedString = groupingSeparator + formattedString;\n                }\n\n                formattedString = temp.slice(-group) + formattedString;\n\n                temp = temp.slice(0, -group);\n            }\n        } else {\n            formattedString = integerString;\n        }\n\n        // Add decimalSeparator and fraction.\n        if (fractionString) {\n            formattedString = formattedString + decimalSeparator + fractionString;\n        }\n\n        return formattedString;\n    }\n\n    // durationLabelCompare\n    function durationLabelCompare(a, b) {\n        if (a.label.length > b.label.length) {\n            return -1;\n        }\n\n        if (a.label.length < b.label.length) {\n            return 1;\n        }\n\n        // a must be equal to b\n        return 0;\n    }\n\n    // durationGetLabels\n    function durationGetLabels(token, localeData) {\n        var labels = [];\n\n        each(keys(localeData), function (localeDataKey) {\n            if (localeDataKey.slice(0, 15) !== \"_durationLabels\") {\n                return;\n            }\n\n            var labelType = localeDataKey.slice(15).toLowerCase();\n\n            each(keys(localeData[localeDataKey]), function (labelKey) {\n                if (labelKey.slice(0, 1) === token) {\n                    labels.push({\n                        type: labelType,\n                        key: labelKey,\n                        label: localeData[localeDataKey][labelKey]\n                    });\n                }\n            });\n        });\n\n        return labels;\n    }\n\n    // durationPluralKey\n    function durationPluralKey(token, integerValue, decimalValue) {\n        // Singular for a value of `1`, but not for `1.0`.\n        if (integerValue === 1 && decimalValue === null) {\n            return token;\n        }\n\n        return token + token;\n    }\n\n    var engLocale = {\n        durationLabelsStandard: {\n            S: 'millisecond',\n            SS: 'milliseconds',\n            s: 'second',\n            ss: 'seconds',\n            m: 'minute',\n            mm: 'minutes',\n            h: 'hour',\n            hh: 'hours',\n            d: 'day',\n            dd: 'days',\n            w: 'week',\n            ww: 'weeks',\n            M: 'month',\n            MM: 'months',\n            y: 'year',\n            yy: 'years'\n        },\n        durationLabelsShort: {\n            S: 'msec',\n            SS: 'msecs',\n            s: 'sec',\n            ss: 'secs',\n            m: 'min',\n            mm: 'mins',\n            h: 'hr',\n            hh: 'hrs',\n            d: 'dy',\n            dd: 'dys',\n            w: 'wk',\n            ww: 'wks',\n            M: 'mo',\n            MM: 'mos',\n            y: 'yr',\n            yy: 'yrs'\n        },\n        durationTimeTemplates: {\n            HMS: 'h:mm:ss',\n            HM: 'h:mm',\n            MS: 'm:ss'\n        },\n        durationLabelTypes: [\n            { type: \"standard\", string: \"__\" },\n            { type: \"short\", string: \"_\" }\n        ],\n        durationPluralKey: durationPluralKey\n    };\n\n    // isArray\n    function isArray(array) {\n        return Object.prototype.toString.call(array) === \"[object Array]\";\n    }\n\n    // isObject\n    function isObject(obj) {\n        return Object.prototype.toString.call(obj) === \"[object Object]\";\n    }\n\n    // findLast\n    function findLast(array, callback) {\n        var index = array.length;\n\n        while (index -= 1) {\n            if (callback(array[index])) { return array[index]; }\n        }\n    }\n\n    // find\n    function find(array, callback) {\n        var index = 0;\n\n        var max = array && array.length || 0;\n\n        var match;\n\n        if (typeof callback !== \"function\") {\n            match = callback;\n            callback = function (item) {\n                return item === match;\n            };\n        }\n\n        while (index < max) {\n            if (callback(array[index])) { return array[index]; }\n            index += 1;\n        }\n    }\n\n    // each\n    function each(array, callback) {\n        var index = 0,\n            max = array.length;\n\n        if (!array || !max) { return; }\n\n        while (index < max) {\n            if (callback(array[index], index) === false) { return; }\n            index += 1;\n        }\n    }\n\n    // map\n    function map(array, callback) {\n        var index = 0,\n            max = array.length,\n            ret = [];\n\n        if (!array || !max) { return ret; }\n\n        while (index < max) {\n            ret[index] = callback(array[index], index);\n            index += 1;\n        }\n\n        return ret;\n    }\n\n    // pluck\n    function pluck(array, prop) {\n        return map(array, function (item) {\n            return item[prop];\n        });\n    }\n\n    // compact\n    function compact(array) {\n        var ret = [];\n\n        each(array, function (item) {\n            if (item) { ret.push(item); }\n        });\n\n        return ret;\n    }\n\n    // unique\n    function unique(array) {\n        var ret = [];\n\n        each(array, function (_a) {\n            if (!find(ret, _a)) { ret.push(_a); }\n        });\n\n        return ret;\n    }\n\n    // intersection\n    function intersection(a, b) {\n        var ret = [];\n\n        each(a, function (_a) {\n            each(b, function (_b) {\n                if (_a === _b) { ret.push(_a); }\n            });\n        });\n\n        return unique(ret);\n    }\n\n    // rest\n    function rest(array, callback) {\n        var ret = [];\n\n        each(array, function (item, index) {\n            if (!callback(item)) {\n                ret = array.slice(index);\n                return false;\n            }\n        });\n\n        return ret;\n    }\n\n    // initial\n    function initial(array, callback) {\n        var reversed = array.slice().reverse();\n\n        return rest(reversed, callback).reverse();\n    }\n\n    // extend\n    function extend(a, b) {\n        for (var key in b) {\n            if (b.hasOwnProperty(key)) { a[key] = b[key]; }\n        }\n\n        return a;\n    }\n\n    // keys\n    function keys(a) {\n        var ret = [];\n\n        for (var key in a) {\n            if (a.hasOwnProperty(key)) { ret.push(key); }\n        }\n\n        return ret;\n    }\n\n    // any\n    function any(array, callback) {\n        var index = 0,\n            max = array.length;\n\n        if (!array || !max) { return false; }\n\n        while (index < max) {\n            if (callback(array[index], index) === true) { return true; }\n            index += 1;\n        }\n\n        return false;\n    }\n\n    // flatten\n    function flatten(array) {\n        var ret = [];\n\n        each(array, function(child) {\n            ret = ret.concat(child);\n        });\n\n        return ret;\n    }\n\n    function toLocaleStringSupportsLocales() {\n        var number = 0;\n        try {\n            number.toLocaleString('i');\n        } catch (e) {\n            return e.name === 'RangeError';\n        }\n        return false;\n    }\n\n    function featureTestFormatterRounding(formatter) {\n        return formatter(3.55, \"en\", {\n            useGrouping: false,\n            minimumIntegerDigits: 1,\n            minimumFractionDigits: 1,\n            maximumFractionDigits: 1\n        }) === \"3.6\";\n    }\n\n    function featureTestFormatter(formatter) {\n        var passed = true;\n\n        // Test minimumIntegerDigits.\n        passed = passed && formatter(1, \"en\", { minimumIntegerDigits: 1 }) === \"1\";\n        passed = passed && formatter(1, \"en\", { minimumIntegerDigits: 2 }) === \"01\";\n        passed = passed && formatter(1, \"en\", { minimumIntegerDigits: 3 }) === \"001\";\n        if (!passed) { return false; }\n\n        // Test maximumFractionDigits and minimumFractionDigits.\n        passed = passed && formatter(99.99, \"en\", { maximumFractionDigits: 0, minimumFractionDigits: 0 }) === \"100\";\n        passed = passed && formatter(99.99, \"en\", { maximumFractionDigits: 1, minimumFractionDigits: 1 }) === \"100.0\";\n        passed = passed && formatter(99.99, \"en\", { maximumFractionDigits: 2, minimumFractionDigits: 2 }) === \"99.99\";\n        passed = passed && formatter(99.99, \"en\", { maximumFractionDigits: 3, minimumFractionDigits: 3 }) === \"99.990\";\n        if (!passed) { return false; }\n\n        // Test maximumSignificantDigits.\n        passed = passed && formatter(99.99, \"en\", { maximumSignificantDigits: 1 }) === \"100\";\n        passed = passed && formatter(99.99, \"en\", { maximumSignificantDigits: 2 }) === \"100\";\n        passed = passed && formatter(99.99, \"en\", { maximumSignificantDigits: 3 }) === \"100\";\n        passed = passed && formatter(99.99, \"en\", { maximumSignificantDigits: 4 }) === \"99.99\";\n        passed = passed && formatter(99.99, \"en\", { maximumSignificantDigits: 5 }) === \"99.99\";\n        if (!passed) { return false; }\n\n        // Test grouping.\n        passed = passed && formatter(1000, \"en\", { useGrouping: true }) === \"1,000\";\n        passed = passed && formatter(1000, \"en\", { useGrouping: false }) === \"1000\";\n        if (!passed) { return false; }\n\n        return true;\n    }\n\n    // durationsFormat(durations [, template] [, precision] [, settings])\n    function durationsFormat() {\n        var args = [].slice.call(arguments);\n        var settings = {};\n        var durations;\n\n        // Parse arguments.\n        each(args, function (arg, index) {\n            if (!index) {\n                if (!isArray(arg)) {\n                    throw \"Expected array as the first argument to durationsFormat.\";\n                }\n\n                durations = arg;\n            }\n\n            if (typeof arg === \"string\" || typeof arg === \"function\") {\n                settings.template = arg;\n                return;\n            }\n\n            if (typeof arg === \"number\") {\n                settings.precision = arg;\n                return;\n            }\n\n            if (isObject(arg)) {\n                extend(settings, arg);\n            }\n        });\n\n        if (!durations || !durations.length) {\n            return [];\n        }\n\n        settings.returnMomentTypes = true;\n\n        var formattedDurations = map(durations, function (dur) {\n            return dur.format(settings);\n        });\n\n        // Merge token types from all durations.\n        var outputTypes = intersection(types, unique(pluck(flatten(formattedDurations), \"type\")));\n\n        var largest = settings.largest;\n\n        if (largest) {\n            outputTypes = outputTypes.slice(0, largest);\n        }\n\n        settings.returnMomentTypes = false;\n        settings.outputTypes = outputTypes;\n\n        return map(durations, function (dur) {\n            return dur.format(settings);\n        });\n    }\n\n    // durationFormat([template] [, precision] [, settings])\n    function durationFormat() {\n\n        var args = [].slice.call(arguments);\n        var settings = extend({}, this.format.defaults);\n\n        // Keep a shadow copy of this moment for calculating remainders.\n        // Perform all calculations on positive duration value, handle negative\n        // sign at the very end.\n        var asMilliseconds = this.asMilliseconds();\n        var asMonths = this.asMonths();\n\n        // Treat invalid durations as having a value of 0 milliseconds.\n        if (typeof this.isValid === \"function\" && this.isValid() === false) {\n            asMilliseconds = 0;\n            asMonths = 0;\n        }\n\n        var isNegative = asMilliseconds < 0;\n\n        // Two shadow copies are needed because of the way moment.js handles\n        // duration arithmetic for years/months and for weeks/days/hours/minutes/seconds.\n        var remainder = moment.duration(Math.abs(asMilliseconds), \"milliseconds\");\n        var remainderMonths = moment.duration(Math.abs(asMonths), \"months\");\n\n        // Parse arguments.\n        each(args, function (arg) {\n            if (typeof arg === \"string\" || typeof arg === \"function\") {\n                settings.template = arg;\n                return;\n            }\n\n            if (typeof arg === \"number\") {\n                settings.precision = arg;\n                return;\n            }\n\n            if (isObject(arg)) {\n                extend(settings, arg);\n            }\n        });\n\n        var momentTokens = {\n            years: \"y\",\n            months: \"M\",\n            weeks: \"w\",\n            days: \"d\",\n            hours: \"h\",\n            minutes: \"m\",\n            seconds: \"s\",\n            milliseconds: \"S\"\n        };\n\n        var tokenDefs = {\n            escape: /\\[(.+?)\\]/,\n            years: /\\*?[Yy]+/,\n            months: /\\*?M+/,\n            weeks: /\\*?[Ww]+/,\n            days: /\\*?[Dd]+/,\n            hours: /\\*?[Hh]+/,\n            minutes: /\\*?m+/,\n            seconds: /\\*?s+/,\n            milliseconds: /\\*?S+/,\n            general: /.+?/\n        };\n\n        // Types array is available in the template function.\n        settings.types = types;\n\n        var typeMap = function (token) {\n            return find(types, function (type) {\n                return tokenDefs[type].test(token);\n            });\n        };\n\n        var tokenizer = new RegExp(map(types, function (type) {\n            return tokenDefs[type].source;\n        }).join(\"|\"), \"g\");\n\n        // Current duration object is available in the template function.\n        settings.duration = this;\n\n        // Eval template function and cache template string.\n        var template = typeof settings.template === \"function\" ? settings.template.apply(settings) : settings.template;\n\n        // outputTypes and returnMomentTypes are settings to support durationsFormat().\n\n        // outputTypes is an array of moment token types that determines\n        // the tokens returned in formatted output. This option overrides\n        // trim, largest, stopTrim, etc.\n        var outputTypes = settings.outputTypes;\n\n        // returnMomentTypes is a boolean that sets durationFormat to return\n        // the processed momentTypes instead of formatted output.\n        var returnMomentTypes = settings.returnMomentTypes;\n\n        var largest = settings.largest;\n\n        // Setup stopTrim array of token types.\n        var stopTrim = [];\n\n        if (!outputTypes) {\n            if (isArray(settings.stopTrim)) {\n                settings.stopTrim = settings.stopTrim.join(\"\");\n            }\n\n            // Parse stopTrim string to create token types array.\n            if (settings.stopTrim) {\n                each(settings.stopTrim.match(tokenizer), function (token) {\n                    var type = typeMap(token);\n\n                    if (type === \"escape\" || type === \"general\") {\n                        return;\n                    }\n\n                    stopTrim.push(type);\n                });\n            }\n        }\n\n        // Cache moment's locale data.\n        var localeData = moment.localeData();\n\n        if (!localeData) {\n            localeData = {};\n        }\n\n        // Fall back to this plugin's `eng` extension.\n        each(keys(engLocale), function (key) {\n            if (typeof engLocale[key] === \"function\") {\n                if (!localeData[key]) {\n                    localeData[key] = engLocale[key];\n                }\n\n                return;\n            }\n\n            if (!localeData[\"_\" + key]) {\n                localeData[\"_\" + key] = engLocale[key];\n            }\n        });\n\n        // Replace Duration Time Template strings.\n        // For locale `eng`: `_HMS_`, `_HM_`, and `_MS_`.\n        each(keys(localeData._durationTimeTemplates), function (item) {\n            template = template.replace(\"_\" + item + \"_\", localeData._durationTimeTemplates[item]);\n        });\n\n        // Determine user's locale.\n        var userLocale = settings.userLocale || moment.locale();\n\n        var useLeftUnits = settings.useLeftUnits;\n        var usePlural = settings.usePlural;\n        var precision = settings.precision;\n        var forceLength = settings.forceLength;\n        var useGrouping = settings.useGrouping;\n        var trunc = settings.trunc;\n\n        // Use significant digits only when precision is greater than 0.\n        var useSignificantDigits = settings.useSignificantDigits && precision > 0;\n        var significantDigits = useSignificantDigits ? settings.precision : 0;\n        var significantDigitsCache = significantDigits;\n\n        var minValue = settings.minValue;\n        var isMinValue = false;\n\n        var maxValue = settings.maxValue;\n        var isMaxValue = false;\n\n        // formatNumber fallback options.\n        var useToLocaleString = settings.useToLocaleString;\n        var groupingSeparator = settings.groupingSeparator;\n        var decimalSeparator = settings.decimalSeparator;\n        var grouping = settings.grouping;\n\n        useToLocaleString = useToLocaleString && (toLocaleStringWorks || intlNumberFormatWorks);\n\n        // Trim options.\n        var trim = settings.trim;\n\n        if (isArray(trim)) {\n            trim = trim.join(\" \");\n        }\n\n        if (trim === null && (largest || maxValue || useSignificantDigits)) {\n            trim = \"all\";\n        }\n\n        if (trim === null || trim === true || trim === \"left\" || trim === \"right\") {\n            trim = \"large\";\n        }\n\n        if (trim === false) {\n            trim = \"\";\n        }\n\n        var trimIncludes = function (item) {\n            return item.test(trim);\n        };\n\n        var rLarge = /large/;\n        var rSmall = /small/;\n        var rBoth = /both/;\n        var rMid = /mid/;\n        var rAll = /^all|[^sm]all/;\n        var rFinal = /final/;\n\n        var trimLarge = largest > 0 || any([rLarge, rBoth, rAll], trimIncludes);\n        var trimSmall = any([rSmall, rBoth, rAll], trimIncludes);\n        var trimMid = any([rMid, rAll], trimIncludes);\n        var trimFinal = any([rFinal, rAll], trimIncludes);\n\n        // Parse format string to create raw tokens array.\n        var rawTokens = map(template.match(tokenizer), function (token, index) {\n            var type = typeMap(token);\n\n            if (token.slice(0, 1) === \"*\") {\n                token = token.slice(1);\n\n                if (type !== \"escape\" && type !== \"general\") {\n                    stopTrim.push(type);\n                }\n            }\n\n            return {\n                index: index,\n                length: token.length,\n                text: \"\",\n\n                // Replace escaped tokens with the non-escaped token text.\n                token: (type === \"escape\" ? token.replace(tokenDefs.escape, \"$1\") : token),\n\n                // Ignore type on non-moment tokens.\n                type: ((type === \"escape\" || type === \"general\") ? null : type)\n            };\n        });\n\n        // Associate text tokens with moment tokens.\n        var currentToken = {\n            index: 0,\n            length: 0,\n            token: \"\",\n            text: \"\",\n            type: null\n        };\n\n        var tokens = [];\n\n        if (useLeftUnits) {\n            rawTokens.reverse();\n        }\n\n        each(rawTokens, function (token) {\n            if (token.type) {\n                if (currentToken.type || currentToken.text) {\n                    tokens.push(currentToken);\n                }\n\n                currentToken = token;\n\n                return;\n            }\n\n            if (useLeftUnits) {\n                currentToken.text = token.token + currentToken.text;\n            } else {\n                currentToken.text += token.token;\n            }\n        });\n\n        if (currentToken.type || currentToken.text) {\n            tokens.push(currentToken);\n        }\n\n        if (useLeftUnits) {\n            tokens.reverse();\n        }\n\n        // Find unique moment token types in the template in order of\n        // descending magnitude.\n        var momentTypes = intersection(types, unique(compact(pluck(tokens, \"type\"))));\n\n        // Exit early if there are no moment token types.\n        if (!momentTypes.length) {\n            return pluck(tokens, \"text\").join(\"\");\n        }\n\n        // Calculate values for each moment type in the template.\n        // For processing the settings, values are associated with moment types.\n        // Values will be assigned to tokens at the last step in order to\n        // assume nothing about frequency or order of tokens in the template.\n        momentTypes = map(momentTypes, function (momentType, index) {\n            // Is this the least-magnitude moment token found?\n            var isSmallest = ((index + 1) === momentTypes.length);\n\n            // Is this the greatest-magnitude moment token found?\n            var isLargest = (!index);\n\n            // Get the raw value in the current units.\n            var rawValue;\n\n            if (momentType === \"years\" || momentType === \"months\") {\n                rawValue = remainderMonths.as(momentType);\n            } else {\n                rawValue = remainder.as(momentType);\n            }\n\n            var wholeValue = Math.floor(rawValue);\n            var decimalValue = rawValue - wholeValue;\n\n            var token = find(tokens, function (token) {\n                return momentType === token.type;\n            });\n\n            if (isLargest && maxValue && rawValue > maxValue) {\n                isMaxValue = true;\n            }\n\n            if (isSmallest && minValue && Math.abs(settings.duration.as(momentType)) < minValue) {\n                isMinValue = true;\n            }\n\n            // Note the length of the largest-magnitude moment token:\n            // if it is greater than one and forceLength is not set,\n            // then default forceLength to `true`.\n            //\n            // Rationale is this: If the template is \"h:mm:ss\" and the\n            // moment value is 5 minutes, the user-friendly output is\n            // \"5:00\", not \"05:00\". We shouldn't pad the `minutes` token\n            // even though it has length of two if the template is \"h:mm:ss\";\n            //\n            // If the minutes output should always include the leading zero\n            // even when the hour is trimmed then set `{ forceLength: true }`\n            // to output \"05:00\". If the template is \"hh:mm:ss\", the user\n            // clearly wanted everything padded so we should output \"05:00\";\n            //\n            // If the user wants the full padded output, they can use\n            // template \"hh:mm:ss\" and set `{ trim: false }` to output\n            // \"00:05:00\".\n            if (isLargest && forceLength === null && token.length > 1) {\n                forceLength = true;\n            }\n\n            // Update remainder.\n            remainder.subtract(wholeValue, momentType);\n            remainderMonths.subtract(wholeValue, momentType);\n\n            return {\n                rawValue: rawValue,\n                wholeValue: wholeValue,\n                // Decimal value is only retained for the least-magnitude\n                // moment type in the format template.\n                decimalValue: isSmallest ? decimalValue : 0,\n                isSmallest: isSmallest,\n                isLargest: isLargest,\n                type: momentType,\n                // Tokens can appear multiple times in a template string,\n                // but all instances must share the same length.\n                tokenLength: token.length\n            };\n        });\n\n        var truncMethod = trunc ? Math.floor : Math.round;\n        var truncate = function (value, places) {\n            var factor = Math.pow(10, places);\n            return truncMethod(value * factor) / factor;\n        };\n\n        var foundFirst = false;\n        var bubbled = false;\n\n        var formatValue = function (momentType, index) {\n            var formatOptions = {\n                useGrouping: useGrouping,\n                groupingSeparator: groupingSeparator,\n                decimalSeparator: decimalSeparator,\n                grouping: grouping,\n                useToLocaleString: useToLocaleString\n            };\n\n            if (useSignificantDigits) {\n                if (significantDigits <= 0) {\n                    momentType.rawValue = 0;\n                    momentType.wholeValue = 0;\n                    momentType.decimalValue = 0;\n                } else {\n                    formatOptions.maximumSignificantDigits = significantDigits;\n                    momentType.significantDigits = significantDigits;\n                }\n            }\n\n            if (isMaxValue && !bubbled) {\n                if (momentType.isLargest) {\n                    momentType.wholeValue = maxValue;\n                    momentType.decimalValue = 0;\n                } else {\n                    momentType.wholeValue = 0;\n                    momentType.decimalValue = 0;\n                }\n            }\n\n            if (isMinValue && !bubbled) {\n                if (momentType.isSmallest) {\n                    momentType.wholeValue = minValue;\n                    momentType.decimalValue = 0;\n                } else {\n                    momentType.wholeValue = 0;\n                    momentType.decimalValue = 0;\n                }\n            }\n\n            if (momentType.isSmallest || momentType.significantDigits && momentType.significantDigits - momentType.wholeValue.toString().length <= 0) {\n                // Apply precision to least significant token value.\n                if (precision < 0) {\n                    momentType.value = truncate(momentType.wholeValue, precision);\n                } else if (precision === 0) {\n                    momentType.value = truncMethod(momentType.wholeValue + momentType.decimalValue);\n                } else { // precision > 0\n                    if (useSignificantDigits) {\n                        if (trunc) {\n                            momentType.value = truncate(momentType.rawValue, significantDigits - momentType.wholeValue.toString().length);\n                        } else {\n                            momentType.value = momentType.rawValue;\n                        }\n\n                        if (momentType.wholeValue) {\n                            significantDigits -= momentType.wholeValue.toString().length;\n                        }\n                    } else {\n                        formatOptions.fractionDigits = precision;\n\n                        if (trunc) {\n                            momentType.value = momentType.wholeValue + truncate(momentType.decimalValue, precision);\n                        } else {\n                            momentType.value = momentType.wholeValue + momentType.decimalValue;\n                        }\n                    }\n                }\n            } else {\n                if (useSignificantDigits && momentType.wholeValue) {\n                    // Outer Math.round required here to handle floating point errors.\n                    momentType.value = Math.round(truncate(momentType.wholeValue, momentType.significantDigits - momentType.wholeValue.toString().length));\n\n                    significantDigits -= momentType.wholeValue.toString().length;\n                } else {\n                    momentType.value = momentType.wholeValue;\n                }\n            }\n\n            if (momentType.tokenLength > 1 && (forceLength || foundFirst)) {\n                formatOptions.minimumIntegerDigits = momentType.tokenLength;\n\n                if (bubbled && formatOptions.maximumSignificantDigits < momentType.tokenLength) {\n                    delete formatOptions.maximumSignificantDigits;\n                }\n            }\n\n            if (!foundFirst && (momentType.value > 0 || trim === \"\" /* trim: false */ || find(stopTrim, momentType.type) || find(outputTypes, momentType.type))) {\n                foundFirst = true;\n            }\n\n            momentType.formattedValue = formatNumber(momentType.value, formatOptions, userLocale);\n\n            formatOptions.useGrouping = false;\n            formatOptions.decimalSeparator = \".\";\n            momentType.formattedValueEn = formatNumber(momentType.value, formatOptions, \"en\");\n\n            if (momentType.tokenLength === 2 && momentType.type === \"milliseconds\") {\n                momentType.formattedValueMS = formatNumber(momentType.value, {\n                    minimumIntegerDigits: 3,\n                    useGrouping: false\n                }, \"en\").slice(0, 2);\n            }\n\n            return momentType;\n        };\n\n        // Calculate formatted values.\n        momentTypes = map(momentTypes, formatValue);\n        momentTypes = compact(momentTypes);\n\n        // Bubble rounded values.\n        if (momentTypes.length > 1) {\n            var findType = function (type) {\n                return find(momentTypes, function (momentType) {\n                    return momentType.type === type;\n                });\n            };\n\n            var bubbleTypes = function (bubble) {\n                var bubbleMomentType = findType(bubble.type);\n\n                if (!bubbleMomentType) {\n                    return;\n                }\n\n                each(bubble.targets, function (target) {\n                    var targetMomentType = findType(target.type);\n\n                    if (!targetMomentType) {\n                        return;\n                    }\n\n                    if (parseInt(bubbleMomentType.formattedValueEn, 10) === target.value) {\n                        bubbleMomentType.rawValue = 0;\n                        bubbleMomentType.wholeValue = 0;\n                        bubbleMomentType.decimalValue = 0;\n                        targetMomentType.rawValue += 1;\n                        targetMomentType.wholeValue += 1;\n                        targetMomentType.decimalValue = 0;\n                        targetMomentType.formattedValueEn = targetMomentType.wholeValue.toString();\n                        bubbled = true;\n                    }\n                });\n            };\n\n            each(bubbles, bubbleTypes);\n        }\n\n        // Recalculate formatted values.\n        if (bubbled) {\n            foundFirst = false;\n            significantDigits = significantDigitsCache;\n            momentTypes = map(momentTypes, formatValue);\n            momentTypes = compact(momentTypes);\n        }\n\n        if (outputTypes && !(isMaxValue && !settings.trim)) {\n            momentTypes = map(momentTypes, function (momentType) {\n                if (find(outputTypes, function (outputType) {\n                    return momentType.type === outputType;\n                })) {\n                    return momentType;\n                }\n\n                return null;\n            });\n\n            momentTypes = compact(momentTypes);\n        } else {\n            // Trim Large.\n            if (trimLarge) {\n                momentTypes = rest(momentTypes, function (momentType) {\n                    // Stop trimming on:\n                    // - the smallest moment type\n                    // - a type marked for stopTrim\n                    // - a type that has a whole value\n                    return !momentType.isSmallest && !momentType.wholeValue && !find(stopTrim, momentType.type);\n                });\n            }\n\n            // Largest.\n            if (largest && momentTypes.length) {\n                momentTypes = momentTypes.slice(0, largest);\n            }\n\n            // Trim Small.\n            if (trimSmall && momentTypes.length > 1) {\n                momentTypes = initial(momentTypes, function (momentType) {\n                    // Stop trimming on:\n                    // - a type marked for stopTrim\n                    // - a type that has a whole value\n                    // - the largest momentType\n                    return !momentType.wholeValue && !find(stopTrim, momentType.type) && !momentType.isLargest;\n                });\n            }\n\n            // Trim Mid.\n            if (trimMid) {\n                momentTypes = map(momentTypes, function (momentType, index) {\n                    if (index > 0 && index < momentTypes.length - 1 && !momentType.wholeValue) {\n                        return null;\n                    }\n\n                    return momentType;\n                });\n\n                momentTypes = compact(momentTypes);\n            }\n\n            // Trim Final.\n            if (trimFinal && momentTypes.length === 1 && !momentTypes[0].wholeValue && !(!trunc && momentTypes[0].isSmallest && momentTypes[0].rawValue < minValue)) {\n                momentTypes = [];\n            }\n        }\n\n        if (returnMomentTypes) {\n            return momentTypes;\n        }\n\n        // Localize and pluralize unit labels.\n        each(tokens, function (token) {\n            var key = momentTokens[token.type];\n\n            var momentType = find(momentTypes, function (momentType) {\n                return momentType.type === token.type;\n            });\n\n            if (!key || !momentType) {\n                return;\n            }\n\n            var values = momentType.formattedValueEn.split(\".\");\n\n            values[0] = parseInt(values[0], 10);\n\n            if (values[1]) {\n                values[1] = parseFloat(\"0.\" + values[1], 10);\n            } else {\n                values[1] = null;\n            }\n\n            var pluralKey = localeData.durationPluralKey(key, values[0], values[1]);\n\n            var labels = durationGetLabels(key, localeData);\n\n            var autoLocalized = false;\n\n            var pluralizedLabels = {};\n\n            // Auto-Localized unit labels.\n            each(localeData._durationLabelTypes, function (labelType) {\n                var label = find(labels, function (label) {\n                    return label.type === labelType.type && label.key === pluralKey;\n                });\n\n                if (label) {\n                    pluralizedLabels[label.type] = label.label;\n\n                    if (stringIncludes(token.text, labelType.string)) {\n                        token.text = token.text.replace(labelType.string, label.label);\n                        autoLocalized = true;\n                    }\n                }\n            });\n\n            // Auto-pluralized unit labels.\n            if (usePlural && !autoLocalized) {\n                labels.sort(durationLabelCompare);\n\n                each(labels, function (label) {\n                    if (pluralizedLabels[label.type] === label.label) {\n                        if (stringIncludes(token.text, label.label)) {\n                            // Stop checking this token if its label is already\n                            // correctly pluralized.\n                            return false;\n                        }\n\n                        // Skip this label if it is correct, but not present in\n                        // the token's text.\n                        return;\n                    }\n\n                    if (stringIncludes(token.text, label.label)) {\n                        // Replece this token's label and stop checking.\n                        token.text = token.text.replace(label.label, pluralizedLabels[label.type]);\n                        return false;\n                    }\n                });\n            }\n        });\n\n        // Build ouptut.\n        tokens = map(tokens, function (token) {\n            if (!token.type) {\n                return token.text;\n            }\n\n            var momentType = find(momentTypes, function (momentType) {\n                return momentType.type === token.type;\n            });\n\n            if (!momentType) {\n                return \"\";\n            }\n\n            var out = \"\";\n\n            if (useLeftUnits) {\n                out += token.text;\n            }\n\n            if (isNegative && isMaxValue || !isNegative && isMinValue) {\n                out += \"< \";\n                isMaxValue = false;\n                isMinValue = false;\n            }\n\n            if (isNegative && isMinValue || !isNegative && isMaxValue) {\n                out += \"> \";\n                isMaxValue = false;\n                isMinValue = false;\n            }\n\n            if (isNegative && (momentType.value > 0 || trim === \"\" || find(stopTrim, momentType.type) || find(outputTypes, momentType.type))) {\n                out += \"-\";\n                isNegative = false;\n            }\n\n            if (token.type === \"milliseconds\" && momentType.formattedValueMS) {\n                out += momentType.formattedValueMS;\n            } else {\n                out += momentType.formattedValue;\n            }\n\n            if (!useLeftUnits) {\n                out += token.text;\n            }\n\n            return out;\n        });\n\n        // Trim leading and trailing comma, space, colon, and dot.\n        return tokens.join(\"\").replace(/(,| |:|\\.)*$/, \"\").replace(/^(,| |:|\\.)*/, \"\");\n    }\n\n    // defaultFormatTemplate\n    function defaultFormatTemplate() {\n        var dur = this.duration;\n\n        var findType = function findType(type) {\n            return dur._data[type];\n        };\n\n        var firstType = find(this.types, findType);\n\n        var lastType = findLast(this.types, findType);\n\n        // Default template strings for each duration dimension type.\n        switch (firstType) {\n            case \"milliseconds\":\n                return \"S __\";\n            case \"seconds\": // Fallthrough.\n            case \"minutes\":\n                return \"*_MS_\";\n            case \"hours\":\n                return \"_HMS_\";\n            case \"days\": // Possible Fallthrough.\n                if (firstType === lastType) {\n                    return \"d __\";\n                }\n            case \"weeks\":\n                if (firstType === lastType) {\n                    return \"w __\";\n                }\n\n                if (this.trim === null) {\n                    this.trim = \"both\";\n                }\n\n                return \"w __, d __, h __\";\n            case \"months\": // Possible Fallthrough.\n                if (firstType === lastType) {\n                    return \"M __\";\n                }\n            case \"years\":\n                if (firstType === lastType) {\n                    return \"y __\";\n                }\n\n                if (this.trim === null) {\n                    this.trim = \"both\";\n                }\n\n                return \"y __, M __, d __\";\n            default:\n                if (this.trim === null) {\n                    this.trim = \"both\";\n                }\n\n                return \"y __, d __, h __, m __, s __\";\n        }\n    }\n\n    // init\n    function init(context) {\n        if (!context) {\n            throw \"Moment Duration Format init cannot find moment instance.\";\n        }\n\n        context.duration.format = durationsFormat;\n        context.duration.fn.format = durationFormat;\n\n        context.duration.fn.format.defaults = {\n            // Many options are defaulted to `null` to distinguish between\n            // 'not set' and 'set to `false`'\n\n            // trim\n            // Can be a string, a delimited list of strings, an array of strings,\n            // or a boolean.\n            // \"large\" - will trim largest-magnitude zero-value tokens until\n            // finding a token with a value, a token identified as 'stopTrim', or\n            // the final token of the format string.\n            // \"small\" - will trim smallest-magnitude zero-value tokens until\n            // finding a token with a value, a token identified as 'stopTrim', or\n            // the final token of the format string.\n            // \"both\" - will execute \"large\" trim then \"small\" trim.\n            // \"mid\" - will trim any zero-value tokens that are not the first or\n            // last tokens. Usually used in conjunction with \"large\" or \"both\".\n            // e.g. \"large mid\" or \"both mid\".\n            // \"final\" - will trim the final token if it is zero-value. Use this\n            // option with \"large\" or \"both\" to output an empty string when\n            // formatting a zero-value duration. e.g. \"large final\" or \"both final\".\n            // \"all\" - Will trim all zero-value tokens. Shorthand for \"both mid final\".\n            // \"left\" - maps to \"large\" to support plugin's version 1 API.\n            // \"right\" - maps to \"large\" to support plugin's version 1 API.\n            // `false` - template tokens are not trimmed.\n            // `true` - treated as \"large\".\n            // `null` - treated as \"large\".\n            trim: null,\n\n            // stopTrim\n            // A moment token string, a delimited set of moment token strings,\n            // or an array of moment token strings. Trimming will stop when a token\n            // listed in this option is reached. A \"*\" character in the format\n            // template string will also mark a moment token as stopTrim.\n            // e.g. \"d [days] *h:mm:ss\" will always stop trimming at the 'hours' token.\n            stopTrim: null,\n\n            // largest\n            // Set to a positive integer to output only the \"n\" largest-magnitude\n            // moment tokens that have a value. All lesser-magnitude moment tokens\n            // will be ignored. This option takes effect even if `trim` is set\n            // to `false`.\n            largest: null,\n\n            // maxValue\n            // Use `maxValue` to render generalized output for large duration values,\n            // e.g. `\"> 60 days\"`. `maxValue` must be a positive integer and is\n            /// applied to the greatest-magnitude moment token in the format template.\n            maxValue: null,\n\n            // minValue\n            // Use `minValue` to render generalized output for small duration values,\n            // e.g. `\"< 5 minutes\"`. `minValue` must be a positive integer and is\n            // applied to the least-magnitude moment token in the format template.\n            minValue: null,\n\n            // precision\n            // If a positive integer, number of decimal fraction digits to render.\n            // If a negative integer, number of integer place digits to truncate to 0.\n            // If `useSignificantDigits` is set to `true` and `precision` is a positive\n            // integer, sets the maximum number of significant digits used in the\n            // formatted output.\n            precision: 0,\n\n            // trunc\n            // Default behavior rounds final token value. Set to `true` to\n            // truncate final token value, which was the default behavior in\n            // version 1 of this plugin.\n            trunc: false,\n\n            // forceLength\n            // Force first moment token with a value to render at full length\n            // even when template is trimmed and first moment token has length of 1.\n            forceLength: null,\n\n            // userLocale\n            // Formatted numerical output is rendered using `toLocaleString`\n            // and the locale of the user's environment. Set this option to render\n            // numerical output using a different locale. Unit names are rendered\n            // and detected using the locale set in moment.js, which can be different\n            // from the locale of user's environment.\n            userLocale: null,\n\n            // usePlural\n            // Will automatically singularize or pluralize unit names when they\n            // appear in the text associated with each moment token. Standard and\n            // short unit labels are singularized and pluralized, based on locale.\n            // e.g. in english, \"1 second\" or \"1 sec\" would be rendered instead\n            // of \"1 seconds\" or \"1 secs\". The default pluralization function\n            // renders a plural label for a value with decimal precision.\n            // e.g. \"1.0 seconds\" is never rendered as \"1.0 second\".\n            // Label types and pluralization function are configurable in the\n            // localeData extensions.\n            usePlural: true,\n\n            // useLeftUnits\n            // The text to the right of each moment token in a format string\n            // is treated as that token's units for the purposes of trimming,\n            // singularizing, and auto-localizing.\n            // e.g. \"h [hours], m [minutes], s [seconds]\".\n            // To properly singularize or localize a format string such as\n            // \"[hours] h, [minutes] m, [seconds] s\", where the units appear\n            // to the left of each moment token, set useLeftUnits to `true`.\n            // This plugin is not tested in the context of rtl text.\n            useLeftUnits: false,\n\n            // useGrouping\n            // Enables locale-based digit grouping in the formatted output. See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\n            useGrouping: true,\n\n            // useSignificantDigits\n            // Treat the `precision` option as the maximum significant digits\n            // to be rendered. Precision must be a positive integer. Significant\n            // digits extend across unit types,\n            // e.g. \"6 hours 37.5 minutes\" represents 4 significant digits.\n            // Enabling this option causes token length to be ignored. See  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\n            useSignificantDigits: false,\n\n            // template\n            // The template string used to format the duration. May be a function\n            // or a string. Template functions are executed with the `this` binding\n            // of the settings object so that template strings may be dynamically\n            // generated based on the duration object (accessible via `this.duration`)\n            // or any of the other settings. Leading and trailing space, comma,\n            // period, and colon characters are trimmed from the resulting string.\n            template: defaultFormatTemplate,\n\n            // useToLocaleString\n            // Set this option to `false` to ignore the `toLocaleString` feature\n            // test and force the use of the `formatNumber` fallback function\n            // included in this plugin.\n            useToLocaleString: true,\n\n            // formatNumber fallback options.\n            // When `toLocaleString` is detected and passes the feature test, the\n            // following options will have no effect: `toLocaleString` will be used\n            // for formatting and the grouping separator, decimal separator, and\n            // integer digit grouping will be determined by the user locale.\n\n            // groupingSeparator\n            // The integer digit grouping separator used when using the fallback\n            // formatNumber function.\n            groupingSeparator: \",\",\n\n            // decimalSeparator\n            // The decimal separator used when using the fallback formatNumber\n            // function.\n            decimalSeparator: \".\",\n\n            // grouping\n            // The integer digit grouping used when using the fallback formatNumber\n            // function. Must be an array. The default value of `[3]` gives the\n            // standard 3-digit thousand/million/billion digit groupings for the\n            // \"en\" locale. Setting this option to `[3, 2]` would generate the\n            // thousand/lakh/crore digit groupings used in the \"en-IN\" locale.\n            grouping: [3]\n        };\n\n        context.updateLocale('en', engLocale);\n    }\n\n    // Run feature tests for `Number#toLocaleString`.\n    var toLocaleStringFormatter = function(number, locale, options) {\n        return number.toLocaleString(locale, options);\n    };\n\n    toLocaleStringWorks = toLocaleStringSupportsLocales() && featureTestFormatter(toLocaleStringFormatter);\n    toLocaleStringRoundingWorks = toLocaleStringWorks && featureTestFormatterRounding(toLocaleStringFormatter);\n\n    // Run feature tests for `Intl.NumberFormat#format`.\n    var intlNumberFormatFormatter = function(number, locale, options) {\n        if (typeof window !== 'undefined' && window && window.Intl && window.Intl.NumberFormat) {\n            return window.Intl.NumberFormat(locale, options).format(number);\n        }\n    };\n\n    intlNumberFormatWorks = featureTestFormatter(intlNumberFormatFormatter);\n    intlNumberFormatRoundingWorks = intlNumberFormatWorks && featureTestFormatterRounding(intlNumberFormatFormatter);\n\n    // Initialize duration format on the global moment instance.\n    init(moment);\n\n    // Return the init function so that duration format can be\n    // initialized on other moment instances.\n    return init;\n});\n","/**\n * Data can often be a complicated mix of numbers and letters (file names\n * are a common example) and sorting them in a natural manner is quite a\n * difficult problem.\n * \n * Fortunately a deal of work has already been done in this area by other\n * authors - the following plug-in uses the [naturalSort() function by Jim\n * Palmer](http://www.overset.com/2008/09/01/javascript-natural-sort-algorithm-with-unicode-support) to provide natural sorting in DataTables.\n *\n *  @name Natural sorting\n *  @summary Sort data with a mix of numbers and letters _naturally_.\n *  @author [Jim Palmer](http://www.overset.com/2008/09/01/javascript-natural-sort-algorithm-with-unicode-support)\n *  @author [Michael Buehler] (https://github.com/AnimusMachina)\n *\n *  @example\n *    $('#example').dataTable( {\n *       columnDefs: [\n *         { type: 'natural', targets: 0 }\n *       ]\n *    } );\n *\n *    Html can be stripped from sorting by using 'natural-nohtml' such as\n *\n *    $('#example').dataTable( {\n *       columnDefs: [\n *    \t   { type: 'natural-nohtml', targets: 0 }\n *       ]\n *    } );\n *\n */\n\n(function () {\n\n    /*\n     * Natural Sort algorithm for Javascript - Version 0.7 - Released under MIT license\n     * Author: Jim Palmer (based on chunking idea from Dave Koelle)\n     * Contributors: Mike Grier (mgrier.com), Clint Priest, Kyle Adams, guillermo\n     * See: http://js-naturalsort.googlecode.com/svn/trunk/naturalSort.js\n     */\n    function naturalSort(a, b, html) {\n        var re = /(^-?[0-9]+(\\.?[0-9]*)[df]?e?[0-9]?%?$|^0x[0-9a-f]+$|[0-9]+)/gi,\n            sre = /(^[ ]*|[ ]*$)/g,\n            dre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/,\n            hre = /^0x[0-9a-f]+$/i,\n            ore = /^0/,\n            htmre = /(<([^>]+)>)/ig,\n            // convert all to strings and trim()\n            x = a.toString().replace(sre, '') || '',\n            y = b.toString().replace(sre, '') || '';\n        // remove html from strings if desired\n        if (!html) {\n            x = x.replace(htmre, '');\n            y = y.replace(htmre, '');\n        }\n        // chunk/tokenize\n        var xN = x.replace(re, '\\0$1\\0').replace(/\\0$/, '').replace(/^\\0/, '').split('\\0'),\n            yN = y.replace(re, '\\0$1\\0').replace(/\\0$/, '').replace(/^\\0/, '').split('\\0'),\n            // numeric, hex or date detection\n            xD = parseInt(x.match(hre), 10) || (xN.length !== 1 && x.match(dre) && Date.parse(x)),\n            yD = parseInt(y.match(hre), 10) || xD && y.match(dre) && Date.parse(y) || null;\n\n        // first try and sort Hex codes or Dates\n        if (yD) {\n            if (xD < yD) {\n                return -1;\n            }\n            else if (xD > yD) {\n                return 1;\n            }\n        }\n\n        // natural sorting through split numeric strings and default strings\n        for (var cLoc = 0, numS = Math.max(xN.length, yN.length); cLoc < numS; cLoc++) {\n            // find floats not starting with '0', string or 0 if not defined (Clint Priest)\n            var oFxNcL = !(xN[cLoc] || '').match(ore) && parseFloat(xN[cLoc], 10) || xN[cLoc] || 0;\n            var oFyNcL = !(yN[cLoc] || '').match(ore) && parseFloat(yN[cLoc], 10) || yN[cLoc] || 0;\n            // handle numeric vs string comparison - number < string - (Kyle Adams)\n            if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\n                return (isNaN(oFxNcL)) ? 1 : -1;\n            }\n            // rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\n            else if (typeof oFxNcL !== typeof oFyNcL) {\n                oFxNcL += '';\n                oFyNcL += '';\n            }\n            if (oFxNcL < oFyNcL) {\n                return -1;\n            }\n            if (oFxNcL > oFyNcL) {\n                return 1;\n            }\n        }\n        return 0;\n    }\n    \n    module.exports = () => {\n        jQuery.extend(jQuery.fn.dataTableExt.oSort, {\n            \"natural-asc\": function (a, b) {\n                return naturalSort(a, b, true);\n            },\n    \n            \"natural-desc\": function (a, b) {\n                return naturalSort(a, b, true) * -1;\n            },\n    \n            \"natural-nohtml-asc\": function (a, b) {\n                return naturalSort(a, b, false);\n            },\n    \n            \"natural-nohtml-desc\": function (a, b) {\n                return naturalSort(a, b, false) * -1;\n            },\n    \n            \"natural-ci-asc\": function (a, b) {\n                a = a.toString().toLowerCase();\n                b = b.toString().toLowerCase();\n    \n                return naturalSort(a, b, true);\n            },\n    \n            \"natural-ci-desc\": function (a, b) {\n                a = a.toString().toLowerCase();\n                b = b.toString().toLowerCase();\n    \n                return naturalSort(a, b, true) * -1;\n            }\n        });\n    }\n\n}())","import { Injectable } from '@angular/core';\nimport { ResourceService } from '@sunbird/shared';\n\n@Injectable({\n    providedIn: 'root'\n}\n)\nexport class ExportCsvService {\n\n    constructor(private resourceService: ResourceService) {\n    }\n\n    downloadFile(data, columns, filename) {\n        let csvData = this.ConvertToCSV(data, columns);\n        let blob = new Blob(['\\ufeff' + csvData], { type: 'text/csv;charset=utf-8;' });\n        let dwldLink = document.createElement(\"a\");\n        let url = URL.createObjectURL(blob);\n        let isSafariBrowser = navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1;\n        if (isSafariBrowser) {  //if Safari open in new window to save file with random filename.\n            dwldLink.setAttribute(\"target\", \"_blank\");\n        }\n        dwldLink.setAttribute(\"href\", url);\n        dwldLink.setAttribute(\"download\", filename + \".csv\");\n        dwldLink.style.visibility = \"hidden\";\n        document.body.appendChild(dwldLink);\n        dwldLink.click();\n        document.body.removeChild(dwldLink);\n    }\n    \n    ConvertToCSV(objArray, headerList) {\n        let array = typeof objArray != 'object' ? JSON.parse(objArray) : objArray;\n        let str = '';\n        let row = 'S.No,';\n        for (let index in headerList) {\n            row += headerList[index] + ',';\n        }\n        row = row.slice(0, -1);\n        str += row + '\\r\\n';\n        for (let i = 0; i < array.length; i++) {\n            let line = (i + 1) + '';\n            for (let index in headerList) {\n                let head = headerList[index];\n                if (head === 'issued_certificates') {\n                    if (array[i][head]) {\n                        // if (array[i][head]?.name) {\n                        line += ',' + 'Yes';\n                    } else {\n                        line += ',' + 'No';\n                    }\n                } else {\n                    line += ',' + array[i][head];\n                }\n            }\n            str += line + '\\r\\n';\n        }\n        return str;\n    }\n}","// Angular modules\nimport { NgModule } from '@angular/core';\nimport { CommonConsumptionModule } from '@project-sunbird/common-consumption-v9';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AngularMultiSelectModule } from 'angular2-multiselect-dropdown/angular2-multiselect-dropdown';\n// Modules\nimport { ChartsModule } from 'ng2-charts';\nimport { SuiModule } from 'ng2-semantic-ui-v9';\nimport { DashboardRoutingModule } from './dashboard-routing.module';\nimport { TelemetryModule } from '@sunbird/telemetry';\n// Custome component(s) and services\nimport {\n  CourseConsumptionService, DashboardUtilsService, OrganisationService,\n  RendererService, LineChartService, DownloadService, CourseProgressService,\n  UsageService, ReportService\n} from './services';\nimport {\n  OrganisationComponent, CourseConsumptionComponent, CourseProgressComponent, UsageReportsComponent,\n  DataTableComponent, DataChartComponent, ReportComponent, ReportSummaryComponent, ListAllReportsComponent,\n  AddSummaryModalComponent, CourseDashboardComponent, ReIssueCertificateComponent, DashboardSidebarComponent, DatasetComponent, MapComponent, FilterComponent,AllReportsComponent, ReportsComponent,OrganizationReportComponent, UserReportComponent,ContentReportComponent, ContentLeaderboardComponent,ContentCategoryWiseComponent, CourseReportComponent,CourseCategoryWiseComponent,\n  ContentCreationStaticsComponent,CityWiseReportComponent, DeptCityWiseReportComponent, ContentDeptWiseReportComponent,\n  CourseProgressExhaustComponent\n} from './components';\nimport { NgxDaterangepickerMd } from 'ngx-daterangepicker-material';\n// import { ChartsModule } from 'ng2-charts';\nimport { ChartModule } from 'primeng/chart';\n// SB core and shared services\nimport { SearchService } from '@sunbird/core';\nimport { SharedModule } from '@sunbird/shared';\nimport { OrderModule } from 'ngx-order-pipe';\nimport { AceEditorModule } from 'ng2-ace-editor';\nimport { DiscussionModule } from '../discussion/discussion.module';\nimport { SbTableComponent } from './components/sb-table/sb-table.component';\nimport { DashletModule } from '@project-sunbird/sb-dashlet-v9';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { SharedFeatureModule } from '@sunbird/shared-feature';\nimport { MatAutocompleteModule } from \"@angular/material/autocomplete\";\nimport { AddusersComponent } from './components/addusers/addusers.component';\nimport { TableModule } from 'primeng/table';\nimport { MultiSelectModule } from 'primeng/multiselect';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { UserSearchService } from '../search/services';\nimport { UserUploadComponent } from './components/user-upload/user-upload.component';\nimport { CalendarModule } from 'primeng/calendar';\nimport { CoreModule } from '../core';\nimport { CourseContentLeaderboardComponent } from './components/course-content-leaderboard/course-content-leaderboard.component';\nimport { CertificateTemplateUploadComponent } from './components/certificate-template-upload/certificate-template-upload.component';\nimport { FileuploadComponent } from './components/fileupload/fileupload.component';\nimport { OrgManagementModule } from '@sunbird/org-management';\nimport { CertificateDirectivesModule } from 'sb-svg2pdf';\nimport { CsModule } from '@project-sunbird/client-services';\nimport { CsLibInitializerService } from 'CsLibInitializer';\nimport { CourseProgressExhaustModule } from './course-progress-exhaust.module';\n\nexport const csCourseServiceFactory = (csLibInitializerService: CsLibInitializerService) => {\n  if (!CsModule.instance.isInitialised) {\n    csLibInitializerService.initializeCs();\n  }\n  return CsModule.instance.courseService;\n};\n@NgModule({\n  imports: [\n    CommonModule,\n    DashboardRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ChartsModule,\n    SuiModule,\n    SharedModule,\n    OrderModule,\n    CommonConsumptionModule,\n    TelemetryModule,\n    NgxDaterangepickerMd.forRoot(),\n    AceEditorModule,\n    DiscussionModule,\n    DashletModule.forRoot(),\n    MatCheckboxModule,\n    MatTabsModule,\n    MatSlideToggleModule,\n    MatExpansionModule,\n    SharedFeatureModule,\n    MatAutocompleteModule,\n    TableModule,\n    DropdownModule,\n    MultiSelectModule,\n    AngularMultiSelectModule,\n    CalendarModule,\n    CoreModule,\n    ChartModule,\n    CertificateDirectivesModule,\n    OrgManagementModule,\n    CourseProgressExhaustModule\n  ],\n  declarations: [CourseConsumptionComponent, OrganisationComponent, CourseProgressComponent, UsageReportsComponent,\n    DataTableComponent, DataChartComponent, ListAllReportsComponent, ReportSummaryComponent, ReportComponent, AddSummaryModalComponent,\n    CourseDashboardComponent, ReIssueCertificateComponent, DashboardSidebarComponent, DatasetComponent, MapComponent, FilterComponent,\n    SbTableComponent, AddusersComponent, AllReportsComponent, UserReportComponent, ContentLeaderboardComponent,UserUploadComponent,\n    CourseContentLeaderboardComponent, FileuploadComponent, CertificateTemplateUploadComponent, ReportsComponent,OrganizationReportComponent,ContentReportComponent, ContentCategoryWiseComponent,\n    CourseReportComponent,CourseCategoryWiseComponent, ContentCreationStaticsComponent,CityWiseReportComponent, DeptCityWiseReportComponent, ContentDeptWiseReportComponent],\n  exports: [CourseProgressComponent, DataTableComponent],\n  providers: [\n    RendererService,\n    UserSearchService,\n    DashboardUtilsService,\n    SearchService,\n    LineChartService,\n    CourseConsumptionService,\n    OrganisationService, DownloadService, CourseProgressService, UsageService, ReportService,\n    [{provide: 'CS_COURSE_SERVICE', useFactory: csCourseServiceFactory, deps: [CsLibInitializerService]}]\n  ],\n  \n})\nexport class DashboardModule { } \n","import { BaseReportService } from '@sunbird/core';\nimport { Injectable } from '@angular/core';\nimport { ConfigService } from '@sunbird/shared';\nimport { pluck } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DatasetService {\n\n  constructor(public config: ConfigService, private baseReportService: BaseReportService) {\n  }\n\n  public getDataSet({ datasetId, from, to, header = null }: {\n    datasetId: string, from: string; to:\n      string; header?: { [key: string]: string | string[] }\n  }) {\n    const req = {\n      url: `${this.config.urlConFig.URLS.DATASET.READ}/${datasetId}?from=${from}&to=${to}`,\n      ...(header && { header })\n    };\n    return this.baseReportService.get(req).pipe(pluck('result'));\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { CourseProgressExhaustComponent } from \"./components/course-progress-exhaust/course-progress-exhaust.component\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { SuiModule } from \"ng2-semantic-ui-v9\";\nimport { TelemetryModule } from '@sunbird/telemetry';\nimport { DiscussionModule } from '../discussion/discussion.module';\nimport { SharedModule } from '@sunbird/shared';\nimport { CourseProgressService } from \"./services\";\n\n@NgModule({\n  imports: [    CommonModule, \n    FormsModule,\n    ReactiveFormsModule,\n    SuiModule,\n    TelemetryModule,\n    DiscussionModule,\n    SharedModule\n ],\n  declarations: [CourseProgressExhaustComponent],\n  exports: [CourseProgressExhaustComponent],\n  providers: [CourseProgressService],\n  \n})\nexport class CourseProgressExhaustModule { } \n","\nimport {throwError as observableThrowError,  Observable } from 'rxjs';\n\nimport {catchError, map} from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\nimport { LearnerService } from '@sunbird/core';\nimport { ServerResponse, ConfigService } from '@sunbird/shared';\nimport { DashboardUtilsService } from './../dashboard-utils/dashboard-utils.service';\nimport { DashboardParams, DashboardData } from './../../interfaces';\n\n\nimport * as _ from 'lodash-es';\n\n/**\n * Service to get organization admin dashboard data\n *\n * It responsible to make http call\n */\n@Injectable()\n\n/**\n * @class OrganisationService\n */\nexport class OrganisationService {\n\n  /**\n   * Contains content status\n   *\n   * Used to construct readable graph legend\n   */\n  contentStatus: object = {};\n\n  /**\n   * Contains graph series data\n   */\n  graphSeries: string[];\n\n  /**\n   * Contains parsed snapshot data\n   *\n   * Snapshot data - authors and reviewers count\n   */\n  blockData: string[];\n\n  /**\n   * Contains learner service reference\n   */\n  public learner: LearnerService;\n\n  /**\n   * Dashboard helper service reference\n   */\n  public dashboardUtil: DashboardUtilsService;\n\n  /**\n   * To get api urls\n   */\n  public config: ConfigService;\n\n  /**\n   * Dataset types to hold course and organization api urls\n   */\n  datasetType: object = {};\n\n  /**\n   * Default method of OrganisationService class\n   *\n   * @param {LearnerService}        learnerService learner service\n   * @param {DashboardUtilsService} dashboardUtil  contains dashboard helper function\n   * @param {ConfigService} config To get api urls\n   */\n  constructor(learner: LearnerService, dashboardUtil: DashboardUtilsService, config: ConfigService) {\n    this.learner = learner;\n    this.dashboardUtil = dashboardUtil;\n    this.contentStatus = {\n      'org.creation.content[@status=published].count': ' LIVE',\n      'org.creation.content[@status=draft].count': ' Created',\n      'org.creation.content[@status=review].count': ' IN REVIEW'\n    };\n    this.datasetType = {\n      'ORG_CREATION': config.urlConFig.URLS.DASHBOARD.ORG_CREATION,\n      'ORG_CONSUMPTION': config.urlConFig.URLS.DASHBOARD.ORG_CONSUMPTION\n    };\n  }\n\n  /**\n   * To get organization creation and consumption data by making api call\n   *\n   * @param {DashboardParams} param identifier, time period, and dataset type\n   *\n   * @return {object} api response\n   */\n  getDashboardData(param: DashboardParams): Observable<DashboardData> {\n    const paramOptions = {\n      url: this.datasetType[param.dataset] + '/' + param.data.identifier,\n      param: {\n        period: param.data.timePeriod\n      }\n    };\n\n    return this.learner.get(paramOptions).pipe(\n      map((data: ServerResponse) => {\n        return this.parseApiResponse(data, param.dataset);\n      }),\n      catchError((err) => {\n        return observableThrowError(err);\n      }), );\n  }\n\n  /**\n   * Converts org consumption time-spent count and completion count from second to min(s) or hr(s)\n   *\n   * @param {any}    data    identifier and time period\n   * @param {string} dataset dataset type creation, consumption\n   *\n   * @return {object} api response\n   */\n  parseApiResponse(data: ServerResponse, dataset: string): DashboardData {\n    this.graphSeries = [];\n    this.blockData = [];\n\n    _.forEach(data.result.snapshot, (numericData, key) => {\n      switch (key) {\n        case 'org.creation.authors.count':\n        case 'org.creation.reviewers.count':\n        case 'org.creation.content.count':\n          this.blockData.push(numericData);\n          break;\n        case 'org.consumption.content.time_spent.sum':\n        case 'org.consumption.content.time_spent.average':\n          this.blockData.push(this.dashboardUtil.secondToMinConversion(numericData));\n          break;\n        default:\n          if (dataset === 'ORG_CREATION') {\n            this.graphSeries.push(numericData.value + this.contentStatus[key]);\n          } else {\n            this.blockData.push(numericData);\n          }\n      }\n    });\n\n    if (dataset === 'ORG_CREATION') {\n      return {\n        bucketData: data.result.series, numericData: this.blockData, series: this.graphSeries,\n        name: data.result.period === '5w' ? 'Content created per week' : 'Content created per day',\n      };\n    } else {\n      return { bucketData: data.result.series, numericData: this.blockData, series: '' };\n    }\n  }\n}\n","import { IInteractEventEdata, IInteractEventObject, TelemetryInteractDirective } from '@sunbird/telemetry';\nimport { IImpressionEventInput } from '../../../telemetry/interfaces/telemetry';\nimport { Component, OnInit, ViewChild, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { UsageService } from '../../services';\nimport * as _ from 'lodash-es';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { UserService, SearchService } from '@sunbird/core';\nimport { ToasterService, ResourceService, INoResultMessage, ConfigService } from '@sunbird/shared';\nimport { UUID } from 'angular2-uuid';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReportService } from '../../services/report/report.service';\nimport { DatePipe } from '@angular/common';\nimport { OnDelete } from 'fine-uploader/lib/core';\nimport { Subject } from 'rxjs';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-content-dept-wise-report',\n  templateUrl: './content-dept-wise-report.component.html',\n  styleUrls: ['./content-dept-wise-report.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ContentDeptWiseReportComponent implements OnInit, OnDestroy {\n  public unsubscribe = new Subject<void>();\n  noResult: boolean = false;\n  value: Date;\n  currentDate: Date = new Date();\n  moment: any;\n  fromDate: Date;\n  toDate: Date;\n  tableData: any = [];\n  allOrgName: any = [];\n  allUserName: any = [];\n  contentTypeList: any = [\n    {\n      name:'Pdf',\n      value:['application/pdf']\n    },\n    {\n      name:'Video',\n      value:['video/x-youtube','video/Webm','video/mp4']\n    },\n    {\n      name:'Collection',\n      value:['application/vnd.ekstep.content-collection']\n    },\n    {\n      name:'Assessment',\n      value:['application/vnd.ekstep.ecml-archive']\n    }\n  ];\n  cityList: any = [];\n  departmentList: any = [];\n  selectedCity: Object;\n  selectedDepartment: Object;\n  selectedContentType: Object;\n  disableDepartment: boolean = false;\n  cols: any[];\n  noResultMessage: INoResultMessage;\n  private activatedRoute: ActivatedRoute;\n  telemetryImpression: IImpressionEventInput;\n  constructor(private usageService: UsageService, private sanitizer: DomSanitizer, private configService: ConfigService,\n    public userService: UserService, private toasterService: ToasterService,private searchService:SearchService,\n    public resourceService: ResourceService, activatedRoute: ActivatedRoute, private router: Router, public reportService: ReportService, private datePipe: DatePipe\n  ) {\n    this.activatedRoute = activatedRoute;\n  }\n  ngOnInit() {\n    this.disableDepartment = true;\n    this.initializeDateFields();\n    // this.getDepartmentList();\n    // this.getOrgDetails();\n    // this.getUserDetails();\n    this.getOrgList();\n  }\n  initializeDateFields() {\n    this.moment = moment();\n    this.fromDate = new Date(this.moment.subtract(7, \"days\"));\n    this.toDate = new Date();\n  }\n  getDepartmentList() {\n    this.departmentList = _.map(_.compact(_.filter(_.cloneDeep(this.allOrgName), { rootOrgId: _.get(this.selectedCity, 'rootOrgId') })), function (obj) {\n      obj['orgName'] = _.lowerCase(obj['orgName']);\n      return obj;\n    });\n  }\n  // getDepartmentList() {\n  //   this.reportService.getDepartmentList('nulp').subscribe((response) => {\n  //     if (_.get(response, 'responseCode') === 'OK') {\n  //       if (response.result.framework.categories.length > 0) {\n  //         if (!_.isEmpty(_.find(response.result.framework.categories, { code: 'board' }))) {\n  //           this.departmentList = _.get(_.find(response.result.framework.categories, { code: 'board' }), 'terms');\n  //         }\n  //       }\n  //     } else {\n  //       this.toasterService.error(this.resourceService.messages.emsg.m0007);\n  //     }\n  //   }, (err) => {\n  //     console.log(err);\n  //     this.toasterService.error(this.resourceService.messages.emsg.m0007);\n  //   });\n  // }\n  getContentCreationStaticsReport() {\n    const data = {\n      \"request\": {\n        \"query\": \"\",\n        \"filters\": {\n          \"status\": [\n            \"Live\"\n          ],\n          \"framework\": [\"nulp\"],\n          \"channel\": [_.get(this.selectedCity, 'id')],\n          \"mimeType\": _.get(this.selectedContentType, 'value'),\n          \"lastUpdatedOn\": { \">=\": this.datePipe.transform(this.fromDate, 'yyyy-MM-ddTHH:MM'), \"<=\": this.datePipe.transform(this.toDate, 'yyyy-MM-ddTHH:MM') }\n        },\n        \"limit\": \"1000\",\n        \"sort_by\": {\n          \"lastUpdatedOn\": \"desc\"\n        },\n        \"fields\": [\"identifier\", \"creator\", \"organisation\", \"name\", \"contentType\", \"createdFor\", \"channel\", \"board\", \"medium\", \"gradeLevel\", \"subject\", \"lastUpdatedOn\", \"status\", \"createdBy\", \"framework\", \"createdOn\", \"lastPublishedOn\",\"mimeType\"]\n      }\n    };\n    if (!_.isEmpty(this.selectedCity) && !_.isEmpty(this.selectedDepartment) && !_.isEmpty(this.selectedContentType)) {\n      this.reportService.getContentCreationStaticsReport(data).subscribe((response) => {\n        if (_.get(response, 'responseCode') === 'OK') {\n          if (response.result.count > 0) {\n            this.tableData = [];\n            let tempObj = _.cloneDeep(response.result.content);\n            var self = this;\n            const requestparam = {\n              filters: {\n                id: _.uniq(_.map(tempObj, 'createdBy'))\n              }\n            }\n            this.searchService.getUserList(requestparam).subscribe(response => {\n              let subOrgUser = _.map(_.filter(response.result.response.content, obj => _.includes(_.map(obj.organisations, 'organisationId'), _.get(self.selectedDepartment, 'id'))), 'id');\n              // tempObj = _.filter(_.cloneDeep(tempObj), function (obj) {\n              //   if (_.indexOf(_.toArray(obj.createdFor), _.get(self.selectedDepartment, 'identifier')) > -1) {\n              //     return obj;\n              //   }\n              // });\n              let filteredData = _.filter(tempObj,obj=>_.includes(subOrgUser,obj.createdBy));\n              _.map(filteredData, function (value) {\n                value.createdOn = self.datePipe.transform(value.lastPublishedOn, 'MM/dd/yyyy');\n                value.OrgName = _.get(self.selectedCity, 'orgName');\n                value.departmentName = _.get(self.selectedDepartment, 'orgName');\n                // if (!_.isEmpty(obj.channel)) {\n                //   obj.OrgName = _.lowerCase(_.get(_.find(self.allOrgName, { 'id': obj.channel }), 'orgName'));\n                // } else {\n                //   obj.OrgName = '';\n                // }\n                value.UserName = value.creator;\n                // if (!_.isEmpty(obj.createdBy)) {\n                //   obj.UserName = _.get(_.find(self.allUserName, { 'id': obj.createdBy }), 'firstName') + \" \" + _.get(_.find(self.allUserName, { 'id': obj.createdBy }), 'lastName');\n                // } else {\n                //   obj.UserName = '';\n                // }\n              });\n              this.noResult = false;\n              this.tableData = filteredData;\n              // this.tableData = _.filter(_.filter(tempObj, { OrgName: _.get(this.selectedCity, 'orgName') }), { board: _.get(this.selectedDepartment, 'name') });\n              this.initializeColumns();\n              if (_.isEmpty(this.tableData)) {\n                this.noResultMessage = {\n                  'messageText': 'messages.stmsg.m0131'\n                };\n                this.noResult = true;\n              }\n            });\n          } else {\n            this.noResultMessage = {\n              'messageText': 'messages.stmsg.m0131'\n            };\n            this.noResult = true;\n          }\n        } else {\n          this.toasterService.error(this.resourceService.messages.emsg.m0007);\n        }\n      }, (err) => {\n        console.log(err);\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      });\n    } else {\n      if (_.isEmpty(this.selectedCity)) {\n        this.toasterService.error(\"Please select the city\");\n      } else if (_.isEmpty(this.selectedDepartment)) {\n        this.toasterService.error(\"Please select the department\");\n      } else if (_.isEmpty(this.selectedContentType)) {\n        this.toasterService.error(\"Please select the content type\");\n      }\n    }\n  }\n  getOrgList() {\n    this.cityList = [];\n    const data = {\n      \"request\": {\n        \"filters\": {\n          \"isTenant\":true,\n          \"status\":1\n        },\n        limit: 10000\n      }\n    };\n    this.reportService.getOrganizationName(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.count > 0) {\n          // this.cityList = _.reject(response.result.channels, function (obj) {\n          //   if (obj.name === 'nuis_test' || obj.name === 'niua_test' || obj.name === 'nuis' || obj.name === 'pwc') {\n          //     return obj;\n          //   }\n          // });\n          this.cityList = _.reject(response.result.response.content,obj=>_.isEmpty(obj.orgName));\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getSubOrgList() {\n    this.departmentList = [];\n    const data = {\n      \"request\": {\n        \"filters\": {\n          channel: _.get(this.selectedCity, 'channel'),\n          isTenant: false,\n          status:1\n        }\n      }\n    };\n    this.reportService.getSubOrgList(data).subscribe((response) => {\n      this.disableDepartment = true;\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.count > 0) {\n          this.disableDepartment = false;\n          this.departmentList = response.result.response.content;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getOrgDetails() {\n    this.allOrgName = [];\n    const data = {\n      \"request\": {\n        \"filters\": {}\n      }\n    };\n    this.reportService.getOrganizationName(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.content.length > 0) {\n          this.allOrgName = response.result.response.content;\n          this.cityList = _.map(_.compact(_.reject(_.cloneDeep(response.result.response.content), function (obj) {\n            if (obj.isRootOrg === false || _.isEmpty(obj.orgName))\n              return obj;\n          })), function (obj) {\n            obj['orgName'] = _.lowerCase(obj['orgName']);\n            return obj;\n          });\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getUserDetails() {\n    this.allUserName = [];\n    this.reportService.getUserList().subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.content.length > 0) {\n          this.allUserName = response.result.response.content;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  initializeColumns() {\n    this.cols = [\n      { field: 'OrgName', header: 'City Name' },\n      { field: 'departmentName', header: 'Creator Department' },\n      { field: 'name', header: 'Name' },\n      { field: 'board', header: 'Category' },\n      { field: 'gradeLevel', header: 'Sub Category' },\n      // { field: 'identifier', header: 'Identifier' },\n      { field: 'subject', header: 'Topic' },\n      { field: 'medium', header: 'Language' },\n      { field: 'createdOn', header: 'Last Published On' },\n      // { field: 'objectType', header: 'Object Type' },\n      { field: 'framework', header: 'Framework' },\n      { field: 'UserName', header: 'Created By' },\n      { field: 'contentType', header: 'Content Type' },\n      // { field: 'status', header: 'Status' }\n    ]\n  }\n  resetFields() {\n    this.initializeDateFields();\n    this.selectedCity = null;\n    this.selectedDepartment = null;\n    this.selectedContentType = null;\n    this.disableDepartment = true;\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}","import { IInteractEventEdata, IInteractEventObject, TelemetryInteractDirective } from '@sunbird/telemetry';\nimport { IImpressionEventInput } from '../../../telemetry/interfaces/telemetry';\nimport { Component, OnInit, ViewChild, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { UsageService } from '../../services';\nimport * as _ from 'lodash-es';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { UserService, SearchService } from '@sunbird/core';\nimport { ToasterService, ResourceService, INoResultMessage, ConfigService } from '@sunbird/shared';\nimport { UUID } from 'angular2-uuid';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReportService } from '../../services/report/report.service';\nimport { DatePipe } from '@angular/common';\nimport { OnDelete } from 'fine-uploader/lib/core';\nimport { Subject } from 'rxjs';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-dept-city-wise-report',\n  templateUrl: './dept-city-wise-report.component.html',\n  styleUrls: ['./dept-city-wise-report.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class DeptCityWiseReportComponent implements OnInit, OnDestroy {\n  public unsubscribe = new Subject<void>();\n  noResult: boolean = false;\n  value: Date;\n  currentDate: Date = new Date();\n  moment: any;\n  fromDate: Date;\n  toDate: Date;\n  tableData: any = [];\n  allOrgName: any = [];\n  allUserName: any = [];\n  cityList: any = [];\n  departmentList: any = [];\n  selectedCity: Object;\n  selectedDepartment: Object;\n  disableDepartment: boolean = false;\n  cols: any[];\n  noResultMessage: INoResultMessage;\n  private activatedRoute: ActivatedRoute;\n  telemetryImpression: IImpressionEventInput;\n  constructor(private usageService: UsageService, private sanitizer: DomSanitizer, private configService: ConfigService,\n    public userService: UserService, private searchService: SearchService, private toasterService: ToasterService,\n    public resourceService: ResourceService, activatedRoute: ActivatedRoute, private router: Router, public reportService: ReportService, private datePipe: DatePipe\n  ) {\n    this.activatedRoute = activatedRoute;\n  }\n  ngOnInit() {\n    this.disableDepartment = true;\n    this.initializeDateFields();\n    // this.getDepartmentList();\n    // this.getOrgDetails();\n    // this.getUserDetails();\n    this.getOrgList();\n  }\n  initializeDateFields() {\n    this.moment = moment();\n    this.fromDate = new Date(this.moment.subtract(7, \"days\"));\n    this.toDate = new Date();\n  }\n  getDepartmentList() {\n    this.departmentList = _.map(_.compact(_.filter(_.cloneDeep(this.allOrgName), { rootOrgId: _.get(this.selectedCity, 'rootOrgId') })), function (obj) {\n      obj['orgName'] = _.lowerCase(obj['orgName']);\n      return obj;\n    });\n  }\n  // getDepartmentList() {\n  //   this.reportService.getDepartmentList('nulp').subscribe((response) => {\n  //     if (_.get(response, 'responseCode') === 'OK') {\n  //       if (response.result.framework.categories.length > 0) {\n  //         if (!_.isEmpty(_.find(response.result.framework.categories, { code: 'board' }))) {\n  //           this.departmentList = _.get(_.find(response.result.framework.categories, { code: 'board' }), 'terms');\n  //         }\n  //       }\n  //     } else {\n  //       this.toasterService.error(this.resourceService.messages.emsg.m0007);\n  //     }\n  //   }, (err) => {\n  //     console.log(err);\n  //     this.toasterService.error(this.resourceService.messages.emsg.m0007);\n  //   });\n  // }\n  getContentCreationStaticsReport() {\n    const data = {\n      \"request\": {\n        \"query\": \"\",\n        \"filters\": {\n          \"status\": [\n            \"Live\"\n          ],\n          \"framework\": [\"nulp\"],\n          \"channel\": [_.get(this.selectedCity, 'id')],\n          \"contentType\": [\"Course\", 'Resource', 'Collection'],\n          \"lastUpdatedOn\": { \">=\": this.datePipe.transform(this.fromDate, 'yyyy-MM-ddTHH:MM'), \"<=\": this.datePipe.transform(this.toDate, 'yyyy-MM-ddTHH:MM') }\n        },\n        \"limit\": \"1000\",\n        \"sort_by\": {\n          \"lastUpdatedOn\": \"desc\"\n        },\n        \"fields\": [\"identifier\", \"creator\", \"organisation\", \"name\", \"contentType\", \"createdFor\", \"channel\", \"board\", \"medium\", \"gradeLevel\", \"subject\", \"lastUpdatedOn\", \"status\", \"createdBy\", \"framework\", \"createdOn\", \"lastPublishedOn\"]\n      }\n    };\n    if (!_.isEmpty(this.selectedCity) && !_.isEmpty(this.selectedDepartment)) {\n      this.reportService.getContentCreationStaticsReport(data).subscribe((response) => {\n        if (_.get(response, 'responseCode') === 'OK') {\n          if (response.result.count > 0) {\n            this.tableData = [];\n            let tempObj = _.cloneDeep(response.result.content);\n            var self = this;\n            const requestparam = {\n              filters: {\n                id: _.uniq(_.map(tempObj, 'createdBy'))\n              }\n            }\n            this.searchService.getUserList(requestparam).subscribe(response => {\n              let subOrgUser = _.map(_.filter(response.result.response.content, obj => _.includes(_.map(obj.organisations, 'organisationId'), _.get(self.selectedDepartment, 'id'))), 'id');\n              // tempObj = _.filter(_.cloneDeep(tempObj), function (obj) {\n              //   if (_.indexOf(_.toArray(obj.createdFor), _.get(self.selectedDepartment, 'identifier')) > -1) {\n              //     return obj;\n              //   }\n              // });\n              let filteredData = _.filter(tempObj,obj=>_.includes(subOrgUser,obj.createdBy));\n              _.map(filteredData, function (value) {\n                value.createdOn = self.datePipe.transform(value.lastPublishedOn, 'MM/dd/yyyy');\n                value.OrgName = _.get(self.selectedCity, 'orgName');\n                value.departmentName = _.get(self.selectedDepartment, 'orgName');\n                // if (!_.isEmpty(obj.channel)) {\n                //   obj.OrgName = _.lowerCase(_.get(_.find(self.allOrgName, { 'id': obj.channel }), 'orgName'));\n                // } else {\n                //   obj.OrgName = '';\n                // }\n                value.UserName = value.creator;\n                // if (!_.isEmpty(obj.createdBy)) {\n                //   obj.UserName = _.get(_.find(self.allUserName, { 'id': obj.createdBy }), 'firstName') + \" \" + _.get(_.find(self.allUserName, { 'id': obj.createdBy }), 'lastName');\n                // } else {\n                //   obj.UserName = '';\n                // }\n              });\n              this.noResult = false;\n              this.tableData = filteredData;\n              // this.tableData = _.filter(_.filter(tempObj, { OrgName: _.get(this.selectedCity, 'orgName') }), { board: _.get(this.selectedDepartment, 'name') });\n              this.initializeColumns();\n              if (_.isEmpty(this.tableData)) {\n                this.noResultMessage = {\n                  'messageText': 'messages.stmsg.m0131'\n                };\n                this.noResult = true;\n              }\n            });\n          } else {\n            this.noResultMessage = {\n              'messageText': 'messages.stmsg.m0131'\n            };\n            this.noResult = true;\n          }\n        } else {\n          this.toasterService.error(this.resourceService.messages.emsg.m0007);\n        }\n      }, (err) => {\n        console.log(err);\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      });\n    } else {\n      if (_.isEmpty(this.selectedCity)) {\n        this.toasterService.error(\"Please select the city\");\n      } else if (_.isEmpty(this.selectedDepartment)) {\n        this.toasterService.error(\"Please select the department\");\n      }\n    }\n  }\n  getOrgList() {\n    this.cityList = [];\n    const data = {\n      \"request\": {\n        \"filters\": {\n          \"isTenant\": true,\n          \"status\": 1\n        },\n        limit: 10000\n      }\n    };\n    this.reportService.getOrganizationName(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.count > 0) {\n          // this.cityList = _.reject(response.result.channels, function (obj) {\n          //   if (obj.name === 'nuis_test' || obj.name === 'niua_test' || obj.name === 'nuis' || obj.name === 'pwc') {\n          //     return obj;\n          //   }\n          // });\n          this.cityList = _.reject(response.result.response.content, obj => _.isEmpty(obj.orgName));\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getSubOrgList() {\n    this.departmentList = [];\n    const data = {\n      \"request\": {\n        \"filters\": {\n          channel: _.get(this.selectedCity, 'channel'),\n          isTenant: false,\n          status: 1\n        }\n      }\n    };\n    this.reportService.getSubOrgList(data).subscribe((response) => {\n      this.disableDepartment = true;\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.count > 0) {\n          this.disableDepartment = false;\n          this.departmentList = response.result.response.content;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getOrgDetails() {\n    this.allOrgName = [];\n    const data = {\n      \"request\": {\n        \"filters\": {}\n      }\n    };\n    this.reportService.getOrganizationName(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.content.length > 0) {\n          this.allOrgName = response.result.response.content;\n          this.cityList = _.map(_.compact(_.reject(_.cloneDeep(response.result.response.content), function (obj) {\n            if (obj.isRootOrg === false || _.isEmpty(obj.orgName))\n              return obj;\n          })), function (obj) {\n            obj['orgName'] = _.lowerCase(obj['orgName']);\n            return obj;\n          });\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getUserDetails() {\n    this.allUserName = [];\n    this.reportService.getUserList().subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.content.length > 0) {\n          this.allUserName = response.result.response.content;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  initializeColumns() {\n    this.cols = [\n      { field: 'OrgName', header: 'City Name' },\n      { field: 'departmentName', header: 'Creator Department' },\n      { field: 'name', header: 'Name' },\n      { field: 'board', header: 'Category' },\n      { field: 'gradeLevel', header: 'Sub Category' },\n      // { field: 'identifier', header: 'Identifier' },\n      { field: 'subject', header: 'Topic' },\n      { field: 'medium', header: 'Language' },\n      { field: 'createdOn', header: 'Last Published On' },\n      // { field: 'objectType', header: 'Object Type' },\n      { field: 'framework', header: 'Framework' },\n      { field: 'UserName', header: 'Created By' },\n      { field: 'contentType', header: 'Content Type' },\n      // { field: 'status', header: 'Status' }\n    ]\n  }\n  resetFields() {\n    this.initializeDateFields();\n    this.selectedCity = null;\n    this.selectedDepartment = null;\n    this.disableDepartment = true;\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}","import { NavigationHelperService, ResourceService, ToasterService } from '@sunbird/shared';\nimport { IImpressionEventInput } from '@sunbird/telemetry';\nimport { UserService } from '@sunbird/core';\nimport { Subject } from 'rxjs';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IDashboardItems } from '../../interfaces';\nimport * as _ from 'lodash-es';\nimport { CourseProgressService } from '../../services';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {  } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n\n@Component({\n  selector: 'app-course-dashboard',\n  templateUrl: './course-dashboard.component.html',\n  styleUrls: ['./course-dashboard.component.scss']\n})\nexport class CourseDashboardComponent implements OnInit, OnDestroy {\n\n  public dashBoardItems: Array<IDashboardItems> = [];\n  courseId: string;\n  telemetryImpression: IImpressionEventInput;\n  public unsubscribe$ = new Subject<void>();\n\n  constructor(\n    private courseProgressService: CourseProgressService,\n    private activatedRoute: ActivatedRoute,\n    private userService: UserService,\n    private router: Router,\n    private navigationhelperService: NavigationHelperService,\n    public resourceService: ResourceService,\n    private toasterService: ToasterService,\n    ) { }\n\n  ngOnInit() {\n    this.activatedRoute.parent.params.pipe(takeUntil(this.unsubscribe$)).subscribe(params => {\n        this.courseId = _.get(params, 'courseId');\n        this.getBatchList();\n        this.setImpressionEvent();\n      });\n  }\n\n  // To set telemetry impression\n  setImpressionEvent() {\n    this.telemetryImpression = {\n      context: {\n        env: _.get(this.activatedRoute.snapshot, 'data.telemetry.env')\n      },\n      edata: {\n        type: _.get(this.activatedRoute.snapshot, 'data.telemetry.type'),\n        pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n        uri: this.router.url,\n        duration: this.navigationhelperService.getPageLoadTime()\n      },\n      object: {\n          id: this.courseId,\n          type: _.get(this.activatedRoute.snapshot, 'data.telemetry.object.type'),\n          ver: _.get(this.activatedRoute.snapshot, 'data.telemetry.object.ver'),\n      }\n    };\n  }\n\n  // To get the loggedIn user created batch list for the course\n  getBatchList() {\n    const searchParams = {\n      courseId: this.courseId,\n      status: ['0', '1', '2'],\n      createdBy: this.userService.userid\n    };\n    this.courseProgressService.getBatches(searchParams).pipe(takeUntil(this.unsubscribe$)).subscribe(data => {\n      this.getDashboardData(_.get(data, 'result.response'));\n    }, err => {\n      this.toasterService.error(this.resourceService.messages.emsg.m0005);\n    });\n  }\n\n  // To get the user enrolled/completed  count for the Course\n  getDashboardData(batchList) {\n    const batches = _.get(batchList, 'content');\n    if (batches) {\n      this.dashBoardItems.push({\n        title: _.get(this.resourceService, 'frmelmnts.lbl.totalBatches'),\n        count: _.get(batchList, 'count'),\n        type: 'small',\n      });\n      _.forEach(batches, batch => {\n        this.updateDashBoardItems(_.get(this.resourceService, 'frmelmnts.lbl.totalCompletions'), _.get(batch, 'completedCount'), 'large');\n        this.updateDashBoardItems(_.get(this.resourceService, 'frmelmnts.lbl.totalEnrollments'), _.get(batch, 'participantCount'), 'small');\n        });\n    }\n  }\n\n  // To update the dashboardItems count\n  updateDashBoardItems(title: string, count: number, type: string) {\n    const enrollmentCount = _.find(this.dashBoardItems, { title: title });\n    if (enrollmentCount) {\n      enrollmentCount.count += count;\n    } else {\n      this.dashBoardItems.push({\n        title: title,\n        count: count,\n        type: type,\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n}\n","\nimport {takeUntil} from 'rxjs/operators';\nimport { Component, OnDestroy, AfterViewInit } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { ActivatedRoute, RouterModule, Router } from '@angular/router';\n// Custom service(s)\nimport { RendererService, CourseConsumptionService } from './../../services';\nimport { UserService, SearchService, GeneraliseLabelService } from '@sunbird/core';\nimport { ResourceService, ServerResponse, NavigationHelperService } from '@sunbird/shared';\n// Interface\nimport { DashboardData } from './../../interfaces';\nimport { IInteractEventInput, IImpressionEventInput, IInteractEventEdata } from '@sunbird/telemetry';\nimport * as _ from 'lodash-es';\n\nimport { Subject } from 'rxjs';\n\n/**\n * The course consumption dashboard component\n *\n * Display course consumption dashboard\n */\n@Component({\n  selector: 'app-course-consumption',\n  templateUrl: './course-consumption.component.html',\n  styleUrls: ['./course-consumption.component.scss']\n})\nexport class CourseConsumptionComponent implements OnDestroy, AfterViewInit {\n  /**\n   * Variable to gather and unsubscribe all observable subscriptions in this component.\n   */\n  public unsubscribe = new Subject<void>();\n  timePeriodInteractData: IInteractEventEdata;\n  interactObject: any;\n  /**\n   * Contains time period - last 7days, 14days, and 5weeks\n   */\n  timePeriod = '7d';\n\n  /**\n   * Contains selected course identifier\n   *\n   * Identifier is needed to construct dashboard api url\n   */\n  identifier = '';\n\n  /**\n   * Contains list of published course(s) of logged-in user\n   */\n  myCoursesList: Array<any> = [];\n\n  /**\n   * Contains course name of selected course\n   */\n  courseName = '';\n\n  /**\n   * Selected course details\n   */\n  selectedCourse: any;\n\n  /**\n   * Contains course consumption line chart data\n   */\n  graphData: any;\n\n  /**\n   * Contains dashboard block data\n   */\n  blockData: Array<any> = [];\n\n  /**\n   * Contains Graph index to switch between two graphs\n   */\n  showGraph = 0;\n\n  /**\n   * To show / hide loader\n   */\n  showLoader = true;\n\n  /**\n   * Contains boolean value to hide / show course selection dropdown\n   */\n  isMultipleCourses = false;\n\n  /**\n   * To display graph legend\n   */\n  chartLegend = true;\n\n  /**\n   * Chart type\n   */\n  chartType = 'line';\n\n  /**\n   * To hide show graph canvas\n   */\n  showDashboard = false;\n\n  /**\n   * To get consumption dashboard data\n   */\n  public consumptionService: CourseConsumptionService;\n\n  /**\n   * Router to change url\n   */\n  public route: Router;\n\n  /**\n   * To get params from url\n   */\n  public activatedRoute: ActivatedRoute;\n\n  /**\n   * To get logged-in user published course(s)\n   */\n  searchService: SearchService;\n\n  /**\n   * Chart renderer to call chart service like Line chart service\n   *\n   * Currently it supports only line and bar chart\n   */\n  rendererService: RendererService;\n\n  /**\n   * To get language constant\n   */\n  resourceService: ResourceService;\n\n  /**\n\t * telemetryImpression object for course consumption dashboard page\n\t*/\n  telemetryImpression: IImpressionEventInput;\n\n  /**\n   * Default method of CourseConsumptionComponent class\n   *\n   * @param {Router} route Url navigation\n   * @param {CourseConsumptionService} consumption To get dashboard data\n   * @param {ActivatedRoute} activatedRoute To get param(s) from url\n   * @param {SearchService} searchService To get logged-in user published course(s)\n   * @param {RendererService} rendererService To get chart service\n   * @param {ResourceService} resourceService To get language constant\n   */\n  constructor(route: Router, consumption: CourseConsumptionService, activatedRoute: ActivatedRoute, searchService: SearchService,\n    rendererService: RendererService, resourceService: ResourceService, public navigationhelperService: NavigationHelperService,\n    public generaliseLabelService: GeneraliseLabelService) {\n    this.consumptionService = consumption;\n    this.activatedRoute = activatedRoute;\n    this.searchService = searchService;\n    this.rendererService = rendererService;\n    this.resourceService = resourceService;\n    this.route = route;\n    // init the default impression event\n    this.activatedRoute.params.pipe(\n    takeUntil(this.unsubscribe))\n    .subscribe(params => {\n      if (params.id && params.timePeriod) {\n        this.interactObject = { id: params.id, type: 'Course', ver: '1.0' };\n        this.isMultipleCourses = false;\n        this.showDashboard = true;\n        this.getDashboardData(params.timePeriod, params.id);\n      }\n    }\n    );\n    this.getMyContent();\n  }\n\n  /**\n   * Function to get dashboard data for given time period and course unique identifier\n   *\n   * @param {string} timePeriod  timePeriod: last 7d/14d/5w\n   * @param {string} identifier  course unique identifier\n   *\n   * @example getDashboardData(7d, do_xxxxx)\n   */\n  getDashboardData(timePeriod: string, identifier: string) {\n    this.showLoader = true;\n    this.timePeriod = timePeriod ? timePeriod : '7d';\n    this.identifier = identifier;\n    const params = {\n      data: {\n        identifier: this.identifier,\n        timePeriod: this.timePeriod\n      }\n    };\n    this.consumptionService.getDashboardData(params).pipe(\n    takeUntil(this.unsubscribe))\n      .subscribe((data: DashboardData) => {\n        this.blockData = data.numericData;\n        this.graphData = this.rendererService.visualizer(data, this.chartType);\n        this.showLoader = false;\n      },\n      err => {\n        this.showLoader = false;\n      }\n      );\n  }\n\n  /**\n   * This function is used to validate given course identifier.\n   *\n   * User gets redirect to home page if url contains invalid identifier or\n   * valid identifier but logged-in user is not a owner of that identifier\n   *\n   * @param {string} identifier course unique identifier\n   *\n   * @example validateIdentifier(do_xxxxx)\n   */\n  validateIdentifier(identifier: string) {\n    if (identifier) {\n      const selectedCourse = _.find(this.myCoursesList, ['identifier', identifier]);\n      if (selectedCourse && selectedCourse.identifier) {\n        this.courseName = selectedCourse.name;\n        this.selectedCourse = selectedCourse;\n      } else {\n        this.route.navigate(['home']);\n      }\n    }\n  }\n\n  /**\n   * Get published course(s) of logged-in user\n   */\n  getMyContent(): void {\n    // First check local storage\n    const response = this.searchService.searchedContentList;\n    if (response && response.count) {\n      this.myCoursesList = response.content;\n      if (this.myCoursesList.length === 1) {\n        this.identifier = this.myCoursesList[0].identifier;\n        this.courseName = this.myCoursesList[0].name;\n        this.route.navigate(['dashBoard/activity/course/consumption', this.identifier, this.timePeriod]);\n      }\n      this.validateIdentifier(this.identifier);\n      this.showLoader = false;\n    } else {\n      // Make search api call\n      const searchParams = { status: ['Live'], contentType: ['Course'], params: { lastUpdatedOn: 'desc' } };\n      this.searchService.searchContentByUserId(searchParams).pipe(\n      takeUntil(this.unsubscribe))\n      .subscribe(\n        (data: ServerResponse) => {\n          if (data.result.count && data.result.content) {\n            this.myCoursesList = data.result.content;\n            if (data.result.content.length === 1) {\n              this.identifier = data.result.content[0].identifier;\n              this.courseName = data.result.content[0].name;\n              this.route.navigate(['dashBoard/activity/course/consumption', this.identifier, this.timePeriod]);\n            } else {\n              this.isMultipleCourses = true;\n            }\n          }\n          this.showLoader = false;\n          if (this.identifier) {\n            this.validateIdentifier(this.identifier);\n          }\n        },\n        (err: ServerResponse) => {\n          this.showLoader = false;\n        }\n      );\n    }\n  }\n\n  /**\n   * Function to change course selection and display selected course data\n   *\n   * @param {object} course course object containg course details\n   *\n   * @example onAfterCourseChange({name: Course 1, identifier: do_xxxxx})\n   */\n  onAfterCourseChange(course: { identifier: string }) {\n    if (this.identifier === course.identifier) {\n      return false;\n    }\n\n    this.route.navigate(['dashBoard/activity/course/consumption', course.identifier, this.timePeriod]);\n  }\n\n  /**\n   * Function to change time filter and get selected time period data.\n   *\n   * As of now dashboard supports only to show last 7 days, 14 days, and 5 weeks data\n   *\n   * @param {string} timePeriod timePeriod: last 7d / 14d / 5w\n   *\n   * @example onAfterFilterChange(7d)\n   */\n  onAfterFilterChange(timePeriod: string) {\n    if (this.timePeriod === timePeriod) {\n      return false;\n    }\n\n    this.route.navigate(['dashBoard/activity/course/consumption', this.identifier, timePeriod]);\n  }\n\n  /**\n   * Function used to switch graph - from Number of user per day to Time spent by day and vice versa\n   *\n   * @param {string} step next / previous\n   */\n  graphNavigation(step: string) {\n    step === 'next' ? this.showGraph++ : this.showGraph--;\n  }\n\n  ngAfterViewInit () {\n    setTimeout(() => {\n      const params = this.activatedRoute.snapshot.params;\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env\n        },\n        edata: {\n          // update the impression event after a course is selected\n          uri: 'dashboard/activity/course/consumption/' + params.id + '/' + params.timePeriod,\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          duration: this.navigationhelperService.getPageLoadTime()\n        },\n        object: {\n          id: params.id,\n          type: 'Course',\n          ver: '1.0'\n        }\n      };\n    });\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}\n","import { IColDefination, IDataTableOptions } from './../../interfaces';\nimport { Component, Input, AfterViewInit, Output, EventEmitter } from '@angular/core';\nimport * as $ from 'jquery';\nimport 'datatables.net';\nimport * as naturalSortDataTablePlugin from './../../../../../assets/libs/naturalSortDataTablePlugin';\nimport * as moment from 'moment';\nconst GRADE_HEADER = 'Grade';\nimport * as _ from 'lodash-es';\n\n@Component({\n    selector: 'app-data-table',\n    templateUrl: './data-table.component.html',\n    styleUrls: ['./data-table.component.scss']\n})\nexport class DataTableComponent implements AfterViewInit {\n    @Input() tableId: any;\n    @Input() rowsData: Array<string[]>;\n    @Input() headerData: string[];\n    @Input() columnDefinations: IColDefination[] = [];\n    @Output() rowClickEvent = new EventEmitter<any>();\n    @Input() options: IDataTableOptions = {};\n\n    ngAfterViewInit() {\n        // tslint:disable-next-line:no-unused-expression\n        this.rowsData && naturalSortDataTablePlugin(); // adds natural sorting plugin to dataTableExt\n        const columnDefs: any = [{\n            'targets': 0,\n            'render': (data) => {\n                const date = moment(data, 'DD-MM-YYYY');\n                if (date.isValid()) {\n                    return `<td><span style=\"display:none\">\n                    ${moment(data, 'DD-MM-YYYY').format('YYYYMMDD')}</span> ${data}</td>`;\n                }\n                return data;\n            }\n        }];\n        // TODO: Should be configurable, should support multi field and multi type\n        const gradeIndex = _.indexOf(this.headerData, GRADE_HEADER);\n        if (gradeIndex !== 1) {\n            columnDefs.push({\n                targets: gradeIndex, // TODO: shouldn't push to all column, only to required field\n                type: 'natural'\n            });\n        }\n        setTimeout(() => {\n            const table = $(`#${this.tableId}`).removeAttr('width').DataTable({\n                retrieve: true,\n                'columnDefs': [\n                    {\n                        'targets': 0,\n                        'render': (data) => {\n                            const date = moment(data, 'DD-MM-YYYY');\n                            if (date.isValid()) {\n                                return `<td><span style=\"display:none\">\n                                ${moment(data, 'DD-MM-YYYY').format('YYYYMMDD')}</span> ${data}</td>`;\n                            }\n                            return data;\n                        },\n                    }, ...this.columnDefinations],\n                'data': this.rowsData,\n                searching: false,\n                ...this.options\n            });\n\n            $(`#${this.tableId} tbody`).on('click', 'tr', (event) => {\n                const data = table.row(event.currentTarget).data();\n                this.rowClickEvent.emit(data);\n            });\n        }, 100);\n    }\n}\n","import { ResourceService } from '@sunbird/shared';\nimport { ActivatedRoute } from '@angular/router';\nimport { Component, OnInit, Input, ViewChild, ElementRef, OnDestroy, EventEmitter, Output } from '@angular/core';\nimport { IDataset } from '../../interfaces';\nimport { DatasetService, ReportService } from '../../services';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Subject, of, zip, Subscription, BehaviorSubject } from 'rxjs';\nimport { map, catchError, switchMap, distinctUntilChanged, tap, filter } from 'rxjs/operators';\nimport dayjs from 'dayjs';\nimport { get, chunk, map as _map, first, last, partition, forEach, flatMap } from 'lodash-es';\nimport * as $ from 'jquery';\nimport 'datatables.net';\n@Component({\n  selector: 'app-dataset',\n  templateUrl: './dataset.component.html',\n  styleUrls: ['./dataset.component.scss']\n})\nexport class DatasetComponent implements OnInit, OnDestroy {\n\n  @Input() dataset: IDataset;\n  @Input() markdownUpdated$: Subject<{ data: string, type: string }>;\n  public timeRangePicker: FormGroup;\n  public dataDictionary: string;\n  public examples: string;\n  public showLoader = false;\n\n  public get pickerMaxDate() {\n    return dayjs().subtract(1, 'day').toDate();\n  }\n\n  public get pickerMinDate() {\n    if (get(this.dataset, 'dataAvailableFrom')) {\n      return dayjs(this.dataset.dataAvailableFrom).toDate();\n    }\n    return dayjs().subtract(6, 'month').toDate();\n  }\n\n  subscription: Subscription;\n  table: any;\n  data: any;\n  options: any = { maxLines: 1000, printMargin: false };\n\n  private customTimePicker = new BehaviorSubject({ from: dayjs().subtract(7, 'day').toDate(), to: dayjs().subtract(1, 'day').toDate() });\n\n  @ViewChild('datasets') set initTable(element: ElementRef | null) {\n    if (!element) { return; }\n    this.prepareTable(element.nativeElement);\n  }\n\n  constructor(private datasetService: DatasetService, private formBuilder: FormBuilder,\n    public reportService: ReportService, private activatedRoute: ActivatedRoute,\n    public resourceService: ResourceService) { }\n\n  onMarkdownChange(updatedData: string, type: 'dataDictionary' | 'examples') {\n    this[type] = updatedData;\n  }\n\n  private prepareForm() {\n    this.timeRangePicker = this.formBuilder.group({\n      from: [dayjs().subtract(7, 'day').toDate()],\n      to: [dayjs().subtract(1, 'day').toDate()]\n    });\n    this.subscribeToTimePicker();\n  }\n\n  ngOnInit() {\n    this.prepareForm();\n    this.setMarkdowns();\n  }\n\n  private setMarkdowns() {\n    const { dataDictionary = '', examples = '' } = this.dataset || {};\n    try {\n      this.dataDictionary = atob(dataDictionary);\n      this.examples = atob(examples);\n    } catch (error) {\n      console.error(error);\n      this.dataDictionary = this.examples = '';\n    }\n  }\n\n  subscribeToTimePicker() {\n    this.subscription = this.customTimePicker.pipe(\n      tap(res => this.showLoader = true),\n      distinctUntilChanged((p: any, n: any) => JSON.stringify(p) === JSON.stringify(n)),\n      filter(res => res.from && res.to && res.from <= res.to),\n      switchMap((res: any) => {\n        const dateRange = this.getDateRange(res.from, res.to, false);\n        const chunks = this.getDateChunks(dateRange);\n        return zip(..._map(chunks, chunkObj => {\n          const [from, to] = chunkObj;\n          return this.getDataset({ from: dayjs(from), to: dayjs(to) });\n        }));\n      })\n    ).subscribe(data => {\n      this.showLoader = false;\n      this.reRenderTable(data);\n    }, err => {\n      this.showLoader = false;\n    });\n  }\n\n  private reRenderTable(data) {\n    this.data = flatMap(data);\n    if (this.table) {\n      this.table.clear();\n      this.table.rows.add(this.data);\n      this.table.draw();\n    }\n  }\n\n  onSubmit() {\n    this.customTimePicker.next(this.timeRangePicker.value);\n  }\n\n  private getDataset({ from = dayjs().subtract(7, 'day'), to = dayjs().subtract(1, 'day') }) {\n    const dateRange = this.getDateRange(from, to);\n    const { hash } = this.activatedRoute.snapshot.params;\n    return this.datasetService.getDataSet({\n      datasetId: this.dataset.datasetId || 'raw',\n      from: from.format('YYYY-MM-DD'), to: to.format('YYYY-MM-DD'),\n      ...(hash && {\n        header: {\n          ['X-Channel-Id']: atob(hash)\n        }\n      })\n    })\n      .pipe(\n        map((response: { files: string[], periodWiseFiles: { [key: string]: string[] } }) => {\n          const { periodWiseFiles } = response;\n          return _map(dateRange, date => {\n            const files = get(periodWiseFiles, date);\n            const [json = [], csv = []] = partition(files, val => val.includes('.json'));\n            return { date, json, csv };\n          });\n        }),\n        catchError(err => {\n          return of([]);\n        })\n      );\n  }\n\n  private getDateRange(startDate, endDate, formatted = true) {\n    const dates = [];\n    while (startDate <= endDate) {\n      const date = dayjs(startDate);\n      if (formatted) {\n        dates.push(date.format('YYYY-MM-DD'));\n      } else {\n        dates.push(date.toDate());\n      }\n      startDate = date.add(1, 'day');\n    }\n    return dates;\n  }\n\n  private getDateChunks(dates: string[], chunkSize: number = 7) {\n    const chunks = chunk(dates, chunkSize);\n    return _map(chunks, chunkObj => [first(chunkObj), last(chunkObj)]);\n  }\n\n  getPickerMinDate() {\n    const startDate = get(this.timeRangePicker.get('from'), 'value');\n    if (!startDate) { return this.pickerMinDate; }\n    return startDate;\n  }\n\n  getPickerMaxDate() {\n    const endDate = get(this.timeRangePicker.get('to'), 'value');\n    if (!endDate) { return this.pickerMaxDate; }\n    return endDate;\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  /**\n* @description returns default config options for master and child table\n* @private\n* @memberof ListAllReportsComponent\n*/\n  private getDefaultTableOptions = () => ({\n    paging: true,\n    lengthChange: false,\n    searching: false,\n    ordering: true,\n    info: false,\n    autoWidth: true\n  })\n\n  private handleDownload(event) {\n    const fileType = event.target.getAttribute('filetype');\n    const tr = $(event.currentTarget).closest('tr');\n    const row = this.table.row(tr);\n    const data = row.data();\n    forEach(data[fileType], file => {\n      window.open(file, '_blank');\n    });\n  }\n\n  private prepareTable(el) {\n    this.table = $(el).DataTable({\n      ...this.getDefaultTableOptions(),\n      data: this.data || [],\n      columns: [\n        {\n          title: 'Date',\n          data: 'date',\n          class: 'dt-center'\n        }, {\n          title: 'Download Files',\n          class: 'dt-center download-datasets',\n          render: (data, type, row) => {\n            const downloadFormat = this.dataset.downloadFormats || ['json', 'csv'];\n            const html = `<div>\n            ${downloadFormat.map(format => {\n              return `<button filetype=\"${format}\" class=\"sb-btn sb-btn-primary sb-left-icon-btn sb-btn-normal ${row[format] && !row[format].length ? 'sb-btn-disabled' : ''}\">\n              <i class=\"download icon\"></i>${format.toUpperCase()}</button>`;\n            })}\n             </div>`;\n            return html;\n          }\n        }\n      ]\n    });\n\n    $(el).on('click', '.download-datasets', this.handleDownload.bind(this));\n\n    $(el).removeClass('no-footer');\n  }\n\n  handleMarkdownSubmission(event) {\n    this.markdownUpdated$.next({ data: this[event], type: event });\n  }\n}\n","import { IInteractEventEdata, IInteractEventObject, TelemetryInteractDirective, IImpressionEventInput } from '@sunbird/telemetry';\nimport { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { CourseProgressService, UsageService } from './../../services';\nimport * as _ from 'lodash-es';\nimport dayjs from 'dayjs';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { UserService, TncService } from '@sunbird/core';\nimport {\n  ToasterService,\n  ResourceService,\n  INoResultMessage,\n  NavigationHelperService,\n  LayoutService\n} from '@sunbird/shared';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {Subject} from 'rxjs';\nimport {first, takeUntil} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-usage-reports',\n  templateUrl: './usage-reports.component.html',\n  styleUrls: ['./usage-reports.component.scss']\n})\nexport class UsageReportsComponent implements OnInit, AfterViewInit {\n  reportMetaData: any;\n  chartData: Array<object> = [];\n  tables: any;\n  files: any;\n  isTableDataLoaded = false;\n  isFileDataLoaded = false;\n  currentReport: any;\n  slug: string;\n  noResult: boolean;\n  showLoader = false;\n  noResultMessage: INoResultMessage;\n  private activatedRoute: ActivatedRoute;\n  telemetryImpression: IImpressionEventInput;\n  telemetryInteractEdata: IInteractEventEdata;\n  telemetryInteractDownloadEdata: IInteractEventEdata;\n  downloadUrl;\n  public courseProgressService: CourseProgressService;\n  layoutConfiguration: any;\n  private unsubscribe$ = new Subject<void>();\n  reportViewerTncVersion: string;\n  reportViewerTncUrl: string;\n  showTncPopup = false;\n  userProfile;\n  @ViewChild(TelemetryInteractDirective) telemetryInteractDirective;\n  constructor(private usageService: UsageService, private sanitizer: DomSanitizer,\n    public userService: UserService, private toasterService: ToasterService,\n    public resourceService: ResourceService, activatedRoute: ActivatedRoute, private router: Router,\n    public navigationhelperService: NavigationHelperService, public layoutService: LayoutService,\n    courseProgressService: CourseProgressService, public tncService: TncService\n  ) {\n    this.activatedRoute = activatedRoute;\n    this.courseProgressService = courseProgressService;\n  }\n\n  ngOnInit() {\n    this.initLayout();\n    const reportsLocation = (<HTMLInputElement>document.getElementById('reportsLocation'))?(<HTMLInputElement>document.getElementById('reportsLocation')).value: '';\n    this.slug = _.get(this.userService, 'userProfile.rootOrg.slug');\n    this.userService.userData$.pipe(first()).subscribe(async (user) => {\n      if (user && user.userProfile) {\n        this.userProfile = user.userProfile;\n        this.getReportViewerTncPolicy();\n      }\n    });\n    this.usageService.getData(`/${reportsLocation}/${this.slug}/config.json`)\n      .subscribe(data => {\n        if (_.get(data, 'responseCode') === 'OK') {\n          this.noResult = false;\n          this.reportMetaData = _.get(data, 'result');\n          if (this.reportMetaData[0]) { this.renderReport(this.reportMetaData[0]); }\n        }\n      }, (err) => {\n        console.log(err);\n        this.noResultMessage = {\n          'messageText': 'messages.stmsg.m0131'\n        };\n        this.noResult = true;\n      });\n  }\n\n  setTelemetryInteractObject(val) {\n    return {\n      id: val,\n      type: 'Report',\n      ver: '1.0'\n    };\n  }\n\n  initLayout() {\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout().pipe(takeUntil(this.unsubscribe$)).subscribe(layoutConfig => {\n      if (layoutConfig != null) {\n        this.layoutConfiguration = layoutConfig.layout;\n      }\n    });\n  }\n\n  setTelemetryInteractEdata(val) {\n    return {\n      id: val,\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n  }\n  renderReport(report: any) {\n    this.chartData = [];\n    this.tables = [];\n    this.files = [];\n    this.currentReport = report;\n    this.isTableDataLoaded = false;\n    const url = report.dataSource;\n    this.showLoader = true;\n    this.downloadUrl = report.downloadUrl;\n    this.usageService.getData(url)\n      .subscribe((response) => {\n        if (_.get(response, 'responseCode') === 'OK') {\n          const data = _.get(response, 'result');\n          this.showLoader = false;\n          if (_.get(report, 'charts')) {\n            this.createChartData(_.get(report, 'charts'), data, url);\n          }\n          if (_.get(report, 'table')) {\n            this.renderTable(_.get(report, 'table'), data);\n          } else {\n            this.renderTable({}, data);\n          }\n          if (_.get(report, 'files')) {\n            this.renderFiles(_.get(report, 'files'), data);\n          } else {\n            this.renderFiles({}, data);\n          }\n        } else {\n        }\n\n      }, err => { console.log(err); });\n  }\n\n  renderFiles(files, data) {\n    this.files = [];\n    _.forEach(files, file => {\n      const fileData: any = {};\n      fileData.id = _.get(file, 'id');\n      fileData.name = _.get(file, 'name');\n      fileData.desc = _.get(file, 'description');\n      fileData.size = _.get(file, 'fileSize');\n      fileData.createdOn = _.get(file, 'createdOn');\n      fileData.downloadUrl = _.get(file, 'downloadUrl');\n      this.files.push(fileData);\n    });\n    if (this.files.length) {\n      this.isFileDataLoaded = true;\n    } else {\n      this.isFileDataLoaded = false;\n    }\n    _.forEach(this.files, file => {\n      const path = (file.downloadUrl).replace('/reports/', '');\n      const requestParams = {\n        params: {\n          fileNames: JSON.stringify({ path })\n        },\n        telemetryData: this.activatedRoute\n      };\n      this.courseProgressService.getReportsMetaData(requestParams).subscribe((response) => {\n        if (_.get(response, 'responseCode') === 'OK') {\n          file.size = (_.get(response, 'result.path.fileSize')) / 1024;\n          if (_.get(response, 'result.path.lastModified')) {\n            file.createdOn = dayjs(new Date(_.get(response, 'result.path.lastModified'))).format('DD MMM YYYY');\n          } else {\n            file.createdOn = '';\n          }\n        }\n      });\n    });\n  }\n\n  createChartData(charts, data, downloadUrl) {\n    this.chartData = [];\n    _.forEach(charts, chart => {\n      const chartObj: any = {};\n      chartObj.chartConfig = chart;\n      chartObj.downloadUrl = downloadUrl;\n      chartObj.chartData = _.get(data, 'data');\n      chartObj.lastUpdatedOn = _.get(data, 'metadata.lastUpdatedOn');\n      this.chartData.push(chartObj);\n    });\n  }\n\n  renderTable(tables, data) {\n    this.tables = [];\n    tables = _.isArray(tables) ? tables : [tables];\n    _.forEach(tables, table => {\n      const tableData: any = {};\n      tableData.id = _.get(table, 'id') || `table-${_.random(1000)}`;\n      tableData.name = _.get(table, 'name') || 'Table';\n      tableData.header = _.get(table, 'columns') || _.get(data, _.get(table, 'columnsExpr'));\n      tableData.data = _.get(table, 'values') || _.get(data, _.get(table, 'valuesExpr'));\n      tableData.downloadUrl = _.get(table, 'downloadUrl') || this.downloadUrl;\n      this.tables.push(tableData);\n    });\n    this.isTableDataLoaded = true;\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env\n        },\n        object: {\n          id: this.userService.userid,\n          type: 'user',\n          ver: '1.0'\n        },\n        edata: {\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          uri: this.router.url,\n          duration: this.navigationhelperService.getPageLoadTime()\n        }\n      };\n    });\n  }\n\n  setDownloadUrl(url) {\n    this.downloadUrl = url;\n  }\n\n  downloadCSV(filepath) {\n    if (!filepath) {\n      filepath = this.downloadUrl;\n    }\n    this.usageService.getData(filepath).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        const url = _.get(response, 'result.signedUrl');\n        if (url) { window.open(url, '_blank'); }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0076);\n      }\n    }, (err) => {\n      this.toasterService.error(this.resourceService.messages.emsg.m0076);\n    });\n  }\n\n  transformHTML(data: any) {\n    return this.sanitizer.bypassSecurityTrustHtml(data);\n  }\n\n  selectedTabChange(event) {\n    const { downloadURL } = _.get(event, 'tab.textLabel');\n    downloadURL && this.setDownloadUrl(downloadURL);\n  }\n\n  getReportViewerTncPolicy() {\n    this.tncService.getReportViewerTnc().subscribe((data) => {\n      const reportViewerTncData = JSON.parse(_.get(data, 'result.response.value'));\n      if (_.get(reportViewerTncData, 'latestVersion')) {\n        this.reportViewerTncVersion = _.get(reportViewerTncData, 'latestVersion');\n        this.reportViewerTncUrl = _.get(_.get(reportViewerTncData, _.get(reportViewerTncData, 'latestVersion')), 'url');\n        this.showReportViewerTncForFirstUser();\n      }\n  });\n}\n\n  showReportViewerTncForFirstUser() {\n     const reportViewerTncObj = _.get(this.userProfile, 'allTncAccepted.reportViewerTnc');\n     if (!reportViewerTncObj) {\n     this.showTncPopup = true;\n     }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n// import { mapChildrenIntoArray } from '@angular/router/src/url_tree';\nimport { Chart } from 'chart.js';\n//import 'chartjs-plugin-labels';\n/////////////////////////////////////////\nimport { UserService, SearchService } from '@sunbird/core';\nimport { ReportService } from '../../services/report/report.service';\nimport { ToasterService, ResourceService, INoResultMessage, ConfigService } from '@sunbird/shared';\n////////////////////////////////////////\nimport * as _ from 'lodash-es';\nimport { AddusserService } from '../../services/addusser/addusser.service';\nimport { content } from 'html2canvas/dist/types/css/property-descriptors/content';\n\n\n@Component({\n  selector: 'app-content-report',\n  templateUrl: './content-report.component.html',\n  styleUrls: ['./content-report.component.scss']\n})\nexport class ContentReportComponent implements OnInit {\n\n\n  constructor\n  (\n    private _httpService: AddusserService,\n    public reportService: ReportService,\n    private searchService:SearchService,\n    private toasterService: ToasterService,\n    public resourceService: ResourceService,\n    ) { }\n\n////////////Tab///////////////////////\n  organizationTab: boolean  = true;\n  userTab: boolean = true;\n//////////////////////////////////////\n  cityList: any = [];\n  userList: any = [];\n  noResultMessage :any;\n  noResult = true;\n  ////////popup/////////////////\n  popupTitle=\"Content wise Graphical Reports\";\n  selectedItems = [];\n  addUserPopup: boolean = false;\n  ////////////extra/////////////\n  i=0;\n  Graph_Data_List=[];\n  Table_Data_List=[];\n  //////////chart.js data//////\n  G1_Piechart:any;\n  G2_Piechart:any;\n  G3_Piechart:any;\n  G4_Piechart:any;\n////////////graph data list////\n  G1_Group_list=[];\n  G2_Group_list=[];\n  G3_Group_list=[];\n  G4_Group_list=[];\n  //////////////////////////////\n  strList=\"\";\n  colsUser=[];\n  //////////////////////////////\n\n  ngOnInit() {\n    this.getContentList();\n    this.colsUser = [\n      { field: 'SNo',           header: 'SNo',          width: '50px' },\n      { field: 'creator',       header: 'Creator',      width: '150px' },\n      { field: 'subject',       header: 'Subject',      width: '150px' },\n      { field: 'organisation',  header: 'Organisation', width: '150px' },\n      { field: 'Category',      header: 'Category',     width: '150px' },\n      { field: 'name',          header: 'Name',         width: '150px' },\n      { field: 'contentType',   header: 'ContentType',  width: '150px' },\n      { field: 'copyright',     header: 'Copyright',    width: '150px' },\n    ]\n  }\n\n\n  /////Load content List////////////////////////////\n\n  getContentList()\n  {\n\n    const data = {\n      \"request\":\n      {\n        \"query\"   : \"\",\n        \"filters\" : { \"status\": [\"Live\"],\n                      \"framework\": [\"nulp\"],\n                      \"contentType\": [\"Course\", 'Resource', 'Collection']},\n\n        \"limit\"   : \"1000\",\n        \"sort_by\" : { \"lastUpdatedOn\": \"desc\" },\n        \"fields\"  :\n        [\"identifier\", \"creator\", \"organisation\",\"copyright\",\n        \"name\", \"contentType\", \"createdFor\", \"channel\",\n        \"board\", \"medium\", \"gradeLevel\", \"subject\",\n        \"lastUpdatedOn\", \"status\", \"createdBy\",\n        \"framework\", \"createdOn\", \"lastPublishedOn\"]\n    }\n    };\n\n    this.reportService.getContentCreationStaticsReport(data).subscribe((response) =>\n    {\n      if (_.get(response, 'responseCode') === 'OK')\n      {\n        if (response.result.count > 0)\n        {\n          var tableData = [];\n          let tempObj = _.cloneDeep(response.result.content);\n          tableData = tempObj;\n          var self = this;\n          ///////////////LOOPING ROOT ORG/////////////////////////////////\n          var ChnlIds=[];\n          var UserIds=[];\n           ChnlIds = _.uniq(_.map(tempObj, 'channel'));\n           UserIds = _.uniq(_.map(tempObj, 'createdBy'));\n          /////////////////GET USER LIST/////////////////////////////////\n          const reqParam = {  filters: { id:UserIds}}\n          this.searchService.getUserList(reqParam).subscribe(response =>\n            {\n            this.userList = [];\n            let userObj = _.cloneDeep(response.result.response.content);\n            this.userList = userObj;\n            //////////////////GET CITY/ORG LIST/////////////////////////////\n            const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds, \"isTenant\":true} } };\n            //const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds, \"isRootOrg\":true, \"status\":1 } } };\n            //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true, \"status\":1 } } };\n            //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true} } };\n              this.reportService.getOrganizationName(reqPayload).subscribe((response) =>\n              {\n                    this.cityList = [];\n                    let cityObj = _.cloneDeep(response.result.response.content);\n                    this.cityList = cityObj;\n                    this.cityList = _.reject(response.result.response.content,obj=>_.isEmpty(obj.orgName));\n                    //////////////////////////////////////////////////////////////////\n                    this.InitializeGraph(tableData);\n              ////////////////////////////////////////////////////\n              }); //City close\n              /////////////////////////////////////////////////////////////////\n           }); //User Close\n        }\n        else\n        {\n          this.noResultMessage = {'messageText': 'messages.stmsg.m0131' };\n          this.noResult = true;\n        }\n      }\n      else\n      {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    }); //Content close\n      ////////////////////////////////////////////////////////////\n  }\n\n  ///////////////////////////////////////////////////\n\n  InitializeGraph(C_List:any)\n  {\n      //debugger;\n      if (this.cityList.length > 0)\n      {\n\n      }\n      ///////UPDATE USER LIST//////USER-ID-to-SUB-ORG-MAPING////////////////////\n      this.userList.forEach(element =>\n        {\n          this.cityList.forEach(element1 =>\n            {\n             //if(element1.identifier==orgId)\n             //{\n             //  this.rootOrgNameUser_new  = element1.orgName\n             //}\n\n              if( element.organisations.length>1)\n                  {\n                    if((element1.identifier==element.organisations[1].organisationId) &&\n                        (element.rootOrgId!=element.organisations[1].organisationId))\n                        {\n                          element.orgNameUser_new  =   element1.orgName\n                          element.orgTypeUser_new  =   'Sub Organization';\n                         }\n                         else if(element.rootOrgId==element.organisations[1].organisationId)\n                         {\n                          element.orgNameUser_new  =  element.organisations[0].orgName;\n                          element.orgTypeUser_new =   'Sub Organization';\n                         }else\n                         {\n                          element.orgNameUser_new  =  element.organisations[1].orgName;\n                          element.orgTypeUser_new =   'Sub Organization';\n                         }\n                  }\n                  else if( element.organisations.length==1)\n                  {\n                        element.orgNameUser_new  = element.organisations[0].orgName;\n                        element.orgTypeUser_new   =   'Root  Organization';\n                  }\n              });\n        });\n      //////////////////////////////////////////////////////////////////////////\n      var groupedUserData =   this.userList.reduce(function(rv, x) { // grouping of userdata\n        (rv[x['orgNameUser_new']] = rv[x['orgNameUser_new']] || []).push(x);\n        return rv;\n        }, {});\n      /////////////////Camposing comman content data list//////////////////////////\n       this.Graph_Data_List=[];\n      C_List.forEach(x =>\n      {\n        let CityTraced= this.cityList.find(el => el.id === x.channel);\n        let UserTraced= this.userList.find(el => el.id === x.createdBy);\n          this.Graph_Data_List.push({\n          \"identifier\":x.identifier,\n          \"copyright\":x.copyright,\n          \"createdFor\":x.createdFor,\n          \"creator\":x.creator,\n          \"subject\":x.subject,\n          \"channel\":x.channel,\n          \"organisation\":x.organisation,\n          //////////////Add Processed Column///////////////\n          \"RootOrgName_new_user\":CityTraced[\"orgName\"],\n          \"rootOrgName_new_city\":UserTraced[\"rootOrgName\"],\n          \"orgNameUser_new\":UserTraced[\"orgNameUser_new\"],\n          \"orgTypeUser_new\":UserTraced[\"orgTypeUser_new\"],\n          \"lastNameUser_new\":UserTraced[\"lastName\"],\n          /////////////////////////////////////////////////\n          \"createdBy\":x.createdBy,\n          \"medium\":x.medium,\n          \"name\":x.name,\n          \"createdOn\":x.createdOn,\n          \"objectType\":x.objectType,\n          \"gradeLevel\":x.gradeLevel,\n          \"framework\":x.framework,\n          \"contentType\":x.contentType,\n          \"Category\":x.board,\n          \"lastPublishedOn\":x.lastPublishedOn,\n          \"lastUpdatedOn\":x.lastUpdatedOn,\n          \"status\":x.status\n        });\n      });\n      ///////SHORTING//////////////////////////////////////////////////\n      this.Graph_Data_List.sort((a, b) =>\n      {\n        if (a.createdBy < b.createdBy)\n        return -1;\n        if (a.createdBy > b.createdBy)\n        return 1;\n        return 0;\n    });\n     this.GeneratingChannelList(this.Graph_Data_List);\n  }\n///////////////////////////////////////////\n\nGeneratingChannelList(ResultCN:any)\n{\n      var G1_Name=[];\n      var G1_Value=[];\n      var G1_Filter=[]\n      var G1_Colour=[]\n      //////////////////////////////////////////////////////////\n      this.G1_Group_list=this.groupBy1(ResultCN,\"channel\");\n      Object.keys(this.G1_Group_list).forEach( x=>\n        {\n        var xx=this.G1_Group_list[x];\n        G1_Name.push(   xx[0].RootOrgName_new_user);\n        G1_Value.push(  this.G1_Group_list[x].length);\n        G1_Filter.push( xx[0].channel);\n        //G1_Filter.push(x);\n        G1_Colour.push(this.getRandomColorHex());\n        });\n      this.G1_Chart(G1_Name,G1_Value,G1_Filter,G1_Colour);\n}\n\nG1_Chart(G1_Name:any,G1_Value:any,G1_Filter:any,G1_Colour:any)\n{\n  if ( this.G1_Piechart) // != undefined\n  {\n    this.G1_Piechart.destroy();\n  }\n    this.G1_Piechart = new Chart('G1_Canvas',\n    {\n      type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n      data:\n          {\n            labels  :             G1_Name,\n            datasets: [{\n                  data:           G1_Value,\n                 // borderColor:    G1_Filter,\n                  borderSkipped:  G1_Filter,\n                  backgroundColor:G1_Colour,\n                  //borderWidth: 1, // Specify bar border width\n                  fill: true }\n                ]\n          },\n      options:\n          {\n            //tooltips: { mode: 'index'},\n            //hover: { mode: 'index', intersect: true  },\n            title:{ display : true,text:\"Aggregated Organization wise Contents \",fontSize : 18, fontColor : \"#111\",},\n            legend: { display :false ,labels: { fontColor: \"green\", }},\n            scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Organization' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Number of Content' } }],\n                    },\n         // plugins: {\n         //   labels: [\n         //             { render: 'label', fontColor: '#000', position: 'outside' },\n         //             { render:'value',fontColor: '#000'}\n         //           ]\n         //         },\n          }\n    });\n}\n\nG1_Chart_showData(evt:any)\n{\n  this.resetGraph('G1');\n  //var data = this.G1_Piechart.getElementsAtEvent(evt)\n  var activePoint = this.G1_Piechart.getElementAtEvent(evt);\n  if (activePoint.length > 0)\n   {\n    var filter_data         = activePoint[0]._model.borderSkipped; //bar\n    this.G2_Group_list=this.groupBy1(this.G1_Group_list[filter_data],\"Category\");\n    this.G3_Group_list=this.groupBy(this.G1_Group_list[filter_data], function(item)\n    {\n      return [item.orgTypeUser_new, item.orgNameUser_new];\n    });\n\n    this.GeneratingCategoryChart(this.G2_Group_list);\n    this.GeneratingOrg_TypeChart(this.G3_Group_list);\n  }\n}\n\nGeneratingCategoryChart(ResultTT:any)\n{\n    var G2_Name=[];\n    var G2_Value=[];\n    var G2_Filter=[]\n    var G2_Colour=[]\n    Object.keys(ResultTT).forEach( x=>\n      {\n      G2_Name.push(x);\n      G2_Value.push(ResultTT[x].length);\n      G2_Filter.push(x);\n      G2_Colour.push(this.getRandomColorHex());\n      });\n    this.G2_Chart(G2_Name,G2_Value,G2_Filter,G2_Colour);\n}\n\nG2_Chart(G2_Name:any,G2_Value:any,G2_Filter:any,G2_Colour:any)\n{\n  if ( this.G2_Piechart) // != undefined\n  {\n    this.G2_Piechart.destroy();\n  }\n    this.G2_Piechart = new Chart('G2_Canvas',\n    {\n      type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n      data:\n          {\n            labels:                 G2_Name,\n            datasets: [{\n                  data:             G2_Value,\n                  //borderColor:      G2_Filter,\n                  borderSkipped:    G2_Filter,\n                  backgroundColor:  G2_Colour,\n                  //borderWidth: 1, // Specify bar border width // Set this data to a line chart\n                  fill: true }\n                ]\n          },\n      options:\n          {\n          legend: {display: false},\n          //tooltips: { mode: 'index'},\n\n          title:{ display : true,text:\"Category wise Contents based on Aggregated Organization\",fontSize : 18, fontColor : \"#111\",},\n          scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Categories' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Number of Content' } }],\n                    },\n        // plugins: {\n        //   labels: [\n        //             { render: 'label', fontColor: '#000', position: 'outside' },\n        //             { render:'value',fontColor: '#000'}\n        //           ]\n        //         },\n         }\n    });\n}\n\n\nG2_Chart_showData(evt:any)\n{\n  this.resetGraph('G2');\n  var data = this.G2_Piechart.getElementsAtEvent(evt)\n  var activePoint = this.G2_Piechart.getElementAtEvent(evt);\n  if (activePoint.length > 0)\n   {\n    var clickedDatasetIndex = activePoint[0]._datasetIndex;\n    var clickedElementindex = activePoint[0]._index;\n     //var filter_data         = activePoint[0]._options.borderColor;  //pie\n     var filter_data         = activePoint[0]._model.borderSkipped; //bar\n    var label = this.G2_Piechart.data.labels[clickedElementindex];\n    var value = this.G2_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n    //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n    this.loadGridView(this.G2_Group_list[filter_data]);\n    this.popupTitle=\"List of Courses Created under '\"+ filter_data +\"' Category \";\n  }\n}\n\nGeneratingOrg_TypeChart(ResultCC:any)\n{\n  var G3_Name=[];\n  var G3_Value=[];\n  var G3_Filter=[];\n  var G3_Colour=[];\n  Object.keys(ResultCC).forEach( x=>\n    {\n    var Obj=ResultCC[x];\n    G3_Name.push(Obj[0].orgNameUser_new);\n\n    //G3_Name.push(x);\n    G3_Value.push(ResultCC[x].length);\n    G3_Filter.push(x);\n    G3_Colour.push(this.getRandomColorHex());\n    });\n    this.G3_Chart(G3_Name,G3_Value,G3_Filter,G3_Colour);\n}\n\n\nG3_Chart(G3_Name:any,G3_Value:any,G3_Filter:any,G3_Colour:any)\n{\n  if ( this.G3_Piechart) // != undefined\n  {\n    this.G3_Piechart.destroy();\n  }\n    this.G3_Piechart = new Chart('G3_Canvas',\n    {\n      type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n      data:\n          {\n            labels:                 G3_Name,\n            datasets: [{\n                  data:             G3_Value,\n                 // borderColor:      G3_Filter,\n                  borderSkipped:    G3_Filter,\n                  backgroundColor:  G3_Colour,\n                  //borderWidth: 1, // Specify bar border width // Set this data to a line chart\n                  fill: true }\n                ]\n          },\n      options:\n          {\n          legend: {display: false},\n          //tooltips: { mode: 'index'},\n          title:{ display : true,text:\"Root/Subroot Organization wise Contents\",fontSize : 18, fontColor : \"#111\",},\n          scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Organization' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Number of Content' } }],\n                    },\n        // plugins: {\n        //   labels: [\n        //             { render: 'label', fontColor: '#000', position: 'outside' },\n        //             { render:'value',fontColor: '#000'}\n        //           ]\n        //         },\n         }\n    });\n}\n\n\n\n\n\nG3_Chart_showData(evt:any)\n{\n  this.resetGraph('G3');\n  var activePoint = this.G3_Piechart.getElementAtEvent(evt);\n  if (activePoint.length > 0)\n   {\n    var clickedDatasetIndex = activePoint[0]._datasetIndex;\n    var clickedElementindex = activePoint[0]._index;\n     //var filter_data         = activePoint[0]._options.borderColor;  //pie\n     var filter_data         = activePoint[0]._model.borderSkipped; //bar\n    var label = this.G3_Piechart.data.labels[clickedElementindex];\n    var value = this.G3_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n    //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n    this.G4_Group_list=this.groupBy1(this.G3_Group_list[filter_data],\"Category\");\n    this.ContentChart(this.G4_Group_list);\n  }\n}\n\nContentChart(ResultTT:any)\n{\n  var G4_Name=[];\n      var G4_Value=[];\n      var G4_Filter=[];\n      var G4_Colour=[];\n\n      Object.keys(ResultTT).forEach( x=>\n        {\n          G4_Name.push(x);\n          G4_Value.push(ResultTT[x].length);\n          G4_Filter.push(x);\n          G4_Colour.push(this.getRandomColorHex());\n        });\n      this.G4_Chart(G4_Name,G4_Value,G4_Filter,G4_Colour);\n}\n\nG4_Chart(G4_Name:any,G4_Value:any,G4_Filter:any,G4_Colour:any)\n{\n  if ( this.G4_Piechart) // != undefined\n  {\n    this.G4_Piechart.destroy();\n  }\n this.G4_Piechart = new Chart('G4_Canvas',\n {\n   type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n   data:\n       {\n         labels:                 G4_Name,\n         datasets: [{\n               data:             G4_Value,\n              // borderColor:      G4_Filter,\n               borderSkipped:    G4_Filter,\n               backgroundColor:  G4_Colour,\n               //borderWidth: 1,\n               fill: true }\n             ]\n       },\n   options:\n       {\n       legend: {display: false},\n       //tooltips: { mode: 'index'},\n       //hover: { mode: 'index', intersect: true  },\n       title:{ display : true,text:\"Category wise Contents based on Root/Subroot Organization\",fontSize : 18, fontColor : \"#111\",},\n       scales: {\n        xAxes: [{ scaleLabel: { display: true, labelString: 'Categories' } }],\n        yAxes: [{ scaleLabel: { display: true, labelString: 'Number of Content' } }],\n                },\n      // plugins: {\n      //   labels: [\n      //             { render: 'label', fontColor: '#000', position: 'outside' },\n      //             { render:'value',fontColor: '#000'}\n      //           ]\n      //         },\n       }\n });\n }\n\nG4_Chart_showData(evt:any)\n{\n    var activePoint = this.G4_Piechart.getElementAtEvent(evt);\n    if (activePoint.length > 0)\n     {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n       //var filter_data         = activePoint[0]._options.borderColor;  //pie\n    var filter_data         = activePoint[0]._model.borderSkipped; //bar\n\n      var label = this.G4_Piechart.data.labels[clickedElementindex];\n      var value = this.G4_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n      //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n      this.loadGridView(this.G4_Group_list[filter_data]);\n      this.popupTitle=\"List of Courses Created under '\"+ filter_data +\"' Category \";\n    }\n}\n\n////////////Global Function///////////////////////////////\n\n\nresetGraph(ngClick:any)\n{\n  if(ngClick==\"G1\")\n   {\n    //this.G3_Piechart=null;\n    //this.G3_Piechart=new Chart(\"G4_Canvas\", { type: \"pie\", data: {} ,options: {} });\n    this.Table_Data_List=[];\n  }\n  else  if(ngClick==\"G2\")\n  {\n    this.Table_Data_List=[];\n  }\n  else  if(ngClick==\"G3\")\n  {\n    this.Table_Data_List=[];\n  }\n}\n\n\nloadGridView(tableData:any)\n{\n  var SNo=0;\n  tableData.forEach(y =>\n    {\n      SNo++;\n      y.SNo=SNo;\n    });\n    this.Table_Data_List=tableData;\n}\n\n getRandomColorHex()\n  {\n  //  var hex = \"0123456789ABCDEF\",\n  //      color = \"#\";\n  //  for (var i = 1; i <= 6; i++)\n  //  {\n  //    color += hex[Math.floor(Math.random() * 16)];\n  //  }\n    var color= [\"red\", \"green\", \"blue\", \"purple\", \"magenta\",\"aqua\", \"salmon\", \"darkgray\", \"pink\", \"coral\"];\n    //var min=0;\n    //var max=color.length-1;\n    //var rand= Math.floor(Math.random() * (max - min + 1) + min);\n    this.i++;\n    //return color[this.i%color.length-1];\n    return \"blue\";\n }\n\n groupBy( array , f )\n {\n   var groups = {};\n   array.forEach( function( o )\n   {\n     var group = JSON.stringify( f(o) );\n     groups[group] = groups[group] || [];\n     groups[group].push( o );\n   });\n   return Object.keys(groups).map( function( group )\n   {\n     return groups[group];\n   })\n }\n\n\n groupBy1(list, key)\n {\n  return list.reduce(function(rv, x)\n  {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n///////////////////////////////////////\n////////////////////////////////////////////////\n\n}\n\n","export * from './renderer/renderer.service';\nexport * from './download/download.service';\nexport * from './organization/organization.service';\nexport * from './course-consumption/course-consumption.service';\nexport * from './dashboard-utils/dashboard-utils.service';\nexport * from './chartjs';\nexport * from './course-progress/course-progress.service';\nexport * from './usage/usage.service';\nexport * from './report/report.service';\nexport * from './dataset/dataset.service';\n","export * from './course-consumption/course-consumption.component';\nexport * from './organization/organization.component';\nexport * from './course-progress/course-progress.component';\nexport * from './course-progress-exhaust/course-progress-exhaust.component';\nexport * from './usage-reports/usage-reports.component';\nexport * from './data-table/data-table.component';\nexport * from './data-chart/data-chart.component';\nexport * from './report/report.component';\nexport * from './report-summary/report-summary.component';\nexport * from './list-all-reports/list-all-reports.component';\nexport * from './add-summary-modal/add-summary-modal.component';\nexport * from './course-dashboard/course-dashboard.component';\nexport * from './re-issue-certificate/re-issue-certificate.component';\nexport * from './dashboard-sidebar/dashboard-sidebar.component';\nexport * from './dataset/dataset.component';\nexport * from './map/map.component';\nexport * from './filter/filter.component';\nexport * from './all-dashboard/all-dashboard.component';\n\n \n// export * from './content-creation-statics/content-creation-statics.component';\nexport * from './city-wise-report/city-wise-report.component';\nexport * from './dept-city-wise-report/dept-city-wise-report.component';\nexport * from './content-dept-wise-report/content-dept-wise-report.component';\n// export * from './total-users/total-users.component';\n// export * from './add-userss/add-userss.component';\nexport * from './reports/reports.component';\nexport * from './user-report/user-report.component';\nexport * from './organization-report/organization-report.component';\nexport * from './content-report/content-report.component';\nexport * from './content-category-wise/content-category-wise.component';\nexport * from './content-leaderboard/content-leaderboard.component';\nexport * from './course-report/course-report.component';\nexport * from './course-category-wise/course-category-wise.component';\nexport * from './content-creation-statics/content-creation-statics.component';\n    \n","import { IInteractEventEdata, IInteractEventObject, TelemetryInteractDirective } from '@sunbird/telemetry';\nimport { IImpressionEventInput } from './../../../telemetry/interfaces/telemetry';\nimport { Component, OnInit, ViewChild, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { UsageService } from './../../services';\nimport * as _ from 'lodash-es';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { UserService } from '@sunbird/core';\nimport { ToasterService, ResourceService, INoResultMessage, ConfigService } from '@sunbird/shared';\nimport { UUID } from 'angular2-uuid';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReportService } from '../../services/report/report.service';\nimport { DatePipe } from '@angular/common';\nimport { OnDelete } from 'fine-uploader/lib/core';\nimport { Subject } from 'rxjs';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-city-wise-report',\n  templateUrl: './city-wise-report.component.html',\n  styleUrls: ['./city-wise-report.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class CityWiseReportComponent implements OnInit, OnDestroy {\n  pieChartData: any;\n  public unsubscribe = new Subject<void>();\n  noResult: boolean = false;\n  value: Date;\n  moment: any;\n  currentDate: Date = new Date();\n  fromDate: Date;\n  toDate: Date;\n  tableData: any = [];\n  allOrgName: any = [];\n  allUserName: any = [];\n  cityList: any = [];\n  selectedCity: string;\n  cols: any[];\n  noResultMessage: INoResultMessage;\n  private activatedRoute: ActivatedRoute;\n  telemetryImpression: IImpressionEventInput;\n  constructor(private usageService: UsageService, private sanitizer: DomSanitizer, private configService: ConfigService,\n    public userService: UserService, private toasterService: ToasterService,\n    public resourceService: ResourceService, activatedRoute: ActivatedRoute, private router: Router, public reportService: ReportService, private datePipe: DatePipe\n  ) {\n    this.activatedRoute = activatedRoute;\n  }\n  ngOnInit() {\n    this.initializeDateFields();\n    this.getOrgList();\n    this.getOrgDetails();\n    // this.getUserDetails();\n  }\n  initializeDateFields() {\n    this.moment = moment();\n    this.fromDate = new Date(this.moment.subtract(7, \"days\"));\n    this.toDate = new Date();\n  }\n  getContentCreationStaticsReport() {\n    let channelfilter = [];\n    // _.map(_.filter(_.cloneDeep(this.allOrgName), { rootOrgId: _.get(this.selectedCity, 'rootOrgId') }), function (obj) {\n    //   channelfilter.push(obj.rootOrgId);\n    // });\n    const data = {\n      \"request\": {\n        \"query\": \"\",\n        \"filters\": {\n          \"status\": [\n            \"Live\"\n          ],\n          \"framework\": [\"nulp\"],\n          \"channel\": [_.get(this.selectedCity, 'id')],\n          // \"channel\": channelfilter,\n          \"contentType\": [\"Course\", 'Resource', 'Collection'],\n          \"lastUpdatedOn\": { \">=\": this.datePipe.transform(this.fromDate, 'yyyy-MM-ddTHH:MM'), \"<=\": this.datePipe.transform(this.toDate, 'yyyy-MM-ddTHH:MM') }\n        },\n        \"limit\": \"1000\",\n        \"sort_by\": {\n          \"lastUpdatedOn\": \"desc\"\n        },\n        \"fields\": [\"identifier\", \"creator\", \"organisation\", \"name\", \"contentType\", \"createdFor\", \"channel\", \"board\", \"medium\", \"gradeLevel\", \"subject\", \"lastUpdatedOn\", \"status\", \"createdBy\", \"framework\", \"createdOn\", \"lastPublishedOn\"]\n      }\n    };\n    if (!_.isEmpty(this.selectedCity)) {\n      this.reportService.getContentCreationStaticsReport(data).subscribe((response) => {\n        if (_.get(response, 'responseCode') === 'OK') {\n          if (response.result.count > 0) {\n            this.tableData = [];\n            let tempObj = _.cloneDeep(response.result.content);\n            var self = this;\n            _.map(tempObj, function (obj) {\n              obj.createdOn = self.datePipe.transform(obj.lastPublishedOn, 'MM/dd/yyyy');\n              obj.OrgName = _.get(self.selectedCity, 'orgName');\n              if (_.toArray(obj.createdFor).length === 1) {\n                // obj.departmentName = _.toArray(obj.organisation)[0];\n                obj.departmentName = _.get(_.find(self.allOrgName, { 'id': _.toArray(obj.createdFor)[0] }), 'orgName');\n              } else if (_.toArray(obj.createdFor).length > 1) {\n                if (_.get(self.selectedCity, 'identifier') === _.toArray(obj.createdFor)[0]) {\n                  // obj.departmentName = _.toArray(obj.organisation)[1];\n                  obj.departmentName = _.get(_.find(self.allOrgName, { 'id': _.toArray(obj.createdFor)[1] }), 'orgName');\n                } else {\n                  // obj.departmentName = _.toArray(obj.organisation)[0];\n                  obj.departmentName = _.get(_.find(self.allOrgName, { 'id': _.toArray(obj.createdFor)[0] }), 'orgName');\n                }\n              }\n              // if (!_.isEmpty(obj.channel)) {\n              //   obj.departmentName = _.lowerCase(_.get(_.find(self.allOrgName, { 'id': obj.channel }), 'orgName'));\n              // } else {\n              //   obj.departmentName = '';\n              // }\n              obj.UserName = obj.creator;\n              // if (!_.isEmpty(obj.createdBy)) {\n              //   obj.UserName = _.get(_.find(self.allUserName, { 'id': obj.createdBy }), 'firstName') + \" \" + _.get(_.find(self.allUserName, { 'id': obj.createdBy }), 'lastName');\n              // } else {\n              //   obj.UserName = '';\n              // }\n            });\n            this.noResult = false;\n            this.tableData = tempObj;\n            // this.tableData = _.get(this.selectedCity, 'orgName') != 'All' ? _.filter(tempObj, { OrgName: _.get(this.selectedCity, 'orgName') }) : tempObj;\n            this.initializeColumns();\n            this.initializePieChart();\n            // if (_.isEmpty(this.tableData)) {\n            //   this.noResultMessage = {\n            //     'messageText': 'messages.stmsg.m0131'\n            //   };\n            //   this.noResult = true;\n            // }\n          } else {\n            this.noResultMessage = {\n              'messageText': 'messages.stmsg.m0131'\n            };\n            this.noResult = true;\n          }\n        } else {\n          this.toasterService.error(this.resourceService.messages.emsg.m0007);\n        }\n      }, (err) => {\n        console.log(err);\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      });\n    } else {\n      this.toasterService.error(\"Please select the city\");\n    }\n  }\n  initializePieChart() {\n    let pieChartLabels = [];\n    let pieChartData = [];\n    let pieChartColors = [];\n    let staticColors = [\"#42a5f5\", \"#26a69a\", \"#8bc34a\", \"#43a047\", \"#0097a7\"];\n    let self = this;\n    _.map(_.uniqBy(_.cloneDeep(this.tableData), 'departmentName'), function (obj) {\n      pieChartLabels.push(_.get(obj, 'departmentName'));\n      pieChartData.push(_.filter(_.cloneDeep(self.tableData), { departmentName: _.get(obj, 'departmentName') }).length);\n    });\n    _.map(pieChartLabels, function (obj, index) {\n      pieChartColors.push(staticColors[index % 5]);\n    });\n    this.pieChartData = {\n      labels: pieChartLabels,\n      datasets: [\n        {\n          data: pieChartData,\n          backgroundColor: pieChartColors,\n          hoverBackgroundColor: pieChartColors\n        }]\n    };\n  }\n  getOrgList() {\n    this.cityList = [];\n    const data = {\n      \"request\": {\n        \"filters\": {\n          \"isTenant\":true,\n          \"status\":1\n        },\n        limit: 10000\n      }\n    };\n    this.reportService.getOrganizationName(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.count > 0) {\n          // this.cityList = _.reject(response.result.channels, function (obj) {\n          //   if (obj.name === 'nuis_test' || obj.name === 'niua_test' || obj.name === 'nuis' || obj.name === 'pwc') {\n          //     return obj;\n          //   }\n          // });\n          this.cityList = _.reject(response.result.response.content,obj=>_.isEmpty(obj.orgName));\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getOrgDetails() {\n    this.allOrgName = [];\n    const data = {\n      \"request\": {\n        \"filters\": {}\n      }\n    };\n    this.reportService.getOrganizationName(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.content.length > 0) {\n          this.allOrgName = response.result.response.content;\n          // this.cityList = _.map(_.compact(_.reject(_.cloneDeep(response.result.response.content), function (obj) {\n          //   if (_.lowerCase(obj.orgName) == 'nuis' || _.lowerCase(obj.orgName) == 'test nuis' || _.lowerCase(obj.orgName) == 'pwc' || _.lowerCase(obj.orgName) == 'test niua' || obj.isRootOrg === false || _.isEmpty(obj.orgName))\n          //     return obj;\n          // })), function (obj) {\n          //   obj['orgName'] = _.lowerCase(obj['orgName']);\n          //   return obj;\n          // });\n          // this.cityList.splice(0, 0, { orgName: \"All\" });\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getUserDetails() {\n    this.allUserName = [];\n    this.reportService.getUserList().subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.content.length > 0) {\n          this.allUserName = response.result.response.content;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  initializeColumns() {\n    this.cols = [\n      { field: 'OrgName', header: 'City Name' },\n      // { field: 'departmentName', header: 'Creator Department' },\n      { field: 'name', header: 'Name' },\n      { field: 'board', header: 'Category' },\n      { field: 'gradeLevel', header: 'Sub Category' },\n      // { field: 'identifier', header: 'Identifier' },\n      { field: 'subject', header: 'Topic' },\n      { field: 'medium', header: 'Language' },\n      { field: 'createdOn', header: 'Last Published On' },\n      // { field: 'objectType', header: 'Object Type' },\n      { field: 'framework', header: 'Framework' },\n      { field: 'UserName', header: 'Created By' },\n      { field: 'contentType', header: 'Content Type' },\n      // { field: 'status', header: 'Status' }\n    ]\n  }\n  resetFields() {\n    this.initializeDateFields();\n    this.selectedCity = null;\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}","import { Component, OnInit, EventEmitter, Input, Output, OnDestroy, ViewChild, ElementRef, ChangeDetectorRef } from '@angular/core';\nimport { IInteractEventObject } from '@sunbird/telemetry';\nimport { ResourceService } from '@sunbird/shared';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport * as _ from 'lodash-es';\nimport * as moment from 'moment';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription, Subject } from 'rxjs';\nimport { distinctUntilChanged, map, debounceTime, takeUntil } from 'rxjs/operators';\nimport { MatAutocomplete } from '@angular/material/autocomplete';\n\n@Component({\n  selector: 'app-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.scss']\n})\nexport class FilterComponent implements OnInit, OnDestroy {\n\n  @Input() hideElements = false;\n  @Input() chartData: any;\n  @Input() filters: any;\n  @Input() telemetryInteractObject: IInteractEventObject;\n  @Output() filterChanged: EventEmitter<any> = new EventEmitter<any>();\n  @Input() filterType: string;\n\n  filtersFormGroup: FormGroup;\n  chartLabels: any = [];\n  chartConfig: any;\n  pickerMinDate: any; // min date that can be selected in the datepicker\n  pickerMaxDate: any; // max date that can be selected in datepicker\n  dateFilterReferenceName;\n  filtersSubscription: Subscription;\n  selectedFilters: {};\n  noResultsFound: Boolean;\n  resultStatistics = {};\n  selectedStartDate: any;\n  selectedEndDate: any;\n  loadash = _;\n  showFilters: Boolean = true;\n  dateFilters: Array<string>;\n  public unsubscribe = new Subject<void>();\n  previousFilters: any;\n  formChartData:any =[];\n\n  @Input()\n  set selectedFilter(val: any) {\n    if (val) {\n      this.selectedFilters = {};\n      if (val.filters) {\n        this.filters = val.filters;\n      }\n      this.formGeneration(val.data);\n      if (val.selectedFilters) {\n        this.selectedFilters = val.selectedFilters;\n        this.filtersFormGroup.patchValue(val.selectedFilters);\n      }\n    }\n  }\n\n\n  @Input()\n  set resetFilters(val: any) {\n    if (val) {    \n        const currentFilterValue = _.get(this.filtersFormGroup, 'value');\n        this.resetFilter();\n        this.chartData = val.data;\n        this.buildFiltersForm();\n        if (val.reset && val.reset == true) {\n          this.selectedFilters = {};\n        } else if (val.filters) {\n          this.filtersFormGroup.patchValue(val.filters);\n          this.selectedFilters = val.filters;\n        } else if (currentFilterValue) {\n          this.filtersFormGroup.patchValue(currentFilterValue);\n          this.selectedFilters = currentFilterValue;\n        }\n    }\n  }\n\n  ranges: any = {\n    'Today': [moment(), moment()],\n    'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\n    'Last 7 Days': [moment().subtract(6, 'days'), moment()],\n    'Last 30 Days': [moment().subtract(29, 'days'), moment()],\n    'This Month': [moment().startOf('month'), moment().endOf('month')],\n    'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\n  };\n  @ViewChild('datePickerForFilters') datepicker: ElementRef;\n  @ViewChild('matAutocomplete') matAutocomplete: MatAutocomplete;\n  filterQuery:any;\n\n  constructor(\n    public resourceService: ResourceService,\n    private fb: FormBuilder,\n    public activatedRoute: ActivatedRoute,\n    private cdr: ChangeDetectorRef\n  ) {\n\n  }\n\n\n  ngOnInit() {\n    let charts =[];\n    if(this.chartData && this.chartData.length > 0) {\n      this.chartData.map(function(data){\n        charts.push(...data.data);\n        return data.data;\n      })\n    }\n    this.formChartData = charts;\n    if (this.filters) {\n      this.buildFiltersForm();\n    }\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  formUpdate(chartData) {\n    const filterKeys = Object.keys(this.selectedFilters);\n    let previousKeys = [];\n    if (this.previousFilters) {\n      previousKeys = Object.keys(this.previousFilters);\n    }\n    _.forEach(this.filters, filter => {\n      const options = (_.sortBy(_.uniq(\n        _.map(chartData, (data) => data[filter.reference] ? data[filter.reference].toLowerCase() : ''\n        )))).filter(Boolean);\n\n      if (!filterKeys.includes(filter.reference)) {\n        filter.options = options;\n      } else {\n        if (previousKeys && previousKeys.includes(filter.reference) && this.previousFilters && this.previousFilters[filter.reference].length == this.selectedFilters[filter.reference].length) {\n          if(options.length > filter.options){\n            filter.options = options;\n          } \n        }\n      }\n    });\n    this.previousFilters = this.selectedFilters;\n  }\n  formGeneration(chartData) {\n      this.filtersFormGroup = this.fb.group({});\n      _.forEach(this.filters, filter => {\n\n        if (filter.controlType === 'date' || /date/i.test(_.get(filter, 'reference'))) {\n          const dateRange = _.uniq(_.map(chartData, _.get(filter, 'reference')));\n          this.pickerMinDate = moment(dateRange[0], 'DD-MM-YYYY');\n          this.pickerMaxDate = moment(dateRange[dateRange.length - 1], 'DD-MM-YYYY');\n          this.dateFilterReferenceName = filter.reference;\n        }\n        this.filtersFormGroup.addControl(_.get(filter, 'reference'), this.fb.control(''));\n        filter.options = (_.sortBy(_.uniq(\n          _.map(chartData, (data) => data[filter.reference] ? data[filter.reference].toLowerCase() : ''\n          )))).filter(Boolean);\n\n      });\n\n  }\n\n  buildFiltersForm() {\n    this.formGeneration(this.formChartData);\n    this.filtersSubscription = this.filtersFormGroup.valueChanges\n      .pipe(\n        takeUntil(this.unsubscribe),\n        map(filters => {\n          return _.omitBy(filters, _.isEmpty);\n        }),\n        debounceTime(100),\n        distinctUntilChanged()\n      )\n      .subscribe((filters) => {\n        this.selectedFilters = filters;\n        this.filterData();\n      }, (err) => {\n        console.log(err);\n      });\n      if (this.chartData.selectedFilters) {\n          this.filtersFormGroup.patchValue(this.chartData.selectedFilters);\n      }\n\n  }\n\n  setTelemetryInteractEdata(val) {\n    return {\n      id: _.join(_.split(val, ' '), '-').toLowerCase(),\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n  }\n\n  resetFilter() {\n    if (this.filtersFormGroup) {\n      this.filtersFormGroup.reset();\n    }\n    if (this.datepicker) {\n      this.datepicker.nativeElement.value = '';\n    }\n    this.showFilters = false;\n    this.cdr.detectChanges(); // to fix change detection issue in sui select\n    this.showFilters = true;\n  }\n\n  getDateRange({ startDate, endDate }, columnRef) {\n    this.selectedStartDate = moment(startDate).subtract(1, 'day');\n    this.selectedEndDate = moment(endDate).add(1, 'day');\n    const dateRange = [];\n    const currDate = moment(this.selectedStartDate).startOf('day');\n    const lastDate = moment(this.selectedEndDate).startOf('day');\n    while (currDate.add(1, 'days').diff(lastDate) < 0) {\n      dateRange.push(currDate.clone().format('DD-MM-YYYY'));\n    }\n    this.filtersFormGroup.get(columnRef).setValue(dateRange);\n  }\n\n  filterData() {\n    if (this.selectedFilters) {\n\n      let filterData = [];\n      let filteredChartData =[];\n      this.chartData.forEach(chart => {\n\n        let id = chart.id;\n        delete chart.id;\n        delete chart.data.selectedFilters;\n        delete chart.data.id;\n        \n        let result: Array<{}> = _.filter(chart.data, data => {\n            return _.every(this.selectedFilters, (filterValues, key) => {\n              if(data[key]){\n                return _.some(filterValues, filterValue => _.trim(_.toLower(filterValue)) === _.trim(_.toLower(_.get(data, key))));\n              }\n            });\n            \n        });\n\n        filteredChartData.push({ id:id,data: result });\n        result['selectedFilters'] = this.selectedFilters;\n        filterData.push(...result);\n      });\n\n      this.formUpdate(filterData);\n      let keys = Object.keys(this.selectedFilters);\n      this.dateFilters = [];\n      this.filters.map(ele => {\n          if (ele && ele['controlType'].toLowerCase() == 'date') {\n            keys.map(item => {\n              if (item == ele['reference']) {\n                this.dateFilters.push(item);\n              }\n            });\n          }\n      });\n\n      this.filterChanged.emit({\n        allFilters: this.filters,\n        filters: this.selectedFilters,\n        chartData: filteredChartData,\n      });\n    } else {\n      this.dateFilters = [];\n      this.filterChanged.emit({\n        allFilters: this.filters,\n        filters: {},\n        chartData: this.chartData,\n      });\n    }\n\n  }\n  checkFilterReferance(element) {\n    if (this.dateFilters && this.dateFilters.includes(element)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  autoCompleteChange(data,reference){    \n    let object = {};\n    if(data && data.length > 0){\n      object[reference] =data;\n    }\n    this.filtersFormGroup.controls[reference].setValue(data);\n  }\n  getSelectedData(reference){\n\n    if(this.selectedFilters && this.selectedFilters[reference]){\n      return this.selectedFilters[reference];\n    } else {\n      return [];\n    }\n  }\n\n\n  getFilters(options) {\n    if(this.filterQuery && this.filterQuery !=\"\"){\n      return options.filter(opt =>\n        opt.toLowerCase().indexOf(this.filterQuery.toLowerCase()) === 0);\n    } else {\n      return options;\n    }\n  }\n  \n  chooseOption(): void {\n    this.matAutocomplete.options.first.select();\n  }\n\n  getFiltersValues(filter){\n   return Array.isArray(filter) ? filter : [filter];\n  }\n\n}\n","import { IInteractEventEdata, IInteractEventObject, TelemetryInteractDirective } from '@sunbird/telemetry';\nimport { IImpressionEventInput } from './../../../telemetry/interfaces/telemetry';\nimport { Component, OnInit, ViewChild, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { UsageService } from './../../services';\nimport * as _ from 'lodash-es';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { UserService } from '@sunbird/core';\nimport { ToasterService, ResourceService, INoResultMessage, ConfigService } from '@sunbird/shared';\nimport { UUID } from 'angular2-uuid';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReportService } from '../../services/report/report.service';\nimport { DatePipe } from '@angular/common';\nimport { OnDelete } from 'fine-uploader/lib/core';\nimport { Subject } from 'rxjs';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-content-creation-statics',\n  templateUrl: './content-creation-statics.component.html',\n  styleUrls: ['./content-creation-statics.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ContentCreationStaticsComponent implements OnInit, OnDestroy {\n  public unsubscribe = new Subject<void>();\n  noResult: boolean = false;\n  value: Date;\n  currentDate: Date = new Date();\n  moment: any;\n  fromDate: Date;\n  toDate: Date;\n  tableData: any = [];\n  allOrgName: any = [];\n  orgList: any = [];\n  allUserName: any = [];\n  cols: any[];\n  noResultMessage: INoResultMessage;\n  private activatedRoute: ActivatedRoute;\n  telemetryImpression: IImpressionEventInput;\n  constructor(private usageService: UsageService, private sanitizer: DomSanitizer, private configService: ConfigService,\n    public userService: UserService, private toasterService: ToasterService,\n    public resourceService: ResourceService, activatedRoute: ActivatedRoute, private router: Router, public reportService: ReportService, private datePipe: DatePipe\n  ) {\n    this.activatedRoute = activatedRoute;\n  }\n  ngOnInit() {\n    this.initializeDateFields();\n    // this.getOrgList();\n    this.getOrgDetails();\n    // this.getUserDetails();\n    this.getContentCreationStaticsReport();\n  }\n  initializeDateFields() {\n    this.moment = moment();\n    this.fromDate = new Date(this.moment.subtract(7, \"days\"));\n    this.toDate = new Date();\n  }\n  getContentCreationStaticsReport() {\n    // let channelFilter = [];\n    // _.map(this.orgList, function (obj) {\n    //   channelFilter.push(obj.identifier)\n    // });\n    const data = {\n      \"request\": {\n        \"query\": \"\",\n        \"filters\": {\n          \"status\": [\n            \"Live\"\n          ],\n          \"framework\": [\"nulp\"],\n          // \"channel\": channelFilter,\n          \"contentType\": [\"Course\", 'Resource', 'Collection'],\n          \"lastUpdatedOn\": { \">=\": this.datePipe.transform(this.fromDate, 'yyyy-MM-ddTHH:MM'), \"<=\": this.datePipe.transform(this.toDate, 'yyyy-MM-ddTHH:MM') }\n        },\n        \"limit\": \"1000\",\n        \"sort_by\": {\n          \"lastUpdatedOn\": \"desc\"\n        },\n        \"fields\": [\"identifier\", \"creator\", \"organisation\", \"name\", \"contentType\", \"createdFor\", \"channel\", \"board\", \"medium\", \"gradeLevel\", \"subject\", \"lastUpdatedOn\", \"status\", \"createdBy\", \"framework\", \"createdOn\", \"lastPublishedOn\"]\n      }\n    };\n    this.reportService.getContentCreationStaticsReport(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.count > 0) {\n          this.tableData = [];\n          let tempObj = _.cloneDeep(response.result.content);\n          var self = this;\n          _.map(tempObj, function (obj) {\n            obj.createdOn = self.datePipe.transform(obj.lastPublishedOn, 'MM/dd/yyyy');\n            // obj.OrgName = _.toArray(obj.organisation)[_.indexOf(_.toArray(obj.createdFor), _.get(obj, 'channel'))];\n            obj.UserName = obj.creator;\n            if (!_.isEmpty(obj.channel)) {\n              obj.OrgName = _.get(_.find(self.allOrgName, { 'id': obj.channel }), 'orgName');\n            } else {\n              obj.OrgName = '';\n            }\n            obj.board = obj.board ? obj.board : ' - ' ;\n            obj.medium = obj.medium ? obj.medium : ' - ' ;\n            obj.gradeLevel = obj.gradeLevel ?  obj.gradeLevel : ' - ' ;\n            \n            // if (!_.isEmpty(obj.createdBy)) {\n            //   obj.UserName = _.get(_.find(self.allUserName, { 'id': obj.createdBy }), 'firstName') + \" \" + _.get(_.find(self.allUserName, { 'id': obj.createdBy }), 'lastName');\n            // } else {\n            //   obj.UserName = '';\n            // }\n          });\n          this.noResult = false;\n          this.tableData = tempObj;\n          // this.tableData = _.reject(tempObj, function (obj) {\n          //   if (_.isEmpty(obj.OrgName)) {\n          //     return obj;\n          //   }\n          // });\n          this.initializeColumns();\n        } else {\n          this.noResultMessage = {\n            'messageText': 'messages.stmsg.m0131'\n          };\n          this.noResult = true;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getOrgDetails() {\n    this.allOrgName = [];\n    const data = {\n      \"request\": {\n        \"filters\": {}\n      }\n    };\n    this.reportService.getOrganizationName(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.content.length > 0) {\n          this.allOrgName = response.result.response.content;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getOrgList() {\n    this.orgList = [];\n    this.reportService.getOrgList().subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.count > 0) {\n          this.orgList = _.reject(response.result.channels, function (obj) {\n            if (obj.name === 'nuis_test' || obj.name === 'niua_test' || obj.name === 'nuis' || obj.name === 'pwc') {\n              return obj;\n            }\n          });\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  getUserDetails() {\n    this.allUserName = [];\n    this.reportService.getUserList().subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.content.length > 0) {\n          this.allUserName = response.result.response.content;\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      console.log(err);\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n  initializeColumns() {\n    this.cols = [\n      { field: 'OrgName', header: 'City Name' },\n      { field: 'name', header: 'Name' },\n      { field: 'board', header: 'Category' },\n      { field: 'gradeLevel', header: 'Sub Category' },\n      // { field: 'identifier', header: 'Identifier' },\n      { field: 'subject', header: 'Topic' },\n      { field: 'medium', header: 'Language' },\n      { field: 'createdOn', header: 'Last Published On' },\n      // { field: 'objectType', header: 'Object Type' },\n      { field: 'framework', header: 'Framework' },\n      { field: 'UserName', header: 'Created By' },\n      { field: 'contentType', header: 'Content Type' },\n      // { field: 'status', header: 'Status' }\n    ]\n  }\n  resetFields() {\n    this.initializeDateFields();\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}","import { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Component, OnInit, EventEmitter, Output, Input, OnDestroy, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport * as ClassicEditor from '@project-sunbird/ckeditor-build-classic';\nimport { ISummaryObject } from '../../interfaces';\n\n@Component({\n  selector: 'app-add-summary-modal',\n  templateUrl: './add-summary-modal.component.html',\n  styleUrls: ['./add-summary-modal.component.scss']\n})\nexport class AddSummaryModalComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  @Output() submitButtonEvent = new EventEmitter();\n  @Input() input: ISummaryObject;\n  @Output() closeModalEvent = new EventEmitter();\n  @ViewChild('editor') public editorRef: ElementRef;\n  public editorInstance: any;\n\n  private toolbarItems = ['undo', 'redo', 'bold', 'italic', 'blockQuote', 'heading', 'link', 'numberedList', 'bulletedList', 'fontFamily',\n    'fontSize', 'fontColor', 'fontBackgroundColor', 'underline', 'subscript', 'superscript', 'insertTable', 'tableColumn', 'tableRow', 'mergeTableCells'];\n\n  public summaryFormGroup: FormGroup;\n\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit() {\n    this.initForm();\n  }\n\n  ngAfterViewInit() {\n    ClassicEditor.create(this.editorRef.nativeElement, {\n      toolbar: this.toolbarItems\n    })\n      .then(editor => {\n        this.editorInstance = editor;\n        if (this.input.summary) {\n          const editorDataInput = this.input.summary\n            .replace(/(<img(\"[^\"]*\"|[^\\/\">])*)>/gi, '$1/>')\n            .replace(/(<br(\"[^\"]*\"|[^\\/\">])*)>/gi, '$1/>');\n          this.editorInstance.setData(editorDataInput);\n        }\n        editor.model.document.on('change', (eventInfo, batch) => {\n          this.summaryFormGroup.controls.summary.setValue(editor.getData());\n        });\n      })\n      .catch(err => { console.error(err); });\n  }\n\n  ngOnDestroy() {\n    this.closeModal();\n  }\n\n  public handleSubmitButton(): void {\n    if (this.summaryFormGroup.valid) {\n      this.submitButtonEvent.emit({\n        summary: this.summaryFormGroup.get('summary').value,\n        type: this.input.type,\n        ...(this.input.type === 'chart' && { index: this.input.index, chartId: this.input.chartId })\n      });\n    }\n  }\n\n  private initForm(): void {\n    this.summaryFormGroup = this.fb.group({\n      summary: ['', Validators.required]\n    });\n  }\n\n  public resetForm(): void {\n    this.summaryFormGroup.reset();\n    this.editorInstance.setData('');\n  }\n\n  public closeModal(): void {\n    this.closeModalEvent.emit(true);\n  }\n}\n","export * from './line-chart/line-chart.service';\n","import { ProfileService } from '@sunbird/profile';\nimport { CourseProgressService } from './../course-progress/course-progress.service';\nimport { IListReportsFilter, IReportsApiResponse, IDataSource } from './../../interfaces';\nimport { ConfigService, IUserData } from '@sunbird/shared';\nimport { LearnerService, UserService, BaseReportService, PermissionService, SearchService, FrameworkService,PublicDataService } from '@sunbird/core';\nimport { Injectable } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { UsageService } from '../usage/usage.service';\nimport { map, catchError, pluck, mergeMap, shareReplay } from 'rxjs/operators';\nimport * as _ from 'lodash-es';\nimport { Observable, of, forkJoin, throwError } from 'rxjs';\nimport * as moment from 'moment';\nimport { UUID } from 'angular2-uuid';\n\nconst PRE_DEFINED_PARAMETERS = ['$slug', '$board', '$state', '$channel'];\n\n\n@Injectable()\nexport class ReportService  {\n\n  private _superAdminSlug: string;\n\n  private cachedMapping = {};\n\n  /**\n * user id\n */\n  userid: string;\n  /**\n * To get details about user profile.\n */\n\n /**\n  * reference of lerner service.\n */\n  // public learnerService: LearnerService;\n   /**\n   * constructor\n   * @param {LearnerService} learner LearnerService reference\n   */\n\n  constructor(private sanitizer: DomSanitizer, private usageService: UsageService, private userService: UserService,\n    private configService: ConfigService, private baseReportService: BaseReportService, private permissionService: PermissionService,\n    private courseProgressService: CourseProgressService, private searchService: SearchService,\n    private frameworkService: FrameworkService, private profileService: ProfileService,\n    public publicDataService: PublicDataService,public learnerService: LearnerService ) {\n\n    try {\n      this._superAdminSlug = (<HTMLInputElement>document.getElementById('superAdminSlug')).value;\n    } catch (error) {\n      this._superAdminSlug = 'sunbird';\n    }\n\n    // this.learnerService = learner;\n    // this.userService = userService;\n    // this.userid = this.userService.userid;\n  }\n\n  public fetchDataSource(filePath: string, id?: string | number): Observable<any> {\n    return this.usageService.getData(filePath).pipe(\n      map(configData => {\n        return {\n          loaded:true,\n          result: _.get(configData, 'result'),\n          ...(id && { id })\n        };\n      })\n      ,catchError(error => of({ loaded:false }))\n\n    );\n  }\n\n  public downloadMultipleDataSources(dataSources: IDataSource[]) {\n    if (!dataSources.length) {\n      // for India heat map scenario.\n      return of([]);\n    }\n    const apiCalls = _.map(dataSources, (source: IDataSource) => {\n      return this.fetchDataSource(_.get(source, 'path'), _.get(source, 'id'));\n    });\n    return forkJoin(...apiCalls).pipe(\n      mergeMap(response => {\n\n        response = response.filter(function(item){ if(item ){ return item.loaded = true } });\n        return this.getFileMetaData(dataSources).pipe(\n          map(metadata => {\n            return _.map(response, res => {\n              res.lastModifiedOn = _.get(metadata[res.id], 'lastModified');\n              return res;\n            });\n          })\n        );\n      })\n    );\n  }\n\n  public fetchReportById(id, hash?: string): Observable<IReportsApiResponse> {\n    const req = {\n      url: `${this.configService.urlConFig.URLS.REPORT.READ}/${id}`\n    };\n    if (hash) {\n      req.url = `${this.configService.urlConFig.URLS.REPORT.READ}/${id}/${hash}`;\n    }\n    return this.baseReportService.get(req).pipe(\n      map(apiResponse => _.get(apiResponse, 'result'))\n    );\n  }\n\n  /**\n   * @description publishes a report as live\n   * @param {string} reportId\n   * @returns\n   * @memberof ReportService\n   */\n  public publishReport(reportId: string, hash?: string) {\n    const req = {\n      url: `${this.configService.urlConFig.URLS.REPORT.PUBLISH}/${reportId}`\n    };\n    if (hash) {\n      req.url = `${this.configService.urlConFig.URLS.REPORT.PUBLISH}/${reportId}/${hash}`;\n    }\n    return this.baseReportService.get(req).pipe(\n      map(apiResponse => _.get(apiResponse, 'result'))\n    );\n  }\n\n  /**\n   * @description retires a report and deactivates all jobs associated with this report.\n   * @param {string} reportId\n   * @returns\n   * @memberof ReportService\n   */\n  public retireReport(reportId: string, hash?: string) {\n    const req = {\n      url: `${this.configService.urlConFig.URLS.REPORT.RETIRE}/${reportId}`\n    };\n    if (hash) {\n      req.url = `${this.configService.urlConFig.URLS.REPORT.RETIRE}/${reportId}/${hash}`;\n    }\n    return this.baseReportService.get(req).pipe(\n      map(apiResponse => _.get(apiResponse, 'result'))\n    );\n  }\n\n  public listAllReports(filters: IListReportsFilter = {}): Observable<IReportsApiResponse> {\n    const request = {\n      url: this.configService.urlConFig.URLS.REPORT.LIST,\n      data: {\n        'request': {\n          'filters': filters\n        }\n      }\n    };\n    return this.baseReportService.post(request).pipe(\n      map(apiResponse => _.get(apiResponse, 'result'))\n    );\n  }\n\n  /**\n   * @description api call to update an existing report\n   * @param reportId\n   * @param body\n   */\n  public updateReport(reportId: string, body: object): Observable<any> {\n    const request = {\n      url: `${this.configService.urlConFig.URLS.REPORT.UPDATE}/${reportId}`,\n      data: {\n        'request': {\n          'report': body\n        }\n      }\n    };\n    return this.baseReportService.patch(request).pipe(\n      map(apiResponse => _.get(apiResponse, 'result'))\n    );\n  }\n\n  /**\n   * @description adds a report and chart level summary to an existing report\n   * @param body\n   */\n  public addSummary(body: object): Observable<any> {\n    const request = {\n      url: `${this.configService.urlConFig.URLS.REPORT.SUMMARY.CREATE}`,\n      data: {\n        'request': {\n          'summary': body\n        }\n      }\n    };\n    return this.baseReportService.post(request).pipe(\n      map(apiResponse => _.get(apiResponse, 'result'))\n    );\n  }\n\n  public prepareChartData(chartsArray: Array<any>, data: { result: any, id: string, lastModifiedOn: undefined | string }[],\n    downloadUrl: IDataSource[], reportLevelDataSourceId: string): Array<{}> {\n    return _.map(chartsArray, chart => {\n      const { chartType, dataSource = null, mapData = {} } = chart;\n      const chartObj: any = {};\n      chartObj.chartConfig = chart;\n      if (!chartObj.chartConfig['id']) {\n        chartObj.chartConfig['id']  = UUID.UUID();\n      }\n      chartObj.downloadUrl = downloadUrl;\n      chartObj.chartData = dataSource ? this.getChartData(data, chart) :\n        _.get(this.getDataSourceById(data, reportLevelDataSourceId || 'default'), 'data');\n      chartObj.lastUpdatedOn = _.get(data, 'metadata.lastUpdatedOn') ||\n        this.getLatestLastModifiedOnDate(data, dataSource || { ids: [reportLevelDataSourceId || 'default'] });\n      if (chartType && _.toLower(chartType) === 'map') {\n        chartObj.mapData = {\n          ...mapData,\n          reportData: chartObj.chartData\n        };\n      }\n      if(chartObj && chartObj.chartData && chartObj.chartData.length > 0){\n        return chartObj;\n      }\n    }).filter(function(chartData){\n       if(chartData ){\n          return (chartData['chartData'] != null || chartData['chartData'] != undefined) \n        }\n      });\n  }\n\n  public prepareTableData(tablesArray: any, data: any, downloadUrl: string, hash?: string): Array<{}> {\n    tablesArray = _.isArray(tablesArray) ? tablesArray : [tablesArray];\n    return _.map(tablesArray, table => {\n      const tableId = _.get(table, 'id') || `table-${_.random(1000)}`;\n      const dataset = this.getTableData(data, _.get(table, 'id'));\n      const tableData: any = {};\n      tableData.id = tableId;\n      tableData.name = _.get(table, 'name') || 'Table';\n      tableData.config = _.get(table, 'config') ||  false;\n      if(!tableData.config){\n        tableData.data = _.get(table, 'values') || _.get(dataset, _.get(table, 'valuesExpr'));   \n      } else {\n        tableData.data = dataset.data;\n      }\n      tableData.header = _.get(table, 'columns') || _.get(dataset, _.get(table, 'columnsExpr'));\n      tableData.downloadUrl = this.resolveParameterizedPath(_.get(table, 'downloadUrl') || downloadUrl,\n        hash ? this.getParameterFromHash(hash) : null);\n      return tableData;\n\n    });\n  }\n\n  public getParameterizedFiles(files: { downloadUrl: string }[], hash?: string) {\n    return files.map(file => ({\n      ...file,\n      downloadUrl: this.resolveParameterizedPath(file.downloadUrl, hash ? this.getParameterFromHash(hash) : null)\n    }));\n  }\n\n  private getTableData(data: { result: any, id: string }[], tableId) {\n    if (data.length === 1) {\n      const [dataSource] = data;\n      if (dataSource.id === 'default') {\n        return dataSource.result;\n      }\n    }\n    return this.getDataSourceById(data, tableId) || {};\n  }\n\n  private getChartData = (data: { result: any, id: string }[], chart: any) => {\n    const chartDataSource = _.get(chart, 'dataSource');\n\n    if (chartDataSource.ids.length === 1) {\n      return _.get(this.getDataSourceById(data, _.head(chartDataSource.ids)), 'data');\n    }\n    // overlay if multiple dataSources present\n    const datasources = _.map(chartDataSource.ids, id => {\n      return _.get(this.getDataSourceById(data, id), 'data');\n    });\n\n    const result = this.overlayMultipleDataSources(datasources as Array<any[]>, _.get(chartDataSource, 'commonDimension'));\n    return result;\n  }\n\n  public getLatestLastModifiedOnDate(data: { result: any, id: string, lastModifiedOn: undefined | string }[],\n    dataSourceIds?: { ids: string[] }) {\n    let queryObj = data;\n    if (dataSourceIds) {\n      queryObj = _.filter(data, obj => _.includes(dataSourceIds.ids, obj.id));\n    }\n    return Date.parse(_.get(_.maxBy(queryObj, val => Date.parse(val.lastModifiedOn)), 'lastModifiedOn'));\n  }\n\n  private getDataSourceById(dataSources: { result: any, id: string }[], id: string = 'default') {\n    return _.get(_.find(dataSources, ['id', id]), 'result');\n  }\n\n  /**\n   * @description Overlays multiple datasource with common dimension.\n   * @template T\n   * @template U\n   * @param {(T[])[]} dataSources\n   * @param {U} commonDimension\n   * @returns\n   * @memberof ReportService\n   */\n  public overlayMultipleDataSources<T, U extends keyof T>(dataSources: (T[])[], commonDimension: U) {\n    // return _.values(_.merge(..._.map(dataSources, dataSource => _.keyBy(dataSource, commonDimension))));\n    return _.flatten(dataSources);\n  }\n\n  /**\n   * @description downloads a csv file from blob storage\n   * @param {string} filePathSource\n   * @returns\n   * @memberof ReportService\n   */\n  public downloadReport(filePathSource: string) {\n    return this.fetchDataSource(filePathSource).pipe(\n      map(response => _.get(response, 'result.signedUrl'))\n    );\n  }\n\n  /**\n   * @description returns true or false based on authentication of roles\n   * @param {(string | undefined)} roles\n   * @returns {Observable<boolean>}\n   * @memberof ReportService\n   */\n  public isAuthenticated(roles: string | undefined): Observable<boolean> {\n\n    return this.userService.userData$.pipe(\n      map((user: IUserData) => {\n        if (user && !user.err) {\n          const allowedRoles = this.configService.rolesConfig.ROLES[roles];\n          const userRoles = user.userProfile.userRoles;\n          return _.intersection(allowedRoles, userRoles).length;\n        } else {\n          return false;\n        }\n      }),\n      catchError(err => of(false))\n    );\n  }\n\n  /**\n * @description checks whether user is an REPORT ADMIN or not\n */\n  public isUserReportAdmin(): boolean {\n    if (this.userService.userProfile) {\n      return _.includes(_.get(this.userService, 'userProfile.userRoles'), 'REPORT_ADMIN');\n    }\n    return false;\n  }\n\n  public isUserSuperAdmin(): boolean {\n    if (!this.isUserReportAdmin()) { return false; }\n    return _.get(this.userService, 'userProfile.rootOrg.slug') === this._superAdminSlug;\n  }\n\n  public transformHTML(data: any) {\n    return this.sanitizer.bypassSecurityTrustHtml(data);\n  }\n\n  /**\n   * @description calls the api to add report and chart level summary\n   */\n  addReportSummary({ reportId, summaryDetails }): Observable<any> {\n    const type = _.get(summaryDetails, 'type');\n    const reqBody = {\n      reportid: reportId,\n      createdby: this.userService.userid,\n      summary: summaryDetails.summary,\n      ...(summaryDetails.hash && { param_hash: summaryDetails.hash }),\n      ...(type === 'chart' && { chartid: summaryDetails.chartId })\n    };\n    return this.addSummary(reqBody);\n  }\n\n  /**\n * @description - fetches the report metadata from the blob\n * to enable backward compatibilty taking filenames from the last\n * @example because some reports use /reports/:slug/:filename\n * @example while some other reports use /reports/fetch/:slug/:filename\n * @param {IDataSource[]} dataSources\n * @returns\n * @memberof ReportService\n */\n  public getFileMetaData(dataSources: IDataSource[]): Observable<any> {\n\n    const mappedfileIdWithPath = _.mapValues(_.keyBy(dataSources, 'id'), 'path');\n    _.forIn(mappedfileIdWithPath, (val, key, object) => {\n      object[key] = _.join(_.slice(_.split(val, '/'), -2), '/');\n    });\n\n    const requestParams = {\n      params: {\n        fileNames: JSON.stringify(mappedfileIdWithPath)\n      }\n    };\n\n    return this.courseProgressService.getReportsMetaData(requestParams)\n      .pipe(\n        pluck('result'),\n        catchError(err => of({}))\n      );\n  }\n\n  public getFormattedDate(dateString) {\n    return moment(dateString).format('DD-MMMM-YYYY');\n  }\n\n  /**\n   * @description calls the API to fetch latest report and chart level summary\n   */\n  public getLatestSummary({ reportId, chartId = null, hash = null }): Observable<any> {\n    const url = `${this.configService.urlConFig.URLS.REPORT.SUMMARY.PREFIX}/${reportId}`;\n    const req = {\n      url: chartId ? `${url}/${chartId}` : url\n    };\n    if (hash) { req.url = `${req.url}?hash=${hash}`; }\n    return this.baseReportService.get(req).pipe(\n      map(apiResponse => _.get(apiResponse, 'result.summaries')),\n      catchError(err => of([]))\n    );\n  }\n\n\n  public getParameterValues(parameter: string): { value: string, masterData: () => Observable<string[]> } {\n    const parameterMappings = {\n      $slug: {\n        value: _.get(this.userService, 'userProfile.rootOrg.slug'),\n        masterData: () => {\n          if (!this.cachedMapping.hasOwnProperty('$slug')) {\n            const req = {\n              filters: { isRootOrg: true },\n              fields: ['id', 'channel', 'slug', 'orgName'],\n              pageNumber: 1,\n              limit: 10000\n            };\n            this.cachedMapping['$slug'] = this.searchService.orgSearch(req).pipe(\n              map(res => _.map(_.get(res, 'result.response.content'), 'slug')),\n              shareReplay(1)\n            );\n          }\n          return this.cachedMapping['$slug'];\n        }\n      },\n      $board: {\n        value: _.get(this.userService, 'userProfile.framework.board[0]'),\n        masterData: () => {\n          if (!this.cachedMapping.hasOwnProperty('$board')) {\n            this.cachedMapping['$board'] = this.frameworkService.getChannel(_.get(this.userService, 'hashTagId'))\n              .pipe(\n                mergeMap(channel => this.frameworkService.getFrameworkCategories(_.get(channel, 'result.channel.defaultFramework'))\n                  .pipe(\n                    map(framework => {\n                      const frameworkData = _.get(framework, 'result.framework');\n                      const boardCategory = _.find(frameworkData.categories, ['code', 'board']);\n                      if (!boardCategory) { return of([]); }\n                      return _.map(boardCategory.terms, 'name');\n                    }),\n                    shareReplay(1),\n                  )),\n                catchError(err => of([]))\n              );\n          }\n          return this.cachedMapping['$board'];\n        }\n      },\n      $state: {\n        value: _.get(_.find(_.get(this.userService, 'userProfile.userLocations'), ['type', 'state']), 'name'),\n        masterData: () => {\n          if (!this.cachedMapping.hasOwnProperty('$state')) {\n            const requestData = { 'filters': { 'type': 'state' } };\n            this.cachedMapping['$state'] = this.profileService.getUserLocation(requestData).pipe(\n              map(apiResponse => _.map(_.get(apiResponse, 'result.response'), state => _.get(state, 'name'))),\n              shareReplay(1),\n              catchError(err => of([]))\n            );\n          }\n          return this.cachedMapping['$state'];\n        }\n      },\n      $channel: {\n        value: _.get(this.userService, 'userProfile.rootOrg.hashTagId'),\n        masterData: () => {\n          if (!this.cachedMapping.hasOwnProperty('$channel')) {\n            const req = {\n              filters: { isRootOrg: true },\n              fields: ['id', 'channel', 'slug', 'orgName'],\n              pageNumber: 1,\n              limit: 10000\n            };\n            this.cachedMapping['$channel'] = this.searchService.orgSearch(req).pipe(\n              map(res => _.map(_.get(res, 'result.response.content'), 'id')),\n              shareReplay(1)\n            );\n          }\n          return this.cachedMapping['$channel'];\n        }\n      }\n    };\n\n    return parameterMappings[parameter];\n  }\n\n  public convertToBase64 = (value) => btoa(value);\n\n  public getParametersHash = (report: { parameters: string[] }) => {\n    const parameters = _.get(report, 'parameters');\n    return this.convertToBase64(_.join(_.map(parameters, param => {\n      return _.replace(param, _.toLower(param), this.getParameterValues(param).value);\n    }), '__'));\n  }\n\n  public getParameterFromHash = (hash: string) => {\n    return _.split(atob(hash), '__');\n  }\n\n  public isReportParameterized = report => _.get(report, 'parameters.length') > 0 && _.isArray(report.parameters) && _.get(report, 'isParameterized');\n\n  public resolveParameterizedPath(path: string, explicitValue?: string): string {\n    return _.reduce(PRE_DEFINED_PARAMETERS, (result: string, parameter: string) => {\n      if (_.includes(result, parameter) && this.getParameterValues(parameter)) {\n        result = _.replace(result, parameter, explicitValue || this.getParameterValues(parameter).value);\n      }\n      return result;\n    }, path);\n  }\n\n  public getUpdatedParameterizedPath(dataSources: IDataSource[], hash?: string) {\n    const explicitValue = hash ? this.getParameterFromHash(hash) : null;\n    return _.map(dataSources, (dataSource: IDataSource) => ({\n      id: dataSource.id,\n      path: this.resolveParameterizedPath(dataSource.path, explicitValue)\n    }));\n  }\n\n  public getMaterializedChildRows(reports: any[]) {\n    const apiCall = _.map(reports, report => {\n      const isParameterized = _.get(report, 'isParameterized') || false;\n      if (!isParameterized) { return of(report); }\n      const parameters = _.get(report, 'parameters');\n      if (!parameters.length) { return of(report); }\n      const paramObj: { masterData: () => Observable<any> } = this.getParameterValues(_.toLower(parameters[0]));\n      if (!paramObj) { return of(report); }\n      return paramObj.masterData()\n        .pipe(\n          map(results => {\n            report.children = _.uniqBy(_.concat(_.map(report.children, child => ({\n              ...child,\n              label: this.getParameterFromHash(child.hashed_val)\n            })),\n              _.map(results, res => ({\n                label: res,\n                hashed_val: this.convertToBase64(_.split(res, '__')),\n                status: 'draft',\n                reportid: _.get(report, 'reportid'),\n                materialize: true\n              }))), 'hashed_val');\n            return report;\n          }),\n          catchError(err => {\n            console.error(err);\n            return of(report);\n          }));\n    });\n    return forkJoin(apiCall);\n  }\n\n  public getFlattenedReports(reports: any[]) {\n    return _.reduce(reports, (result, report) => {\n      const isParameterized = _.get(report, 'isParameterized') || false;\n      if (isParameterized && _.get(report, 'children.length')) {\n        for (const childReport of report.children) {\n          const flattenedReport = _.assign({ ...report }, _.omit(childReport, 'id'));\n          delete flattenedReport.children;\n          result.push(flattenedReport);\n        }\n        return result;\n      }\n      result.push(report);\n      return result;\n    }, []);\n  }\n\n  getContentCreationStaticsReport(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.CONTENT.SEARCH,\n      data: data\n    };\n    return this.publicDataService.post(options);\n  }\n  getOrganizationName(data) {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.ORG_SEARCH,\n      data: data,\n    };\n    return this.publicDataService.post(options);\n  }\n  getOrgList() {\n    const options = {\n      url: this.configService.urlConFig.URLS.CHANNEL.LIST,\n    };\n    return this.learnerService.post(options);\n  }\n  getDepartmentList(frameWork: string) {\n    const options = {\n      url: this.configService.urlConFig.URLS.FRAMEWORK.READ + '/' + frameWork,\n    };\n    return this.publicDataService.get(options);\n  }\n  getSubOrgList(data) {\n    const option = {\n      url: this.configService.urlConFig.URLS.ADMIN.ORG_SEARCH,\n      data: data\n    };\n    return this.publicDataService.post(option);\n  }\n  getEnrolledCourses() {\n    const option = {\n      url: this.configService.urlConFig.URLS.COURSE.GET_ENROLLED_COURSES + '/' + this.userService.userid,\n      param: { ...this.configService.appConfig.Course.contentApiQueryParams, ...this.configService.urlConFig.params.enrolledCourses }\n    };\n    return this.learnerService.get(option);\n  }\n  getUserList() {\n    const options = {\n      url: this.configService.urlConFig.URLS.ADMIN.USER_SEARCH,\n      data: {\n        request: {\n          filters: {},\n          limit: 5000,\n        }\n      }\n    };\n    return this.learnerService.post(options);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n// import { mapChildrenIntoArray } from '@angular/router/src/url_tree';\nimport { Chart } from 'chart.js';\n//import 'chartjs-plugin-labels';\n/////////////////////////////////////////\nimport { UserService, SearchService } from '@sunbird/core';\nimport { ReportService } from '../../services/report/report.service';\nimport { ToasterService, ResourceService, INoResultMessage, ConfigService } from '@sunbird/shared';\n////////////////////////////////////////\nimport * as _ from 'lodash-es';\nimport { AddusserService } from '../../services/addusser/addusser.service';\nimport { content } from 'html2canvas/dist/types/css/property-descriptors/content';\n\n@Component({\n  selector: 'app-content-category-wise',\n  templateUrl: './content-category-wise.component.html',\n  styleUrls: ['./content-category-wise.component.scss']\n})\nexport class ContentCategoryWiseComponent implements OnInit {\n\n  constructor\n  (\n    private _httpService: AddusserService,\n    public reportService: ReportService,\n    private searchService:SearchService,\n    private toasterService: ToasterService,\n    public resourceService: ResourceService,\n    ) { }\n\n  ////////////Tab///////////////////////\n  organizationTab: boolean  = true;\n  userTab: boolean = true;\n  //////////////////////////////////////\n  cityList: any = [];\n  userList: any = [];\n  noResultMessage :any;\n  noResult = true;\n  ////////popup//////////////////////\n  popupTitle=\"Content wise Graphical Reports\";\n  selectedItems = [];\n  addUserPopup: boolean = false;\n  ////////////extra////////////////\n  i=0;\n  strList=\"\";\n  colsUser=[];\n  ////////////////////////////\n  Graph_Data_List=[];\n  Table_Data_List=[];\n  B1_Root_list=[];\n  B2_Root_list=[];\n  B1_Piechart:any;\n  B2_Piechart:any;\n  /////////////////////////////////\n  ///////////////////////////////////\n  strTxt='';\n  tooltip='';\n  /////////////////////////////////////\n    ngOnInit()\n    {\n      this.getContentList();\n      this.colsUser = [\n        { field: 'SNo',           header: 'SNo',          width: '50px' },\n        { field: 'organisation',  header: 'Organisation', width: '150px' },\n        { field: 'Category',      header: 'Category',     width: '150px' },\n        { field: 'subject',       header: 'Sub Category',      width: '150px' },\n        { field: 'name',          header: 'Topic',         width: '150px' },\n        { field: 'creator',       header: 'Creator',      width: '150px' },\n        //{ field: 'contentType',   header: 'ContentType',  width: '150px' },\n        //{ field: 'copyright',     header: 'Copyright',    width: '150px' },\n      ]\n    }\n\n    /////Load content List////////////////////////////\n\n    getContentList()\n    {\n      const data = {\n        \"request\":\n        {\n          \"query\"   : \"\",\n          \"filters\" : { \"status\": [\"Live\"],\n                        \"framework\": [\"nulp\"],\n                        \"contentType\": [\"Course\", 'Resource', 'Collection']},\n\n          \"limit\"   : \"1000\",\n          \"sort_by\" : { \"lastUpdatedOn\": \"desc\" },\n          \"fields\"  :\n          [\"identifier\", \"creator\", \"organisation\",\"copyright\",\n          \"name\", \"contentType\", \"createdFor\", \"channel\",\n          \"board\", \"medium\", \"gradeLevel\", \"subject\",\n          \"lastUpdatedOn\", \"status\", \"createdBy\",\n          \"framework\", \"createdOn\", \"lastPublishedOn\"]\n        }\n      };\n\n      this.reportService.getContentCreationStaticsReport(data).subscribe((response) =>\n      {\n        if (_.get(response, 'responseCode') === 'OK')\n        {\n          if (response.result.count > 0)\n          {\n            var tableData = [];\n            let tempObj = _.cloneDeep(response.result.content);\n            tableData = tempObj;\n            var self = this;\n            ///////////////LOOPING ROOT ORG/////////////////////////////////\n            var ChnlIds=[];\n            var UserIds=[];\n             ChnlIds = _.uniq(_.map(tempObj, 'channel'));\n             UserIds = _.uniq(_.map(tempObj, 'createdBy'));\n            /////////////////GET USER LIST/////////////////////////////////\n            const reqParam = {  filters: { id:UserIds}}\n            this.searchService.getUserList(reqParam).subscribe(response =>\n              {\n              this.userList = [];\n              let userObj = _.cloneDeep(response.result.response.content);\n              this.userList = userObj;\n              //////////////////GET CITY/ORG LIST/////////////////////////////\n              const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds}, \"limit\": 1000,\"offset\": 0 } };\n              //const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds, \"isRootOrg\":true, \"status\":1 } } };\n              //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true, \"status\":1 } } };\n              //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true} } };\n              //URLS.ADMIN.ORG_SEARCH,\n                this.reportService.getOrganizationName(reqPayload).subscribe((response) =>\n                {\n                      //this.cityList = [];\n                      //let cityObj = _.cloneDeep(response.result.response.content);\n                      //this.cityList = cityObj;\n                      //this.cityList = _.reject(response.result.response.content,obj=>_.isEmpty(obj.orgName));\n                      //////////////////////////////////////////////////////////////////\n                      response.result.response.content.forEach(c =>\n                        {\n                        this.cityList.push({\"id\":c.id,\"orgName\":c.orgName,\"identifier\":c.identifier});\n                        });\n\n\n                      //////////////////////////////////////////////////////////////\n                      this.InitializeGraph(tableData);\n                ////////////////////////////////////////////////////\n                }); //City close\n                /////////////////////////////////////////////////////////////////\n             }); //User Close\n          }\n          else\n          {\n            this.noResultMessage = {'messageText': 'messages.stmsg.m0131' };\n            this.noResult = true;\n          }\n        }\n        else\n        {\n          this.toasterService.error(this.resourceService.messages.emsg.m0007);\n        }\n      }, (err) => {\n        \n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }); //Content close\n    }\n\n    ///////////////////////////////////////////////////\n\n    InitializeGraph(C_List:any)\n    {\n        //debugger;\n        if (this.cityList.length > 0)\n        {\n\n        }\n        ///////UPDATE USER LIST//////USER-ID-to-SUB-ORG-MAPING////////////////////\n        this.userList.forEach(element =>\n          {\n            this.cityList.forEach(element1 =>\n              {\n               //if(element1.identifier==orgId)\n               //{\n               //  this.rootOrgNameUser_new  = element1.orgName\n               //}\n\n                if( element.organisations.length>1)\n                    {\n                      if((element1.identifier==element.organisations[1].organisationId) &&\n                          (element.rootOrgId!=element.organisations[1].organisationId))\n                          {\n                            element.orgNameUser_new  =   element1.orgName\n                            element.orgTypeUser_new  =   'Sub Organization';\n                           }\n                           else if(element.rootOrgId==element.organisations[1].organisationId)\n                           {\n                            element.orgNameUser_new  =  element.organisations[0].orgName;\n                            element.orgTypeUser_new =   'Sub Organization';\n                           }else\n                           {\n                            element.orgNameUser_new  =  element.organisations[0].orgName;\n                            element.orgTypeUser_new =   'Sub Organization';\n                           }\n                    }\n                    else if( element.organisations.length==1)\n                    {\n                          element.orgNameUser_new  = element.organisations[0].orgName;\n                          element.orgTypeUser_new   =   'Root  Organization';\n                    }\n                });\n          });\n        //////////////////////////////////////////////////////////////////////////\n        var groupedUserData =   this.userList.reduce(function(rv, x) { // grouping of userdata\n          (rv[x['orgNameUser_new']] = rv[x['orgNameUser_new']] || []).push(x);\n          return rv;\n          }, {});\n        /////////////////Camposing comman content data list//////////////////////////\n         this.Graph_Data_List=[];\n        C_List.forEach(x =>\n        {\n          let CityTraced= this.cityList.find(el => el.id === x.channel);\n          let UserTraced= this.userList.find(el => el.id === x.createdBy);\n            this.Graph_Data_List.push({\n            \"identifier\":x.identifier,\n            \"copyright\":x.copyright,\n            \"createdFor\":x.createdFor,\n            \"creator\":x.creator,\n            \"subject\":x.subject,\n            \"channel\":x.channel,\n            \"organisation\":x.organisation,\n            //////////////Add Processed Column///////////////\n            \"RootOrgName_new_user\":CityTraced[\"orgName\"],\n            \"rootOrgName_new_city\":UserTraced[\"rootOrgName\"],\n            \"orgNameUser_new\":UserTraced[\"orgNameUser_new\"],\n            \"orgTypeUser_new\":UserTraced[\"orgTypeUser_new\"],\n            \"lastNameUser_new\":UserTraced[\"lastName\"],\n            /////////////////////////////////////////////////\n            \"createdBy\":x.createdBy,\n            \"medium\":x.medium,\n            \"name\":x.name,\n            \"createdOn\":x.createdOn,\n            \"objectType\":x.objectType,\n            \"gradeLevel\":x.gradeLevel,\n            \"framework\":x.framework,\n            \"contentType\":x.contentType,\n            \"Category\":x.board,\n            \"lastPublishedOn\":x.lastPublishedOn,\n            \"lastUpdatedOn\":x.lastUpdatedOn,\n            \"status\":x.status\n          });\n        });\n        //this.strList=JSON.stringify(this.Graph_Data_List);\n        ///////SHORTING//////////////////////////////////////////////////\n        this.Graph_Data_List.sort((a, b) =>\n        {\n          if (a.createdBy < b.createdBy)\n          return -1;\n          if (a.createdBy > b.createdBy)\n          return 1;\n          return 0;\n      });\n      this.GeneratingCategorylChart(this.Graph_Data_List);\n    }\n  ///////////////////////////////////////////\n\n  GeneratingCategorylChart(ResultCT:any)\n  {\n      var B1_Name=[];\n      var B1_Value=[];\n      var B1_Filter=[];\n      var B1_Colour=[];\n        /////////////////////////////////////////////////////////////////\n        this.B1_Root_list = this.groupByKey(ResultCT,\"Category\");\n        Object.keys(this.B1_Root_list).forEach( x=>\n          {\n            B1_Name.push(x);\n            B1_Value.push(this.B1_Root_list[x].length);\n            var xx=this.B1_Root_list[x];\n            B1_Filter.push(xx[0].Category);\n            B1_Colour.push(this.getRandomColorHex());\n          });\n        this.B1_Chart(B1_Name,B1_Value,B1_Filter,B1_Colour);\n  }\n\n\n  B1_Chart(B1_Name:any,B1_Value:any,B1_Filter:any,B1_Colour:any)\n  {\n    if ( this.B1_Piechart) // != undefined\n    {\n      this.B1_Piechart.destroy();\n    }\n      this.B1_Piechart = new Chart('B1_Canvas1',\n      {\n        type: 'bar',\n        data:\n            {\n              labels  :             B1_Name,\n              datasets: [{\n                    data:           B1_Value,\n                    borderColor:    B1_Filter,\n                    borderSkipped:  B1_Filter,\n                    backgroundColor:B1_Colour,\n                    borderWidth: 1,\n                    fill: true }\n                  ]\n            },\n        options:\n            {\n            tooltips: { mode: 'index'},\n            //hover: { mode: 'index', intersect: true  },\n            title:{ display : true,text:\"Category wise Content Dashboard\",fontSize : 18, fontColor : \"#111\",},\n            legend: { display :false ,labels: { fontColor: \"green\", }},\n            scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Content Category' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Content Count' } }],\n                    },\n            // plugins: {\n            //   labels: [\n            //             { render: 'label', fontColor: '#000', position: 'outside' },\n            //             { render:'value',fontColor: '#000'}\n            //           ]\n            //         },\n            }\n      });\n  }\n\n\n\n  B1_Chart_showData(evt:any)\n  {\n    //alert('enter in b1');\n    this.resetGraph('B1');\n    var activePoint = this.B1_Piechart.getElementAtEvent(evt);\n    if (activePoint.length > 0)\n     {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n      //var filter_data         = activePoint[0]._options.borderColor;  //pie\n      var filter_data           = activePoint[0]._model.borderSkipped;  //bar\n      this.strTxt=JSON.stringify(activePoint[0]._model);\n      var label = this.B1_Piechart.data.labels[clickedElementindex];\n      var value = this.B1_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n      //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n      //////////////////////////////////////////////\n      //this.B2_Root_list=this.groupByKey(this.B1_Root_list[filter_data],\"orgNameUser_new\");\n      this.B2_Root_list=this.groupBy(this.B1_Root_list[filter_data], function(item)\n          {\n            return [item.orgTypeUser_new, item.orgNameUser_new];\n          });\n\n      //this.strList=JSON.stringify(this.B2_Root_list);\n      //alert('B2_Root_list group by two:-'+JSON.stringify(this.B2_Root_list));\n      ///////////////////////////////////////////////\n      this.popupTitle=this.B1_Root_list[filter_data].length+\" Content(s) Created in '\"+filter_data+\"' Category.\";\n      this.tooltip=filter_data;\n      ////////////////////////////////\n      this.loadGridView(this.B1_Root_list[filter_data]);\n      this.GeneratingOrg_TypeChart(this.B2_Root_list);\n    }\n  }\n\n\n  GeneratingOrg_TypeChart(ResultCO:any)\n  {\n    var B2_Name=[];\n    var B2_Value=[];\n    var B2_Filter=[];\n    var B2_Colour=[];\n    Object.keys(ResultCO).forEach( x=>\n      {\n      var Obj=ResultCO[x];\n      B2_Name.push(Obj[0].orgNameUser_new);\n      B2_Value.push(ResultCO[x].length);\n      B2_Filter.push(x);\n      B2_Colour.push(this.getRandomColorHex());\n      });\n      this.B2_Chart(B2_Name,B2_Value,B2_Filter,B2_Colour);\n  }\n\n\n\n  B2_Chart(B2_Name:any,B2_Value:any,B2_Filter:any,B2_Colour:any)\n  {\n    if ( this.B2_Piechart) // != undefined\n    {\n      this.B2_Piechart.destroy();\n    }\n     this.B2_Piechart = new Chart('B2_Canvas',\n      {\n        type: 'bar',//'doughnut',//'pie',//'polarArea','horizontalBar',\n        data:\n            {\n              labels  :             B2_Name,\n              datasets: [{\n                    data:           B2_Value,\n                    borderColor:    B2_Filter,\n                    borderSkipped:  B2_Filter,\n                    backgroundColor:B2_Colour,\n                    borderWidth: 1,\n                    fill: true }\n                  ]\n            },\n        options:\n            {\n            tooltips: { mode: 'index'},\n            //hover: { mode: 'index', intersect: true  },\n            title:{ display : true,text:\"Orgnization wise Content Created\",fontSize : 18, fontColor : \"#111\",},\n            legend: { display :false ,labels: { fontColor: \"green\", }},\n            scales: {\n              xAxes: [{ scaleLabel: { display: true, labelString: 'Organization' } }],\n              yAxes: [{ scaleLabel: { display: true, labelString: 'Content Count' } }],\n                  },\n            // plugins: {\n            //   labels: [\n            //             { render: 'label', fontColor: '#000', position: 'outside' },\n            //             { render:'value',fontColor: '#000'}\n            //           ]\n            //         },\n            }\n      });\n  }\n\n\n\n\n  B2_Chart_showData(evt:any)\n  {\n    this.resetGraph('B2');\n    var activePoint = this.B2_Piechart.getElementAtEvent(evt);\n    if (activePoint.length > 0)\n     {\n      var clickedDatasetIndex = activePoint[0]._datasetIndex;\n      var clickedElementindex = activePoint[0]._index;\n      //var filter_data         = activePoint[0]._options.borderColor;  //pie\n      var filter_data           = activePoint[0]._model.borderSkipped;  //bar\n      //this.strTxt=JSON.stringify(activePoint[0]._model);\n      var label = this.B2_Piechart.data.labels[clickedElementindex];\n      var value = this.B2_Piechart.data.datasets[clickedDatasetIndex].data[clickedElementindex];\n      //alert(\"Clicked: label:-\" + label + \" value- \" + value +  \" - \" + clickedElementindex +' filter-'+filter_data);\n      this.popupTitle=this.B2_Root_list[filter_data].length+\" Content(s) of '\"+this.tooltip+\"' Category are Created.\";\n      // in '\"+filter_data+\"'\";\n      this.loadGridView(this.B2_Root_list[filter_data]);\n    }\n  }\n\n\n\n  resetGraph(ngClick:any)\n  {\n    if(ngClick==\"B1\")\n     {\n    //  this.B2_Piechart=new Chart(\"B2_Canvas\", { type: \"bar\", data: {} ,options: {} });\n      this.Table_Data_List=[];\n      this.B2_Root_list=[];\n      //alert(88);\n    }\n    else  if(ngClick==\"B2\")\n    {\n      this.Table_Data_List=[];\n      //this.B2_Root_list=[];\n    }\n  }\n\n\n  loadGridView(tableData:any)\n  {\n    var SNo=0;\n    tableData.forEach(y =>\n      {\n        SNo++;\n        y.SNo=SNo;\n      });\n      this.Table_Data_List=tableData;\n  }\n\n  //////////////////////////////////////\n  getRandomColorHex()\n  {\n  //  var hex = \"0123456789ABCDEF\",\n  //      color = \"#\";\n  //  for (var i = 1; i <= 6; i++)\n  //  {\n  //    color += hex[Math.floor(Math.random() * 16)];\n  //  }\n    var color= [\"red\", \"green\", \"blue\", \"purple\", \"magenta\",\"aqua\", \"salmon\", \"darkgray\", \"pink\", \"coral\"];\n    //var min=0;\n    //var max=color.length-1;\n    //var rand= Math.floor(Math.random() * (max - min + 1) + min);\n    this.i++;\n    //return color[this.i%color.length-1];\n    return \"blue\";\n  }\n\n  ///MULTIPLE GROUP BY FUNCTION////////\n  groupBy( array , f )\n  {\n    var groups = {};\n    array.forEach( function( o )\n    {\n      var group = JSON.stringify( f(o) );\n      groups[group] = groups[group] || [];\n      groups[group].push( o );\n    });\n    return Object.keys(groups).map( function( group )\n    {\n      return groups[group];\n    })\n  }\n ///MULTIPLE GROUP BY FUNCTION////////\n  groupByKey(list, key)\n  {\n   return list.reduce(function(rv, x)\n   {\n     (rv[x[key]] = rv[x[key]] || []).push(x);\n     return rv;\n   }, {});\n  };\n\n\n\n  //////////////////////////////////////////////////////////////////\n\n\n}\n","/**\n * Component to render & apply filter on admin chart\n * @author Ravinder Kumar\n */\nimport { EventEmitter, Output } from '@angular/core';\nimport { UsageService, ReportService } from './../../services';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { ResourceService, ToasterService } from '@sunbird/shared';\nimport { BaseChartDirective } from 'ng2-charts';\nimport { Component, OnInit, Input, ViewChild, OnDestroy, ElementRef, ChangeDetectorRef, TemplateRef } from '@angular/core';\nimport * as _ from 'lodash-es';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { Subscription, Subject, timer, of } from 'rxjs';\nimport { map, takeUntil, switchMap } from 'rxjs/operators';\nimport * as moment from 'moment';\nimport { IInteractEventObject } from '@sunbird/telemetry';\nimport { IBigNumberChart } from '../../interfaces/chartData';\nimport { MatDialog } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-data-chart',\n  templateUrl: './data-chart.component.html',\n  styleUrls: ['./data-chart.component.scss']\n})\nexport class DataChartComponent implements OnInit, OnDestroy {\n\n  @Input() chartInfo: any;\n  @Input() telemetryInteractObject: IInteractEventObject;\n  @Input() hideElements = false;\n  @Input() isUserReportAdmin = false;\n  @Output() openAddSummaryModal = new EventEmitter();\n  @Input() hash: string;\n\n  @ViewChild('filterPopUpMat') filterPopUpMat: TemplateRef<any>;\n\n\n public unsubscribe = new Subject<void>();\n // contains the chart configuration\n  chartConfig: any;\n  chartData: any;\n  chartType: any;\n  chartColors: any;\n  legend: any;\n  chartOptions: any;\n  loadash = _;\n  datasets: any;\n  chartLabels: any = [];\n  filters: Array<{}>;\n  showFilters: Boolean = false;\n  filtersSubscription: Subscription;\n  noResultsFound: Boolean;\n  showStats: Boolean = false;\n  availableChartTypeOptions = ['Bar', 'Line'];\n  pickerMinDate: any; // min date that can be selected in the datepicker\n  pickerMaxDate: any; // max date that can be selected in datepicker\n\n  selectedStartDate: any;\n  selectedEndDate: any;\n\n  datePickerConfig: any = { applyLabel: 'Set Date', format: 'DD-MM-YYYY' };\n  alwaysShowCalendars: boolean;\n\n  resultStatistics = {};\n  selectedFilters: {};\n  dateFilterReferenceName;\n  telemetryCdata: Array<{}>;\n  showGraphStats: Boolean = false;\n  bigNumberCharts: Array<{}> = [];\n\n  iframeDetails: any;\n  lastUpdatedOn: any;\n  showLastUpdatedOn: Boolean = false;\n  showChart: Boolean = false;\n  chartSummary$: any;\n  private _chartSummary: string;\n  private _globalFilter; // private property _item\n  resetFilters;\n  filterPopup: Boolean = false;\n  filterOpen: Boolean = false;\n  chartSummarylabel: string;\n  currentFilters: Array<{}>;\n  @ViewChild('datePickerForFilters') datepicker: ElementRef;\n  @ViewChild('chartRootElement') chartRootElement;\n  @ViewChild('chartCanvas') chartCanvas;\n  filterType = 'chart-filter';\n  dateFilters: Array<string>;\n  dialogRef:any;\n\n  @ViewChild(BaseChartDirective) chartDirective: BaseChartDirective;\n  constructor(public resourceService: ResourceService, private fb: FormBuilder, private cdr: ChangeDetectorRef,\n    private toasterService: ToasterService, public activatedRoute: ActivatedRoute, private sanitizer: DomSanitizer,\n    private usageService: UsageService, private reportService: ReportService,private dialog: MatDialog) {\n    this.alwaysShowCalendars = true;\n  }\n\n\n  ngOnInit() {\n\n    this.chartConfig = _.get(this.chartInfo, 'chartConfig');\n    this.chartData = _.get(this.chartInfo, 'chartData');\n    this.chartSummarylabel = \"Add \" + _.get(this.resourceService, 'frmelmnts.lbl.chartSummary');\n    if (_.get(this.chartInfo, 'lastUpdatedOn')) {\n      this.lastUpdatedOn = moment(_.get(this.chartInfo, 'lastUpdatedOn')).format('DD-MMMM-YYYY');\n    }\n   \n    this.prepareChart();\n    this.setTelemetryCdata();\n    this.cdr.detectChanges();\n\n  }\n\n\n\n  private calculateBigNumber(chartData) {\n\n    const bigNumbersConfig = _.get(this.chartConfig, 'bigNumbers');\n    this.bigNumberCharts = [];\n    if (bigNumbersConfig && bigNumbersConfig.length) {\n      _.forEach(bigNumbersConfig, (config: IBigNumberChart) => {\n        const bigNumberChartObj = {};\n        if (_.get(config, 'dataExpr')) {\n          bigNumberChartObj['header'] = _.get(config, 'header') || '';\n          bigNumberChartObj['footer'] = _.get(config, 'footer') || _.get(config, 'dataExpr');\n          bigNumberChartObj['data'] =\n            (_.round(_.sumBy(chartData, data => _.toNumber( data[_.get(config, 'dataExpr')] ? data[_.get(config, 'dataExpr')] : 0  )))).toLocaleString('hi-IN');\n          this.bigNumberCharts.push(bigNumberChartObj);\n        }\n      });\n    }\n  }\n\n  private checkForExternalChart(): boolean {\n    const iframeConfig = _.get(this.chartConfig, 'iframeConfig');\n    if (iframeConfig) {\n      if (_.get(iframeConfig, 'sourceUrl')) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  getIframeURL() {\n    const url = `${_.get(this.iframeDetails, 'sourceUrl')}?qs=${Math.round(Math.random() * 10000000)}`; // to prevent browser caching\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n\n  /**\n   * @description show percentage in pie charts\n   * @private\n   * @memberof DataChartComponent\n   */\n  private showPercentageInCharts = () => {\n    return {\n      label: (tooltipItem, data) => {\n        const dataset = data.datasets[tooltipItem.datasetIndex];\n        const total = dataset.data.reduce((previousValue, currentValue, currentIndex, array) => {\n          return previousValue + currentValue;\n        });\n        const currentVal = dataset.data[tooltipItem.index];\n        const percentage = Math.floor(((currentVal / total) * 100) + 0.5);\n        return `${data.labels[tooltipItem.index]}: ${currentVal}  ( ${percentage} % )`;\n      }\n    };\n  }\n\n  prepareChart() {\n    if (!this.checkForExternalChart()) {\n\n      this.chartOptions = _.get(this.chartConfig, 'options') || { responsive: true };\n      this.chartColors = _.get(this.chartConfig, 'colors') || [];\n      this.chartType = _.get(this.chartConfig, 'chartType');\n\n      // shows percentage in pie chart if showPercentage config is enabled.\n      if (this.chartType === 'pie' && _.get(this.chartOptions, 'showPercentage')) {\n        (this.chartOptions.tooltips || (this.chartOptions.tooltips = {})).callbacks = this.showPercentageInCharts();\n      }\n\n      this.legend = (_.get(this.chartConfig, 'legend') === false) ? false : true;\n      this.showLastUpdatedOn = false;\n      this.showChart = false;\n      if (_.get(this.chartConfig, 'options.showLastUpdatedOn') || this.lastUpdatedOn) {\n        this.showLastUpdatedOn = true;\n      }\n      if ((_.get(this.chartConfig, 'labelsExpr') || _.get(this.chartConfig, 'labels')) && _.get(this.chartConfig, 'datasets')) {\n        this.showChart = true;\n      }\n      this.showGraphStats = _.get(this.chartOptions, 'showGraphStats') || false;\n      this.getDataSetValue();\n    } else {\n      this.iframeDetails = _.get(this.chartConfig, 'iframeConfig');\n    }\n    if (_.get(this.chartConfig, 'bigNumbers')) {\n      this.calculateBigNumber(this.chartData);\n    }\n    const refreshInterval = _.get(this.chartConfig, 'options.refreshInterval');\n    if (refreshInterval) {\n       this.refreshChartDataAfterInterval(refreshInterval);\n    }\n    this.filters = _.get(this.chartConfig, 'filters') || [];\n    this.chartSummary$ = this.getChartSummary();\n  }\n\n  refreshChartDataAfterInterval(interval) {\n    timer(interval, interval).pipe(\n      switchMap(val => {\n        return this.usageService.getData(_.head(_.get(this.chartInfo, 'downloadUrl')).path);\n      }),\n      takeUntil(this.unsubscribe)\n    ).subscribe(apiResponse => {\n      if (_.get(apiResponse, 'responseCode') === 'OK') {\n        const chartData = _.get(apiResponse, 'result.data');\n        this.chartData = chartData;\n        this.resetFilters = { data: chartData };\n\n      }\n    }, err => {\n      console.log('failed to update chart data', err);\n    });\n  }\n\n  private setChartLabels = (groupedDataBasedOnLabels) => {\n    let labels = [];\n    labels = _.keys(groupedDataBasedOnLabels);\n\n    // if hard-codes labels are there use them.\n    if (_.get(this.chartConfig, 'labels')) {\n      labels = _.get(this.chartConfig, 'labels');\n    }\n    _.forEach(labels, (label, key) => {\n      labels[key] = _.capitalize(label);\n    });\n\n    this.chartLabels = labels;\n  }\n\n  private sortData(chartData, labelsExpr) {\n    return _.orderBy(chartData, data => {\n      const date = moment(data[labelsExpr], 'DD-MM-YYYY');\n      if (date.isValid()) { return date; }\n      return data[labelsExpr];\n    });\n  }\n\n  getDataSetValue(chartData = this.chartData) {\n\n    let groupedDataBasedOnLabels;\n    const labelsExpr = _.get(this.chartConfig, 'labelsExpr');\n    if (labelsExpr) {\n      const sortedData = this.sortData(chartData, labelsExpr);\n      groupedDataBasedOnLabels = _.groupBy(sortedData, (data) =>  ( data[labelsExpr] ? (_.trim(data[labelsExpr].toLowerCase()) ) : ''  ));\n    }\n    this.setChartLabels(groupedDataBasedOnLabels);\n    this.datasets = [];\n    const isStackingEnabled = this.checkForStacking();\n    _.forEach(this.chartConfig.datasets, dataset => {\n      const hidden = _.get(dataset, 'hidden') || false;\n      const fill = _.isBoolean(_.get(dataset, 'fill')) ? _.get(dataset, 'fill') : true;\n      const type = _.get(dataset, 'type');\n      const lineThickness = _.get(dataset, 'lineThickness');\n      const goalValue = _.get(dataset, 'goal');\n      this.datasets.push({\n        label: dataset.label,\n        data: (goalValue && this.getGoalsDataset(chartData, +goalValue)) || (_.get(dataset, 'data') ||\n          this.getData(groupedDataBasedOnLabels, dataset['dataExpr'], +_.get(dataset, 'top'))),\n        hidden,\n        fill,\n        ...(isStackingEnabled) && { stack: _.get(dataset, 'stack') || 'default' },\n        ...(type && { type }),\n        ...(lineThickness) && { borderWidth: lineThickness }\n      });\n    });\n    if (this.showGraphStats) {\n      this.calculateGraphStats();\n    }\n  }\n\n  private getGoalsDataset(chartData, goalValue: number) {\n    return _.fill(chartData, goalValue);\n  }\n\n  private calculateGraphStats() {\n    _.forEach(this.datasets, dataset => {\n      this.resultStatistics[dataset.label] = {\n        sum: _.sumBy(dataset.data, (val) => _.toNumber(val)).toFixed(2),\n        min: _.minBy(dataset.data, (val) => _.toNumber(val)),\n        max: _.maxBy(dataset.data, (val) => _.toNumber(val)),\n        avg: dataset.data.length > 0 ? (_.sumBy(dataset.data, (val) => _.toNumber(val)) / dataset.data.length).toFixed(2) : 0\n      };\n    });\n  }\n\n  private getData(groupedDataBasedOnLabels, dataExpr, pickTopNElements: number) {\n\n    const data = _.mapValues(groupedDataBasedOnLabels, value => {\n      value = value.filter(element => {\n        if (element[dataExpr]) {\n          return element;\n        }\n      });\n      return _.sumBy(value, (o) => +o[dataExpr]);\n    });\n\n    // Currently enabled for only pie charts\n    if (this.chartType === 'pie' && pickTopNElements) {\n      const sortedDataInDescOrder = _.orderBy(_.map(data, (val, key) => ({ key, val })), 'val', 'desc');\n      const topNData = _.slice(sortedDataInDescOrder, 0, pickTopNElements);\n      const restOfTheData = _.slice(sortedDataInDescOrder, pickTopNElements);\n      const result = _.mapValues(_.keyBy(topNData, 'key'), 'val');\n      result['others'] = _.sumBy(restOfTheData, 'val');\n      this.setChartLabels(result); // set the labels as per the new dataset.\n      return _.values(result);\n    }\n    return _.values(data);\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  setTelemetryCdata() {\n    this.telemetryCdata = [\n      {\n        id: 'dashboard:filter',\n        type: 'Feature'\n      }\n      , {\n        id: 'SB-13051',\n        type: 'Task'\n      }];\n  }\n\n  setTelemetryInteractEdata(val) {\n    return {\n      id: _.join(_.split(val, ' '), '-').toLowerCase(),\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n  }\n\n  checkForStacking(): boolean {\n    if (_.includes(['bar', 'horizontalbar'], _.toLower(this.chartType))) {\n      // in case of bar chart check both the axes\n      return _.get(this.chartOptions, 'scales.yAxes') && _.get(this.chartOptions, 'scales.xAxes') &&\n        _.every(this.chartOptions.scales.yAxes, 'stacked') && _.every(this.chartOptions.scales.xAxes, 'stacked');\n    } else if (_.toLower(this.chartType) === 'line') {\n      // check for y axis only in case of line area chart\n      return _.get(this.chartOptions, 'scales.yAxes') && _.every(this.chartOptions.scales.yAxes, 'stacked');\n    }\n    return false;\n  }\n\n  public addChartSummary(): void {\n    const chartId = _.get(this.chartConfig, 'id');\n    if (chartId) {\n      this.openAddSummaryModal.emit({\n        title: this.chartSummarylabel,\n        type: 'chart',\n        chartId,\n        ...(this._chartSummary && { summary: this._chartSummary })\n      });\n    } else {\n      this.toasterService.error('Chart id is not present');\n    }\n  }\n\n  public getChartSummary() {\n    const chartId = _.get(this.chartConfig, 'id');\n    if (_.get(this.chartConfig, 'id')) {\n      return this.reportService.getLatestSummary({\n        reportId: this.activatedRoute.snapshot.params.reportId, chartId,\n        ...(this.hash && { hash: this.hash })\n      }).pipe(\n        map(chartSummary => {\n          this._chartSummary = '';\n          return _.map(chartSummary, summaryObj => {\n            const summary = _.get(summaryObj, 'summary');\n            this._chartSummary = summary;\n\n            if (summary) {\n              this.chartSummarylabel = _.get(this.resourceService, 'frmelmnts.lbl.updateChartSummary');\n            }\n\n            return {\n              label: _.get(this.resourceService, 'frmelmnts.lbl.chartSummary'),\n              text: [summary],\n              createdOn: _.get(summaryObj, 'createdon')\n            };\n          });\n        })\n      );\n    } else {\n      return of([]);\n    }\n  }\n\n   // use getter setter to define the property\n   get globalFilter(): any {\n    return this._globalFilter;\n  }\n\n  @Input()\n  set globalFilter(val: any) {\n    if(val && val.chartData){\n      let updatedChartData = val.chartData.filter(chart=>{\n        if(chart && chart.id){\n          if(this.chartConfig['id']==chart.id){\n            return chart.data;\n          }\n        }\n      });\n\n      if(updatedChartData && updatedChartData[0] &&  updatedChartData[0].data){\n        delete updatedChartData[0].data['selectedFilters'];\n        this.chartData = updatedChartData[0].data;\n        this.cdr.detectChanges();\n        this.getDataSetValue(updatedChartData[0].data);\n        this.calculateBigNumber(updatedChartData[0].data);\n        this.resetForm();\n\n      }\n\n    }\n  }\n\n  public filterChanged(data: any): void {\n    this.cdr.detectChanges();\n    this.currentFilters = data.filters;\n    const keys = Object.keys(this.currentFilters);\n    this.dateFilters = [];\n    this.filters.map(ele => {\n        if (ele && ele['controlType'].toLowerCase() == 'date') {\n          keys.map(item => {\n            if (item == ele['reference']) {\n              this.dateFilters.push(item);\n            }\n          });\n        }\n    });\n\n    if (data.filters) {\n      this.chartData['selectedFilters'] = data.filters;\n    } else {\n      this.chartData['selectedFilters'] = {};\n    }\n    this.getDataSetValue(data.chartData[0].data);\n    this.calculateBigNumber(data.chartData[0].data);\n  }\n  public graphStatsChange(data: any): void {\n    this.showStats = data;\n  }\n  changeChartType(chartType) {\n    this.chartType = _.lowerCase(chartType);\n  }\n  filterModalPopup(operator) {\n\n    if (operator == false) {\n      this.closeDialog()\n      this.cdr.detectChanges();\n    } else {\n      if (this.currentFilters) {\n        this.chartData['selectedFilters'] = this.currentFilters;\n        this.resetFilters = { data: this.chartData,reset:true };\n      }else {\n        this.chartData['selectedFilters'] = {};\n      }\n      this.cdr.detectChanges();\n      this.openDialog();\n    }\n\n  }\n\n  resetForm() {\n    this.chartData['selectedFilters'] = {};\n    this.resetFilters = { data: this.chartData, reset: true };\n    this.currentFilters = [];\n  }\n  checkFilterReferance(element) {\n    if (this.dateFilters && this.dateFilters.includes(element)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  getChartData(){\n    return [{ id:this.chartConfig.id ,data: this.chartData , selectedFilters:this.currentFilters }];\n  }\n  openDialog() {\n    if(this.filterPopUpMat){\n      this.dialogRef = this.dialog.open(this.filterPopUpMat);\n    }\n  }\n  closeDialog() {\n    if(this.dialogRef){\n      this.dialogRef.close();\n    }\n  }\n}\n","import { ToasterService } from '@sunbird/shared';\nimport { ReportService } from '../../services';\nimport { IGeoJSON, ICustomMapObj, Properties, IInputMapData } from '../../interfaces';\nimport { Component, OnInit, Input, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { Map } from 'leaflet';\nimport { of, throwError, zip, BehaviorSubject } from 'rxjs';\nimport { mergeMap, map, retry, catchError, skipWhile, pluck, tap } from 'rxjs/operators';\nimport * as mappingConfig from '../../config/nameToCodeMapping.json';\nimport { cloneDeep, toLower, find, random, groupBy, reduce } from 'lodash-es';\n\n\ndeclare var L;\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.scss']\n})\nexport class MapComponent implements OnInit, AfterViewInit {\n  public mapId;\n  private map: Map;\n  private geoJSONRootLayer;\n  private infoControl;\n  public subscription$;\n  private getGeoJSON = new BehaviorSubject(undefined);\n  @Output() featureClicked = new EventEmitter();\n  private mappingConfig: any;\n  private readonly __defaultConfig = {\n    initialCoordinate: [20, 78],\n    latBounds: [6.4626999, 68.1097],\n    lonBounds: [35.513327, 97.39535869999999],\n    initialZoomLevel: 5,\n    controlTitle: 'India Heat Map',\n    tileLayer: {\n      urlTemplate: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      options: {\n        attributions: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      }\n    },\n    rootStyle: {\n      fillColor: '#007cbe',\n      weight: 2,\n      opacity: 1,\n      color: 'white',\n      dashArray: '3',\n      fillOpacity: 0.7,\n      cursor: 'no-drop'\n    }\n  };\n\n  private __mapData = {\n    folder: 'geoJSONFiles',\n    strict: true\n  };\n\n  private __options = Object.assign(this.__defaultConfig);\n\n  @Input() set options(options) {\n    this.__options = {\n      ...this.__defaultConfig,\n      ...options\n    };\n  }\n\n  @Input() set mapData(data) {\n    this.__mapData = {\n      ...this.__mapData,\n      ...data\n    };\n    this.getGeoJSON.next(this.__mapData);\n  }\n\n  constructor(private toasterService: ToasterService, private reportService: ReportService) {\n    this.mappingConfig = (<any>mappingConfig.default);\n    this.mapId = `map-${random(0, 1000)}`;\n  }\n\n  private getLayer(data?: IGeoJSON) {\n    return L && L.geoJSON(data || null, {\n      style: this.setStyle.bind(this),\n      onEachFeature: this.onEachFeature.bind(this)\n    });\n  }\n\n  /**\n   * @description sets the initial coordinates, zoom level & boundaries for the leaflet Map\n   * @private\n   * @memberof Map2Component\n   */\n  private setInitialMapView() {\n    const { initialCoordinate, initialZoomLevel, latBounds, lonBounds } = this.__options;\n    this.map = L && L.map(this.mapId).setView(initialCoordinate, initialZoomLevel);\n    this.geoJSONRootLayer = this.map && this.getLayer().addTo(this.map);\n    const maxBounds = L && L.latLngBounds([latBounds, lonBounds]);\n    if (this.map) {\n      this.map.setMaxBounds(maxBounds);\n      this.map.fitBounds(maxBounds);\n    }\n  }\n\n  /**\n   * @description click handler for a specfic layer within the map\n   * @private\n   * @param {*} { properties, metaData }\n   * @param {*} event\n   * @memberof Map2Component\n   */\n  private clickHandler({ properties = {}, metaData = {} }: { properties: Properties; metaData: Partial<ICustomMapObj> }, event) {\n    console.log({ ...properties, ...metaData });\n    this.featureClicked.emit({ ...metaData, ...properties });\n  }\n\n  /**\n   * @description handles mouse out event for a specific layer\n   * @private\n   * @param {*} { properties, metaData }\n   * @param {*} event\n   * @memberof Map2Component\n   */\n  private mouseoutHandler({ properties = {}, metaData = {} }: { properties: Properties; metaData: Partial<ICustomMapObj> }, event) {\n    this.geoJSONRootLayer.resetStyle(event.target);\n  }\n\n  /**\n   * @description mouseover event handler\n   * @private\n   * @param {*} { properties, metaData }\n   * @param {*} event\n   * @memberof Map2Component\n   */\n  private mouseoverHandler({ properties = {}, metaData = {} }: { properties: Properties; metaData: Partial<ICustomMapObj> }, event) {\n    const layer = event.target;\n    layer.setStyle({\n      weight: 3,\n      color: '#666',\n      dashArray: '',\n      fillOpacity: 0.8\n    });\n    if (L && (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge)) {\n      layer.bringToFront();\n    }\n    this.infoControl && this.infoControl.update(properties);\n    const mergedObj = { ...properties, ...metaData };\n    layer.bindPopup(mergedObj.name || 'Unknown').openPopup();\n  }\n\n  /**\n   * @description attaches event handlers on each layer\n   * @private\n   * @param {*} feature\n   * @param {*} layer\n   * @memberof Map2Component\n   */\n  private onEachFeature(feature, layer) {\n    const { properties, metaData = {} } = feature;\n    // const center = layer.getBounds().getCenter();\n    // L.marker(center).addTo(this.map);\n    layer.on({\n      mouseover: this.mouseoverHandler.bind(this, { properties, metaData }),\n      mouseout: this.mouseoutHandler.bind(this, { properties, metaData }),\n      click: this.clickHandler.bind(this, { properties, metaData })\n    });\n  }\n\n  private setControl() {\n    const { controlTitle } = this.__options;\n    const infoControl = this.infoControl = L && L.control();\n    infoControl.onAdd = function (map) {\n      this._div = L && L.DomUtil.create('div', 'infoControl');\n      this.update();\n      return this._div;\n    };\n    infoControl.update = function (properties = {}) {\n      const text = Object.entries(properties).map(([key, value]) => `<br />${key}: ${value}`).join('<br />');\n      this._div.innerHTML = `<h4>${controlTitle}</h4>\n      ${text}`;\n    };\n    infoControl.addTo(this.map);\n  }\n\n  /**\n   * @description sets styles for each feature layer\n   * @private\n   * @param {*} feature\n   * @returns\n   * @memberof MapComponent\n   */\n  private setStyle(feature, layer) {\n    const { metaData = {} } = feature;\n    return {\n      ...this.__options.rootStyle, ...(!metaData.drillDown && !metaData.fileName &&\n        { className: 'notAllowedCursor' })\n    };\n  }\n\n  private addTileLayer() {\n    const { urlTemplate, options } = this.__options.tileLayer;\n    L && this.map && L.tileLayer(urlTemplate, options).addTo(this.map);\n  }\n  /**\n   * @description dynamically add custom properties from external JSON to feature Objects\n   * @private\n   * @param {*} { reportData = [], layers = [], labelExpr = 'District', type = 'district', features = [], metrics = [] }\n   * @returns\n   * @memberof MapComponent\n   */\n  private addProperties({ reportData = [], layers = [], labelExpr = 'District', type = 'district', features = [], metrics = [] }) {\n    const filteredFeatures = [];\n    const datasets = groupBy(reportData || [], data => toLower(data[labelExpr]));\n    layers.forEach(layer => {\n      const recordFromConfigMapping = this.findRecordInConfigMapping({ type, name: layer });\n      const dataset = datasets.hasOwnProperty(toLower(layer)) && datasets[toLower(layer)];\n      const featureObj = features.find(feature => {\n        const { properties = {} } = feature;\n        return recordFromConfigMapping && +properties.code === +recordFromConfigMapping.code;\n      });\n      if (!recordFromConfigMapping || !dataset || !featureObj) { return; }\n      featureObj['metaData'] = { name: layer };\n      const result = reduce(dataset, (accumulator, value) => {\n        metrics.forEach(metric => {\n          accumulator[metric] = (accumulator[metric] || 0) + (+value[metric]);\n        });\n        return accumulator;\n      }, {});\n      featureObj.properties = {\n        ...(featureObj.properties || {}),\n        ...(result || {})\n      };\n      filteredFeatures.push(featureObj);\n    });\n    return filteredFeatures;\n  }\n\n  private dataHandler() {\n    return this.getGeoJSON.pipe(\n      skipWhile(input => input === undefined || input === null || !(input.hasOwnProperty('state') || input.hasOwnProperty('country'))),\n      mergeMap((input: IInputMapData) => {\n        const { country = null, states = [], state, districts = [], metrics = [], labelExpr = 'District', strict = false, folder } = input;\n        let paramter;\n        if (country) {\n          paramter = { type: 'country', name: country };\n        } else {\n          paramter = { type: 'state', name: state };\n        }\n        const { geoJSONFilename = null } = this.findRecordInConfigMapping(paramter) || {};\n        if (!geoJSONFilename) {\n          return throwError('specified geoJSON file not found');\n        }\n        return zip(this.getGeoJSONFile({ fileName: geoJSONFilename, folder }), this.getDataSourceData())\n          .pipe(\n            map(([geoJSONData, reportData]) => {\n              const { type, features = [] } = cloneDeep(geoJSONData) as IGeoJSON;\n              let filteredFeatures;\n              if (country && states.length) {\n                filteredFeatures = this.addProperties({ reportData, layers: states, labelExpr, type: 'state', features, metrics });\n              } else {\n                filteredFeatures = this.addProperties({ reportData, layers: districts, labelExpr, type: 'district', features, metrics });\n              }\n              return { type, features: strict ? filteredFeatures : features };\n            })\n          );\n      }),\n      tap(response => {\n        if (this.geoJSONRootLayer && this.map && response) {\n          this.geoJSONRootLayer.addData(response);\n          this.map.fitBounds(this.geoJSONRootLayer.getBounds());\n        }\n      }, err => {\n        console.error(err);\n        const { errorText = 'Failed to render Map' } = err;\n        this.toasterService.error(errorText);\n      }),\n      catchError(err => {\n        return of(null);\n      })\n    );\n  }\n\n  ngOnInit() {\n    this.subscription$ = this.dataHandler();\n  }\n\n  ngAfterViewInit() {\n    this.setInitialMapView();\n    this.addTileLayer();\n    this.setControl();\n  }\n\n  private findRecordInConfigMapping({ type = null, name = null, code = null }) {\n    return find(this.mappingConfig, config => {\n      const { type: configType, name: configName, code: configCode } = config;\n      if (code) { return configCode === code; }\n      return configType && configName && toLower(configType) === toLower(type) && toLower(configName) === toLower(name);\n    });\n  }\n\n  private getGeoJSONFile({ folder = 'geoJSONFiles', fileName }: Record<string, string>) {\n    return this.reportService.fetchDataSource(`/reports/fetch/${folder}/${fileName}`)\n      .pipe(\n        pluck('result'),\n        retry(2),\n        catchError(err => throwError({ errorText: 'Failed to download geoJSON file.' }))\n      );\n  }\n\n  private getDataSourceData() {\n    const { reportLoc, reportData } = this.__mapData as IInputMapData;\n    if (reportData) { return of(reportData); }\n    return this.reportService.fetchDataSource(reportLoc)\n      .pipe(\n        pluck('result'),\n        pluck('data'),\n        retry(2),\n        catchError(err => throwError({ errorText: 'Failed to download dataSource file.' }))\n      );\n  }\n\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export class Bounds {\n    readonly top: number;\n    readonly left: number;\n    readonly width: number;\n    readonly height: number;\n\n    constructor(x: number, y: number, w: number, h: number) {\n        this.left = x;\n        this.top = y;\n        this.width = w;\n        this.height = h;\n    }\n\n    add(x: number, y: number, w: number, h: number): Bounds {\n        return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\n    }\n\n    static fromClientRect(clientRect: ClientRect): Bounds {\n        return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    }\n}\n\nexport const parseBounds = (node: Element): Bounds => {\n    return Bounds.fromClientRect(node.getBoundingClientRect());\n};\n\nexport const parseDocumentSize = (document: Document): Bounds => {\n    const body = document.body;\n    const documentElement = document.documentElement;\n\n    if (!body || !documentElement) {\n        throw new Error(`Unable to get document size`);\n    }\n    const width = Math.max(\n        Math.max(body.scrollWidth, documentElement.scrollWidth),\n        Math.max(body.offsetWidth, documentElement.offsetWidth),\n        Math.max(body.clientWidth, documentElement.clientWidth)\n    );\n\n    const height = Math.max(\n        Math.max(body.scrollHeight, documentElement.scrollHeight),\n        Math.max(body.offsetHeight, documentElement.offsetHeight),\n        Math.max(body.clientHeight, documentElement.clientHeight)\n    );\n\n    return new Bounds(0, 0, width, height);\n};\n","export const toCodePoints = (str: string): number[] => {\n    const codePoints = [];\n    let i = 0;\n    const length = str.length;\n    while (i < length) {\n        const value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            const extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nexport const fromCodePoint = (...codePoints: number[]): string => {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint(...codePoints);\n    }\n\n    const length = codePoints.length;\n    if (!length) {\n        return '';\n    }\n\n    const codeUnits = [];\n\n    let index = -1;\n    let result = '';\n    while (++index < length) {\n        let codePoint = codePoints[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode(...codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n","import {decode, polyUint16Array, polyUint32Array} from './Util';\n\nexport type int = number;\n\n/** Shift size for getting the index-2 table offset. */\nexport const UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nexport const UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nexport const UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nexport const UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nexport const UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nexport const UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nexport const UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nexport const UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nexport const UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nexport const UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nexport const UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nexport const UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nexport const UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nexport const UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nexport const UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nconst slice16 = (view: number[] | Uint16Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint16Array(Array.prototype.slice.call(view, start, end))\n};\n\nconst slice32 = (view: number[] | Uint32Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint32Array(Array.prototype.slice.call(view, start, end));\n};\n\nexport const createTrieFromBase64 = (base64: string): Trie => {\n    const buffer = decode(base64);\n    const view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\n    const view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\n    const headerLength = 24;\n\n    const index = slice16(view16, headerLength / 2, view32[4] / 2);\n    const data =\n        view32[5] === 2\n            ? slice16(view16, (headerLength + view32[4]) / 2)\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nexport class Trie {\n    initialValue: int;\n    errorValue: int;\n    highStart: int;\n    highValueIndex: int;\n    index: Uint16Array | number[];\n    data: Uint32Array | Uint16Array | number[];\n\n    constructor(\n        initialValue: int,\n        errorValue: int,\n        highStart: int,\n        highValueIndex: int,\n        index: Uint16Array | number[],\n        data: Uint32Array | Uint16Array | number[]\n    ) {\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n    get(codePoint: number): number {\n        let ix;\n        if (codePoint >= 0) {\n            if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\n                // Ordinary BMP code point, excluding leading surrogates.\n                // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                // 16 bit data is stored in the index array itself.\n                ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint <= 0xffff) {\n                // Lead Surrogate Code Point.  A Separate index section is stored for\n                // lead surrogate code units and code points.\n                //   The main index has the code unit data.\n                //   For this function, we need the code point data.\n                // Note: this expression could be refactored for slightly improved efficiency, but\n                //       surrogate code points will be so rare in practice that it's not worth it.\n                ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint < this.highStart) {\n                // Supplemental code point, use two-level lookup.\n                ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                ix = this.index[ix];\n                ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\n                ix = this.index[ix];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n            if (codePoint <= 0x10ffff) {\n                return this.data[this.highValueIndex];\n            }\n        }\n\n        // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n        return this.errorValue;\n    }\n}\n","export const base64 =\n    'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\n","/* @flow */\n'use strict';\n\nimport {createTrieFromBase64} from './Trie';\nimport {base64} from './linebreak-trie';\nimport {fromCodePoint, toCodePoints} from './Util';\n\nexport const LETTER_NUMBER_MODIFIER = 50;\n\n// Non-tailorable Line Breaking Classes\nconst BK = 1; //  Cause a line break (after)\nconst CR = 2; //  Cause a line break (after), except between CR and LF\nconst LF = 3; //  Cause a line break (after)\nconst CM = 4; //  Prohibit a line break between the character and the preceding character\nconst NL = 5; //  Cause a line break (after)\nconst SG = 6; //  Do not occur in well-formed text\nconst WJ = 7; //  Prohibit line breaks before and after\nconst ZW = 8; //  Provide a break opportunity\nconst GL = 9; //  Prohibit line breaks before and after\nconst SP = 10; // Enable indirect line breaks\nconst ZWJ = 11; // Prohibit line breaks within joiner sequences\n// Break Opportunities\nconst B2 = 12; //  Provide a line break opportunity before and after the character\nconst BA = 13; //  Generally provide a line break opportunity after the character\nconst BB = 14; //  Generally provide a line break opportunity before the character\nconst HY = 15; //  Provide a line break opportunity after the character, except in numeric context\nconst CB = 16; //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nconst CL = 17; //  Prohibit line breaks before\nconst CP = 18; //  Prohibit line breaks before\nconst EX = 19; //  Prohibit line breaks before\nconst IN = 20; //  Allow only indirect line breaks between pairs\nconst NS = 21; //  Allow only indirect line breaks before\nconst OP = 22; //  Prohibit line breaks after\nconst QU = 23; //  Act like they are both opening and closing\n// Numeric Context\nconst IS = 24; //  Prevent breaks after any and before numeric\nconst NU = 25; //  Form numeric expressions for line breaking purposes\nconst PO = 26; //  Do not break following a numeric expression\nconst PR = 27; //  Do not break in front of a numeric expression\nconst SY = 28; //  Prevent a break before; and allow a break after\n// Other Characters\nconst AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nconst AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\nconst CJ = 31; //  Treat as NS or ID for strict or normal breaking.\nconst EB = 32; //  Do not break from following Emoji Modifier\nconst EM = 33; //  Do not break from preceding Emoji Base\nconst H2 = 34; //  Form Korean syllable blocks\nconst H3 = 35; //  Form Korean syllable blocks\nconst HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\nconst ID = 37; //  Break before or after; except in some numeric context\nconst JL = 38; //  Form Korean syllable blocks\nconst JV = 39; //  Form Korean syllable blocks\nconst JT = 40; //  Form Korean syllable blocks\nconst RI = 41; //  Keep pairs together. For pairs; break before and after other classes\nconst SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\nconst XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\n\nexport const classes: {[key: string]: number} = {\n    BK,\n    CR,\n    LF,\n    CM,\n    NL,\n    SG,\n    WJ,\n    ZW,\n    GL,\n    SP,\n    ZWJ,\n    B2,\n    BA,\n    BB,\n    HY,\n    CB,\n    CL,\n    CP,\n    EX,\n    IN,\n    NS,\n    OP,\n    QU,\n    IS,\n    NU,\n    PO,\n    PR,\n    SY,\n    AI,\n    AL,\n    CJ,\n    EB,\n    EM,\n    H2,\n    H3,\n    HL,\n    ID,\n    JL,\n    JV,\n    JT,\n    RI,\n    SA,\n    XX,\n};\n\nexport const BREAK_MANDATORY = '!';\nexport const BREAK_NOT_ALLOWED = '';\nexport const BREAK_ALLOWED = '';\nexport const UnicodeTrie = createTrieFromBase64(base64);\n\nconst ALPHABETICS = [AL, HL];\nconst HARD_LINE_BREAKS = [BK, CR, LF, NL];\nconst SPACE = [SP, ZW];\nconst PREFIX_POSTFIX = [PR, PO];\nconst LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\nconst KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\nconst HYPHEN = [HY, BA];\n\nexport const codePointsToCharacterClasses = (\n    codePoints: number[],\n    lineBreak: string = 'strict'\n): [number[], number[], boolean[]] => {\n    const types: number[] = [];\n    const indicies: number[] = [];\n    const categories: boolean[] = [];\n    codePoints.forEach((codePoint, index) => {\n        let classType = UnicodeTrie.get(codePoint);\n        if (classType > LETTER_NUMBER_MODIFIER) {\n            categories.push(true);\n            classType -= LETTER_NUMBER_MODIFIER;\n        } else {\n            categories.push(false);\n        }\n\n        if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n            // U+2010,  U+2013,  U+301C,  U+30A0\n            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n                indicies.push(index);\n                return types.push(CB);\n            }\n        }\n\n        if (classType === CM || classType === ZWJ) {\n            // LB10 Treat any remaining combining mark or ZWJ as AL.\n            if (index === 0) {\n                indicies.push(index);\n                return types.push(AL);\n            }\n\n            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n            // the base character in all of the following rules. Treat ZWJ as if it were CM.\n            const prev = types[index - 1];\n            if (LINE_BREAKS.indexOf(prev) === -1) {\n                indicies.push(indicies[index - 1]);\n                return types.push(prev);\n            }\n            indicies.push(index);\n            return types.push(AL);\n        }\n\n        indicies.push(index);\n\n        if (classType === CJ) {\n            return types.push(lineBreak === 'strict' ? NS : ID);\n        }\n\n        if (classType === SA) {\n            return types.push(AL);\n        }\n\n        if (classType === AI) {\n            return types.push(AL);\n        }\n\n        // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n        // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n        // to take into account the actual line breaking properties for these characters.\n        if (classType === XX) {\n            if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\n                return types.push(ID);\n            } else {\n                return types.push(AL);\n            }\n        }\n\n        types.push(classType);\n    });\n\n    return [indicies, types, categories];\n};\n\nconst isAdjacentWithSpaceIgnored = (\n    a: number[] | number,\n    b: number,\n    currentIndex: number,\n    classTypes: number[]\n): boolean => {\n    const current = classTypes[currentIndex];\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n        let i = currentIndex;\n        while (i <= classTypes.length) {\n            i++;\n            let next = classTypes[i];\n\n            if (next === b) {\n                return true;\n            }\n\n            if (next !== SP) {\n                break;\n            }\n        }\n    }\n\n    if (current === SP) {\n        let i = currentIndex;\n\n        while (i > 0) {\n            i--;\n            const prev = classTypes[i];\n\n            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n                let n = currentIndex;\n                while (n <= classTypes.length) {\n                    n++;\n                    let next = classTypes[n];\n\n                    if (next === b) {\n                        return true;\n                    }\n\n                    if (next !== SP) {\n                        break;\n                    }\n                }\n            }\n\n            if (prev !== SP) {\n                break;\n            }\n        }\n    }\n    return false;\n};\n\nconst previousNonSpaceClassType = (currentIndex: number, classTypes: number[]): number => {\n    let i = currentIndex;\n    while (i >= 0) {\n        let type = classTypes[i];\n        if (type === SP) {\n            i--;\n        } else {\n            return type;\n        }\n    }\n    return 0;\n};\n\nconst _lineBreakAtIndex = (\n    codePoints: number[],\n    classTypes: number[],\n    indicies: number[],\n    index: number,\n    forbiddenBreaks?: boolean[]\n) => {\n    if (indicies[index] === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    let currentIndex = index - 1;\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    let beforeIndex = currentIndex - 1;\n    let afterIndex = currentIndex + 1;\n    let current = classTypes[currentIndex];\n\n    // LB4 Always break after hard line breaks.\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n    let before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\n    let next = classTypes[afterIndex];\n\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n        return BREAK_MANDATORY;\n    }\n\n    // LB6 Do not break before hard line breaks.\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB7 Do not break before spaces or zero width space.\n    if (SPACE.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB11 Do not break before or after Word joiner and related characters.\n    if (current === WJ || next === WJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12 Do not break after NBSP and related characters.\n    if (current === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB13 Do not break before ] or ! or ; or /, even after spaces.\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB14 Do not break after [, even after spaces.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB15 Do not break within [, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB17 Do not break within , even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB18 Break after spaces.\n    if (current === SP) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB19 Do not break before or after quotation marks, such as   .\n    if (current === QU || next === QU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB20 Break before and after unresolved CB.\n    if (next === CB || current === CB) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21a Don't break after Hebrew + Hyphen.\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21b Dont break between Solidus and Hebrew letters.\n    if (current === SY && next === HL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\n    if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23 Do not break between digits and letters.\n    if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n    if (\n        (current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\n        ([ID, EB, EM].indexOf(current) !== -1 && next === PO)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n    if (\n        (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\n        (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\n    if (\n        // (PR | PO)  ( OP | HY )? NU\n        ([PR, PO].indexOf(current) !== -1 &&\n            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\n        // ( OP | HY )  NU\n        ([OP, HY].indexOf(current) !== -1 && next === NU) ||\n        // NU \t(NU | SY | IS)\n        (current === NU && [NU, SY, IS].indexOf(next) !== -1)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n        let prevIndex = currentIndex;\n        while (prevIndex >= 0) {\n            let type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\n    if ([PR, PO].indexOf(next) !== -1) {\n        let prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\n        while (prevIndex >= 0) {\n            let type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // LB26 Do not break a Korean syllable.\n    if (\n        (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\n        ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\n        ([JT, H3].indexOf(current) !== -1 && next === JT)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB27 Treat a Korean Syllable Block the same as ID.\n    if (\n        (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\n        (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB28 Do not break between alphabetics (at).\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n    if (\n        (ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP) ||\n        (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n    // indicators preceding the position of the break.\n    if (current === RI && next === RI) {\n        let i = indicies[currentIndex];\n        let count = 1;\n        while (i > 0) {\n            i--;\n            if (classTypes[i] === RI) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count % 2 !== 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // LB30b Do not break between an emoji base and an emoji modifier.\n    if (current === EB && next === EM) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    return BREAK_ALLOWED;\n};\n\nexport const lineBreakAtIndex = (codePoints: number[], index: number) => {\n    // LB2 Never break at the start of text.\n    if (index === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB3 Always break at the end of text.\n    if (index >= codePoints.length) {\n        return BREAK_MANDATORY;\n    }\n\n    const [indicies, classTypes] = codePointsToCharacterClasses(codePoints);\n\n    return _lineBreakAtIndex(codePoints, classTypes, indicies, index);\n};\n\nexport type LINE_BREAK = 'auto' | 'normal' | 'strict';\nexport type WORD_BREAK = 'normal' | 'break-all' | 'break-word' | 'keep-all';\n\ninterface IOptions {\n    lineBreak?: LINE_BREAK;\n    wordBreak?: WORD_BREAK;\n}\n\nconst cssFormattedClasses = (\n    codePoints: number[],\n    options?: IOptions\n): [number[], number[], boolean[] | undefined] => {\n    if (!options) {\n        options = {lineBreak: 'normal', wordBreak: 'normal'};\n    }\n    let [indicies, classTypes, isLetterNumber] = codePointsToCharacterClasses(codePoints, options.lineBreak);\n\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n        classTypes = classTypes.map(type => ([NU, AL, SA].indexOf(type) !== -1 ? ID : type));\n    }\n\n    const forbiddenBreakpoints =\n        options.wordBreak === 'keep-all'\n            ? isLetterNumber.map((letterNumber, i) => {\n                  return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\n              })\n            : undefined;\n\n    return [indicies, classTypes, forbiddenBreakpoints];\n};\n\nexport const inlineBreakOpportunities = (str: string, options?: IOptions): string => {\n    const codePoints = toCodePoints(str);\n    let output = BREAK_NOT_ALLOWED;\n    const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(codePoints, options);\n\n    codePoints.forEach((codePoint, i) => {\n        output +=\n            fromCodePoint(codePoint) +\n            (i >= codePoints.length - 1\n                ? BREAK_MANDATORY\n                : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));\n    });\n\n    return output;\n};\n\nclass Break {\n    private readonly codePoints: number[];\n    readonly required: boolean;\n    readonly start: number;\n    readonly end: number;\n\n    constructor(codePoints: number[], lineBreak: string, start: number, end: number) {\n        this.codePoints = codePoints;\n        this.required = lineBreak === BREAK_MANDATORY;\n        this.start = start;\n        this.end = end;\n    }\n\n    slice(): string {\n        return fromCodePoint(...this.codePoints.slice(this.start, this.end));\n    }\n}\n\nexport type LineBreak =\n    | {\n          done: true;\n          value: null;\n      }\n    | {\n          done: false;\n          value: Break;\n      };\n\ninterface ILineBreakIterator {\n    next: () => LineBreak;\n}\n\nexport const LineBreaker = (str: string, options?: IOptions): ILineBreakIterator => {\n    const codePoints = toCodePoints(str);\n    const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(codePoints, options);\n    const length = codePoints.length;\n    let lastEnd = 0;\n    let nextIndex = 0;\n\n    return {\n        next: () => {\n            if (nextIndex >= length) {\n                return {done: true, value: null};\n            }\n            let lineBreak = BREAK_NOT_ALLOWED;\n            while (\n                nextIndex < length &&\n                (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\n                    BREAK_NOT_ALLOWED\n            ) {}\n\n            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n                const value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\n                lastEnd = nextIndex;\n                return {value, done: false};\n            }\n\n            return {done: true, value: null};\n        },\n    };\n};\n","// https://www.w3.org/TR/css-syntax-3\n\nimport {fromCodePoint, toCodePoints} from 'css-line-break';\n\nexport enum TokenType {\n    STRING_TOKEN,\n    BAD_STRING_TOKEN,\n    LEFT_PARENTHESIS_TOKEN,\n    RIGHT_PARENTHESIS_TOKEN,\n    COMMA_TOKEN,\n    HASH_TOKEN,\n    DELIM_TOKEN,\n    AT_KEYWORD_TOKEN,\n    PREFIX_MATCH_TOKEN,\n    DASH_MATCH_TOKEN,\n    INCLUDE_MATCH_TOKEN,\n    LEFT_CURLY_BRACKET_TOKEN,\n    RIGHT_CURLY_BRACKET_TOKEN,\n    SUFFIX_MATCH_TOKEN,\n    SUBSTRING_MATCH_TOKEN,\n    DIMENSION_TOKEN,\n    PERCENTAGE_TOKEN,\n    NUMBER_TOKEN,\n    FUNCTION,\n    FUNCTION_TOKEN,\n    IDENT_TOKEN,\n    COLUMN_TOKEN,\n    URL_TOKEN,\n    BAD_URL_TOKEN,\n    CDC_TOKEN,\n    CDO_TOKEN,\n    COLON_TOKEN,\n    SEMICOLON_TOKEN,\n    LEFT_SQUARE_BRACKET_TOKEN,\n    RIGHT_SQUARE_BRACKET_TOKEN,\n    UNICODE_RANGE_TOKEN,\n    WHITESPACE_TOKEN,\n    EOF_TOKEN\n}\n\ninterface IToken {\n    type: TokenType;\n}\n\nexport interface Token extends IToken {\n    type:\n        | TokenType.BAD_URL_TOKEN\n        | TokenType.BAD_STRING_TOKEN\n        | TokenType.LEFT_PARENTHESIS_TOKEN\n        | TokenType.RIGHT_PARENTHESIS_TOKEN\n        | TokenType.COMMA_TOKEN\n        | TokenType.SUBSTRING_MATCH_TOKEN\n        | TokenType.PREFIX_MATCH_TOKEN\n        | TokenType.SUFFIX_MATCH_TOKEN\n        | TokenType.COLON_TOKEN\n        | TokenType.SEMICOLON_TOKEN\n        | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n        | TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n        | TokenType.LEFT_CURLY_BRACKET_TOKEN\n        | TokenType.RIGHT_CURLY_BRACKET_TOKEN\n        | TokenType.DASH_MATCH_TOKEN\n        | TokenType.INCLUDE_MATCH_TOKEN\n        | TokenType.COLUMN_TOKEN\n        | TokenType.WHITESPACE_TOKEN\n        | TokenType.CDC_TOKEN\n        | TokenType.CDO_TOKEN\n        | TokenType.EOF_TOKEN;\n}\n\nexport interface StringValueToken extends IToken {\n    type:\n        | TokenType.STRING_TOKEN\n        | TokenType.DELIM_TOKEN\n        | TokenType.FUNCTION_TOKEN\n        | TokenType.IDENT_TOKEN\n        | TokenType.URL_TOKEN\n        | TokenType.AT_KEYWORD_TOKEN;\n    value: string;\n}\n\nexport interface HashToken extends IToken {\n    type: TokenType.HASH_TOKEN;\n    flags: number;\n    value: string;\n}\n\nexport interface NumberValueToken extends IToken {\n    type: TokenType.PERCENTAGE_TOKEN | TokenType.NUMBER_TOKEN;\n    flags: number;\n    number: number;\n}\n\nexport interface DimensionToken extends IToken {\n    type: TokenType.DIMENSION_TOKEN;\n    flags: number;\n    unit: string;\n    number: number;\n}\n\nexport interface UnicodeRangeToken extends IToken {\n    type: TokenType.UNICODE_RANGE_TOKEN;\n    start: number;\n    end: number;\n}\n\nexport type CSSToken = Token | StringValueToken | NumberValueToken | DimensionToken | UnicodeRangeToken | HashToken;\n\nexport const FLAG_UNRESTRICTED = 1 << 0;\nexport const FLAG_ID = 1 << 1;\nexport const FLAG_INTEGER = 1 << 2;\nexport const FLAG_NUMBER = 1 << 3;\n\nconst LINE_FEED = 0x000a;\nconst SOLIDUS = 0x002f;\nconst REVERSE_SOLIDUS = 0x005c;\nconst CHARACTER_TABULATION = 0x0009;\nconst SPACE = 0x0020;\nconst QUOTATION_MARK = 0x0022;\nconst EQUALS_SIGN = 0x003d;\nconst NUMBER_SIGN = 0x0023;\nconst DOLLAR_SIGN = 0x0024;\nconst PERCENTAGE_SIGN = 0x0025;\nconst APOSTROPHE = 0x0027;\nconst LEFT_PARENTHESIS = 0x0028;\nconst RIGHT_PARENTHESIS = 0x0029;\nconst LOW_LINE = 0x005f;\nconst HYPHEN_MINUS = 0x002d;\nconst EXCLAMATION_MARK = 0x0021;\nconst LESS_THAN_SIGN = 0x003c;\nconst GREATER_THAN_SIGN = 0x003e;\nconst COMMERCIAL_AT = 0x0040;\nconst LEFT_SQUARE_BRACKET = 0x005b;\nconst RIGHT_SQUARE_BRACKET = 0x005d;\nconst CIRCUMFLEX_ACCENT = 0x003d;\nconst LEFT_CURLY_BRACKET = 0x007b;\nconst QUESTION_MARK = 0x003f;\nconst RIGHT_CURLY_BRACKET = 0x007d;\nconst VERTICAL_LINE = 0x007c;\nconst TILDE = 0x007e;\nconst CONTROL = 0x0080;\nconst REPLACEMENT_CHARACTER = 0xfffd;\nconst ASTERISK = 0x002a;\nconst PLUS_SIGN = 0x002b;\nconst COMMA = 0x002c;\nconst COLON = 0x003a;\nconst SEMICOLON = 0x003b;\nconst FULL_STOP = 0x002e;\nconst NULL = 0x0000;\nconst BACKSPACE = 0x0008;\nconst LINE_TABULATION = 0x000b;\nconst SHIFT_OUT = 0x000e;\nconst INFORMATION_SEPARATOR_ONE = 0x001f;\nconst DELETE = 0x007f;\nconst EOF = -1;\nconst ZERO = 0x0030;\nconst a = 0x0061;\nconst e = 0x0065;\nconst f = 0x0066;\nconst u = 0x0075;\nconst z = 0x007a;\nconst A = 0x0041;\nconst E = 0x0045;\nconst F = 0x0046;\nconst U = 0x0055;\nconst Z = 0x005a;\n\nconst isDigit = (codePoint: number) => codePoint >= ZERO && codePoint <= 0x0039;\nconst isSurrogateCodePoint = (codePoint: number) => codePoint >= 0xd800 && codePoint <= 0xdfff;\nconst isHex = (codePoint: number) =>\n    isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\nconst isLowerCaseLetter = (codePoint: number) => codePoint >= a && codePoint <= z;\nconst isUpperCaseLetter = (codePoint: number) => codePoint >= A && codePoint <= Z;\nconst isLetter = (codePoint: number) => isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint);\nconst isNonASCIICodePoint = (codePoint: number) => codePoint >= CONTROL;\nconst isWhiteSpace = (codePoint: number): boolean =>\n    codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE;\nconst isNameStartCodePoint = (codePoint: number): boolean =>\n    isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\nconst isNameCodePoint = (codePoint: number): boolean =>\n    isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\nconst isNonPrintableCodePoint = (codePoint: number): boolean => {\n    return (\n        (codePoint >= NULL && codePoint <= BACKSPACE) ||\n        codePoint === LINE_TABULATION ||\n        (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\n        codePoint === DELETE\n    );\n};\nconst isValidEscape = (c1: number, c2: number): boolean => {\n    if (c1 !== REVERSE_SOLIDUS) {\n        return false;\n    }\n\n    return c2 !== LINE_FEED;\n};\nconst isIdentifierStart = (c1: number, c2: number, c3: number): boolean => {\n    if (c1 === HYPHEN_MINUS) {\n        return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\n    } else if (isNameStartCodePoint(c1)) {\n        return true;\n    } else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\n        return true;\n    }\n    return false;\n};\n\nconst isNumberStart = (c1: number, c2: number, c3: number): boolean => {\n    if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\n        if (isDigit(c2)) {\n            return true;\n        }\n\n        return c2 === FULL_STOP && isDigit(c3);\n    }\n\n    if (c1 === FULL_STOP) {\n        return isDigit(c2);\n    }\n\n    return isDigit(c1);\n};\n\nconst stringToNumber = (codePoints: number[]): number => {\n    let c = 0;\n    let sign = 1;\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\n        if (codePoints[c] === HYPHEN_MINUS) {\n            sign = -1;\n        }\n        c++;\n    }\n\n    const integers = [];\n\n    while (isDigit(codePoints[c])) {\n        integers.push(codePoints[c++]);\n    }\n\n    const int = integers.length ? parseInt(fromCodePoint(...integers), 10) : 0;\n\n    if (codePoints[c] === FULL_STOP) {\n        c++;\n    }\n\n    const fraction = [];\n    while (isDigit(codePoints[c])) {\n        fraction.push(codePoints[c++]);\n    }\n\n    const fracd = fraction.length;\n    const frac = fracd ? parseInt(fromCodePoint(...fraction), 10) : 0;\n\n    if (codePoints[c] === E || codePoints[c] === e) {\n        c++;\n    }\n\n    let expsign = 1;\n\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\n        if (codePoints[c] === HYPHEN_MINUS) {\n            expsign = -1;\n        }\n        c++;\n    }\n\n    const exponent = [];\n\n    while (isDigit(codePoints[c])) {\n        exponent.push(codePoints[c++]);\n    }\n\n    const exp = exponent.length ? parseInt(fromCodePoint(...exponent), 10) : 0;\n\n    return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\n};\n\nconst LEFT_PARENTHESIS_TOKEN: Token = {\n    type: TokenType.LEFT_PARENTHESIS_TOKEN\n};\nconst RIGHT_PARENTHESIS_TOKEN: Token = {\n    type: TokenType.RIGHT_PARENTHESIS_TOKEN\n};\nconst COMMA_TOKEN: Token = {type: TokenType.COMMA_TOKEN};\nconst SUFFIX_MATCH_TOKEN: Token = {type: TokenType.SUFFIX_MATCH_TOKEN};\nconst PREFIX_MATCH_TOKEN: Token = {type: TokenType.PREFIX_MATCH_TOKEN};\nconst COLUMN_TOKEN: Token = {type: TokenType.COLUMN_TOKEN};\nconst DASH_MATCH_TOKEN: Token = {type: TokenType.DASH_MATCH_TOKEN};\nconst INCLUDE_MATCH_TOKEN: Token = {type: TokenType.INCLUDE_MATCH_TOKEN};\nconst LEFT_CURLY_BRACKET_TOKEN: Token = {\n    type: TokenType.LEFT_CURLY_BRACKET_TOKEN\n};\nconst RIGHT_CURLY_BRACKET_TOKEN: Token = {\n    type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\n};\nconst SUBSTRING_MATCH_TOKEN: Token = {type: TokenType.SUBSTRING_MATCH_TOKEN};\nconst BAD_URL_TOKEN: Token = {type: TokenType.BAD_URL_TOKEN};\nconst BAD_STRING_TOKEN: Token = {type: TokenType.BAD_STRING_TOKEN};\nconst CDO_TOKEN: Token = {type: TokenType.CDO_TOKEN};\nconst CDC_TOKEN: Token = {type: TokenType.CDC_TOKEN};\nconst COLON_TOKEN: Token = {type: TokenType.COLON_TOKEN};\nconst SEMICOLON_TOKEN: Token = {type: TokenType.SEMICOLON_TOKEN};\nconst LEFT_SQUARE_BRACKET_TOKEN: Token = {\n    type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\n};\nconst RIGHT_SQUARE_BRACKET_TOKEN: Token = {\n    type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n};\nconst WHITESPACE_TOKEN: Token = {type: TokenType.WHITESPACE_TOKEN};\nexport const EOF_TOKEN: Token = {type: TokenType.EOF_TOKEN};\n\nexport class Tokenizer {\n    private _value: number[];\n\n    constructor() {\n        this._value = [];\n    }\n\n    write(chunk: string) {\n        this._value = this._value.concat(toCodePoints(chunk));\n    }\n\n    read(): CSSToken[] {\n        const tokens = [];\n        let token = this.consumeToken();\n        while (token !== EOF_TOKEN) {\n            tokens.push(token);\n            token = this.consumeToken();\n        }\n        return tokens;\n    }\n\n    private consumeToken(): CSSToken {\n        const codePoint = this.consumeCodePoint();\n\n        switch (codePoint) {\n            case QUOTATION_MARK:\n                return this.consumeStringToken(QUOTATION_MARK);\n            case NUMBER_SIGN:\n                const c1 = this.peekCodePoint(0);\n                const c2 = this.peekCodePoint(1);\n                const c3 = this.peekCodePoint(2);\n                if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\n                    const flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\n                    const value = this.consumeName();\n\n                    return {type: TokenType.HASH_TOKEN, value, flags};\n                }\n                break;\n            case DOLLAR_SIGN:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return SUFFIX_MATCH_TOKEN;\n                }\n                break;\n            case APOSTROPHE:\n                return this.consumeStringToken(APOSTROPHE);\n            case LEFT_PARENTHESIS:\n                return LEFT_PARENTHESIS_TOKEN;\n            case RIGHT_PARENTHESIS:\n                return RIGHT_PARENTHESIS_TOKEN;\n            case ASTERISK:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return SUBSTRING_MATCH_TOKEN;\n                }\n                break;\n            case PLUS_SIGN:\n                if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n                break;\n            case COMMA:\n                return COMMA_TOKEN;\n            case HYPHEN_MINUS:\n                const e1 = codePoint;\n                const e2 = this.peekCodePoint(0);\n                const e3 = this.peekCodePoint(1);\n\n                if (isNumberStart(e1, e2, e3)) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n\n                if (isIdentifierStart(e1, e2, e3)) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeIdentLikeToken();\n                }\n\n                if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\n                    this.consumeCodePoint();\n                    this.consumeCodePoint();\n                    return CDC_TOKEN;\n                }\n                break;\n\n            case FULL_STOP:\n                if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n                break;\n            case SOLIDUS:\n                if (this.peekCodePoint(0) === ASTERISK) {\n                    this.consumeCodePoint();\n                    while (true) {\n                        let c = this.consumeCodePoint();\n                        if (c === ASTERISK) {\n                            c = this.consumeCodePoint();\n                            if (c === SOLIDUS) {\n                                return this.consumeToken();\n                            }\n                        }\n                        if (c === EOF) {\n                            return this.consumeToken();\n                        }\n                    }\n                }\n                break;\n            case COLON:\n                return COLON_TOKEN;\n            case SEMICOLON:\n                return SEMICOLON_TOKEN;\n            case LESS_THAN_SIGN:\n                if (\n                    this.peekCodePoint(0) === EXCLAMATION_MARK &&\n                    this.peekCodePoint(1) === HYPHEN_MINUS &&\n                    this.peekCodePoint(2) === HYPHEN_MINUS\n                ) {\n                    this.consumeCodePoint();\n                    this.consumeCodePoint();\n                    return CDO_TOKEN;\n                }\n                break;\n            case COMMERCIAL_AT:\n                const a1 = this.peekCodePoint(0);\n                const a2 = this.peekCodePoint(1);\n                const a3 = this.peekCodePoint(2);\n                if (isIdentifierStart(a1, a2, a3)) {\n                    const value = this.consumeName();\n                    return {type: TokenType.AT_KEYWORD_TOKEN, value};\n                }\n                break;\n            case LEFT_SQUARE_BRACKET:\n                return LEFT_SQUARE_BRACKET_TOKEN;\n            case REVERSE_SOLIDUS:\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeIdentLikeToken();\n                }\n                break;\n            case RIGHT_SQUARE_BRACKET:\n                return RIGHT_SQUARE_BRACKET_TOKEN;\n            case CIRCUMFLEX_ACCENT:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return PREFIX_MATCH_TOKEN;\n                }\n                break;\n            case LEFT_CURLY_BRACKET:\n                return LEFT_CURLY_BRACKET_TOKEN;\n            case RIGHT_CURLY_BRACKET:\n                return RIGHT_CURLY_BRACKET_TOKEN;\n            case u:\n            case U:\n                const u1 = this.peekCodePoint(0);\n                const u2 = this.peekCodePoint(1);\n                if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\n                    this.consumeCodePoint();\n                    this.consumeUnicodeRangeToken();\n                }\n                this.reconsumeCodePoint(codePoint);\n                return this.consumeIdentLikeToken();\n            case VERTICAL_LINE:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return DASH_MATCH_TOKEN;\n                }\n                if (this.peekCodePoint(0) === VERTICAL_LINE) {\n                    this.consumeCodePoint();\n                    return COLUMN_TOKEN;\n                }\n                break;\n            case TILDE:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return INCLUDE_MATCH_TOKEN;\n                }\n                break;\n            case EOF:\n                return EOF_TOKEN;\n        }\n\n        if (isWhiteSpace(codePoint)) {\n            this.consumeWhiteSpace();\n            return WHITESPACE_TOKEN;\n        }\n\n        if (isDigit(codePoint)) {\n            this.reconsumeCodePoint(codePoint);\n            return this.consumeNumericToken();\n        }\n\n        if (isNameStartCodePoint(codePoint)) {\n            this.reconsumeCodePoint(codePoint);\n            return this.consumeIdentLikeToken();\n        }\n\n        return {type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint)};\n    }\n\n    private consumeCodePoint(): number {\n        const value = this._value.shift();\n\n        return typeof value === 'undefined' ? -1 : value;\n    }\n\n    private reconsumeCodePoint(codePoint: number) {\n        this._value.unshift(codePoint);\n    }\n\n    private peekCodePoint(delta: number): number {\n        if (delta >= this._value.length) {\n            return -1;\n        }\n\n        return this._value[delta];\n    }\n\n    private consumeUnicodeRangeToken(): UnicodeRangeToken {\n        const digits = [];\n        let codePoint = this.consumeCodePoint();\n        while (isHex(codePoint) && digits.length < 6) {\n            digits.push(codePoint);\n            codePoint = this.consumeCodePoint();\n        }\n        let questionMarks = false;\n        while (codePoint === QUESTION_MARK && digits.length < 6) {\n            digits.push(codePoint);\n            codePoint = this.consumeCodePoint();\n            questionMarks = true;\n        }\n\n        if (questionMarks) {\n            const start = parseInt(fromCodePoint(...digits.map(digit => (digit === QUESTION_MARK ? ZERO : digit))), 16);\n            const end = parseInt(fromCodePoint(...digits.map(digit => (digit === QUESTION_MARK ? F : digit))), 16);\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end};\n        }\n\n        const start = parseInt(fromCodePoint(...digits), 16);\n        if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\n            this.consumeCodePoint();\n            codePoint = this.consumeCodePoint();\n            const endDigits = [];\n            while (isHex(codePoint) && endDigits.length < 6) {\n                endDigits.push(codePoint);\n                codePoint = this.consumeCodePoint();\n            }\n            const end = parseInt(fromCodePoint(...endDigits), 16);\n\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end};\n        } else {\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end: start};\n        }\n    }\n\n    private consumeIdentLikeToken(): StringValueToken | Token {\n        const value = this.consumeName();\n        if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\n            this.consumeCodePoint();\n            return this.consumeUrlToken();\n        } else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\n            this.consumeCodePoint();\n            return {type: TokenType.FUNCTION_TOKEN, value};\n        }\n\n        return {type: TokenType.IDENT_TOKEN, value};\n    }\n\n    private consumeUrlToken(): StringValueToken | Token {\n        const value = [];\n        this.consumeWhiteSpace();\n\n        if (this.peekCodePoint(0) === EOF) {\n            return {type: TokenType.URL_TOKEN, value: ''};\n        }\n\n        const next = this.peekCodePoint(0);\n        if (next === APOSTROPHE || next === QUOTATION_MARK) {\n            const stringToken = this.consumeStringToken(this.consumeCodePoint());\n            if (stringToken.type === TokenType.STRING_TOKEN) {\n                this.consumeWhiteSpace();\n\n                if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\n                    this.consumeCodePoint();\n                    return {type: TokenType.URL_TOKEN, value: stringToken.value};\n                }\n            }\n\n            this.consumeBadUrlRemnants();\n            return BAD_URL_TOKEN;\n        }\n\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\n                return {type: TokenType.URL_TOKEN, value: fromCodePoint(...value)};\n            } else if (isWhiteSpace(codePoint)) {\n                this.consumeWhiteSpace();\n                if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\n                    this.consumeCodePoint();\n                    return {type: TokenType.URL_TOKEN, value: fromCodePoint(...value)};\n                }\n                this.consumeBadUrlRemnants();\n                return BAD_URL_TOKEN;\n            } else if (\n                codePoint === QUOTATION_MARK ||\n                codePoint === APOSTROPHE ||\n                codePoint === LEFT_PARENTHESIS ||\n                isNonPrintableCodePoint(codePoint)\n            ) {\n                this.consumeBadUrlRemnants();\n                return BAD_URL_TOKEN;\n            } else if (codePoint === REVERSE_SOLIDUS) {\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                    value.push(this.consumeEscapedCodePoint());\n                } else {\n                    this.consumeBadUrlRemnants();\n                    return BAD_URL_TOKEN;\n                }\n            } else {\n                value.push(codePoint);\n            }\n        }\n    }\n\n    private consumeWhiteSpace(): void {\n        while (isWhiteSpace(this.peekCodePoint(0))) {\n            this.consumeCodePoint();\n        }\n    }\n\n    private consumeBadUrlRemnants(): void {\n        while (true) {\n            let codePoint = this.consumeCodePoint();\n            if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\n                return;\n            }\n\n            if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                this.consumeEscapedCodePoint();\n            }\n        }\n    }\n\n    private consumeStringSlice(count: number): string {\n        const SLICE_STACK_SIZE = 60000;\n        let value = '';\n        while (count > 0) {\n            const amount = Math.min(SLICE_STACK_SIZE, count);\n            value += fromCodePoint(...this._value.splice(0, amount));\n            count -= amount;\n        }\n        this._value.shift();\n\n        return value;\n    }\n\n    private consumeStringToken(endingCodePoint: number): StringValueToken | Token {\n        let value = '';\n        let i = 0;\n\n        do {\n            const codePoint = this._value[i];\n            if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\n                value += this.consumeStringSlice(i);\n                return {type: TokenType.STRING_TOKEN, value};\n            }\n\n            if (codePoint === LINE_FEED) {\n                this._value.splice(0, i);\n                return BAD_STRING_TOKEN;\n            }\n\n            if (codePoint === REVERSE_SOLIDUS) {\n                const next = this._value[i + 1];\n                if (next !== EOF && next !== undefined) {\n                    if (next === LINE_FEED) {\n                        value += this.consumeStringSlice(i);\n                        i = -1;\n                        this._value.shift();\n                    } else if (isValidEscape(codePoint, next)) {\n                        value += this.consumeStringSlice(i);\n                        value += fromCodePoint(this.consumeEscapedCodePoint());\n                        i = -1;\n                    }\n                }\n            }\n            \n            i++;\n        } while (true);\n    }\n\n    private consumeNumber() {\n        let repr = [];\n        let type = FLAG_INTEGER;\n        let c1 = this.peekCodePoint(0);\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\n            repr.push(this.consumeCodePoint());\n        }\n\n        while (isDigit(this.peekCodePoint(0))) {\n            repr.push(this.consumeCodePoint());\n        }\n        c1 = this.peekCodePoint(0);\n        let c2 = this.peekCodePoint(1);\n        if (c1 === FULL_STOP && isDigit(c2)) {\n            repr.push(this.consumeCodePoint(), this.consumeCodePoint());\n            type = FLAG_NUMBER;\n            while (isDigit(this.peekCodePoint(0))) {\n                repr.push(this.consumeCodePoint());\n            }\n        }\n\n        c1 = this.peekCodePoint(0);\n        c2 = this.peekCodePoint(1);\n        let c3 = this.peekCodePoint(2);\n        if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\n            repr.push(this.consumeCodePoint(), this.consumeCodePoint());\n            type = FLAG_NUMBER;\n            while (isDigit(this.peekCodePoint(0))) {\n                repr.push(this.consumeCodePoint());\n            }\n        }\n\n        return [stringToNumber(repr), type];\n    }\n\n    private consumeNumericToken(): NumberValueToken | DimensionToken {\n        const [number, flags] = this.consumeNumber();\n        const c1 = this.peekCodePoint(0);\n        const c2 = this.peekCodePoint(1);\n        const c3 = this.peekCodePoint(2);\n\n        if (isIdentifierStart(c1, c2, c3)) {\n            let unit = this.consumeName();\n            return {type: TokenType.DIMENSION_TOKEN, number, flags, unit};\n        }\n\n        if (c1 === PERCENTAGE_SIGN) {\n            this.consumeCodePoint();\n            return {type: TokenType.PERCENTAGE_TOKEN, number, flags};\n        }\n\n        return {type: TokenType.NUMBER_TOKEN, number, flags};\n    }\n\n    private consumeEscapedCodePoint(): number {\n        const codePoint = this.consumeCodePoint();\n\n        if (isHex(codePoint)) {\n            let hex = fromCodePoint(codePoint);\n            while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\n                hex += fromCodePoint(this.consumeCodePoint());\n            }\n\n            if (isWhiteSpace(this.peekCodePoint(0))) {\n                this.consumeCodePoint();\n            }\n\n            const hexCodePoint = parseInt(hex, 16);\n\n            if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\n                return REPLACEMENT_CHARACTER;\n            }\n\n            return hexCodePoint;\n        }\n\n        if (codePoint === EOF) {\n            return REPLACEMENT_CHARACTER;\n        }\n\n        return codePoint;\n    }\n\n    private consumeName(): string {\n        let result = '';\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (isNameCodePoint(codePoint)) {\n                result += fromCodePoint(codePoint);\n            } else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                result += fromCodePoint(this.consumeEscapedCodePoint());\n            } else {\n                this.reconsumeCodePoint(codePoint);\n                return result;\n            }\n        }\n    }\n}\n","import {\n    CSSToken,\n    DimensionToken,\n    EOF_TOKEN,\n    NumberValueToken,\n    StringValueToken,\n    Tokenizer,\n    TokenType\n} from './tokenizer';\n\nexport type CSSBlockType =\n    | TokenType.LEFT_PARENTHESIS_TOKEN\n    | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n    | TokenType.LEFT_CURLY_BRACKET_TOKEN;\n\nexport interface CSSBlock {\n    type: CSSBlockType;\n    values: CSSValue[];\n}\n\nexport interface CSSFunction {\n    type: TokenType.FUNCTION;\n    name: string;\n    values: CSSValue[];\n}\n\nexport type CSSValue = CSSFunction | CSSToken | CSSBlock;\n\nexport class Parser {\n    private _tokens: CSSToken[];\n\n    constructor(tokens: CSSToken[]) {\n        this._tokens = tokens;\n    }\n\n    static create(value: string): Parser {\n        const tokenizer = new Tokenizer();\n        tokenizer.write(value);\n        return new Parser(tokenizer.read());\n    }\n\n    static parseValue(value: string): CSSValue {\n        return Parser.create(value).parseComponentValue();\n    }\n\n    static parseValues(value: string): CSSValue[] {\n        return Parser.create(value).parseComponentValues();\n    }\n\n    parseComponentValue(): CSSValue {\n        let token = this.consumeToken();\n        while (token.type === TokenType.WHITESPACE_TOKEN) {\n            token = this.consumeToken();\n        }\n\n        if (token.type === TokenType.EOF_TOKEN) {\n            throw new SyntaxError(`Error parsing CSS component value, unexpected EOF`);\n        }\n\n        this.reconsumeToken(token);\n        const value = this.consumeComponentValue();\n\n        do {\n            token = this.consumeToken();\n        } while (token.type === TokenType.WHITESPACE_TOKEN);\n\n        if (token.type === TokenType.EOF_TOKEN) {\n            return value;\n        }\n\n        throw new SyntaxError(`Error parsing CSS component value, multiple values found when expecting only one`);\n    }\n\n    parseComponentValues(): CSSValue[] {\n        const values = [];\n        while (true) {\n            let value = this.consumeComponentValue();\n            if (value.type === TokenType.EOF_TOKEN) {\n                return values;\n            }\n            values.push(value);\n            values.push();\n        }\n    }\n\n    private consumeComponentValue(): CSSValue {\n        const token = this.consumeToken();\n\n        switch (token.type) {\n            case TokenType.LEFT_CURLY_BRACKET_TOKEN:\n            case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\n            case TokenType.LEFT_PARENTHESIS_TOKEN:\n                return this.consumeSimpleBlock(token.type);\n            case TokenType.FUNCTION_TOKEN:\n                return this.consumeFunction(token);\n        }\n\n        return token;\n    }\n\n    private consumeSimpleBlock(type: CSSBlockType): CSSBlock {\n        const block: CSSBlock = {type, values: []};\n\n        let token = this.consumeToken();\n        while (true) {\n            if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\n                return block;\n            }\n\n            this.reconsumeToken(token);\n            block.values.push(this.consumeComponentValue());\n            token = this.consumeToken();\n        }\n    }\n\n    private consumeFunction(functionToken: StringValueToken): CSSFunction {\n        const cssFunction: CSSFunction = {\n            name: functionToken.value,\n            values: [],\n            type: TokenType.FUNCTION\n        };\n\n        while (true) {\n            const token = this.consumeToken();\n            if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\n                return cssFunction;\n            }\n\n            this.reconsumeToken(token);\n            cssFunction.values.push(this.consumeComponentValue());\n        }\n    }\n\n    private consumeToken(): CSSToken {\n        const token = this._tokens.shift();\n        return typeof token === 'undefined' ? EOF_TOKEN : token;\n    }\n\n    private reconsumeToken(token: CSSToken): void {\n        this._tokens.unshift(token);\n    }\n}\n\nexport const isDimensionToken = (token: CSSValue): token is DimensionToken => token.type === TokenType.DIMENSION_TOKEN;\nexport const isNumberToken = (token: CSSValue): token is NumberValueToken => token.type === TokenType.NUMBER_TOKEN;\nexport const isIdentToken = (token: CSSValue): token is StringValueToken => token.type === TokenType.IDENT_TOKEN;\nexport const isStringToken = (token: CSSValue): token is StringValueToken => token.type === TokenType.STRING_TOKEN;\nexport const isIdentWithValue = (token: CSSValue, value: string): boolean =>\n    isIdentToken(token) && token.value === value;\n\nexport const nonWhiteSpace = (token: CSSValue) => token.type !== TokenType.WHITESPACE_TOKEN;\nexport const nonFunctionArgSeperator = (token: CSSValue) =>\n    token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\n\nexport const parseFunctionArgs = (tokens: CSSValue[]): CSSValue[][] => {\n    const args: CSSValue[][] = [];\n    let arg: CSSValue[] = [];\n    tokens.forEach(token => {\n        if (token.type === TokenType.COMMA_TOKEN) {\n            if (arg.length === 0) {\n                throw new Error(`Error parsing function args, zero tokens for arg`);\n            }\n            args.push(arg);\n            arg = [];\n            return;\n        }\n\n        if (token.type !== TokenType.WHITESPACE_TOKEN) {\n            arg.push(token);\n        }\n    });\n    if (arg.length) {\n        args.push(arg);\n    }\n\n    return args;\n};\n\nconst isEndingTokenFor = (token: CSSToken, type: CSSBlockType): boolean => {\n    if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\n        return true;\n    }\n    if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\n        return true;\n    }\n\n    return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\n};\n","import {CSSValue} from '../syntax/parser';\nimport {DimensionToken, NumberValueToken, TokenType} from '../syntax/tokenizer';\n\nexport type Length = DimensionToken | NumberValueToken;\n\nexport const isLength = (token: CSSValue): token is Length =>\n    token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\n","import {DimensionToken, FLAG_INTEGER, NumberValueToken, TokenType} from '../syntax/tokenizer';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {isLength} from './length';\nexport type LengthPercentage = DimensionToken | NumberValueToken;\nexport type LengthPercentageTuple = [LengthPercentage] | [LengthPercentage, LengthPercentage];\n\nexport const isLengthPercentage = (token: CSSValue): token is LengthPercentage =>\n    token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\nexport const parseLengthPercentageTuple = (tokens: LengthPercentage[]): LengthPercentageTuple =>\n    tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\nexport const ZERO_LENGTH: NumberValueToken = {\n    type: TokenType.NUMBER_TOKEN,\n    number: 0,\n    flags: FLAG_INTEGER\n};\n\nexport const FIFTY_PERCENT: NumberValueToken = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 50,\n    flags: FLAG_INTEGER\n};\n\nexport const HUNDRED_PERCENT: NumberValueToken = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 100,\n    flags: FLAG_INTEGER\n};\n\nexport const getAbsoluteValueForTuple = (\n    tuple: LengthPercentageTuple,\n    width: number,\n    height: number\n): [number, number] => {\n    let [x, y] = tuple;\n    return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\n};\nexport const getAbsoluteValue = (token: LengthPercentage, parent: number) => {\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\n        return (token.number / 100) * parent;\n    }\n\n    if (isDimensionToken(token)) {\n        switch (token.unit) {\n            case 'rem':\n            case 'em':\n                return 16 * token.number; // TODO use correct font-size\n            case 'px':\n            default:\n                return token.number;\n        }\n    }\n\n    return token.number;\n};\n","import {CSSValue, isIdentToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {HUNDRED_PERCENT, ZERO_LENGTH} from './length-percentage';\nimport {GradientCorner} from './image';\n\nconst DEG = 'deg';\nconst GRAD = 'grad';\nconst RAD = 'rad';\nconst TURN = 'turn';\n\nexport const angle: ITypeDescriptor<number> = {\n    name: 'angle',\n    parse: (value: CSSValue): number => {\n        if (value.type === TokenType.DIMENSION_TOKEN) {\n            switch (value.unit) {\n                case DEG:\n                    return (Math.PI * value.number) / 180;\n                case GRAD:\n                    return (Math.PI / 200) * value.number;\n                case RAD:\n                    return value.number;\n                case TURN:\n                    return Math.PI * 2 * value.number;\n            }\n        }\n\n        throw new Error(`Unsupported angle type`);\n    }\n};\n\nexport const isAngle = (value: CSSValue): boolean => {\n    if (value.type === TokenType.DIMENSION_TOKEN) {\n        if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\n            return true;\n        }\n    }\n    return false;\n};\n\nexport const parseNamedSide = (tokens: CSSValue[]): number | GradientCorner => {\n    const sideOrCorner = tokens\n        .filter(isIdentToken)\n        .map(ident => ident.value)\n        .join(' ');\n\n    switch (sideOrCorner) {\n        case 'to bottom right':\n        case 'to right bottom':\n        case 'left top':\n        case 'top left':\n            return [ZERO_LENGTH, ZERO_LENGTH];\n        case 'to top':\n        case 'bottom':\n            return deg(0);\n        case 'to bottom left':\n        case 'to left bottom':\n        case 'right top':\n        case 'top right':\n            return [ZERO_LENGTH, HUNDRED_PERCENT];\n        case 'to right':\n        case 'left':\n            return deg(90);\n        case 'to top left':\n        case 'to left top':\n        case 'right bottom':\n        case 'bottom right':\n            return [HUNDRED_PERCENT, HUNDRED_PERCENT];\n        case 'to bottom':\n        case 'top':\n            return deg(180);\n        case 'to top right':\n        case 'to right top':\n        case 'left bottom':\n        case 'bottom left':\n            return [HUNDRED_PERCENT, ZERO_LENGTH];\n        case 'to left':\n        case 'right':\n            return deg(270);\n    }\n\n    return 0;\n};\n\nexport const deg = (deg: number): number => (Math.PI * deg) / 180;\n","import {CSSValue, nonFunctionArgSeperator} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {angle, deg} from './angle';\nimport {getAbsoluteValue, isLengthPercentage} from './length-percentage';\nexport type Color = number;\n\nexport const color: ITypeDescriptor<Color> = {\n    name: 'color',\n    parse: (value: CSSValue): Color => {\n        if (value.type === TokenType.FUNCTION) {\n            const colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\n            if (typeof colorFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported color function \"${value.name}\"`);\n            }\n            return colorFunction(value.values);\n        }\n\n        if (value.type === TokenType.HASH_TOKEN) {\n            if (value.value.length === 3) {\n                const r = value.value.substring(0, 1);\n                const g = value.value.substring(1, 2);\n                const b = value.value.substring(2, 3);\n                return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\n            }\n\n            if (value.value.length === 4) {\n                const r = value.value.substring(0, 1);\n                const g = value.value.substring(1, 2);\n                const b = value.value.substring(2, 3);\n                const a = value.value.substring(3, 4);\n                return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\n            }\n\n            if (value.value.length === 6) {\n                const r = value.value.substring(0, 2);\n                const g = value.value.substring(2, 4);\n                const b = value.value.substring(4, 6);\n                return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\n            }\n\n            if (value.value.length === 8) {\n                const r = value.value.substring(0, 2);\n                const g = value.value.substring(2, 4);\n                const b = value.value.substring(4, 6);\n                const a = value.value.substring(6, 8);\n                return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\n            }\n        }\n\n        if (value.type === TokenType.IDENT_TOKEN) {\n            const namedColor = COLORS[value.value.toUpperCase()];\n            if (typeof namedColor !== 'undefined') {\n                return namedColor;\n            }\n        }\n\n        return COLORS.TRANSPARENT;\n    }\n};\n\nexport const isTransparent = (color: Color) => (0xff & color) === 0;\n\nexport const asString = (color: Color) => {\n    const alpha = 0xff & color;\n    const blue = 0xff & (color >> 8);\n    const green = 0xff & (color >> 16);\n    const red = 0xff & (color >> 24);\n    return alpha < 255 ? `rgba(${red},${green},${blue},${alpha / 255})` : `rgb(${red},${green},${blue})`;\n};\n\nexport const pack = (r: number, g: number, b: number, a: number): Color =>\n    ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\n\nconst getTokenColorValue = (token: CSSValue, i: number): number => {\n    if (token.type === TokenType.NUMBER_TOKEN) {\n        return token.number;\n    }\n\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\n        const max = i === 3 ? 1 : 255;\n        return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\n    }\n\n    return 0;\n};\n\nconst rgb = (args: CSSValue[]): number => {\n    const tokens = args.filter(nonFunctionArgSeperator);\n\n    if (tokens.length === 3) {\n        const [r, g, b] = tokens.map(getTokenColorValue);\n        return pack(r, g, b, 1);\n    }\n\n    if (tokens.length === 4) {\n        const [r, g, b, a] = tokens.map(getTokenColorValue);\n        return pack(r, g, b, a);\n    }\n\n    return 0;\n};\n\nfunction hue2rgb(t1: number, t2: number, hue: number): number {\n    if (hue < 0) {\n        hue += 1;\n    }\n    if (hue >= 1) {\n        hue -= 1;\n    }\n\n    if (hue < 1 / 6) {\n        return (t2 - t1) * hue * 6 + t1;\n    } else if (hue < 1 / 2) {\n        return t2;\n    } else if (hue < 2 / 3) {\n        return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\n    } else {\n        return t1;\n    }\n}\n\nconst hsl = (args: CSSValue[]): number => {\n    const tokens = args.filter(nonFunctionArgSeperator);\n    const [hue, saturation, lightness, alpha] = tokens;\n\n    const h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(hue)) / (Math.PI * 2);\n    const s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\n    const l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\n    const a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\n\n    if (s === 0) {\n        return pack(l * 255, l * 255, l * 255, 1);\n    }\n\n    const t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n\n    const t1 = l * 2 - t2;\n    const r = hue2rgb(t1, t2, h + 1 / 3);\n    const g = hue2rgb(t1, t2, h);\n    const b = hue2rgb(t1, t2, h - 1 / 3);\n    return pack(r * 255, g * 255, b * 255, a);\n};\n\nconst SUPPORTED_COLOR_FUNCTIONS: {\n    [key: string]: (args: CSSValue[]) => number;\n} = {\n    hsl: hsl,\n    hsla: hsl,\n    rgb: rgb,\n    rgba: rgb\n};\n\nexport const COLORS: {[key: string]: Color} = {\n    ALICEBLUE: 0xf0f8ffff,\n    ANTIQUEWHITE: 0xfaebd7ff,\n    AQUA: 0x00ffffff,\n    AQUAMARINE: 0x7fffd4ff,\n    AZURE: 0xf0ffffff,\n    BEIGE: 0xf5f5dcff,\n    BISQUE: 0xffe4c4ff,\n    BLACK: 0x000000ff,\n    BLANCHEDALMOND: 0xffebcdff,\n    BLUE: 0x0000ffff,\n    BLUEVIOLET: 0x8a2be2ff,\n    BROWN: 0xa52a2aff,\n    BURLYWOOD: 0xdeb887ff,\n    CADETBLUE: 0x5f9ea0ff,\n    CHARTREUSE: 0x7fff00ff,\n    CHOCOLATE: 0xd2691eff,\n    CORAL: 0xff7f50ff,\n    CORNFLOWERBLUE: 0x6495edff,\n    CORNSILK: 0xfff8dcff,\n    CRIMSON: 0xdc143cff,\n    CYAN: 0x00ffffff,\n    DARKBLUE: 0x00008bff,\n    DARKCYAN: 0x008b8bff,\n    DARKGOLDENROD: 0xb886bbff,\n    DARKGRAY: 0xa9a9a9ff,\n    DARKGREEN: 0x006400ff,\n    DARKGREY: 0xa9a9a9ff,\n    DARKKHAKI: 0xbdb76bff,\n    DARKMAGENTA: 0x8b008bff,\n    DARKOLIVEGREEN: 0x556b2fff,\n    DARKORANGE: 0xff8c00ff,\n    DARKORCHID: 0x9932ccff,\n    DARKRED: 0x8b0000ff,\n    DARKSALMON: 0xe9967aff,\n    DARKSEAGREEN: 0x8fbc8fff,\n    DARKSLATEBLUE: 0x483d8bff,\n    DARKSLATEGRAY: 0x2f4f4fff,\n    DARKSLATEGREY: 0x2f4f4fff,\n    DARKTURQUOISE: 0x00ced1ff,\n    DARKVIOLET: 0x9400d3ff,\n    DEEPPINK: 0xff1493ff,\n    DEEPSKYBLUE: 0x00bfffff,\n    DIMGRAY: 0x696969ff,\n    DIMGREY: 0x696969ff,\n    DODGERBLUE: 0x1e90ffff,\n    FIREBRICK: 0xb22222ff,\n    FLORALWHITE: 0xfffaf0ff,\n    FORESTGREEN: 0x228b22ff,\n    FUCHSIA: 0xff00ffff,\n    GAINSBORO: 0xdcdcdcff,\n    GHOSTWHITE: 0xf8f8ffff,\n    GOLD: 0xffd700ff,\n    GOLDENROD: 0xdaa520ff,\n    GRAY: 0x808080ff,\n    GREEN: 0x008000ff,\n    GREENYELLOW: 0xadff2fff,\n    GREY: 0x808080ff,\n    HONEYDEW: 0xf0fff0ff,\n    HOTPINK: 0xff69b4ff,\n    INDIANRED: 0xcd5c5cff,\n    INDIGO: 0x4b0082ff,\n    IVORY: 0xfffff0ff,\n    KHAKI: 0xf0e68cff,\n    LAVENDER: 0xe6e6faff,\n    LAVENDERBLUSH: 0xfff0f5ff,\n    LAWNGREEN: 0x7cfc00ff,\n    LEMONCHIFFON: 0xfffacdff,\n    LIGHTBLUE: 0xadd8e6ff,\n    LIGHTCORAL: 0xf08080ff,\n    LIGHTCYAN: 0xe0ffffff,\n    LIGHTGOLDENRODYELLOW: 0xfafad2ff,\n    LIGHTGRAY: 0xd3d3d3ff,\n    LIGHTGREEN: 0x90ee90ff,\n    LIGHTGREY: 0xd3d3d3ff,\n    LIGHTPINK: 0xffb6c1ff,\n    LIGHTSALMON: 0xffa07aff,\n    LIGHTSEAGREEN: 0x20b2aaff,\n    LIGHTSKYBLUE: 0x87cefaff,\n    LIGHTSLATEGRAY: 0x778899ff,\n    LIGHTSLATEGREY: 0x778899ff,\n    LIGHTSTEELBLUE: 0xb0c4deff,\n    LIGHTYELLOW: 0xffffe0ff,\n    LIME: 0x00ff00ff,\n    LIMEGREEN: 0x32cd32ff,\n    LINEN: 0xfaf0e6ff,\n    MAGENTA: 0xff00ffff,\n    MAROON: 0x800000ff,\n    MEDIUMAQUAMARINE: 0x66cdaaff,\n    MEDIUMBLUE: 0x0000cdff,\n    MEDIUMORCHID: 0xba55d3ff,\n    MEDIUMPURPLE: 0x9370dbff,\n    MEDIUMSEAGREEN: 0x3cb371ff,\n    MEDIUMSLATEBLUE: 0x7b68eeff,\n    MEDIUMSPRINGGREEN: 0x00fa9aff,\n    MEDIUMTURQUOISE: 0x48d1ccff,\n    MEDIUMVIOLETRED: 0xc71585ff,\n    MIDNIGHTBLUE: 0x191970ff,\n    MINTCREAM: 0xf5fffaff,\n    MISTYROSE: 0xffe4e1ff,\n    MOCCASIN: 0xffe4b5ff,\n    NAVAJOWHITE: 0xffdeadff,\n    NAVY: 0x000080ff,\n    OLDLACE: 0xfdf5e6ff,\n    OLIVE: 0x808000ff,\n    OLIVEDRAB: 0x6b8e23ff,\n    ORANGE: 0xffa500ff,\n    ORANGERED: 0xff4500ff,\n    ORCHID: 0xda70d6ff,\n    PALEGOLDENROD: 0xeee8aaff,\n    PALEGREEN: 0x98fb98ff,\n    PALETURQUOISE: 0xafeeeeff,\n    PALEVIOLETRED: 0xdb7093ff,\n    PAPAYAWHIP: 0xffefd5ff,\n    PEACHPUFF: 0xffdab9ff,\n    PERU: 0xcd853fff,\n    PINK: 0xffc0cbff,\n    PLUM: 0xdda0ddff,\n    POWDERBLUE: 0xb0e0e6ff,\n    PURPLE: 0x800080ff,\n    REBECCAPURPLE: 0x663399ff,\n    RED: 0xff0000ff,\n    ROSYBROWN: 0xbc8f8fff,\n    ROYALBLUE: 0x4169e1ff,\n    SADDLEBROWN: 0x8b4513ff,\n    SALMON: 0xfa8072ff,\n    SANDYBROWN: 0xf4a460ff,\n    SEAGREEN: 0x2e8b57ff,\n    SEASHELL: 0xfff5eeff,\n    SIENNA: 0xa0522dff,\n    SILVER: 0xc0c0c0ff,\n    SKYBLUE: 0x87ceebff,\n    SLATEBLUE: 0x6a5acdff,\n    SLATEGRAY: 0x708090ff,\n    SLATEGREY: 0x708090ff,\n    SNOW: 0xfffafaff,\n    SPRINGGREEN: 0x00ff7fff,\n    STEELBLUE: 0x4682b4ff,\n    TAN: 0xd2b48cff,\n    TEAL: 0x008080ff,\n    THISTLE: 0xd8bfd8ff,\n    TOMATO: 0xff6347ff,\n    TRANSPARENT: 0x00000000,\n    TURQUOISE: 0x40e0d0ff,\n    VIOLET: 0xee82eeff,\n    WHEAT: 0xf5deb3ff,\n    WHITE: 0xffffffff,\n    WHITESMOKE: 0xf5f5f5ff,\n    YELLOW: 0xffff00ff,\n    YELLOWGREEN: 0x9acd32ff\n};\n","import {CSSValue} from './syntax/parser';\nimport {CSSTypes} from './types/index';\n\nexport enum PropertyDescriptorParsingType {\n    VALUE,\n    LIST,\n    IDENT_VALUE,\n    TYPE_VALUE,\n    TOKEN_VALUE\n}\n\nexport interface IPropertyDescriptor {\n    name: string;\n    type: PropertyDescriptorParsingType;\n    initialValue: string;\n    prefix: boolean;\n}\n\nexport interface IPropertyIdentValueDescriptor<T> extends IPropertyDescriptor {\n    type: PropertyDescriptorParsingType.IDENT_VALUE;\n    parse: (token: string) => T;\n}\n\nexport interface IPropertyTypeValueDescriptor extends IPropertyDescriptor {\n    type: PropertyDescriptorParsingType.TYPE_VALUE;\n    format: CSSTypes;\n}\n\nexport interface IPropertyValueDescriptor<T> extends IPropertyDescriptor {\n    type: PropertyDescriptorParsingType.VALUE;\n    parse: (token: CSSValue) => T;\n}\n\nexport interface IPropertyListDescriptor<T> extends IPropertyDescriptor {\n    type: PropertyDescriptorParsingType.LIST;\n    parse: (tokens: CSSValue[]) => T;\n}\n\nexport interface IPropertyTokenValueDescriptor extends IPropertyDescriptor {\n    type: PropertyDescriptorParsingType.TOKEN_VALUE;\n}\n\nexport type CSSPropertyDescriptor<T> =\n    | IPropertyValueDescriptor<T>\n    | IPropertyListDescriptor<T>\n    | IPropertyIdentValueDescriptor<T>\n    | IPropertyTypeValueDescriptor\n    | IPropertyTokenValueDescriptor;\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nexport enum BACKGROUND_CLIP {\n    BORDER_BOX = 0,\n    PADDING_BOX = 1,\n    CONTENT_BOX = 2\n}\n\nexport type BackgroundClip = BACKGROUND_CLIP[];\n\nexport const backgroundClip: IPropertyListDescriptor<BackgroundClip> = {\n    name: 'background-clip',\n    initialValue: 'border-box',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]): BackgroundClip => {\n        return tokens.map(token => {\n            if (isIdentToken(token)) {\n                switch (token.value) {\n                    case 'padding-box':\n                        return BACKGROUND_CLIP.PADDING_BOX;\n                    case 'content-box':\n                        return BACKGROUND_CLIP.CONTENT_BOX;\n                }\n            }\n            return BACKGROUND_CLIP.BORDER_BOX;\n        });\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const backgroundColor: IPropertyTypeValueDescriptor = {\n    name: `background-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {CSSValue} from '../../syntax/parser';\nimport {\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    GradientColorStop,\n    GradientCorner,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {color as colorType} from '../color';\nimport {getAbsoluteValue, HUNDRED_PERCENT, isLengthPercentage, ZERO_LENGTH} from '../length-percentage';\n\nexport const parseColorStop = (args: CSSValue[]): UnprocessedGradientColorStop => {\n    const color = colorType.parse(args[0]);\n    const stop = args[1];\n    return stop && isLengthPercentage(stop) ? {color, stop} : {color, stop: null};\n};\n\nexport const processColorStops = (stops: UnprocessedGradientColorStop[], lineLength: number): GradientColorStop[] => {\n    const first = stops[0];\n    const last = stops[stops.length - 1];\n    if (first.stop === null) {\n        first.stop = ZERO_LENGTH;\n    }\n\n    if (last.stop === null) {\n        last.stop = HUNDRED_PERCENT;\n    }\n\n    const processStops: (number | null)[] = [];\n    let previous = 0;\n    for (let i = 0; i < stops.length; i++) {\n        const stop = stops[i].stop;\n        if (stop !== null) {\n            const absoluteValue = getAbsoluteValue(stop, lineLength);\n            if (absoluteValue > previous) {\n                processStops.push(absoluteValue);\n            } else {\n                processStops.push(previous);\n            }\n            previous = absoluteValue;\n        } else {\n            processStops.push(null);\n        }\n    }\n\n    let gapBegin = null;\n    for (let i = 0; i < processStops.length; i++) {\n        const stop = processStops[i];\n        if (stop === null) {\n            if (gapBegin === null) {\n                gapBegin = i;\n            }\n        } else if (gapBegin !== null) {\n            const gapLength = i - gapBegin;\n            const beforeGap = processStops[gapBegin - 1] as number;\n            const gapValue = (stop - beforeGap) / (gapLength + 1);\n            for (let g = 1; g <= gapLength; g++) {\n                processStops[gapBegin + g - 1] = gapValue * g;\n            }\n            gapBegin = null;\n        }\n    }\n\n    return stops.map(({color}, i) => {\n        return {color, stop: Math.max(Math.min(1, (processStops[i] as number) / lineLength), 0)};\n    });\n};\n\nconst getAngleFromCorner = (corner: GradientCorner, width: number, height: number): number => {\n    const centerX = width / 2;\n    const centerY = height / 2;\n    const x = getAbsoluteValue(corner[0], width) - centerX;\n    const y = centerY - getAbsoluteValue(corner[1], height);\n\n    return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\n};\n\nexport const calculateGradientDirection = (\n    angle: number | GradientCorner,\n    width: number,\n    height: number\n): [number, number, number, number, number] => {\n    const radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\n\n    const lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const halfLineLength = lineLength / 2;\n\n    const yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\n    const xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\n\n    return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\n};\n\nconst distance = (a: number, b: number): number => Math.sqrt(a * a + b * b);\n\nconst findCorner = (width: number, height: number, x: number, y: number, closest: boolean): [number, number] => {\n    const corners = [[0, 0], [0, height], [width, 0], [width, height]];\n\n    return corners.reduce(\n        (stat, corner) => {\n            const [cx, cy] = corner;\n            const d = distance(x - cx, y - cy);\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\n                return {\n                    optimumCorner: corner,\n                    optimumDistance: d\n                };\n            }\n\n            return stat;\n        },\n        {\n            optimumDistance: closest ? Infinity : -Infinity,\n            optimumCorner: null\n        }\n    ).optimumCorner as [number, number];\n};\n\nexport const calculateRadius = (\n    gradient: CSSRadialGradientImage,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n): [number, number] => {\n    let rx = 0;\n    let ry = 0;\n\n    switch (gradient.size) {\n        case CSSRadialExtent.CLOSEST_SIDE:\n            // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, it exactly meets the closest side in each dimension.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                rx = Math.min(Math.abs(x), Math.abs(x - width));\n                ry = Math.min(Math.abs(y), Math.abs(y - height));\n            }\n            break;\n\n        case CSSRadialExtent.CLOSEST_CORNER:\n            // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.min(\n                    distance(x, y),\n                    distance(x, y - height),\n                    distance(x - width, y),\n                    distance(x - width, y - height)\n                );\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\n                const c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\n                const [cx, cy] = findCorner(width, height, x, y, true);\n                rx = distance(cx - x, (cy - y) / c);\n                ry = c * rx;\n            }\n            break;\n\n        case CSSRadialExtent.FARTHEST_SIDE:\n            // Same as closest-side, except the ending shape is sized based on the farthest side(s)\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                rx = Math.max(Math.abs(x), Math.abs(x - width));\n                ry = Math.max(Math.abs(y), Math.abs(y - height));\n            }\n            break;\n\n        case CSSRadialExtent.FARTHEST_CORNER:\n            // Same as closest-corner, except the ending shape is sized based on the farthest corner.\n            // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.max(\n                    distance(x, y),\n                    distance(x, y - height),\n                    distance(x - width, y),\n                    distance(x - width, y - height)\n                );\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\n                const c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\n                const [cx, cy] = findCorner(width, height, x, y, false);\n                rx = distance(cx - x, (cy - y) / c);\n                ry = c * rx;\n            }\n            break;\n    }\n\n    if (Array.isArray(gradient.size)) {\n        rx = getAbsoluteValue(gradient.size[0], width);\n        ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\n    }\n\n    return [rx, ry];\n};\n","import {CSSValue, parseFunctionArgs} from '../../syntax/parser';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {isAngle, angle as angleType, parseNamedSide, deg} from '../angle';\nimport {CSSImageType, CSSLinearGradientImage, GradientCorner, UnprocessedGradientColorStop} from '../image';\nimport {parseColorStop} from './gradient';\n\nexport const linearGradient = (tokens: CSSValue[]): CSSLinearGradientImage => {\n    let angle: number | GradientCorner = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        if (i === 0) {\n            const firstToken = arg[0];\n            if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\n                angle = parseNamedSide(arg);\n                return;\n            } else if (isAngle(firstToken)) {\n                angle = angleType.parse(firstToken);\n                return;\n            }\n        }\n        const colorStop = parseColorStop(arg);\n        stops.push(colorStop);\n    });\n\n    return {angle, stops, type: CSSImageType.LINEAR_GRADIENT};\n};\n","import {CSSValue, parseFunctionArgs} from '../../syntax/parser';\nimport {CSSImageType, CSSLinearGradientImage, GradientCorner, UnprocessedGradientColorStop} from '../image';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {isAngle, angle as angleType, parseNamedSide, deg} from '../angle';\nimport {parseColorStop} from './gradient';\n\nexport const prefixLinearGradient = (tokens: CSSValue[]): CSSLinearGradientImage => {\n    let angle: number | GradientCorner = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        if (i === 0) {\n            const firstToken = arg[0];\n            if (\n                firstToken.type === TokenType.IDENT_TOKEN &&\n                ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1\n            ) {\n                angle = parseNamedSide(arg);\n                return;\n            } else if (isAngle(firstToken)) {\n                angle = (angleType.parse(firstToken) + deg(270)) % deg(360);\n                return;\n            }\n        }\n        const colorStop = parseColorStop(arg);\n        stops.push(colorStop);\n    });\n\n    return {\n        angle,\n        stops,\n        type: CSSImageType.LINEAR_GRADIENT\n    };\n};\n","const testRangeBounds = (document: Document) => {\n    const TEST_HEIGHT = 123;\n\n    if (document.createRange) {\n        const range = document.createRange();\n        if (range.getBoundingClientRect) {\n            const testElement = document.createElement('boundtest');\n            testElement.style.height = `${TEST_HEIGHT}px`;\n            testElement.style.display = 'block';\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            const rangeBounds = range.getBoundingClientRect();\n            const rangeHeight = Math.round(rangeBounds.height);\n            document.body.removeChild(testElement);\n            if (rangeHeight === TEST_HEIGHT) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\nconst testCORS = (): boolean => typeof new Image().crossOrigin !== 'undefined';\n\nconst testResponseType = (): boolean => typeof new XMLHttpRequest().responseType === 'string';\n\nconst testSVG = (document: Document): boolean => {\n    const img = new Image();\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        return false;\n    }\n\n    img.src = `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>`;\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nconst isGreenPixel = (data: Uint8ClampedArray): boolean =>\n    data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n\nconst testForeignObject = (document: Document): Promise<boolean> => {\n    const canvas = document.createElement('canvas');\n    const size = 100;\n    canvas.width = size;\n    canvas.height = size;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        return Promise.reject(false);\n    }\n    ctx.fillStyle = 'rgb(0, 255, 0)';\n    ctx.fillRect(0, 0, size, size);\n\n    const img = new Image();\n    const greenImageSrc = canvas.toDataURL();\n    img.src = greenImageSrc;\n    const svg = createForeignObjectSVG(size, size, 0, 0, img);\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n\n    return loadSerializedSVG(svg)\n        .then((img: HTMLImageElement) => {\n            ctx.drawImage(img, 0, 0);\n            const data = ctx.getImageData(0, 0, size, size).data;\n            ctx.fillStyle = 'red';\n            ctx.fillRect(0, 0, size, size);\n\n            const node = document.createElement('div');\n            node.style.backgroundImage = `url(${greenImageSrc})`;\n            node.style.height = `${size}px`;\n            // Firefox 55 does not render inline <img /> tags\n            return isGreenPixel(data)\n                ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))\n                : Promise.reject(false);\n        })\n        .then((img: HTMLImageElement) => {\n            ctx.drawImage(img, 0, 0);\n            // Edge does not render background-images\n            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n        })\n        .catch(() => false);\n};\n\nexport const createForeignObjectSVG = (width: number, height: number, x: number, y: number, node: Node) => {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS(null, 'width', width.toString());\n    svg.setAttributeNS(null, 'height', height.toString());\n\n    foreignObject.setAttributeNS(null, 'width', '100%');\n    foreignObject.setAttributeNS(null, 'height', '100%');\n    foreignObject.setAttributeNS(null, 'x', x.toString());\n    foreignObject.setAttributeNS(null, 'y', y.toString());\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n\n    foreignObject.appendChild(node);\n\n    return svg;\n};\n\nexport const loadSerializedSVG = (svg: Node): Promise<HTMLImageElement> => {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n\n        img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(new XMLSerializer().serializeToString(svg))}`;\n    });\n};\n\nexport const FEATURES = {\n    get SUPPORT_RANGE_BOUNDS() {\n        'use strict';\n        const value = testRangeBounds(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', {value});\n        return value;\n    },\n    get SUPPORT_SVG_DRAWING() {\n        'use strict';\n        const value = testSVG(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', {value});\n        return value;\n    },\n    get SUPPORT_FOREIGNOBJECT_DRAWING() {\n        'use strict';\n        const value =\n            typeof Array.from === 'function' && typeof window.fetch === 'function'\n                ? testForeignObject(document)\n                : Promise.resolve(false);\n        Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', {value});\n        return value;\n    },\n    get SUPPORT_CORS_IMAGES() {\n        'use strict';\n        const value = testCORS();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', {value});\n        return value;\n    },\n    get SUPPORT_RESPONSE_TYPE() {\n        'use strict';\n        const value = testResponseType();\n        Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', {value});\n        return value;\n    },\n    get SUPPORT_CORS_XHR() {\n        'use strict';\n        const value = 'withCredentials' in new XMLHttpRequest();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', {value});\n        return value;\n    }\n};\n","export class Logger {\n    static instances: {[key: string]: Logger} = {};\n\n    private readonly id: string;\n    private readonly start: number;\n\n    constructor(id: string) {\n        this.id = id;\n        this.start = Date.now();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    debug(...args: any) {\n        // eslint-disable-next-line no-console\n        if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\n            // eslint-disable-next-line no-console\n            console.debug(this.id, `${this.getTime()}ms`, ...args);\n        } else {\n            this.info(...args);\n        }\n    }\n\n    getTime(): number {\n        return Date.now() - this.start;\n    }\n\n    static create(id: string) {\n        Logger.instances[id] = new Logger(id);\n    }\n\n    static destroy(id: string) {\n        delete Logger.instances[id];\n    }\n\n    static getInstance(id: string): Logger {\n        const instance = Logger.instances[id];\n        if (typeof instance === 'undefined') {\n            throw new Error(`No logger instance found with id ${id}`);\n        }\n        return instance;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    info(...args: any) {\n        // eslint-disable-next-line no-console\n        if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\n            // eslint-disable-next-line no-console\n            console.info(this.id, `${this.getTime()}ms`, ...args);\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    error(...args: any) {\n        // eslint-disable-next-line no-console\n        if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\n            // eslint-disable-next-line no-console\n            console.error(this.id, `${this.getTime()}ms`, ...args);\n        } else {\n            this.info(...args);\n        }\n    }\n}\n","import {FEATURES} from './features';\nimport {Logger} from './logger';\n\nexport class CacheStorage {\n    private static _caches: {[key: string]: Cache} = {};\n    private static _link?: HTMLAnchorElement;\n    private static _origin: string = 'about:blank';\n    private static _current: Cache | null = null;\n\n    static create(name: string, options: ResourceOptions): Cache {\n        return (CacheStorage._caches[name] = new Cache(name, options));\n    }\n\n    static destroy(name: string): void {\n        delete CacheStorage._caches[name];\n    }\n\n    static open(name: string): Cache {\n        const cache = CacheStorage._caches[name];\n        if (typeof cache !== 'undefined') {\n            return cache;\n        }\n\n        throw new Error(`Cache with key \"${name}\" not found`);\n    }\n\n    static getOrigin(url: string): string {\n        const link = CacheStorage._link;\n        if (!link) {\n            return 'about:blank';\n        }\n\n        link.href = url;\n        link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n        return link.protocol + link.hostname + link.port;\n    }\n\n    static isSameOrigin(src: string): boolean {\n        return CacheStorage.getOrigin(src) === CacheStorage._origin;\n    }\n\n    static setContext(window: Window) {\n        CacheStorage._link = window.document.createElement('a');\n        CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\n    }\n\n    static getInstance(): Cache {\n        const current = CacheStorage._current;\n        if (current === null) {\n            throw new Error(`No cache instance attached`);\n        }\n        return current;\n    }\n\n    static attachInstance(cache: Cache) {\n        CacheStorage._current = cache;\n    }\n\n    static detachInstance() {\n        CacheStorage._current = null;\n    }\n}\n\nexport interface ResourceOptions {\n    imageTimeout: number;\n    useCORS: boolean;\n    allowTaint: boolean;\n    proxy?: string;\n}\n\nexport class Cache {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private readonly _cache: {[key: string]: Promise<any>};\n    private readonly _options: ResourceOptions;\n    private readonly id: string;\n\n    constructor(id: string, options: ResourceOptions) {\n        this.id = id;\n        this._options = options;\n        this._cache = {};\n    }\n\n    addImage(src: string): Promise<void> {\n        const result = Promise.resolve();\n        if (this.has(src)) {\n            return result;\n        }\n\n        if (isBlobImage(src) || isRenderable(src)) {\n            this._cache[src] = this.loadImage(src);\n            return result;\n        }\n\n        return result;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    match(src: string): Promise<any> {\n        return this._cache[src];\n    }\n\n    private async loadImage(key: string) {\n        const isSameOrigin = CacheStorage.isSameOrigin(key);\n        const useCORS =\n            !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\n        const useProxy =\n            !isInlineImage(key) &&\n            !isSameOrigin &&\n            typeof this._options.proxy === 'string' &&\n            FEATURES.SUPPORT_CORS_XHR &&\n            !useCORS;\n        if (!isSameOrigin && this._options.allowTaint === false && !isInlineImage(key) && !useProxy && !useCORS) {\n            return;\n        }\n\n        let src = key;\n        if (useProxy) {\n            src = await this.proxy(src);\n        }\n\n        Logger.getInstance(this.id).debug(`Added image ${key.substring(0, 256)}`);\n\n        return await new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onload = () => resolve(img);\n            img.onerror = reject;\n            //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n            if (isInlineBase64Image(src) || useCORS) {\n                img.crossOrigin = 'anonymous';\n            }\n            img.src = src;\n            if (img.complete === true) {\n                // Inline XML images may fail to parse, throwing an Error later on\n                setTimeout(() => resolve(img), 500);\n            }\n            if (this._options.imageTimeout > 0) {\n                setTimeout(\n                    () => reject(`Timed out (${this._options.imageTimeout}ms) loading image`),\n                    this._options.imageTimeout\n                );\n            }\n        });\n    }\n\n    private has(key: string): boolean {\n        return typeof this._cache[key] !== 'undefined';\n    }\n\n    keys(): Promise<string[]> {\n        return Promise.resolve(Object.keys(this._cache));\n    }\n\n    private proxy(src: string): Promise<string> {\n        const proxy = this._options.proxy;\n\n        if (!proxy) {\n            throw new Error('No proxy defined');\n        }\n\n        const key = src.substring(0, 256);\n\n        return new Promise((resolve, reject) => {\n            const responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n            const xhr = new XMLHttpRequest();\n            xhr.onload = () => {\n                if (xhr.status === 200) {\n                    if (responseType === 'text') {\n                        resolve(xhr.response);\n                    } else {\n                        const reader = new FileReader();\n                        reader.addEventListener('load', () => resolve(reader.result as string), false);\n                        reader.addEventListener('error', e => reject(e), false);\n                        reader.readAsDataURL(xhr.response);\n                    }\n                } else {\n                    reject(`Failed to proxy resource ${key} with status code ${xhr.status}`);\n                }\n            };\n\n            xhr.onerror = reject;\n            xhr.open('GET', `${proxy}?url=${encodeURIComponent(src)}&responseType=${responseType}`);\n\n            if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n                xhr.responseType = responseType;\n            }\n\n            if (this._options.imageTimeout) {\n                const timeout = this._options.imageTimeout;\n                xhr.timeout = timeout;\n                xhr.ontimeout = () => reject(`Timed out (${timeout}ms) proxying ${key}`);\n            }\n\n            xhr.send();\n        });\n    }\n}\n\nconst INLINE_SVG = /^data:image\\/svg\\+xml/i;\nconst INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nconst INLINE_IMG = /^data:image\\/.*/i;\n\nconst isRenderable = (src: string): boolean => FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src);\nconst isInlineImage = (src: string): boolean => INLINE_IMG.test(src);\nconst isInlineBase64Image = (src: string): boolean => INLINE_BASE64.test(src);\nconst isBlobImage = (src: string): boolean => src.substr(0, 4) === 'blob';\n\nconst isSVG = (src: string): boolean => src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);\n","import {CSSValue, isIdentToken, isNumberToken, nonFunctionArgSeperator, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSLinearGradientImage,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {deg} from '../angle';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {color as colorType} from '../color';\nimport {HUNDRED_PERCENT, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\n\nexport const webkitGradient = (tokens: CSSValue[]): CSSLinearGradientImage | CSSRadialGradientImage => {\n    let angle = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n    let type = CSSImageType.LINEAR_GRADIENT;\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const position: LengthPercentage[] = [];\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        const firstToken = arg[0];\n        if (i === 0) {\n            if (isIdentToken(firstToken) && firstToken.value === 'linear') {\n                type = CSSImageType.LINEAR_GRADIENT;\n                return;\n            } else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\n                type = CSSImageType.RADIAL_GRADIENT;\n                return;\n            }\n        }\n\n        if (firstToken.type === TokenType.FUNCTION) {\n            if (firstToken.name === 'from') {\n                const color = colorType.parse(firstToken.values[0]);\n                stops.push({stop: ZERO_LENGTH, color});\n            } else if (firstToken.name === 'to') {\n                const color = colorType.parse(firstToken.values[0]);\n                stops.push({stop: HUNDRED_PERCENT, color});\n            } else if (firstToken.name === 'color-stop') {\n                const values = firstToken.values.filter(nonFunctionArgSeperator);\n                if (values.length === 2) {\n                    const color = colorType.parse(values[1]);\n                    const stop = values[0];\n                    if (isNumberToken(stop)) {\n                        stops.push({\n                            stop: {type: TokenType.PERCENTAGE_TOKEN, number: stop.number * 100, flags: stop.flags},\n                            color\n                        });\n                    }\n                }\n            }\n        }\n    });\n\n    return type === CSSImageType.LINEAR_GRADIENT\n        ? {\n              angle: (angle + deg(180)) % deg(360),\n              stops,\n              type\n          }\n        : {size, shape, stops, position, type};\n};\n","import {CSSValue, isIdentToken, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {parseColorStop} from './gradient';\nimport {FIFTY_PERCENT, HUNDRED_PERCENT, isLengthPercentage, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {isLength} from '../length';\nexport const CLOSEST_SIDE = 'closest-side';\nexport const FARTHEST_SIDE = 'farthest-side';\nexport const CLOSEST_CORNER = 'closest-corner';\nexport const FARTHEST_CORNER = 'farthest-corner';\nexport const CIRCLE = 'circle';\nexport const ELLIPSE = 'ellipse';\nexport const COVER = 'cover';\nexport const CONTAIN = 'contain';\n\nexport const radialGradient = (tokens: CSSValue[]): CSSRadialGradientImage => {\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const stops: UnprocessedGradientColorStop[] = [];\n    const position: LengthPercentage[] = [];\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        let isColorStop = true;\n        if (i === 0) {\n            let isAtPosition = false;\n            isColorStop = arg.reduce((acc, token) => {\n                if (isAtPosition) {\n                    if (isIdentToken(token)) {\n                        switch (token.value) {\n                            case 'center':\n                                position.push(FIFTY_PERCENT);\n                                return acc;\n                            case 'top':\n                            case 'left':\n                                position.push(ZERO_LENGTH);\n                                return acc;\n                            case 'right':\n                            case 'bottom':\n                                position.push(HUNDRED_PERCENT);\n                                return acc;\n                        }\n                    } else if (isLengthPercentage(token) || isLength(token)) {\n                        position.push(token);\n                    }\n                } else if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case CIRCLE:\n                            shape = CSSRadialShape.CIRCLE;\n                            return false;\n                        case ELLIPSE:\n                            shape = CSSRadialShape.ELLIPSE;\n                            return false;\n                        case 'at':\n                            isAtPosition = true;\n                            return false;\n                        case CLOSEST_SIDE:\n                            size = CSSRadialExtent.CLOSEST_SIDE;\n                            return false;\n                        case COVER:\n                        case FARTHEST_SIDE:\n                            size = CSSRadialExtent.FARTHEST_SIDE;\n                            return false;\n                        case CONTAIN:\n                        case CLOSEST_CORNER:\n                            size = CSSRadialExtent.CLOSEST_CORNER;\n                            return false;\n                        case FARTHEST_CORNER:\n                            size = CSSRadialExtent.FARTHEST_CORNER;\n                            return false;\n                    }\n                } else if (isLength(token) || isLengthPercentage(token)) {\n                    if (!Array.isArray(size)) {\n                        size = [];\n                    }\n                    size.push(token);\n                    return false;\n                }\n                return acc;\n            }, isColorStop);\n        }\n\n        if (isColorStop) {\n            const colorStop = parseColorStop(arg);\n            stops.push(colorStop);\n        }\n    });\n\n    return {size, shape, stops, position, type: CSSImageType.RADIAL_GRADIENT};\n};\n","import {CSSValue, isIdentToken, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {parseColorStop} from './gradient';\nimport {FIFTY_PERCENT, HUNDRED_PERCENT, isLengthPercentage, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {isLength} from '../length';\nimport {\n    CIRCLE,\n    CLOSEST_CORNER,\n    CLOSEST_SIDE,\n    CONTAIN,\n    COVER,\n    ELLIPSE,\n    FARTHEST_CORNER,\n    FARTHEST_SIDE\n} from './radial-gradient';\n\nexport const prefixRadialGradient = (tokens: CSSValue[]): CSSRadialGradientImage => {\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const stops: UnprocessedGradientColorStop[] = [];\n    const position: LengthPercentage[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        let isColorStop = true;\n        if (i === 0) {\n            isColorStop = arg.reduce((acc, token) => {\n                if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case 'center':\n                            position.push(FIFTY_PERCENT);\n                            return false;\n                        case 'top':\n                        case 'left':\n                            position.push(ZERO_LENGTH);\n                            return false;\n                        case 'right':\n                        case 'bottom':\n                            position.push(HUNDRED_PERCENT);\n                            return false;\n                    }\n                } else if (isLengthPercentage(token) || isLength(token)) {\n                    position.push(token);\n                    return false;\n                }\n\n                return acc;\n            }, isColorStop);\n        } else if (i === 1) {\n            isColorStop = arg.reduce((acc, token) => {\n                if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case CIRCLE:\n                            shape = CSSRadialShape.CIRCLE;\n                            return false;\n                        case ELLIPSE:\n                            shape = CSSRadialShape.ELLIPSE;\n                            return false;\n                        case CONTAIN:\n                        case CLOSEST_SIDE:\n                            size = CSSRadialExtent.CLOSEST_SIDE;\n                            return false;\n                        case FARTHEST_SIDE:\n                            size = CSSRadialExtent.FARTHEST_SIDE;\n                            return false;\n                        case CLOSEST_CORNER:\n                            size = CSSRadialExtent.CLOSEST_CORNER;\n                            return false;\n                        case COVER:\n                        case FARTHEST_CORNER:\n                            size = CSSRadialExtent.FARTHEST_CORNER;\n                            return false;\n                    }\n                } else if (isLength(token) || isLengthPercentage(token)) {\n                    if (!Array.isArray(size)) {\n                        size = [];\n                    }\n                    size.push(token);\n                    return false;\n                }\n\n                return acc;\n            }, isColorStop);\n        }\n\n        if (isColorStop) {\n            const colorStop = parseColorStop(arg);\n            stops.push(colorStop);\n        }\n    });\n\n    return {size, shape, stops, position, type: CSSImageType.RADIAL_GRADIENT};\n};\n","import {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Color} from './color';\nimport {linearGradient} from './functions/linear-gradient';\nimport {prefixLinearGradient} from './functions/-prefix-linear-gradient';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {CacheStorage} from '../../core/cache-storage';\nimport {LengthPercentage} from './length-percentage';\nimport {webkitGradient} from './functions/-webkit-gradient';\nimport {radialGradient} from './functions/radial-gradient';\nimport {prefixRadialGradient} from './functions/-prefix-radial-gradient';\n\nexport enum CSSImageType {\n    URL,\n    LINEAR_GRADIENT,\n    RADIAL_GRADIENT\n}\n\nexport const isLinearGradient = (background: ICSSImage): background is CSSLinearGradientImage => {\n    return background.type === CSSImageType.LINEAR_GRADIENT;\n};\n\nexport const isRadialGradient = (background: ICSSImage): background is CSSRadialGradientImage => {\n    return background.type === CSSImageType.RADIAL_GRADIENT;\n};\n\nexport interface UnprocessedGradientColorStop {\n    color: Color;\n    stop: LengthPercentage | null;\n}\n\nexport interface GradientColorStop {\n    color: Color;\n    stop: number;\n}\n\nexport interface ICSSImage {\n    type: CSSImageType;\n}\n\nexport interface CSSURLImage extends ICSSImage {\n    url: string;\n    type: CSSImageType.URL;\n}\n\n// interface ICSSGeneratedImage extends ICSSImage {}\n\nexport type GradientCorner = [LengthPercentage, LengthPercentage];\n\ninterface ICSSGradientImage extends ICSSImage {\n    stops: UnprocessedGradientColorStop[];\n}\n\nexport interface CSSLinearGradientImage extends ICSSGradientImage {\n    angle: number | GradientCorner;\n    type: CSSImageType.LINEAR_GRADIENT;\n}\n\nexport enum CSSRadialShape {\n    CIRCLE,\n    ELLIPSE\n}\n\nexport enum CSSRadialExtent {\n    CLOSEST_SIDE,\n    FARTHEST_SIDE,\n    CLOSEST_CORNER,\n    FARTHEST_CORNER\n}\n\nexport type CSSRadialSize = CSSRadialExtent | LengthPercentage[];\n\nexport interface CSSRadialGradientImage extends ICSSGradientImage {\n    type: CSSImageType.RADIAL_GRADIENT;\n    shape: CSSRadialShape;\n    size: CSSRadialSize;\n    position: LengthPercentage[];\n}\n\nexport const image: ITypeDescriptor<ICSSImage> = {\n    name: 'image',\n    parse: (value: CSSValue): ICSSImage => {\n        if (value.type === TokenType.URL_TOKEN) {\n            const image: CSSURLImage = {url: value.value, type: CSSImageType.URL};\n            CacheStorage.getInstance().addImage(value.value);\n            return image;\n        }\n\n        if (value.type === TokenType.FUNCTION) {\n            const imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\n            if (typeof imageFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported image function \"${value.name}\"`);\n            }\n            return imageFunction(value.values);\n        }\n\n        throw new Error(`Unsupported image type`);\n    }\n};\n\nconst SUPPORTED_IMAGE_FUNCTIONS: {\n    [key: string]: (args: CSSValue[]) => ICSSImage;\n} = {\n    'linear-gradient': linearGradient,\n    '-moz-linear-gradient': prefixLinearGradient,\n    '-ms-linear-gradient': prefixLinearGradient,\n    '-o-linear-gradient': prefixLinearGradient,\n    '-webkit-linear-gradient': prefixLinearGradient,\n    'radial-gradient': radialGradient,\n    '-moz-radial-gradient': prefixRadialGradient,\n    '-ms-radial-gradient': prefixRadialGradient,\n    '-o-radial-gradient': prefixRadialGradient,\n    '-webkit-radial-gradient': prefixRadialGradient,\n    '-webkit-gradient': webkitGradient\n};\n","import {TokenType} from '../syntax/tokenizer';\nimport {ICSSImage, image} from '../types/image';\nimport {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, nonFunctionArgSeperator} from '../syntax/parser';\n\nexport const backgroundImage: IPropertyListDescriptor<ICSSImage[]> = {\n    name: 'background-image',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return [];\n        }\n\n        return tokens.filter(nonFunctionArgSeperator).map(image.parse);\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\n\nexport const enum BACKGROUND_ORIGIN {\n    BORDER_BOX = 0,\n    PADDING_BOX = 1,\n    CONTENT_BOX = 2\n}\n\nexport type BackgroundOrigin = BACKGROUND_ORIGIN[];\n\nexport const backgroundOrigin: IPropertyListDescriptor<BackgroundOrigin> = {\n    name: 'background-origin',\n    initialValue: 'border-box',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]): BackgroundOrigin => {\n        return tokens.map(token => {\n            if (isIdentToken(token)) {\n                switch (token.value) {\n                    case 'padding-box':\n                        return BACKGROUND_ORIGIN.PADDING_BOX;\n                    case 'content-box':\n                        return BACKGROUND_ORIGIN.CONTENT_BOX;\n                }\n            }\n            return BACKGROUND_ORIGIN.BORDER_BOX;\n        });\n    }\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, parseFunctionArgs} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentageTuple, parseLengthPercentageTuple} from '../types/length-percentage';\nexport type BackgroundPosition = BackgroundImagePosition[];\n\nexport type BackgroundImagePosition = LengthPercentageTuple;\n\nexport const backgroundPosition: IPropertyListDescriptor<BackgroundPosition> = {\n    name: 'background-position',\n    initialValue: '0% 0%',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (tokens: CSSValue[]): BackgroundPosition => {\n        return parseFunctionArgs(tokens)\n            .map((values: CSSValue[]) => values.filter(isLengthPercentage))\n            .map(parseLengthPercentageTuple);\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, parseFunctionArgs} from '../syntax/parser';\nexport type BackgroundRepeat = BACKGROUND_REPEAT[];\n\nexport enum BACKGROUND_REPEAT {\n    REPEAT = 0,\n    NO_REPEAT = 1,\n    REPEAT_X = 2,\n    REPEAT_Y = 3\n}\n\nexport const backgroundRepeat: IPropertyListDescriptor<BackgroundRepeat> = {\n    name: 'background-repeat',\n    initialValue: 'repeat',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]): BackgroundRepeat => {\n        return parseFunctionArgs(tokens)\n            .map(values =>\n                values\n                    .filter(isIdentToken)\n                    .map(token => token.value)\n                    .join(' ')\n            )\n            .map(parseBackgroundRepeat);\n    }\n};\n\nconst parseBackgroundRepeat = (value: string): BACKGROUND_REPEAT => {\n    switch (value) {\n        case 'no-repeat':\n            return BACKGROUND_REPEAT.NO_REPEAT;\n        case 'repeat-x':\n        case 'repeat no-repeat':\n            return BACKGROUND_REPEAT.REPEAT_X;\n        case 'repeat-y':\n        case 'no-repeat repeat':\n            return BACKGROUND_REPEAT.REPEAT_Y;\n        case 'repeat':\n        default:\n            return BACKGROUND_REPEAT.REPEAT;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, parseFunctionArgs} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentage} from '../types/length-percentage';\nimport {StringValueToken} from '../syntax/tokenizer';\n\nexport enum BACKGROUND_SIZE {\n    AUTO = 'auto',\n    CONTAIN = 'contain',\n    COVER = 'cover'\n}\n\nexport type BackgroundSizeInfo = LengthPercentage | StringValueToken;\nexport type BackgroundSize = BackgroundSizeInfo[][];\n\nexport const backgroundSize: IPropertyListDescriptor<BackgroundSize> = {\n    name: 'background-size',\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]): BackgroundSize => {\n        return parseFunctionArgs(tokens).map(values => values.filter(isBackgroundSizeInfoToken));\n    }\n};\n\nconst isBackgroundSizeInfoToken = (value: CSSValue): value is BackgroundSizeInfo =>\n    isIdentToken(value) || isLengthPercentage(value);\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nconst borderColorForSide = (side: string): IPropertyTypeValueDescriptor => ({\n    name: `border-${side}-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n});\n\nexport const borderTopColor: IPropertyTypeValueDescriptor = borderColorForSide('top');\nexport const borderRightColor: IPropertyTypeValueDescriptor = borderColorForSide('right');\nexport const borderBottomColor: IPropertyTypeValueDescriptor = borderColorForSide('bottom');\nexport const borderLeftColor: IPropertyTypeValueDescriptor = borderColorForSide('left');\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentageTuple, parseLengthPercentageTuple} from '../types/length-percentage';\nexport type BorderRadius = LengthPercentageTuple;\n\nconst borderRadiusForSide = (side: string): IPropertyListDescriptor<BorderRadius> => ({\n    name: `border-radius-${side}`,\n    initialValue: '0 0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]): BorderRadius => parseLengthPercentageTuple(tokens.filter(isLengthPercentage))\n});\n\nexport const borderTopLeftRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('top-left');\nexport const borderTopRightRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('top-right');\nexport const borderBottomRightRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('bottom-right');\nexport const borderBottomLeftRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('bottom-left');\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum BORDER_STYLE {\n    NONE = 0,\n    SOLID = 1\n}\n\nconst borderStyleForSide = (side: string): IPropertyIdentValueDescriptor<BORDER_STYLE> => ({\n    name: `border-${side}-style`,\n    initialValue: 'solid',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (style: string): BORDER_STYLE => {\n        switch (style) {\n            case 'none':\n                return BORDER_STYLE.NONE;\n        }\n        return BORDER_STYLE.SOLID;\n    }\n});\n\nexport const borderTopStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('top');\nexport const borderRightStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('right');\nexport const borderBottomStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('bottom');\nexport const borderLeftStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('left');\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nconst borderWidthForSide = (side: string): IPropertyValueDescriptor<number> => ({\n    name: `border-${side}-width`,\n    initialValue: '0',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (token: CSSValue): number => {\n        if (isDimensionToken(token)) {\n            return token.number;\n        }\n        return 0;\n    }\n});\n\nexport const borderTopWidth: IPropertyValueDescriptor<number> = borderWidthForSide('top');\nexport const borderRightWidth: IPropertyValueDescriptor<number> = borderWidthForSide('right');\nexport const borderBottomWidth: IPropertyValueDescriptor<number> = borderWidthForSide('bottom');\nexport const borderLeftWidth: IPropertyValueDescriptor<number> = borderWidthForSide('left');\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const color: IPropertyTypeValueDescriptor = {\n    name: `color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nexport const enum DISPLAY {\n    NONE = 0,\n    BLOCK = 1 << 1,\n    INLINE = 1 << 2,\n    RUN_IN = 1 << 3,\n    FLOW = 1 << 4,\n    FLOW_ROOT = 1 << 5,\n    TABLE = 1 << 6,\n    FLEX = 1 << 7,\n    GRID = 1 << 8,\n    RUBY = 1 << 9,\n    SUBGRID = 1 << 10,\n    LIST_ITEM = 1 << 11,\n    TABLE_ROW_GROUP = 1 << 12,\n    TABLE_HEADER_GROUP = 1 << 13,\n    TABLE_FOOTER_GROUP = 1 << 14,\n    TABLE_ROW = 1 << 15,\n    TABLE_CELL = 1 << 16,\n    TABLE_COLUMN_GROUP = 1 << 17,\n    TABLE_COLUMN = 1 << 18,\n    TABLE_CAPTION = 1 << 19,\n    RUBY_BASE = 1 << 20,\n    RUBY_TEXT = 1 << 21,\n    RUBY_BASE_CONTAINER = 1 << 22,\n    RUBY_TEXT_CONTAINER = 1 << 23,\n    CONTENTS = 1 << 24,\n    INLINE_BLOCK = 1 << 25,\n    INLINE_LIST_ITEM = 1 << 26,\n    INLINE_TABLE = 1 << 27,\n    INLINE_FLEX = 1 << 28,\n    INLINE_GRID = 1 << 29\n}\n\nexport type Display = number;\n\nexport const display: IPropertyListDescriptor<Display> = {\n    name: 'display',\n    initialValue: 'inline-block',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]): Display => {\n        return tokens.filter(isIdentToken).reduce((bit, token) => {\n            return bit | parseDisplayValue(token.value);\n        }, DISPLAY.NONE);\n    }\n};\n\nconst parseDisplayValue = (display: string): Display => {\n    switch (display) {\n        case 'block':\n            return DISPLAY.BLOCK;\n        case 'inline':\n            return DISPLAY.INLINE;\n        case 'run-in':\n            return DISPLAY.RUN_IN;\n        case 'flow':\n            return DISPLAY.FLOW;\n        case 'flow-root':\n            return DISPLAY.FLOW_ROOT;\n        case 'table':\n            return DISPLAY.TABLE;\n        case 'flex':\n        case '-webkit-flex':\n            return DISPLAY.FLEX;\n        case 'grid':\n            return DISPLAY.GRID;\n        case 'ruby':\n            return DISPLAY.RUBY;\n        case 'subgrid':\n            return DISPLAY.SUBGRID;\n        case 'list-item':\n            return DISPLAY.LIST_ITEM;\n        case 'table-row-group':\n            return DISPLAY.TABLE_ROW_GROUP;\n        case 'table-header-group':\n            return DISPLAY.TABLE_HEADER_GROUP;\n        case 'table-footer-group':\n            return DISPLAY.TABLE_FOOTER_GROUP;\n        case 'table-row':\n            return DISPLAY.TABLE_ROW;\n        case 'table-cell':\n            return DISPLAY.TABLE_CELL;\n        case 'table-column-group':\n            return DISPLAY.TABLE_COLUMN_GROUP;\n        case 'table-column':\n            return DISPLAY.TABLE_COLUMN;\n        case 'table-caption':\n            return DISPLAY.TABLE_CAPTION;\n        case 'ruby-base':\n            return DISPLAY.RUBY_BASE;\n        case 'ruby-text':\n            return DISPLAY.RUBY_TEXT;\n        case 'ruby-base-container':\n            return DISPLAY.RUBY_BASE_CONTAINER;\n        case 'ruby-text-container':\n            return DISPLAY.RUBY_TEXT_CONTAINER;\n        case 'contents':\n            return DISPLAY.CONTENTS;\n        case 'inline-block':\n            return DISPLAY.INLINE_BLOCK;\n        case 'inline-list-item':\n            return DISPLAY.INLINE_LIST_ITEM;\n        case 'inline-table':\n            return DISPLAY.INLINE_TABLE;\n        case 'inline-flex':\n            return DISPLAY.INLINE_FLEX;\n        case 'inline-grid':\n            return DISPLAY.INLINE_GRID;\n    }\n\n    return DISPLAY.NONE;\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum FLOAT {\n    NONE = 0,\n    LEFT = 1,\n    RIGHT = 2,\n    INLINE_START = 3,\n    INLINE_END = 4\n}\n\nexport const float: IPropertyIdentValueDescriptor<FLOAT> = {\n    name: 'float',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (float: string) => {\n        switch (float) {\n            case 'left':\n                return FLOAT.LEFT;\n            case 'right':\n                return FLOAT.RIGHT;\n            case 'inline-start':\n                return FLOAT.INLINE_START;\n            case 'inline-end':\n                return FLOAT.INLINE_END;\n        }\n        return FLOAT.NONE;\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nexport const letterSpacing: IPropertyValueDescriptor<number> = {\n    name: 'letter-spacing',\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\n            return 0;\n        }\n\n        if (token.type === TokenType.NUMBER_TOKEN) {\n            return token.number;\n        }\n\n        if (token.type === TokenType.DIMENSION_TOKEN) {\n            return token.number;\n        }\n\n        return 0;\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum LINE_BREAK {\n    NORMAL = 'normal',\n    STRICT = 'strict'\n}\n\nexport const lineBreak: IPropertyIdentValueDescriptor<LINE_BREAK> = {\n    name: 'line-break',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (lineBreak: string): LINE_BREAK => {\n        switch (lineBreak) {\n            case 'strict':\n                return LINE_BREAK.STRICT;\n            case 'normal':\n            default:\n                return LINE_BREAK.NORMAL;\n        }\n    }\n};\n","import {IPropertyTokenValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {getAbsoluteValue, isLengthPercentage} from '../types/length-percentage';\nexport const lineHeight: IPropertyTokenValueDescriptor = {\n    name: 'line-height',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\n};\n\nexport const computeLineHeight = (token: CSSValue, fontSize: number): number => {\n    if (isIdentToken(token) && token.value === 'normal') {\n        return 1.2 * fontSize;\n    } else if (token.type === TokenType.NUMBER_TOKEN) {\n        return fontSize * token.number;\n    } else if (isLengthPercentage(token)) {\n        return getAbsoluteValue(token, fontSize);\n    }\n\n    return fontSize;\n};\n","import {TokenType} from '../syntax/tokenizer';\nimport {ICSSImage, image} from '../types/image';\nimport {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\n\nexport const listStyleImage: IPropertyValueDescriptor<ICSSImage | null> = {\n    name: 'list-style-image',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n            return null;\n        }\n\n        return image.parse(token);\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum LIST_STYLE_POSITION {\n    INSIDE = 0,\n    OUTSIDE = 1\n}\n\nexport const listStylePosition: IPropertyIdentValueDescriptor<LIST_STYLE_POSITION> = {\n    name: 'list-style-position',\n    initialValue: 'outside',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (position: string) => {\n        switch (position) {\n            case 'inside':\n                return LIST_STYLE_POSITION.INSIDE;\n            case 'outside':\n            default:\n                return LIST_STYLE_POSITION.OUTSIDE;\n        }\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum LIST_STYLE_TYPE {\n    NONE = -1,\n    DISC = 0,\n    CIRCLE = 1,\n    SQUARE = 2,\n    DECIMAL = 3,\n    CJK_DECIMAL = 4,\n    DECIMAL_LEADING_ZERO = 5,\n    LOWER_ROMAN = 6,\n    UPPER_ROMAN = 7,\n    LOWER_GREEK = 8,\n    LOWER_ALPHA = 9,\n    UPPER_ALPHA = 10,\n    ARABIC_INDIC = 11,\n    ARMENIAN = 12,\n    BENGALI = 13,\n    CAMBODIAN = 14,\n    CJK_EARTHLY_BRANCH = 15,\n    CJK_HEAVENLY_STEM = 16,\n    CJK_IDEOGRAPHIC = 17,\n    DEVANAGARI = 18,\n    ETHIOPIC_NUMERIC = 19,\n    GEORGIAN = 20,\n    GUJARATI = 21,\n    GURMUKHI = 22,\n    HEBREW = 22,\n    HIRAGANA = 23,\n    HIRAGANA_IROHA = 24,\n    JAPANESE_FORMAL = 25,\n    JAPANESE_INFORMAL = 26,\n    KANNADA = 27,\n    KATAKANA = 28,\n    KATAKANA_IROHA = 29,\n    KHMER = 30,\n    KOREAN_HANGUL_FORMAL = 31,\n    KOREAN_HANJA_FORMAL = 32,\n    KOREAN_HANJA_INFORMAL = 33,\n    LAO = 34,\n    LOWER_ARMENIAN = 35,\n    MALAYALAM = 36,\n    MONGOLIAN = 37,\n    MYANMAR = 38,\n    ORIYA = 39,\n    PERSIAN = 40,\n    SIMP_CHINESE_FORMAL = 41,\n    SIMP_CHINESE_INFORMAL = 42,\n    TAMIL = 43,\n    TELUGU = 44,\n    THAI = 45,\n    TIBETAN = 46,\n    TRAD_CHINESE_FORMAL = 47,\n    TRAD_CHINESE_INFORMAL = 48,\n    UPPER_ARMENIAN = 49,\n    DISCLOSURE_OPEN = 50,\n    DISCLOSURE_CLOSED = 51\n}\n\nexport const listStyleType: IPropertyIdentValueDescriptor<LIST_STYLE_TYPE> = {\n    name: 'list-style-type',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (type: string) => {\n        switch (type) {\n            case 'disc':\n                return LIST_STYLE_TYPE.DISC;\n            case 'circle':\n                return LIST_STYLE_TYPE.CIRCLE;\n            case 'square':\n                return LIST_STYLE_TYPE.SQUARE;\n            case 'decimal':\n                return LIST_STYLE_TYPE.DECIMAL;\n            case 'cjk-decimal':\n                return LIST_STYLE_TYPE.CJK_DECIMAL;\n            case 'decimal-leading-zero':\n                return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\n            case 'lower-roman':\n                return LIST_STYLE_TYPE.LOWER_ROMAN;\n            case 'upper-roman':\n                return LIST_STYLE_TYPE.UPPER_ROMAN;\n            case 'lower-greek':\n                return LIST_STYLE_TYPE.LOWER_GREEK;\n            case 'lower-alpha':\n                return LIST_STYLE_TYPE.LOWER_ALPHA;\n            case 'upper-alpha':\n                return LIST_STYLE_TYPE.UPPER_ALPHA;\n            case 'arabic-indic':\n                return LIST_STYLE_TYPE.ARABIC_INDIC;\n            case 'armenian':\n                return LIST_STYLE_TYPE.ARMENIAN;\n            case 'bengali':\n                return LIST_STYLE_TYPE.BENGALI;\n            case 'cambodian':\n                return LIST_STYLE_TYPE.CAMBODIAN;\n            case 'cjk-earthly-branch':\n                return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\n            case 'cjk-heavenly-stem':\n                return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\n            case 'cjk-ideographic':\n                return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\n            case 'devanagari':\n                return LIST_STYLE_TYPE.DEVANAGARI;\n            case 'ethiopic-numeric':\n                return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\n            case 'georgian':\n                return LIST_STYLE_TYPE.GEORGIAN;\n            case 'gujarati':\n                return LIST_STYLE_TYPE.GUJARATI;\n            case 'gurmukhi':\n                return LIST_STYLE_TYPE.GURMUKHI;\n            case 'hebrew':\n                return LIST_STYLE_TYPE.HEBREW;\n            case 'hiragana':\n                return LIST_STYLE_TYPE.HIRAGANA;\n            case 'hiragana-iroha':\n                return LIST_STYLE_TYPE.HIRAGANA_IROHA;\n            case 'japanese-formal':\n                return LIST_STYLE_TYPE.JAPANESE_FORMAL;\n            case 'japanese-informal':\n                return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\n            case 'kannada':\n                return LIST_STYLE_TYPE.KANNADA;\n            case 'katakana':\n                return LIST_STYLE_TYPE.KATAKANA;\n            case 'katakana-iroha':\n                return LIST_STYLE_TYPE.KATAKANA_IROHA;\n            case 'khmer':\n                return LIST_STYLE_TYPE.KHMER;\n            case 'korean-hangul-formal':\n                return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\n            case 'korean-hanja-formal':\n                return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\n            case 'korean-hanja-informal':\n                return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\n            case 'lao':\n                return LIST_STYLE_TYPE.LAO;\n            case 'lower-armenian':\n                return LIST_STYLE_TYPE.LOWER_ARMENIAN;\n            case 'malayalam':\n                return LIST_STYLE_TYPE.MALAYALAM;\n            case 'mongolian':\n                return LIST_STYLE_TYPE.MONGOLIAN;\n            case 'myanmar':\n                return LIST_STYLE_TYPE.MYANMAR;\n            case 'oriya':\n                return LIST_STYLE_TYPE.ORIYA;\n            case 'persian':\n                return LIST_STYLE_TYPE.PERSIAN;\n            case 'simp-chinese-formal':\n                return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\n            case 'simp-chinese-informal':\n                return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\n            case 'tamil':\n                return LIST_STYLE_TYPE.TAMIL;\n            case 'telugu':\n                return LIST_STYLE_TYPE.TELUGU;\n            case 'thai':\n                return LIST_STYLE_TYPE.THAI;\n            case 'tibetan':\n                return LIST_STYLE_TYPE.TIBETAN;\n            case 'trad-chinese-formal':\n                return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\n            case 'trad-chinese-informal':\n                return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\n            case 'upper-armenian':\n                return LIST_STYLE_TYPE.UPPER_ARMENIAN;\n            case 'disclosure-open':\n                return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\n            case 'disclosure-closed':\n                return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\n            case 'none':\n            default:\n                return LIST_STYLE_TYPE.NONE;\n        }\n    }\n};\n","import {IPropertyTokenValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nconst marginForSide = (side: string): IPropertyTokenValueDescriptor => ({\n    name: `margin-${side}`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\n});\n\nexport const marginTop: IPropertyTokenValueDescriptor = marginForSide('top');\nexport const marginRight: IPropertyTokenValueDescriptor = marginForSide('right');\nexport const marginBottom: IPropertyTokenValueDescriptor = marginForSide('bottom');\nexport const marginLeft: IPropertyTokenValueDescriptor = marginForSide('left');\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nexport enum OVERFLOW {\n    VISIBLE = 0,\n    HIDDEN = 1,\n    SCROLL = 2,\n    AUTO = 3\n}\n\nexport const overflow: IPropertyListDescriptor<OVERFLOW[]> = {\n    name: 'overflow',\n    initialValue: 'visible',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]): OVERFLOW[] => {\n        return tokens.filter(isIdentToken).map(overflow => {\n            switch (overflow.value) {\n                case 'hidden':\n                    return OVERFLOW.HIDDEN;\n                case 'scroll':\n                    return OVERFLOW.SCROLL;\n                case 'auto':\n                    return OVERFLOW.AUTO;\n                case 'visible':\n                default:\n                    return OVERFLOW.VISIBLE;\n            }\n        });\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum OVERFLOW_WRAP {\n    NORMAL = 'normal',\n    BREAK_WORD = 'break-word'\n}\n\nexport const overflowWrap: IPropertyIdentValueDescriptor<OVERFLOW_WRAP> = {\n    name: 'overflow-wrap',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (overflow: string) => {\n        switch (overflow) {\n            case 'break-word':\n                return OVERFLOW_WRAP.BREAK_WORD;\n            case 'normal':\n            default:\n                return OVERFLOW_WRAP.NORMAL;\n        }\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nconst paddingForSide = (side: string): IPropertyTypeValueDescriptor => ({\n    name: `padding-${side}`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'length-percentage'\n});\n\nexport const paddingTop: IPropertyTypeValueDescriptor = paddingForSide('top');\nexport const paddingRight: IPropertyTypeValueDescriptor = paddingForSide('right');\nexport const paddingBottom: IPropertyTypeValueDescriptor = paddingForSide('bottom');\nexport const paddingLeft: IPropertyTypeValueDescriptor = paddingForSide('left');\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum TEXT_ALIGN {\n    LEFT = 0,\n    CENTER = 1,\n    RIGHT = 2\n}\n\nexport const textAlign: IPropertyIdentValueDescriptor<TEXT_ALIGN> = {\n    name: 'text-align',\n    initialValue: 'left',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (textAlign: string) => {\n        switch (textAlign) {\n            case 'right':\n                return TEXT_ALIGN.RIGHT;\n            case 'center':\n            case 'justify':\n                return TEXT_ALIGN.CENTER;\n            case 'left':\n            default:\n                return TEXT_ALIGN.LEFT;\n        }\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum POSITION {\n    STATIC = 0,\n    RELATIVE = 1,\n    ABSOLUTE = 2,\n    FIXED = 3,\n    STICKY = 4\n}\n\nexport const position: IPropertyIdentValueDescriptor<POSITION> = {\n    name: 'position',\n    initialValue: 'static',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (position: string) => {\n        switch (position) {\n            case 'relative':\n                return POSITION.RELATIVE;\n            case 'absolute':\n                return POSITION.ABSOLUTE;\n            case 'fixed':\n                return POSITION.FIXED;\n            case 'sticky':\n                return POSITION.STICKY;\n        }\n\n        return POSITION.STATIC;\n    }\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentWithValue, parseFunctionArgs} from '../syntax/parser';\nimport {ZERO_LENGTH} from '../types/length-percentage';\nimport {color, Color, COLORS} from '../types/color';\nimport {isLength, Length} from '../types/length';\n\nexport type TextShadow = TextShadowItem[];\ninterface TextShadowItem {\n    color: Color;\n    offsetX: Length;\n    offsetY: Length;\n    blur: Length;\n}\n\nexport const textShadow: IPropertyListDescriptor<TextShadow> = {\n    name: 'text-shadow',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (tokens: CSSValue[]): TextShadow => {\n        if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\n            return [];\n        }\n\n        return parseFunctionArgs(tokens).map((values: CSSValue[]) => {\n            const shadow: TextShadowItem = {\n                color: COLORS.TRANSPARENT,\n                offsetX: ZERO_LENGTH,\n                offsetY: ZERO_LENGTH,\n                blur: ZERO_LENGTH\n            };\n            let c = 0;\n            for (let i = 0; i < values.length; i++) {\n                const token = values[i];\n                if (isLength(token)) {\n                    if (c === 0) {\n                        shadow.offsetX = token;\n                    } else if (c === 1) {\n                        shadow.offsetY = token;\n                    } else {\n                        shadow.blur = token;\n                    }\n                    c++;\n                } else {\n                    shadow.color = color.parse(token);\n                }\n            }\n            return shadow;\n        });\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum TEXT_TRANSFORM {\n    NONE = 0,\n    LOWERCASE = 1,\n    UPPERCASE = 2,\n    CAPITALIZE = 3\n}\n\nexport const textTransform: IPropertyIdentValueDescriptor<TEXT_TRANSFORM> = {\n    name: 'text-transform',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (textTransform: string) => {\n        switch (textTransform) {\n            case 'uppercase':\n                return TEXT_TRANSFORM.UPPERCASE;\n            case 'lowercase':\n                return TEXT_TRANSFORM.LOWERCASE;\n            case 'capitalize':\n                return TEXT_TRANSFORM.CAPITALIZE;\n        }\n\n        return TEXT_TRANSFORM.NONE;\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {NumberValueToken, TokenType} from '../syntax/tokenizer';\nexport type Matrix = [number, number, number, number, number, number];\nexport type Transform = Matrix | null;\n\nexport const transform: IPropertyValueDescriptor<Transform> = {\n    name: 'transform',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n            return null;\n        }\n\n        if (token.type === TokenType.FUNCTION) {\n            const transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\n            if (typeof transformFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported transform function \"${token.name}\"`);\n            }\n            return transformFunction(token.values);\n        }\n\n        return null;\n    }\n};\n\nconst matrix = (args: CSSValue[]): Transform => {\n    const values = args.filter(arg => arg.type === TokenType.NUMBER_TOKEN).map((arg: NumberValueToken) => arg.number);\n\n    return values.length === 6 ? (values as Matrix) : null;\n};\n\n// doesn't support 3D transforms at the moment\nconst matrix3d = (args: CSSValue[]): Transform => {\n    const values = args.filter(arg => arg.type === TokenType.NUMBER_TOKEN).map((arg: NumberValueToken) => arg.number);\n\n    const [a1, b1, {}, {}, a2, b2, {}, {}, {}, {}, {}, {}, a4, b4, {}, {}] = values;\n\n    return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\n};\n\nconst SUPPORTED_TRANSFORM_FUNCTIONS: {\n    [key: string]: (args: CSSValue[]) => Transform;\n} = {\n    matrix: matrix,\n    matrix3d: matrix3d\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentage} from '../types/length-percentage';\nimport {FLAG_INTEGER, TokenType} from '../syntax/tokenizer';\nexport type TransformOrigin = [LengthPercentage, LengthPercentage];\n\nconst DEFAULT_VALUE: LengthPercentage = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 50,\n    flags: FLAG_INTEGER\n};\nconst DEFAULT: TransformOrigin = [DEFAULT_VALUE, DEFAULT_VALUE];\n\nexport const transformOrigin: IPropertyListDescriptor<TransformOrigin> = {\n    name: 'transform-origin',\n    initialValue: '50% 50%',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]) => {\n        const origins: LengthPercentage[] = tokens.filter(isLengthPercentage);\n\n        if (origins.length !== 2) {\n            return DEFAULT;\n        }\n\n        return [origins[0], origins[1]];\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum VISIBILITY {\n    VISIBLE = 0,\n    HIDDEN = 1,\n    COLLAPSE = 2\n}\n\nexport const visibility: IPropertyIdentValueDescriptor<VISIBILITY> = {\n    name: 'visible',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (visibility: string) => {\n        switch (visibility) {\n            case 'hidden':\n                return VISIBILITY.HIDDEN;\n            case 'collapse':\n                return VISIBILITY.COLLAPSE;\n            case 'visible':\n            default:\n                return VISIBILITY.VISIBLE;\n        }\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum WORD_BREAK {\n    NORMAL = 'normal',\n    BREAK_ALL = 'break-all',\n    KEEP_ALL = 'keep-all'\n}\n\nexport const wordBreak: IPropertyIdentValueDescriptor<WORD_BREAK> = {\n    name: 'word-break',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (wordBreak: string): WORD_BREAK => {\n        switch (wordBreak) {\n            case 'break-all':\n                return WORD_BREAK.BREAK_ALL;\n            case 'keep-all':\n                return WORD_BREAK.KEEP_ALL;\n            case 'normal':\n            default:\n                return WORD_BREAK.NORMAL;\n        }\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\n\ninterface zIndex {\n    order: number;\n    auto: boolean;\n}\n\nexport const zIndex: IPropertyValueDescriptor<zIndex> = {\n    name: 'z-index',\n    initialValue: 'auto',\n    prefix: false,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (token: CSSValue): zIndex => {\n        if (token.type === TokenType.IDENT_TOKEN) {\n            return {auto: true, order: 0};\n        }\n\n        if (isNumberToken(token)) {\n            return {auto: false, order: token.number};\n        }\n\n        throw new Error(`Invalid z-index number parsed`);\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken} from '../syntax/parser';\nexport const opacity: IPropertyValueDescriptor<number> = {\n    name: 'opacity',\n    initialValue: '1',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (token: CSSValue): number => {\n        if (isNumberToken(token)) {\n            return token.number;\n        }\n        return 1;\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const textDecorationColor: IPropertyTypeValueDescriptor = {\n    name: `text-decoration-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\n\nexport const enum TEXT_DECORATION_LINE {\n    NONE = 0,\n    UNDERLINE = 1,\n    OVERLINE = 2,\n    LINE_THROUGH = 3,\n    BLINK = 4\n}\n\nexport type TextDecorationLine = TEXT_DECORATION_LINE[];\n\nexport const textDecorationLine: IPropertyListDescriptor<TextDecorationLine> = {\n    name: 'text-decoration-line',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]): TextDecorationLine => {\n        return tokens\n            .filter(isIdentToken)\n            .map(token => {\n                switch (token.value) {\n                    case 'underline':\n                        return TEXT_DECORATION_LINE.UNDERLINE;\n                    case 'overline':\n                        return TEXT_DECORATION_LINE.OVERLINE;\n                    case 'line-through':\n                        return TEXT_DECORATION_LINE.LINE_THROUGH;\n                    case 'none':\n                        return TEXT_DECORATION_LINE.BLINK;\n                }\n                return TEXT_DECORATION_LINE.NONE;\n            })\n            .filter(line => line !== TEXT_DECORATION_LINE.NONE);\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {StringValueToken, TokenType} from '../syntax/tokenizer';\n\nexport type FONT_FAMILY = string;\n\nexport type FontFamily = FONT_FAMILY[];\n\nexport const fontFamily: IPropertyListDescriptor<FontFamily> = {\n    name: `font-family`,\n    initialValue: '',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]) => {\n        return tokens.filter(isStringToken).map(token => token.value);\n    }\n};\n\nconst isStringToken = (token: CSSValue): token is StringValueToken =>\n    token.type === TokenType.STRING_TOKEN || token.type === TokenType.IDENT_TOKEN;\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const fontSize: IPropertyTypeValueDescriptor = {\n    name: `font-size`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'length'\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, isNumberToken} from '../syntax/parser';\nexport const fontWeight: IPropertyValueDescriptor<number> = {\n    name: 'font-weight',\n    initialValue: 'normal',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (token: CSSValue): number => {\n        if (isNumberToken(token)) {\n            return token.number;\n        }\n\n        if (isIdentToken(token)) {\n            switch (token.value) {\n                case 'bold':\n                    return 700;\n                case 'normal':\n                default:\n                    return 400;\n            }\n        }\n\n        return 400;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nexport const fontVariant: IPropertyListDescriptor<string[]> = {\n    name: 'font-variant',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (tokens: CSSValue[]): string[] => {\n        return tokens.filter(isIdentToken).map(token => token.value);\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport enum FONT_STYLE {\n    NORMAL = 'normal',\n    ITALIC = 'italic',\n    OBLIQUE = 'oblique'\n}\n\nexport const fontStyle: IPropertyIdentValueDescriptor<FONT_STYLE> = {\n    name: 'font-style',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (overflow: string) => {\n        switch (overflow) {\n            case 'oblique':\n                return FONT_STYLE.OBLIQUE;\n            case 'italic':\n                return FONT_STYLE.ITALIC;\n            case 'normal':\n            default:\n                return FONT_STYLE.NORMAL;\n        }\n    }\n};\n","export const contains = (bit: number, value: number): boolean => (bit & value) !== 0;\n","import {TokenType} from '../syntax/tokenizer';\nimport {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\n\nexport type Content = CSSValue[];\n\nexport const content: IPropertyListDescriptor<Content> = {\n    name: 'content',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return [];\n        }\n\n        return tokens;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken, nonWhiteSpace} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\n\nexport interface COUNTER_INCREMENT {\n    counter: string;\n    increment: number;\n}\n\nexport type CounterIncrement = COUNTER_INCREMENT[] | null;\n\nexport const counterIncrement: IPropertyListDescriptor<CounterIncrement> = {\n    name: 'counter-increment',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return null;\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return null;\n        }\n\n        const increments = [];\n        const filtered = tokens.filter(nonWhiteSpace);\n\n        for (let i = 0; i < filtered.length; i++) {\n            const counter = filtered[i];\n            const next = filtered[i + 1];\n            if (counter.type === TokenType.IDENT_TOKEN) {\n                const increment = next && isNumberToken(next) ? next.number : 1;\n                increments.push({counter: counter.value, increment});\n            }\n        }\n\n        return increments;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, isNumberToken, nonWhiteSpace} from '../syntax/parser';\n\nexport interface COUNTER_RESET {\n    counter: string;\n    reset: number;\n}\n\nexport type CounterReset = COUNTER_RESET[];\n\nexport const counterReset: IPropertyListDescriptor<CounterReset> = {\n    name: 'counter-reset',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const resets = [];\n        const filtered = tokens.filter(nonWhiteSpace);\n\n        for (let i = 0; i < filtered.length; i++) {\n            const counter = filtered[i];\n            const next = filtered[i + 1];\n            if (isIdentToken(counter) && counter.value !== 'none') {\n                const reset = next && isNumberToken(next) ? next.number : 0;\n                resets.push({counter: counter.value, reset});\n            }\n        }\n\n        return resets;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isStringToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\n\nexport interface QUOTE {\n    open: string;\n    close: string;\n}\n\nexport type Quotes = QUOTE[] | null;\n\nexport const quotes: IPropertyListDescriptor<Quotes> = {\n    name: 'quotes',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return null;\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return null;\n        }\n\n        const quotes = [];\n        const filtered = tokens.filter(isStringToken);\n\n        if (filtered.length % 2 !== 0) {\n            return null;\n        }\n\n        for (let i = 0; i < filtered.length; i += 2) {\n            const open = filtered[i].value;\n            const close = filtered[i + 1].value;\n            quotes.push({open, close});\n        }\n\n        return quotes;\n    }\n};\n\nexport const getQuote = (quotes: Quotes, depth: number, open: boolean): string => {\n    if (!quotes) {\n        return '';\n    }\n\n    const quote = quotes[Math.min(depth, quotes.length - 1)];\n    if (!quote) {\n        return '';\n    }\n\n    return open ? quote.open : quote.close;\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentWithValue, parseFunctionArgs} from '../syntax/parser';\nimport {ZERO_LENGTH} from '../types/length-percentage';\nimport {color, Color} from '../types/color';\nimport {isLength, Length} from '../types/length';\n\nexport type BoxShadow = BoxShadowItem[];\ninterface BoxShadowItem {\n    inset: boolean;\n    color: Color;\n    offsetX: Length;\n    offsetY: Length;\n    blur: Length;\n    spread: Length;\n}\n\nexport const boxShadow: IPropertyListDescriptor<BoxShadow> = {\n    name: 'box-shadow',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (tokens: CSSValue[]): BoxShadow => {\n        if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\n            return [];\n        }\n\n        return parseFunctionArgs(tokens).map((values: CSSValue[]) => {\n            const shadow: BoxShadowItem = {\n                color: 0x000000ff,\n                offsetX: ZERO_LENGTH,\n                offsetY: ZERO_LENGTH,\n                blur: ZERO_LENGTH,\n                spread: ZERO_LENGTH,\n                inset: false\n            };\n            let c = 0;\n            for (let i = 0; i < values.length; i++) {\n                const token = values[i];\n                if (isIdentWithValue(token, 'inset')) {\n                    shadow.inset = true;\n                } else if (isLength(token)) {\n                    if (c === 0) {\n                        shadow.offsetX = token;\n                    } else if (c === 1) {\n                        shadow.offsetY = token;\n                    } else if (c === 2) {\n                        shadow.blur = token;\n                    } else {\n                        shadow.spread = token;\n                    }\n                    c++;\n                } else {\n                    shadow.color = color.parse(token);\n                }\n            }\n            return shadow;\n        });\n    }\n};\n","import {CSSPropertyDescriptor, PropertyDescriptorParsingType} from './IPropertyDescriptor';\nimport {backgroundClip} from './property-descriptors/background-clip';\nimport {backgroundColor} from './property-descriptors/background-color';\nimport {backgroundImage} from './property-descriptors/background-image';\nimport {backgroundOrigin} from './property-descriptors/background-origin';\nimport {backgroundPosition} from './property-descriptors/background-position';\nimport {backgroundRepeat} from './property-descriptors/background-repeat';\nimport {backgroundSize} from './property-descriptors/background-size';\nimport {\n    borderBottomColor,\n    borderLeftColor,\n    borderRightColor,\n    borderTopColor\n} from './property-descriptors/border-color';\nimport {\n    borderBottomLeftRadius,\n    borderBottomRightRadius,\n    borderTopLeftRadius,\n    borderTopRightRadius\n} from './property-descriptors/border-radius';\nimport {\n    borderBottomStyle,\n    borderLeftStyle,\n    borderRightStyle,\n    borderTopStyle\n} from './property-descriptors/border-style';\nimport {\n    borderBottomWidth,\n    borderLeftWidth,\n    borderRightWidth,\n    borderTopWidth\n} from './property-descriptors/border-width';\nimport {color} from './property-descriptors/color';\nimport {display, DISPLAY} from './property-descriptors/display';\nimport {float, FLOAT} from './property-descriptors/float';\nimport {letterSpacing} from './property-descriptors/letter-spacing';\nimport {lineBreak} from './property-descriptors/line-break';\nimport {lineHeight} from './property-descriptors/line-height';\nimport {listStyleImage} from './property-descriptors/list-style-image';\nimport {listStylePosition} from './property-descriptors/list-style-position';\nimport {listStyleType} from './property-descriptors/list-style-type';\nimport {marginBottom, marginLeft, marginRight, marginTop} from './property-descriptors/margin';\nimport {overflow, OVERFLOW} from './property-descriptors/overflow';\nimport {overflowWrap} from './property-descriptors/overflow-wrap';\nimport {paddingBottom, paddingLeft, paddingRight, paddingTop} from './property-descriptors/padding';\nimport {textAlign} from './property-descriptors/text-align';\nimport {position, POSITION} from './property-descriptors/position';\nimport {textShadow} from './property-descriptors/text-shadow';\nimport {textTransform} from './property-descriptors/text-transform';\nimport {transform} from './property-descriptors/transform';\nimport {transformOrigin} from './property-descriptors/transform-origin';\nimport {visibility, VISIBILITY} from './property-descriptors/visibility';\nimport {wordBreak} from './property-descriptors/word-break';\nimport {zIndex} from './property-descriptors/z-index';\nimport {CSSValue, isIdentToken, Parser} from './syntax/parser';\nimport {Tokenizer} from './syntax/tokenizer';\nimport {Color, color as colorType, isTransparent} from './types/color';\nimport {angle} from './types/angle';\nimport {image} from './types/image';\nimport {opacity} from './property-descriptors/opacity';\nimport {textDecorationColor} from './property-descriptors/text-decoration-color';\nimport {textDecorationLine} from './property-descriptors/text-decoration-line';\nimport {isLengthPercentage, LengthPercentage, ZERO_LENGTH} from './types/length-percentage';\nimport {fontFamily} from './property-descriptors/font-family';\nimport {fontSize} from './property-descriptors/font-size';\nimport {isLength} from './types/length';\nimport {fontWeight} from './property-descriptors/font-weight';\nimport {fontVariant} from './property-descriptors/font-variant';\nimport {fontStyle} from './property-descriptors/font-style';\nimport {contains} from '../core/bitwise';\nimport {content} from './property-descriptors/content';\nimport {counterIncrement} from './property-descriptors/counter-increment';\nimport {counterReset} from './property-descriptors/counter-reset';\nimport {quotes} from './property-descriptors/quotes';\nimport {boxShadow} from './property-descriptors/box-shadow';\n\nexport class CSSParsedDeclaration {\n    backgroundClip: ReturnType<typeof backgroundClip.parse>;\n    backgroundColor: Color;\n    backgroundImage: ReturnType<typeof backgroundImage.parse>;\n    backgroundOrigin: ReturnType<typeof backgroundOrigin.parse>;\n    backgroundPosition: ReturnType<typeof backgroundPosition.parse>;\n    backgroundRepeat: ReturnType<typeof backgroundRepeat.parse>;\n    backgroundSize: ReturnType<typeof backgroundSize.parse>;\n    borderTopColor: Color;\n    borderRightColor: Color;\n    borderBottomColor: Color;\n    borderLeftColor: Color;\n    borderTopLeftRadius: ReturnType<typeof borderTopLeftRadius.parse>;\n    borderTopRightRadius: ReturnType<typeof borderTopRightRadius.parse>;\n    borderBottomRightRadius: ReturnType<typeof borderBottomRightRadius.parse>;\n    borderBottomLeftRadius: ReturnType<typeof borderBottomLeftRadius.parse>;\n    borderTopStyle: ReturnType<typeof borderTopStyle.parse>;\n    borderRightStyle: ReturnType<typeof borderRightStyle.parse>;\n    borderBottomStyle: ReturnType<typeof borderBottomStyle.parse>;\n    borderLeftStyle: ReturnType<typeof borderLeftStyle.parse>;\n    borderTopWidth: ReturnType<typeof borderTopWidth.parse>;\n    borderRightWidth: ReturnType<typeof borderRightWidth.parse>;\n    borderBottomWidth: ReturnType<typeof borderBottomWidth.parse>;\n    borderLeftWidth: ReturnType<typeof borderLeftWidth.parse>;\n    boxShadow: ReturnType<typeof boxShadow.parse>;\n    color: Color;\n    display: ReturnType<typeof display.parse>;\n    float: ReturnType<typeof float.parse>;\n    fontFamily: ReturnType<typeof fontFamily.parse>;\n    fontSize: LengthPercentage;\n    fontStyle: ReturnType<typeof fontStyle.parse>;\n    fontVariant: ReturnType<typeof fontVariant.parse>;\n    fontWeight: ReturnType<typeof fontWeight.parse>;\n    letterSpacing: ReturnType<typeof letterSpacing.parse>;\n    lineBreak: ReturnType<typeof lineBreak.parse>;\n    lineHeight: CSSValue;\n    listStyleImage: ReturnType<typeof listStyleImage.parse>;\n    listStylePosition: ReturnType<typeof listStylePosition.parse>;\n    listStyleType: ReturnType<typeof listStyleType.parse>;\n    marginTop: CSSValue;\n    marginRight: CSSValue;\n    marginBottom: CSSValue;\n    marginLeft: CSSValue;\n    opacity: ReturnType<typeof opacity.parse>;\n    overflowX: OVERFLOW;\n    overflowY: OVERFLOW;\n    overflowWrap: ReturnType<typeof overflowWrap.parse>;\n    paddingTop: LengthPercentage;\n    paddingRight: LengthPercentage;\n    paddingBottom: LengthPercentage;\n    paddingLeft: LengthPercentage;\n    position: ReturnType<typeof position.parse>;\n    textAlign: ReturnType<typeof textAlign.parse>;\n    textDecorationColor: Color;\n    textDecorationLine: ReturnType<typeof textDecorationLine.parse>;\n    textShadow: ReturnType<typeof textShadow.parse>;\n    textTransform: ReturnType<typeof textTransform.parse>;\n    transform: ReturnType<typeof transform.parse>;\n    transformOrigin: ReturnType<typeof transformOrigin.parse>;\n    visibility: ReturnType<typeof visibility.parse>;\n    wordBreak: ReturnType<typeof wordBreak.parse>;\n    zIndex: ReturnType<typeof zIndex.parse>;\n\n    constructor(declaration: CSSStyleDeclaration) {\n        this.backgroundClip = parse(backgroundClip, declaration.backgroundClip);\n        this.backgroundColor = parse(backgroundColor, declaration.backgroundColor);\n        this.backgroundImage = parse(backgroundImage, declaration.backgroundImage);\n        this.backgroundOrigin = parse(backgroundOrigin, declaration.backgroundOrigin);\n        this.backgroundPosition = parse(backgroundPosition, declaration.backgroundPosition);\n        this.backgroundRepeat = parse(backgroundRepeat, declaration.backgroundRepeat);\n        this.backgroundSize = parse(backgroundSize, declaration.backgroundSize);\n        this.borderTopColor = parse(borderTopColor, declaration.borderTopColor);\n        this.borderRightColor = parse(borderRightColor, declaration.borderRightColor);\n        this.borderBottomColor = parse(borderBottomColor, declaration.borderBottomColor);\n        this.borderLeftColor = parse(borderLeftColor, declaration.borderLeftColor);\n        this.borderTopLeftRadius = parse(borderTopLeftRadius, declaration.borderTopLeftRadius);\n        this.borderTopRightRadius = parse(borderTopRightRadius, declaration.borderTopRightRadius);\n        this.borderBottomRightRadius = parse(borderBottomRightRadius, declaration.borderBottomRightRadius);\n        this.borderBottomLeftRadius = parse(borderBottomLeftRadius, declaration.borderBottomLeftRadius);\n        this.borderTopStyle = parse(borderTopStyle, declaration.borderTopStyle);\n        this.borderRightStyle = parse(borderRightStyle, declaration.borderRightStyle);\n        this.borderBottomStyle = parse(borderBottomStyle, declaration.borderBottomStyle);\n        this.borderLeftStyle = parse(borderLeftStyle, declaration.borderLeftStyle);\n        this.borderTopWidth = parse(borderTopWidth, declaration.borderTopWidth);\n        this.borderRightWidth = parse(borderRightWidth, declaration.borderRightWidth);\n        this.borderBottomWidth = parse(borderBottomWidth, declaration.borderBottomWidth);\n        this.borderLeftWidth = parse(borderLeftWidth, declaration.borderLeftWidth);\n        this.boxShadow = parse(boxShadow, declaration.boxShadow);\n        this.color = parse(color, declaration.color);\n        this.display = parse(display, declaration.display);\n        this.float = parse(float, declaration.cssFloat);\n        this.fontFamily = parse(fontFamily, declaration.fontFamily);\n        this.fontSize = parse(fontSize, declaration.fontSize);\n        this.fontStyle = parse(fontStyle, declaration.fontStyle);\n        this.fontVariant = parse(fontVariant, declaration.fontVariant);\n        this.fontWeight = parse(fontWeight, declaration.fontWeight);\n        this.letterSpacing = parse(letterSpacing, declaration.letterSpacing);\n        this.lineBreak = parse(lineBreak, declaration.lineBreak);\n        this.lineHeight = parse(lineHeight, declaration.lineHeight);\n        this.listStyleImage = parse(listStyleImage, declaration.listStyleImage);\n        this.listStylePosition = parse(listStylePosition, declaration.listStylePosition);\n        this.listStyleType = parse(listStyleType, declaration.listStyleType);\n        this.marginTop = parse(marginTop, declaration.marginTop);\n        this.marginRight = parse(marginRight, declaration.marginRight);\n        this.marginBottom = parse(marginBottom, declaration.marginBottom);\n        this.marginLeft = parse(marginLeft, declaration.marginLeft);\n        this.opacity = parse(opacity, declaration.opacity);\n        const overflowTuple = parse(overflow, declaration.overflow);\n        this.overflowX = overflowTuple[0];\n        this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\n        this.overflowWrap = parse(overflowWrap, declaration.overflowWrap);\n        this.paddingTop = parse(paddingTop, declaration.paddingTop);\n        this.paddingRight = parse(paddingRight, declaration.paddingRight);\n        this.paddingBottom = parse(paddingBottom, declaration.paddingBottom);\n        this.paddingLeft = parse(paddingLeft, declaration.paddingLeft);\n        this.position = parse(position, declaration.position);\n        this.textAlign = parse(textAlign, declaration.textAlign);\n        this.textDecorationColor = parse(textDecorationColor, declaration.textDecorationColor || declaration.color);\n        this.textDecorationLine = parse(textDecorationLine, declaration.textDecorationLine);\n        this.textShadow = parse(textShadow, declaration.textShadow);\n        this.textTransform = parse(textTransform, declaration.textTransform);\n        this.transform = parse(transform, declaration.transform);\n        this.transformOrigin = parse(transformOrigin, declaration.transformOrigin);\n        this.visibility = parse(visibility, declaration.visibility);\n        this.wordBreak = parse(wordBreak, declaration.wordBreak);\n        this.zIndex = parse(zIndex, declaration.zIndex);\n    }\n\n    isVisible(): boolean {\n        return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\n    }\n\n    isTransparent(): boolean {\n        return isTransparent(this.backgroundColor);\n    }\n\n    isTransformed(): boolean {\n        return this.transform !== null;\n    }\n\n    isPositioned(): boolean {\n        return this.position !== POSITION.STATIC;\n    }\n\n    isPositionedWithZIndex(): boolean {\n        return this.isPositioned() && !this.zIndex.auto;\n    }\n\n    isFloating(): boolean {\n        return this.float !== FLOAT.NONE;\n    }\n\n    isInlineLevel(): boolean {\n        return (\n            contains(this.display, DISPLAY.INLINE) ||\n            contains(this.display, DISPLAY.INLINE_BLOCK) ||\n            contains(this.display, DISPLAY.INLINE_FLEX) ||\n            contains(this.display, DISPLAY.INLINE_GRID) ||\n            contains(this.display, DISPLAY.INLINE_LIST_ITEM) ||\n            contains(this.display, DISPLAY.INLINE_TABLE)\n        );\n    }\n}\n\nexport class CSSParsedPseudoDeclaration {\n    content: ReturnType<typeof content.parse>;\n    quotes: ReturnType<typeof quotes.parse>;\n\n    constructor(declaration: CSSStyleDeclaration) {\n        this.content = parse(content, declaration.content);\n        this.quotes = parse(quotes, declaration.quotes);\n    }\n}\n\nexport class CSSParsedCounterDeclaration {\n    counterIncrement: ReturnType<typeof counterIncrement.parse>;\n    counterReset: ReturnType<typeof counterReset.parse>;\n\n    constructor(declaration: CSSStyleDeclaration) {\n        this.counterIncrement = parse(counterIncrement, declaration.counterIncrement);\n        this.counterReset = parse(counterReset, declaration.counterReset);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst parse = (descriptor: CSSPropertyDescriptor<any>, style?: string | null) => {\n    const tokenizer = new Tokenizer();\n    const value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\n    tokenizer.write(value);\n    const parser = new Parser(tokenizer.read());\n    switch (descriptor.type) {\n        case PropertyDescriptorParsingType.IDENT_VALUE:\n            const token = parser.parseComponentValue();\n            return descriptor.parse(isIdentToken(token) ? token.value : descriptor.initialValue);\n        case PropertyDescriptorParsingType.VALUE:\n            return descriptor.parse(parser.parseComponentValue());\n        case PropertyDescriptorParsingType.LIST:\n            return descriptor.parse(parser.parseComponentValues());\n        case PropertyDescriptorParsingType.TOKEN_VALUE:\n            return parser.parseComponentValue();\n        case PropertyDescriptorParsingType.TYPE_VALUE:\n            switch (descriptor.format) {\n                case 'angle':\n                    return angle.parse(parser.parseComponentValue());\n                case 'color':\n                    return colorType.parse(parser.parseComponentValue());\n                case 'image':\n                    return image.parse(parser.parseComponentValue());\n                case 'length':\n                    const length = parser.parseComponentValue();\n                    return isLength(length) ? length : ZERO_LENGTH;\n                case 'length-percentage':\n                    const value = parser.parseComponentValue();\n                    return isLengthPercentage(value) ? value : ZERO_LENGTH;\n            }\n    }\n\n    throw new Error(`Attempting to parse unsupported css format type ${descriptor.format}`);\n};\n","import {CSSParsedDeclaration} from '../css/index';\nimport {TextContainer} from './text-container';\nimport {Bounds, parseBounds} from '../css/layout/bounds';\nimport {isHTMLElementNode} from './node-parser';\n\nexport const enum FLAGS {\n    CREATES_STACKING_CONTEXT = 1 << 1,\n    CREATES_REAL_STACKING_CONTEXT = 1 << 2,\n    IS_LIST_OWNER = 1 << 3\n}\n\nexport class ElementContainer {\n    readonly styles: CSSParsedDeclaration;\n    readonly textNodes: TextContainer[];\n    readonly elements: ElementContainer[];\n    bounds: Bounds;\n    flags: number;\n\n    constructor(element: Element) {\n        this.styles = new CSSParsedDeclaration(window.getComputedStyle(element, null));\n        this.textNodes = [];\n        this.elements = [];\n        if (this.styles.transform !== null && isHTMLElementNode(element)) {\n            // getBoundingClientRect takes transforms into account\n            element.style.transform = 'none';\n        }\n        this.bounds = parseBounds(element);\n        this.flags = 0;\n    }\n}\n","import {OVERFLOW_WRAP} from '../property-descriptors/overflow-wrap';\nimport {CSSParsedDeclaration} from '../index';\nimport {fromCodePoint, LineBreaker, toCodePoints} from 'css-line-break';\nimport {Bounds, parseBounds} from './bounds';\nimport {FEATURES} from '../../core/features';\n\nexport class TextBounds {\n    readonly text: string;\n    readonly bounds: Bounds;\n\n    constructor(text: string, bounds: Bounds) {\n        this.text = text;\n        this.bounds = bounds;\n    }\n}\n\nexport const parseTextBounds = (value: string, styles: CSSParsedDeclaration, node: Text): TextBounds[] => {\n    const textList = breakText(value, styles);\n    const textBounds: TextBounds[] = [];\n    let offset = 0;\n    textList.forEach(text => {\n        if (styles.textDecorationLine.length || text.trim().length > 0) {\n            if (FEATURES.SUPPORT_RANGE_BOUNDS) {\n                textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));\n            } else {\n                const replacementNode = node.splitText(text.length);\n                textBounds.push(new TextBounds(text, getWrapperBounds(node)));\n                node = replacementNode;\n            }\n        } else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\n            node = node.splitText(text.length);\n        }\n        offset += text.length;\n    });\n\n    return textBounds;\n};\n\nconst getWrapperBounds = (node: Text): Bounds => {\n    const ownerDocument = node.ownerDocument;\n    if (ownerDocument) {\n        const wrapper = ownerDocument.createElement('html2canvaswrapper');\n        wrapper.appendChild(node.cloneNode(true));\n        const parentNode = node.parentNode;\n        if (parentNode) {\n            parentNode.replaceChild(wrapper, node);\n            const bounds = parseBounds(wrapper);\n            if (wrapper.firstChild) {\n                parentNode.replaceChild(wrapper.firstChild, wrapper);\n            }\n            return bounds;\n        }\n    }\n\n    return new Bounds(0, 0, 0, 0);\n};\n\nconst getRangeBounds = (node: Text, offset: number, length: number): Bounds => {\n    const ownerDocument = node.ownerDocument;\n    if (!ownerDocument) {\n        throw new Error('Node has no owner document');\n    }\n    const range = ownerDocument.createRange();\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return Bounds.fromClientRect(range.getBoundingClientRect());\n};\n\nconst breakText = (value: string, styles: CSSParsedDeclaration): string[] => {\n    return styles.letterSpacing !== 0 ? toCodePoints(value).map(i => fromCodePoint(i)) : breakWords(value, styles);\n};\n\nconst breakWords = (str: string, styles: CSSParsedDeclaration): string[] => {\n    const breaker = LineBreaker(str, {\n        lineBreak: styles.lineBreak,\n        wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\n    });\n\n    const words = [];\n    let bk;\n\n    while (!(bk = breaker.next()).done) {\n        if (bk.value) {\n            words.push(bk.value.slice());\n        }\n    }\n\n    return words;\n};\n","import {CSSParsedDeclaration} from '../css/index';\nimport {TEXT_TRANSFORM} from '../css/property-descriptors/text-transform';\nimport {parseTextBounds, TextBounds} from '../css/layout/text';\n\nexport class TextContainer {\n    text: string;\n    textBounds: TextBounds[];\n\n    constructor(node: Text, styles: CSSParsedDeclaration) {\n        this.text = transform(node.data, styles.textTransform);\n        this.textBounds = parseTextBounds(this.text, styles, node);\n    }\n}\n\nconst transform = (text: string, transform: TEXT_TRANSFORM) => {\n    switch (transform) {\n        case TEXT_TRANSFORM.LOWERCASE:\n            return text.toLowerCase();\n        case TEXT_TRANSFORM.CAPITALIZE:\n            return text.replace(CAPITALIZE, capitalize);\n        case TEXT_TRANSFORM.UPPERCASE:\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nconst CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nconst capitalize = (m: string, p1: string, p2: string) => {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n\n    return m;\n};\n","import {ElementContainer} from '../element-container';\nimport {CacheStorage} from '../../core/cache-storage';\n\nexport class ImageElementContainer extends ElementContainer {\n    src: string;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(img: HTMLImageElement) {\n        super(img);\n        this.src = img.currentSrc || img.src;\n        this.intrinsicWidth = img.naturalWidth;\n        this.intrinsicHeight = img.naturalHeight;\n        CacheStorage.getInstance().addImage(this.src);\n    }\n}\n","import {ElementContainer} from '../element-container';\n\nexport class CanvasElementContainer extends ElementContainer {\n    canvas: HTMLCanvasElement;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(canvas: HTMLCanvasElement) {\n        super(canvas);\n        this.canvas = canvas;\n        this.intrinsicWidth = canvas.width;\n        this.intrinsicHeight = canvas.height;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {CacheStorage} from '../../core/cache-storage';\n\nexport class SVGElementContainer extends ElementContainer {\n    svg: string;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(img: SVGSVGElement) {\n        super(img);\n        const s = new XMLSerializer();\n        this.svg = `data:image/svg+xml,${encodeURIComponent(s.serializeToString(img))}`;\n        this.intrinsicWidth = img.width.baseVal.value;\n        this.intrinsicHeight = img.height.baseVal.value;\n\n        CacheStorage.getInstance().addImage(this.svg);\n    }\n}\n","import {ElementContainer} from '../element-container';\nexport class LIElementContainer extends ElementContainer {\n    readonly value: number;\n\n    constructor(element: HTMLLIElement) {\n        super(element);\n        this.value = element.value;\n    }\n}\n","import {ElementContainer} from '../element-container';\nexport class OLElementContainer extends ElementContainer {\n    readonly start: number;\n    readonly reversed: boolean;\n\n    constructor(element: HTMLOListElement) {\n        super(element);\n        this.start = element.start;\n        this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {BORDER_STYLE} from '../../css/property-descriptors/border-style';\nimport {BACKGROUND_CLIP} from '../../css/property-descriptors/background-clip';\nimport {BACKGROUND_ORIGIN} from '../../css/property-descriptors/background-origin';\nimport {TokenType} from '../../css/syntax/tokenizer';\nimport {LengthPercentageTuple} from '../../css/types/length-percentage';\nimport {Bounds} from '../../css/layout/bounds';\n\nconst CHECKBOX_BORDER_RADIUS: LengthPercentageTuple = [\n    {\n        type: TokenType.DIMENSION_TOKEN,\n        flags: 0,\n        unit: 'px',\n        number: 3\n    }\n];\n\nconst RADIO_BORDER_RADIUS: LengthPercentageTuple = [\n    {\n        type: TokenType.PERCENTAGE_TOKEN,\n        flags: 0,\n        number: 50\n    }\n];\n\nconst reformatInputBounds = (bounds: Bounds): Bounds => {\n    if (bounds.width > bounds.height) {\n        return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\n    } else if (bounds.width < bounds.height) {\n        return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\n    }\n    return bounds;\n};\n\nconst getInputValue = (node: HTMLInputElement): string => {\n    const value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\n\n    return value.length === 0 ? node.placeholder || '' : value;\n};\n\nexport const CHECKBOX = 'checkbox';\nexport const RADIO = 'radio';\nexport const PASSWORD = 'password';\nexport const INPUT_COLOR = 0x2a2a2aff;\n\nexport class InputElementContainer extends ElementContainer {\n    readonly type: string;\n    readonly checked: boolean;\n    readonly value: string;\n\n    constructor(input: HTMLInputElement) {\n        super(input);\n        this.type = input.type.toLowerCase();\n        this.checked = input.checked;\n        this.value = getInputValue(input);\n\n        if (this.type === CHECKBOX || this.type === RADIO) {\n            this.styles.backgroundColor = 0xdededeff;\n            this.styles.borderTopColor = this.styles.borderRightColor = this.styles.borderBottomColor = this.styles.borderLeftColor = 0xa5a5a5ff;\n            this.styles.borderTopWidth = this.styles.borderRightWidth = this.styles.borderBottomWidth = this.styles.borderLeftWidth = 1;\n            this.styles.borderTopStyle = this.styles.borderRightStyle = this.styles.borderBottomStyle = this.styles.borderLeftStyle =\n                BORDER_STYLE.SOLID;\n            this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\n            this.styles.backgroundOrigin = [BACKGROUND_ORIGIN.BORDER_BOX];\n            this.bounds = reformatInputBounds(this.bounds);\n        }\n\n        switch (this.type) {\n            case CHECKBOX:\n                this.styles.borderTopRightRadius = this.styles.borderTopLeftRadius = this.styles.borderBottomRightRadius = this.styles.borderBottomLeftRadius = CHECKBOX_BORDER_RADIUS;\n                break;\n            case RADIO:\n                this.styles.borderTopRightRadius = this.styles.borderTopLeftRadius = this.styles.borderBottomRightRadius = this.styles.borderBottomLeftRadius = RADIO_BORDER_RADIUS;\n                break;\n        }\n    }\n}\n","import {ElementContainer} from '../element-container';\nexport class SelectElementContainer extends ElementContainer {\n    readonly value: string;\n    constructor(element: HTMLSelectElement) {\n        super(element);\n        const option = element.options[element.selectedIndex || 0];\n        this.value = option ? option.text || '' : '';\n    }\n}\n","import {ElementContainer} from '../element-container';\nexport class TextareaElementContainer extends ElementContainer {\n    readonly value: string;\n    constructor(element: HTMLTextAreaElement) {\n        super(element);\n        this.value = element.value;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {parseTree} from '../node-parser';\nimport {Color, color, COLORS, isTransparent} from '../../css/types/color';\nimport {Parser} from '../../css/syntax/parser';\n\nconst parseColor = (value: string): Color => color.parse(Parser.create(value).parseComponentValue());\n\nexport class IFrameElementContainer extends ElementContainer {\n    src: string;\n    width: number;\n    height: number;\n    tree?: ElementContainer;\n    backgroundColor: Color;\n\n    constructor(iframe: HTMLIFrameElement) {\n        super(iframe);\n        this.src = iframe.src;\n        this.width = parseInt(iframe.width, 10);\n        this.height = parseInt(iframe.height, 10);\n        this.backgroundColor = this.styles.backgroundColor;\n        try {\n            if (\n                iframe.contentWindow &&\n                iframe.contentWindow.document &&\n                iframe.contentWindow.document.documentElement\n            ) {\n                this.tree = parseTree(iframe.contentWindow.document.documentElement);\n\n                // http://www.w3.org/TR/css3-background/#special-backgrounds\n                const documentBackgroundColor = iframe.contentWindow.document.documentElement\n                    ? parseColor(getComputedStyle(iframe.contentWindow.document.documentElement)\n                          .backgroundColor as string)\n                    : COLORS.TRANSPARENT;\n                const bodyBackgroundColor = iframe.contentWindow.document.body\n                    ? parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor as string)\n                    : COLORS.TRANSPARENT;\n\n                this.backgroundColor = isTransparent(documentBackgroundColor)\n                    ? isTransparent(bodyBackgroundColor)\n                        ? this.styles.backgroundColor\n                        : bodyBackgroundColor\n                    : documentBackgroundColor;\n            }\n        } catch (e) {}\n    }\n}\n","import {CSSParsedDeclaration} from '../css/index';\nimport {ElementContainer, FLAGS} from './element-container';\nimport {TextContainer} from './text-container';\nimport {ImageElementContainer} from './replaced-elements/image-element-container';\nimport {CanvasElementContainer} from './replaced-elements/canvas-element-container';\nimport {SVGElementContainer} from './replaced-elements/svg-element-container';\nimport {LIElementContainer} from './elements/li-element-container';\nimport {OLElementContainer} from './elements/ol-element-container';\nimport {InputElementContainer} from './replaced-elements/input-element-container';\nimport {SelectElementContainer} from './elements/select-element-container';\nimport {TextareaElementContainer} from './elements/textarea-element-container';\nimport {IFrameElementContainer} from './replaced-elements/iframe-element-container';\n\nconst LIST_OWNERS = ['OL', 'UL', 'MENU'];\n\nconst parseNodeTree = (node: Node, parent: ElementContainer, root: ElementContainer) => {\n    for (let childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n        nextNode = childNode.nextSibling;\n\n        if (isTextNode(childNode) && childNode.data.trim().length > 0) {\n            parent.textNodes.push(new TextContainer(childNode, parent.styles));\n        } else if (isElementNode(childNode)) {\n            const container = createContainer(childNode);\n            if (container.styles.isVisible()) {\n                if (createsRealStackingContext(childNode, container, root)) {\n                    container.flags |= FLAGS.CREATES_REAL_STACKING_CONTEXT;\n                } else if (createsStackingContext(container.styles)) {\n                    container.flags |= FLAGS.CREATES_STACKING_CONTEXT;\n                }\n\n                if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\n                    container.flags |= FLAGS.IS_LIST_OWNER;\n                }\n\n                parent.elements.push(container);\n                if (!isTextareaElement(childNode) && !isSVGElement(childNode) && !isSelectElement(childNode)) {\n                    parseNodeTree(childNode, container, root);\n                }\n            }\n        }\n    }\n};\n\nconst createContainer = (element: Element): ElementContainer => {\n    if (isImageElement(element)) {\n        return new ImageElementContainer(element);\n    }\n\n    if (isCanvasElement(element)) {\n        return new CanvasElementContainer(element);\n    }\n\n    if (isSVGElement(element)) {\n        return new SVGElementContainer(element);\n    }\n\n    if (isLIElement(element)) {\n        return new LIElementContainer(element);\n    }\n\n    if (isOLElement(element)) {\n        return new OLElementContainer(element);\n    }\n\n    if (isInputElement(element)) {\n        return new InputElementContainer(element);\n    }\n\n    if (isSelectElement(element)) {\n        return new SelectElementContainer(element);\n    }\n\n    if (isTextareaElement(element)) {\n        return new TextareaElementContainer(element);\n    }\n\n    if (isIFrameElement(element)) {\n        return new IFrameElementContainer(element);\n    }\n\n    return new ElementContainer(element);\n};\n\nexport const parseTree = (element: HTMLElement): ElementContainer => {\n    const container = createContainer(element);\n    container.flags |= FLAGS.CREATES_REAL_STACKING_CONTEXT;\n    parseNodeTree(element, container, container);\n    return container;\n};\n\nconst createsRealStackingContext = (node: Element, container: ElementContainer, root: ElementContainer): boolean => {\n    return (\n        container.styles.isPositionedWithZIndex() ||\n        container.styles.opacity < 1 ||\n        container.styles.isTransformed() ||\n        (isBodyElement(node) && root.styles.isTransparent())\n    );\n};\n\nconst createsStackingContext = (styles: CSSParsedDeclaration): boolean => styles.isPositioned() || styles.isFloating();\n\nexport const isTextNode = (node: Node): node is Text => node.nodeType === Node.TEXT_NODE;\nexport const isElementNode = (node: Node): node is Element => node.nodeType === Node.ELEMENT_NODE;\nexport const isHTMLElementNode = (node: Node): node is HTMLElement =>\n    typeof (node as HTMLElement).style !== 'undefined';\n\nexport const isLIElement = (node: Element): node is HTMLLIElement => node.tagName === 'LI';\nexport const isOLElement = (node: Element): node is HTMLOListElement => node.tagName === 'OL';\nexport const isInputElement = (node: Element): node is HTMLInputElement => node.tagName === 'INPUT';\nexport const isHTMLElement = (node: Element): node is HTMLHtmlElement => node.tagName === 'HTML';\nexport const isSVGElement = (node: Element): node is SVGSVGElement => node.tagName === 'svg';\nexport const isBodyElement = (node: Element): node is HTMLBodyElement => node.tagName === 'BODY';\nexport const isCanvasElement = (node: Element): node is HTMLCanvasElement => node.tagName === 'CANVAS';\nexport const isImageElement = (node: Element): node is HTMLImageElement => node.tagName === 'IMG';\nexport const isIFrameElement = (node: Element): node is HTMLIFrameElement => node.tagName === 'IFRAME';\nexport const isStyleElement = (node: Element): node is HTMLStyleElement => node.tagName === 'STYLE';\nexport const isScriptElement = (node: Element): node is HTMLScriptElement => node.tagName === 'SCRIPT';\nexport const isTextareaElement = (node: Element): node is HTMLTextAreaElement => node.tagName === 'TEXTAREA';\nexport const isSelectElement = (node: Element): node is HTMLSelectElement => node.tagName === 'SELECT';\n","import {LIST_STYLE_TYPE} from '../../property-descriptors/list-style-type';\nimport {fromCodePoint} from 'css-line-break';\nimport {contains} from '../../../core/bitwise';\nimport {CSSParsedCounterDeclaration} from '../../index';\n\nexport class CounterState {\n    readonly counters: {[key: string]: number[]};\n    constructor() {\n        this.counters = {};\n    }\n\n    getCounterValue(name: string) {\n        const counter = this.counters[name];\n\n        if (counter && counter.length) {\n            return counter[counter.length - 1];\n        }\n        return 1;\n    }\n\n    getCounterValues(name: string): number[] {\n        const counter = this.counters[name];\n        return counter ? counter : [];\n    }\n\n    pop(counters: string[]) {\n        counters.forEach(counter => this.counters[counter].pop());\n    }\n\n    parse(style: CSSParsedCounterDeclaration): string[] {\n        const counterIncrement = style.counterIncrement;\n        const counterReset = style.counterReset;\n\n        if (counterIncrement !== null) {\n            counterIncrement.forEach(entry => {\n                const counter = this.counters[entry.counter];\n                if (counter) {\n                    counter[Math.max(0, counter.length - 1)] += entry.increment;\n                }\n            });\n        }\n\n        const counterNames: string[] = [];\n        counterReset.forEach(entry => {\n            let counter = this.counters[entry.counter];\n            counterNames.push(entry.counter);\n            if (!counter) {\n                counter = this.counters[entry.counter] = [];\n            }\n            counter.push(entry.reset);\n        });\n\n        return counterNames;\n    }\n}\n\ninterface CounterSymbols {\n    integers: number[];\n    values: string[];\n}\n\nconst ROMAN_UPPER: CounterSymbols = {\n    integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\n    values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\n};\n\nconst ARMENIAN: CounterSymbols = {\n    integers: [\n        9000,\n        8000,\n        7000,\n        6000,\n        5000,\n        4000,\n        3000,\n        2000,\n        1000,\n        900,\n        800,\n        700,\n        600,\n        500,\n        400,\n        300,\n        200,\n        100,\n        90,\n        80,\n        70,\n        60,\n        50,\n        40,\n        30,\n        20,\n        10,\n        9,\n        8,\n        7,\n        6,\n        5,\n        4,\n        3,\n        2,\n        1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst HEBREW: CounterSymbols = {\n    integers: [\n        10000,\n        9000,\n        8000,\n        7000,\n        6000,\n        5000,\n        4000,\n        3000,\n        2000,\n        1000,\n        400,\n        300,\n        200,\n        100,\n        90,\n        80,\n        70,\n        60,\n        50,\n        40,\n        30,\n        20,\n        19,\n        18,\n        17,\n        16,\n        15,\n        10,\n        9,\n        8,\n        7,\n        6,\n        5,\n        4,\n        3,\n        2,\n        1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst GEORGIAN: CounterSymbols = {\n    integers: [\n        10000,\n        9000,\n        8000,\n        7000,\n        6000,\n        5000,\n        4000,\n        3000,\n        2000,\n        1000,\n        900,\n        800,\n        700,\n        600,\n        500,\n        400,\n        300,\n        200,\n        100,\n        90,\n        80,\n        70,\n        60,\n        50,\n        40,\n        30,\n        20,\n        10,\n        9,\n        8,\n        7,\n        6,\n        5,\n        4,\n        3,\n        2,\n        1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst createAdditiveCounter = (\n    value: number,\n    min: number,\n    max: number,\n    symbols: CounterSymbols,\n    fallback: LIST_STYLE_TYPE,\n    suffix: string\n) => {\n    if (value < min || value > max) {\n        return createCounterText(value, fallback, suffix.length > 0);\n    }\n\n    return (\n        symbols.integers.reduce((string, integer, index) => {\n            while (value >= integer) {\n                value -= integer;\n                string += symbols.values[index];\n            }\n            return string;\n        }, '') + suffix\n    );\n};\n\nconst createCounterStyleWithSymbolResolver = (\n    value: number,\n    codePointRangeLength: number,\n    isNumeric: boolean,\n    resolver: (codePoint: number) => string\n): string => {\n    let string = '';\n\n    do {\n        if (!isNumeric) {\n            value--;\n        }\n        string = resolver(value) + string;\n        value /= codePointRangeLength;\n    } while (value * codePointRangeLength >= codePointRangeLength);\n\n    return string;\n};\n\nconst createCounterStyleFromRange = (\n    value: number,\n    codePointRangeStart: number,\n    codePointRangeEnd: number,\n    isNumeric: boolean,\n    suffix: string\n): string => {\n    const codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\n\n    return (\n        (value < 0 ? '-' : '') +\n        (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, codePoint =>\n            fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart)\n        ) +\n            suffix)\n    );\n};\n\nconst createCounterStyleFromSymbols = (value: number, symbols: string, suffix: string = '. '): string => {\n    const codePointRangeLength = symbols.length;\n    return (\n        createCounterStyleWithSymbolResolver(\n            Math.abs(value),\n            codePointRangeLength,\n            false,\n            codePoint => symbols[Math.floor(codePoint % codePointRangeLength)]\n        ) + suffix\n    );\n};\n\nconst CJK_ZEROS = 1 << 0;\nconst CJK_TEN_COEFFICIENTS = 1 << 1;\nconst CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\nconst CJK_HUNDRED_COEFFICIENTS = 1 << 3;\n\nconst createCJKCounter = (\n    value: number,\n    numbers: string,\n    multipliers: string,\n    negativeSign: string,\n    suffix: string,\n    flags: number\n): string => {\n    if (value < -9999 || value > 9999) {\n        return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\n    }\n    let tmp = Math.abs(value);\n    let string = suffix;\n\n    if (tmp === 0) {\n        return numbers[0] + string;\n    }\n\n    for (let digit = 0; tmp > 0 && digit <= 4; digit++) {\n        let coefficient = tmp % 10;\n\n        if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\n            string = numbers[coefficient] + string;\n        } else if (\n            coefficient > 1 ||\n            (coefficient === 1 && digit === 0) ||\n            (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\n            (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\n            (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))\n        ) {\n            string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\n        } else if (coefficient === 1 && digit > 0) {\n            string = multipliers[digit - 1] + string;\n        }\n        tmp = Math.floor(tmp / 10);\n    }\n\n    return (value < 0 ? negativeSign : '') + string;\n};\n\nconst CHINESE_INFORMAL_MULTIPLIERS = '';\nconst CHINESE_FORMAL_MULTIPLIERS = '';\nconst JAPANESE_NEGATIVE = '';\nconst KOREAN_NEGATIVE = '';\n\nexport const createCounterText = (value: number, type: LIST_STYLE_TYPE, appendSuffix: boolean): string => {\n    const defaultSuffix = appendSuffix ? '. ' : '';\n    const cjkSuffix = appendSuffix ? '' : '';\n    const koreanSuffix = appendSuffix ? ', ' : '';\n    const spaceSuffix = appendSuffix ? ' ' : '';\n    switch (type) {\n        case LIST_STYLE_TYPE.DISC:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.CIRCLE:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.SQUARE:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\n            const string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n            return string.length < 4 ? `0${string}` : string;\n        case LIST_STYLE_TYPE.CJK_DECIMAL:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.LOWER_ROMAN:\n            return createAdditiveCounter(\n                value,\n                1,\n                3999,\n                ROMAN_UPPER,\n                LIST_STYLE_TYPE.DECIMAL,\n                defaultSuffix\n            ).toLowerCase();\n        case LIST_STYLE_TYPE.UPPER_ROMAN:\n            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_GREEK:\n            return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_ALPHA:\n            return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\n        case LIST_STYLE_TYPE.UPPER_ALPHA:\n            return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\n        case LIST_STYLE_TYPE.ARABIC_INDIC:\n            return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\n        case LIST_STYLE_TYPE.ARMENIAN:\n        case LIST_STYLE_TYPE.UPPER_ARMENIAN:\n            return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_ARMENIAN:\n            return createAdditiveCounter(\n                value,\n                1,\n                9999,\n                ARMENIAN,\n                LIST_STYLE_TYPE.DECIMAL,\n                defaultSuffix\n            ).toLowerCase();\n        case LIST_STYLE_TYPE.BENGALI:\n            return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\n        case LIST_STYLE_TYPE.CAMBODIAN:\n        case LIST_STYLE_TYPE.KHMER:\n            return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\n        case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\n        case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_INFORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_FORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_INFORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_FORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\n            return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\n        case LIST_STYLE_TYPE.JAPANESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                JAPANESE_NEGATIVE,\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                KOREAN_NEGATIVE,\n                koreanSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\n        case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                KOREAN_NEGATIVE,\n                koreanSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.DEVANAGARI:\n            return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.GEORGIAN:\n            return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.GUJARATI:\n            return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.GURMUKHI:\n            return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.HEBREW:\n            return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.HIRAGANA:\n            return createCounterStyleFromSymbols(\n                value,\n                ''\n            );\n        case LIST_STYLE_TYPE.HIRAGANA_IROHA:\n            return createCounterStyleFromSymbols(\n                value,\n                ''\n            );\n        case LIST_STYLE_TYPE.KANNADA:\n            return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.KATAKANA:\n            return createCounterStyleFromSymbols(\n                value,\n                '',\n                cjkSuffix\n            );\n        case LIST_STYLE_TYPE.KATAKANA_IROHA:\n            return createCounterStyleFromSymbols(\n                value,\n                '',\n                cjkSuffix\n            );\n        case LIST_STYLE_TYPE.LAO:\n            return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\n        case LIST_STYLE_TYPE.MONGOLIAN:\n            return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\n        case LIST_STYLE_TYPE.MYANMAR:\n            return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\n        case LIST_STYLE_TYPE.ORIYA:\n            return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.PERSIAN:\n            return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TAMIL:\n            return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TELUGU:\n            return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.THAI:\n            return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TIBETAN:\n            return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\n        case LIST_STYLE_TYPE.DECIMAL:\n        default:\n            return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n    }\n};\n","import {Bounds} from '../css/layout/bounds';\nimport {\n    isBodyElement,\n    isCanvasElement,\n    isElementNode,\n    isHTMLElementNode,\n    isIFrameElement,\n    isScriptElement,\n    isSelectElement,\n    isStyleElement,\n    isTextareaElement,\n    isTextNode\n} from './node-parser';\nimport {Logger} from '../core/logger';\nimport {isIdentToken, nonFunctionArgSeperator} from '../css/syntax/parser';\nimport {TokenType} from '../css/syntax/tokenizer';\nimport {CounterState, createCounterText} from '../css/types/functions/counter';\nimport {LIST_STYLE_TYPE, listStyleType} from '../css/property-descriptors/list-style-type';\nimport {CSSParsedCounterDeclaration, CSSParsedPseudoDeclaration} from '../css/index';\nimport {getQuote} from '../css/property-descriptors/quotes';\n\nexport interface CloneOptions {\n    id: string;\n    ignoreElements?: (element: Element) => boolean;\n    onclone?: (document: Document) => void;\n}\n\nexport type CloneConfigurations = CloneOptions & {\n    inlineImages: boolean;\n    copyStyles: boolean;\n};\n\nconst IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\n\nexport class DocumentCloner {\n    private readonly scrolledElements: [Element, number, number][];\n    private readonly options: CloneConfigurations;\n    private readonly referenceElement: HTMLElement;\n    clonedReferenceElement?: HTMLElement;\n    private readonly documentElement: HTMLElement;\n    private readonly counters: CounterState;\n    private quoteDepth: number;\n\n    constructor(element: HTMLElement, options: CloneConfigurations) {\n        this.options = options;\n        this.scrolledElements = [];\n        this.referenceElement = element;\n        this.counters = new CounterState();\n        this.quoteDepth = 0;\n        if (!element.ownerDocument) {\n            throw new Error('Cloned element does not have an owner document');\n        }\n\n        this.documentElement = this.cloneNode(element.ownerDocument.documentElement) as HTMLElement;\n    }\n\n    toIFrame(ownerDocument: Document, windowSize: Bounds): Promise<HTMLIFrameElement> {\n        const iframe: HTMLIFrameElement = createIFrameContainer(ownerDocument, windowSize);\n\n        if (!iframe.contentWindow) {\n            return Promise.reject(`Unable to find iframe window`);\n        }\n\n        const scrollX = (ownerDocument.defaultView as Window).pageXOffset;\n        const scrollY = (ownerDocument.defaultView as Window).pageYOffset;\n\n        const cloneWindow = iframe.contentWindow;\n        const documentClone: Document = cloneWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n\n        const iframeLoad = iframeLoader(iframe).then(() => {\n            this.scrolledElements.forEach(restoreNodeScroll);\n            if (cloneWindow) {\n                cloneWindow.scrollTo(windowSize.left, windowSize.top);\n                if (\n                    /(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\n                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)\n                ) {\n                    documentClone.documentElement.style.top = -windowSize.top + 'px';\n                    documentClone.documentElement.style.left = -windowSize.left + 'px';\n                    documentClone.documentElement.style.position = 'absolute';\n                }\n            }\n\n            const onclone = this.options.onclone;\n\n            if (typeof this.clonedReferenceElement === 'undefined') {\n                return Promise.reject(`Error finding the ${this.referenceElement.nodeName} in the cloned document`);\n            }\n\n            if (typeof onclone === 'function') {\n                return Promise.resolve()\n                    .then(() => onclone(documentClone))\n                    .then(() => iframe);\n            }\n\n            return iframe;\n        });\n\n        documentClone.open();\n        documentClone.write(`${serializeDoctype(document.doctype)}<html></html>`);\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\n        documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\n        documentClone.close();\n\n        return iframeLoad;\n    }\n\n    createElementClone(node: HTMLElement): HTMLElement {\n        if (isCanvasElement(node)) {\n            return this.createCanvasClone(node);\n        }\n        /*\n        if (isIFrameElement(node)) {\n            return this.createIFrameClone(node);\n        }\n*/\n        if (isStyleElement(node)) {\n            return this.createStyleClone(node);\n        }\n\n        return node.cloneNode(false) as HTMLElement;\n    }\n\n    createStyleClone(node: HTMLStyleElement): HTMLStyleElement {\n        try {\n            const sheet = node.sheet as CSSStyleSheet | undefined;\n            if (sheet && sheet.cssRules) {\n                const css: string = [].slice.call(sheet.cssRules, 0).reduce((css: string, rule: CSSRule) => {\n                    if (rule && typeof rule.cssText === 'string') {\n                        return css + rule.cssText;\n                    }\n                    return css;\n                }, '');\n                const style = node.cloneNode(false) as HTMLStyleElement;\n                style.textContent = css;\n                return style;\n            }\n        } catch (e) {\n            // accessing node.sheet.cssRules throws a DOMException\n            Logger.getInstance(this.options.id).error('Unable to access cssRules property', e);\n            if (e.name !== 'SecurityError') {\n                throw e;\n            }\n        }\n        return node.cloneNode(false) as HTMLStyleElement;\n    }\n\n    createCanvasClone(canvas: HTMLCanvasElement): HTMLImageElement | HTMLCanvasElement {\n        if (this.options.inlineImages && canvas.ownerDocument) {\n            const img = canvas.ownerDocument.createElement('img');\n            try {\n                img.src = canvas.toDataURL();\n                return img;\n            } catch (e) {\n                Logger.getInstance(this.options.id).info(`Unable to clone canvas contents, canvas is tainted`);\n            }\n        }\n\n        const clonedCanvas = canvas.cloneNode(false) as HTMLCanvasElement;\n\n        try {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            const ctx = canvas.getContext('2d');\n            const clonedCtx = clonedCanvas.getContext('2d');\n            if (clonedCtx) {\n                if (ctx) {\n                    clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n                } else {\n                    clonedCtx.drawImage(canvas, 0, 0);\n                }\n            }\n            return clonedCanvas;\n        } catch (e) {}\n\n        return clonedCanvas;\n    }\n    /*\n    createIFrameClone(iframe: HTMLIFrameElement) {\n        const tempIframe = <HTMLIFrameElement>iframe.cloneNode(false);\n        const iframeKey = generateIframeKey();\n        tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\n\n        const {width, height} = parseBounds(iframe);\n\n        this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(iframe, this.options)\n            .then(documentElement => {\n                return this.renderer(\n                    documentElement,\n                    {\n                        allowTaint: this.options.allowTaint,\n                        backgroundColor: '#ffffff',\n                        canvas: null,\n                        imageTimeout: this.options.imageTimeout,\n                        logging: this.options.logging,\n                        proxy: this.options.proxy,\n                        removeContainer: this.options.removeContainer,\n                        scale: this.options.scale,\n                        foreignObjectRendering: this.options.foreignObjectRendering,\n                        useCORS: this.options.useCORS,\n                        target: new CanvasRenderer(),\n                        width,\n                        height,\n                        x: 0,\n                        y: 0,\n                        windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\n                        windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\n                        scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\n                        scrollY: documentElement.ownerDocument.defaultView.pageYOffset\n                    },\n                );\n            })\n            .then(\n                (canvas: HTMLCanvasElement) =>\n                    new Promise((resolve, reject) => {\n                        const iframeCanvas = document.createElement('img');\n                        iframeCanvas.onload = () => resolve(canvas);\n                        iframeCanvas.onerror = (event) => {\n                            // Empty iframes may result in empty \"data:,\" URLs, which are invalid from the <img>'s point of view\n                            // and instead of `onload` cause `onerror` and unhandled rejection warnings\n                            // https://github.com/niklasvh/html2canvas/issues/1502\n                            iframeCanvas.src == 'data:,' ? resolve(canvas) : reject(event);\n                        };\n                        iframeCanvas.src = canvas.toDataURL();\n                        if (tempIframe.parentNode && iframe.ownerDocument && iframe.ownerDocument.defaultView) {\n                            tempIframe.parentNode.replaceChild(\n                                copyCSSStyles(\n                                    iframe.ownerDocument.defaultView.getComputedStyle(iframe),\n                                    iframeCanvas\n                                ),\n                                tempIframe\n                            );\n                        }\n                    })\n            );\n        return tempIframe;\n    }\n*/\n    cloneNode(node: Node): Node {\n        if (isTextNode(node)) {\n            return document.createTextNode(node.data);\n        }\n\n        if (!node.ownerDocument) {\n            return node.cloneNode(false);\n        }\n\n        const window = node.ownerDocument.defaultView;\n\n        if (isHTMLElementNode(node) && window) {\n            const clone = this.createElementClone(node);\n\n            const style = window.getComputedStyle(node);\n            const styleBefore = window.getComputedStyle(node, ':before');\n            const styleAfter = window.getComputedStyle(node, ':after');\n\n            if (this.referenceElement === node) {\n                this.clonedReferenceElement = clone;\n            }\n            if (isBodyElement(clone)) {\n                createPseudoHideStyles(clone);\n            }\n\n            const counters = this.counters.parse(new CSSParsedCounterDeclaration(style));\n            const before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\n\n            for (let child = node.firstChild; child; child = child.nextSibling) {\n                if (\n                    !isElementNode(child) ||\n                    (!isScriptElement(child) &&\n                        !child.hasAttribute(IGNORE_ATTRIBUTE) &&\n                        (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))\n                ) {\n                    if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\n                        clone.appendChild(this.cloneNode(child));\n                    }\n                }\n            }\n\n            if (before) {\n                clone.insertBefore(before, clone.firstChild);\n            }\n\n            const after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\n            if (after) {\n                clone.appendChild(after);\n            }\n\n            this.counters.pop(counters);\n\n            if (style && this.options.copyStyles && !isIFrameElement(node)) {\n                copyCSSStyles(style, clone);\n            }\n\n            //this.inlineAllImages(clone);\n\n            if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n                this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\n            }\n\n            if (\n                (isTextareaElement(node) || isSelectElement(node)) &&\n                (isTextareaElement(clone) || isSelectElement(clone))\n            ) {\n                clone.value = node.value;\n            }\n\n            return clone;\n        }\n\n        return node.cloneNode(false);\n    }\n\n    resolvePseudoContent(\n        node: Element,\n        clone: Element,\n        style: CSSStyleDeclaration,\n        pseudoElt: PseudoElementType\n    ): HTMLElement | void {\n        if (!style) {\n            return;\n        }\n\n        const value = style.content;\n        const document = clone.ownerDocument;\n        if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\n            return;\n        }\n\n        this.counters.parse(new CSSParsedCounterDeclaration(style));\n        const declaration = new CSSParsedPseudoDeclaration(style);\n\n        const anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\n        copyCSSStyles(style, anonymousReplacedElement);\n\n        declaration.content.forEach(token => {\n            if (token.type === TokenType.STRING_TOKEN) {\n                anonymousReplacedElement.appendChild(document.createTextNode(token.value));\n            } else if (token.type === TokenType.URL_TOKEN) {\n                const img = document.createElement('img');\n                img.src = token.value;\n                img.style.opacity = '1';\n                anonymousReplacedElement.appendChild(img);\n            } else if (token.type === TokenType.FUNCTION) {\n                if (token.name === 'attr') {\n                    const attr = token.values.filter(isIdentToken);\n                    if (attr.length) {\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(node.getAttribute(attr[0].value) || '')\n                        );\n                    }\n                } else if (token.name === 'counter') {\n                    const [counter, counterStyle] = token.values.filter(nonFunctionArgSeperator);\n                    if (counter && isIdentToken(counter)) {\n                        const counterState = this.counters.getCounterValue(counter.value);\n                        const counterType =\n                            counterStyle && isIdentToken(counterStyle)\n                                ? listStyleType.parse(counterStyle.value)\n                                : LIST_STYLE_TYPE.DECIMAL;\n\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(createCounterText(counterState, counterType, false))\n                        );\n                    }\n                } else if (token.name === 'counters') {\n                    const [counter, delim, counterStyle] = token.values.filter(nonFunctionArgSeperator);\n                    if (counter && isIdentToken(counter)) {\n                        const counterStates = this.counters.getCounterValues(counter.value);\n                        const counterType =\n                            counterStyle && isIdentToken(counterStyle)\n                                ? listStyleType.parse(counterStyle.value)\n                                : LIST_STYLE_TYPE.DECIMAL;\n                        const separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\n                        const text = counterStates\n                            .map(value => createCounterText(value, counterType, false))\n                            .join(separator);\n\n                        anonymousReplacedElement.appendChild(document.createTextNode(text));\n                    }\n                } else {\n                    //   console.log('FUNCTION_TOKEN', token);\n                }\n            } else if (token.type === TokenType.IDENT_TOKEN) {\n                switch (token.value) {\n                    case 'open-quote':\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(getQuote(declaration.quotes, this.quoteDepth++, true))\n                        );\n                        break;\n                    case 'close-quote':\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(getQuote(declaration.quotes, --this.quoteDepth, false))\n                        );\n                        break;\n                    default:\n                    //    console.log('ident', token, declaration);\n                }\n            }\n        });\n\n        anonymousReplacedElement.className = `${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE} ${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}`;\n        clone.className +=\n            pseudoElt === PseudoElementType.BEFORE\n                ? ` ${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE}`\n                : ` ${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}`;\n        return anonymousReplacedElement;\n    }\n}\n\nenum PseudoElementType {\n    BEFORE,\n    AFTER\n}\n\nconst createIFrameContainer = (ownerDocument: Document, bounds: Bounds): HTMLIFrameElement => {\n    const cloneIframeContainer = ownerDocument.createElement('iframe');\n\n    cloneIframeContainer.className = 'html2canvas-container';\n    cloneIframeContainer.style.visibility = 'hidden';\n    cloneIframeContainer.style.position = 'fixed';\n    cloneIframeContainer.style.left = '-10000px';\n    cloneIframeContainer.style.top = '0px';\n    cloneIframeContainer.style.border = '0';\n    cloneIframeContainer.width = bounds.width.toString();\n    cloneIframeContainer.height = bounds.height.toString();\n    cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\n    cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\n    ownerDocument.body.appendChild(cloneIframeContainer);\n\n    return cloneIframeContainer;\n};\n\nconst iframeLoader = (iframe: HTMLIFrameElement): Promise<HTMLIFrameElement> => {\n    return new Promise((resolve, reject) => {\n        const cloneWindow = iframe.contentWindow;\n\n        if (!cloneWindow) {\n            return reject(`No window assigned for iframe`);\n        }\n\n        const documentClone = cloneWindow.document;\n\n        cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = () => {\n            cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = null;\n            const interval = setInterval(() => {\n                if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\n                    clearInterval(interval);\n                    resolve(iframe);\n                }\n            }, 50);\n        };\n    });\n};\n\nexport const copyCSSStyles = (style: CSSStyleDeclaration, target: HTMLElement): HTMLElement => {\n    // Edge does not provide value for cssText\n    for (let i = style.length - 1; i >= 0; i--) {\n        const property = style.item(i);\n        // Safari shows pseudoelements if content is set\n        if (property !== 'content') {\n            target.style.setProperty(property, style.getPropertyValue(property));\n        }\n    }\n    return target;\n};\n\nconst serializeDoctype = (doctype?: DocumentType | null): string => {\n    let str = '';\n    if (doctype) {\n        str += '<!DOCTYPE ';\n        if (doctype.name) {\n            str += doctype.name;\n        }\n\n        if (doctype.internalSubset) {\n            str += doctype.internalSubset;\n        }\n\n        if (doctype.publicId) {\n            str += `\"${doctype.publicId}\"`;\n        }\n\n        if (doctype.systemId) {\n            str += `\"${doctype.systemId}\"`;\n        }\n\n        str += '>';\n    }\n\n    return str;\n};\n\nconst restoreOwnerScroll = (ownerDocument: Document | null, x: number, y: number) => {\n    if (\n        ownerDocument &&\n        ownerDocument.defaultView &&\n        (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)\n    ) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n};\n\nconst restoreNodeScroll = ([element, x, y]: [HTMLElement, number, number]) => {\n    element.scrollLeft = x;\n    element.scrollTop = y;\n};\n\nconst PSEUDO_BEFORE = ':before';\nconst PSEUDO_AFTER = ':after';\nconst PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\nconst PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\n\nconst PSEUDO_HIDE_ELEMENT_STYLE = `{\n    content: \"\" !important;\n    display: none !important;\n}`;\n\nconst createPseudoHideStyles = (body: HTMLElement) => {\n    createStyles(\n        body,\n        `.${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE}${PSEUDO_BEFORE}${PSEUDO_HIDE_ELEMENT_STYLE}\n         .${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}${PSEUDO_AFTER}${PSEUDO_HIDE_ELEMENT_STYLE}`\n    );\n};\n\nconst createStyles = (body: HTMLElement, styles: string) => {\n    const document = body.ownerDocument;\n    if (document) {\n        const style = document.createElement('style');\n        style.textContent = styles;\n        body.appendChild(style);\n    }\n};\n","import {BezierCurve} from './bezier-curve';\nimport {Vector} from './vector';\nexport enum PathType {\n    VECTOR = 0,\n    BEZIER_CURVE = 1\n}\n\nexport interface IPath {\n    type: PathType;\n    add(deltaX: number, deltaY: number): IPath;\n}\n\nexport const equalPath = (a: Path[], b: Path[]): boolean => {\n    if (a.length === b.length) {\n        return a.some((v, i) => v === b[i]);\n    }\n\n    return false;\n};\n\nexport const transformPath = (path: Path[], deltaX: number, deltaY: number, deltaW: number, deltaH: number): Path[] => {\n    return path.map((point, index) => {\n        switch (index) {\n            case 0:\n                return point.add(deltaX, deltaY);\n            case 1:\n                return point.add(deltaX + deltaW, deltaY);\n            case 2:\n                return point.add(deltaX + deltaW, deltaY + deltaH);\n            case 3:\n                return point.add(deltaX, deltaY + deltaH);\n        }\n        return point;\n    });\n};\n\nexport type Path = Vector | BezierCurve;\n","import {IPath, Path, PathType} from './path';\n\nexport class Vector implements IPath {\n    type: PathType;\n    x: number;\n    y: number;\n\n    constructor(x: number, y: number) {\n        this.type = PathType.VECTOR;\n        this.x = x;\n        this.y = y;\n    }\n\n    add(deltaX: number, deltaY: number): Vector {\n        return new Vector(this.x + deltaX, this.y + deltaY);\n    }\n}\n\nexport const isVector = (path: Path): path is Vector => path.type === PathType.VECTOR;\n","import {Vector} from './vector';\nimport {IPath, PathType, Path} from './path';\n\nconst lerp = (a: Vector, b: Vector, t: number): Vector => {\n    return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nexport class BezierCurve implements IPath {\n    type: PathType;\n    start: Vector;\n    startControl: Vector;\n    endControl: Vector;\n    end: Vector;\n\n    constructor(start: Vector, startControl: Vector, endControl: Vector, end: Vector) {\n        this.type = PathType.BEZIER_CURVE;\n        this.start = start;\n        this.startControl = startControl;\n        this.endControl = endControl;\n        this.end = end;\n    }\n\n    subdivide(t: number, firstHalf: boolean): BezierCurve {\n        const ab = lerp(this.start, this.startControl, t);\n        const bc = lerp(this.startControl, this.endControl, t);\n        const cd = lerp(this.endControl, this.end, t);\n        const abbc = lerp(ab, bc, t);\n        const bccd = lerp(bc, cd, t);\n        const dest = lerp(abbc, bccd, t);\n        return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n    }\n\n    add(deltaX: number, deltaY: number): BezierCurve {\n        return new BezierCurve(\n            this.start.add(deltaX, deltaY),\n            this.startControl.add(deltaX, deltaY),\n            this.endControl.add(deltaX, deltaY),\n            this.end.add(deltaX, deltaY)\n        );\n    }\n\n    reverse(): BezierCurve {\n        return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n    }\n}\n\nexport const isBezierCurve = (path: Path): path is BezierCurve => path.type === PathType.BEZIER_CURVE;\n","import {ElementContainer} from '../dom/element-container';\nimport {getAbsoluteValue, getAbsoluteValueForTuple} from '../css/types/length-percentage';\nimport {Vector} from './vector';\nimport {BezierCurve} from './bezier-curve';\nimport {Path} from './path';\n\nexport class BoundCurves {\n    readonly topLeftBorderBox: Path;\n    readonly topRightBorderBox: Path;\n    readonly bottomRightBorderBox: Path;\n    readonly bottomLeftBorderBox: Path;\n    readonly topLeftPaddingBox: Path;\n    readonly topRightPaddingBox: Path;\n    readonly bottomRightPaddingBox: Path;\n    readonly bottomLeftPaddingBox: Path;\n    readonly topLeftContentBox: Path;\n    readonly topRightContentBox: Path;\n    readonly bottomRightContentBox: Path;\n    readonly bottomLeftContentBox: Path;\n\n    constructor(element: ElementContainer) {\n        const styles = element.styles;\n        const bounds = element.bounds;\n\n        let [tlh, tlv] = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height);\n        let [trh, trv] = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height);\n        let [brh, brv] = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height);\n        let [blh, blv] = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height);\n\n        const factors = [];\n        factors.push((tlh + trh) / bounds.width);\n        factors.push((blh + brh) / bounds.width);\n        factors.push((tlv + blv) / bounds.height);\n        factors.push((trv + brv) / bounds.height);\n        const maxFactor = Math.max(...factors);\n\n        if (maxFactor > 1) {\n            tlh /= maxFactor;\n            tlv /= maxFactor;\n            trh /= maxFactor;\n            trv /= maxFactor;\n            brh /= maxFactor;\n            brv /= maxFactor;\n            blh /= maxFactor;\n            blv /= maxFactor;\n        }\n\n        const topWidth = bounds.width - trh;\n        const rightHeight = bounds.height - brv;\n        const bottomWidth = bounds.width - brh;\n        const leftHeight = bounds.height - blv;\n\n        const borderTopWidth = styles.borderTopWidth;\n        const borderRightWidth = styles.borderRightWidth;\n        const borderBottomWidth = styles.borderBottomWidth;\n        const borderLeftWidth = styles.borderLeftWidth;\n\n        const paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\n        const paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\n        const paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\n        const paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\n\n        this.topLeftBorderBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\n                : new Vector(bounds.left, bounds.top);\n        this.topRightBorderBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\n                : new Vector(bounds.left + bounds.width, bounds.top);\n        this.bottomRightBorderBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\n                : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\n        this.bottomLeftBorderBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\n                : new Vector(bounds.left, bounds.top + bounds.height);\n        this.topLeftPaddingBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth,\n                      bounds.top + borderTopWidth,\n                      Math.max(0, tlh - borderLeftWidth),\n                      Math.max(0, tlv - borderTopWidth),\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\n        this.topRightPaddingBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth),\n                      bounds.top + borderTopWidth,\n                      topWidth > bounds.width + borderLeftWidth ? 0 : trh - borderLeftWidth,\n                      trv - borderTopWidth,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\n        this.bottomRightPaddingBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth),\n                      bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth),\n                      Math.max(0, brh - borderRightWidth),\n                      brv - borderBottomWidth,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth,\n                      bounds.top + bounds.height - borderBottomWidth\n                  );\n        this.bottomLeftPaddingBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth,\n                      bounds.top + leftHeight,\n                      Math.max(0, blh - borderLeftWidth),\n                      blv - borderBottomWidth,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\n        this.topLeftContentBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + borderTopWidth + paddingTop,\n                      Math.max(0, tlh - (borderLeftWidth + paddingLeft)),\n                      Math.max(0, tlv - (borderTopWidth + paddingTop)),\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\n        this.topRightContentBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft),\n                      bounds.top + borderTopWidth + paddingTop,\n                      topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft,\n                      trv - (borderTopWidth + paddingTop),\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth + paddingRight),\n                      bounds.top + borderTopWidth + paddingTop\n                  );\n        this.bottomRightContentBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)),\n                      bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop),\n                      Math.max(0, brh - (borderRightWidth + paddingRight)),\n                      brv - (borderBottomWidth + paddingBottom),\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth + paddingRight),\n                      bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n                  );\n        this.bottomLeftContentBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + leftHeight,\n                      Math.max(0, blh - (borderLeftWidth + paddingLeft)),\n                      blv - (borderBottomWidth + paddingBottom),\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n                  );\n    }\n}\n\nenum CORNER {\n    TOP_LEFT = 0,\n    TOP_RIGHT = 1,\n    BOTTOM_RIGHT = 2,\n    BOTTOM_LEFT = 3\n}\n\nconst getCurvePoints = (x: number, y: number, r1: number, r2: number, position: CORNER): BezierCurve => {\n    const kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    const ox = r1 * kappa; // control point offset horizontal\n    const oy = r2 * kappa; // control point offset vertical\n    const xm = x + r1; // x-middle\n    const ym = y + r2; // y-middle\n\n    switch (position) {\n        case CORNER.TOP_LEFT:\n            return new BezierCurve(\n                new Vector(x, ym),\n                new Vector(x, ym - oy),\n                new Vector(xm - ox, y),\n                new Vector(xm, y)\n            );\n        case CORNER.TOP_RIGHT:\n            return new BezierCurve(\n                new Vector(x, y),\n                new Vector(x + ox, y),\n                new Vector(xm, ym - oy),\n                new Vector(xm, ym)\n            );\n        case CORNER.BOTTOM_RIGHT:\n            return new BezierCurve(\n                new Vector(xm, y),\n                new Vector(xm, y + oy),\n                new Vector(x + ox, ym),\n                new Vector(x, ym)\n            );\n        case CORNER.BOTTOM_LEFT:\n        default:\n            return new BezierCurve(\n                new Vector(xm, ym),\n                new Vector(xm - ox, ym),\n                new Vector(x, y + oy),\n                new Vector(x, y)\n            );\n    }\n};\n\nexport const calculateBorderBoxPath = (curves: BoundCurves): Path[] => {\n    return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\n};\n\nexport const calculateContentBoxPath = (curves: BoundCurves): Path[] => {\n    return [\n        curves.topLeftContentBox,\n        curves.topRightContentBox,\n        curves.bottomRightContentBox,\n        curves.bottomLeftContentBox\n    ];\n};\n\nexport const calculatePaddingBoxPath = (curves: BoundCurves): Path[] => {\n    return [\n        curves.topLeftPaddingBox,\n        curves.topRightPaddingBox,\n        curves.bottomRightPaddingBox,\n        curves.bottomLeftPaddingBox\n    ];\n};\n","import {Matrix} from '../css/property-descriptors/transform';\nimport {Path} from './path';\n\nexport const enum EffectType {\n    TRANSFORM = 0,\n    CLIP = 1\n}\n\nexport const enum EffectTarget {\n    BACKGROUND_BORDERS = 1 << 1,\n    CONTENT = 1 << 2\n}\n\nexport interface IElementEffect {\n    readonly type: EffectType;\n    readonly target: number;\n}\n\nexport class TransformEffect implements IElementEffect {\n    readonly type: EffectType;\n    readonly target: number;\n    readonly offsetX: number;\n    readonly offsetY: number;\n    readonly matrix: Matrix;\n\n    constructor(offsetX: number, offsetY: number, matrix: Matrix) {\n        this.type = EffectType.TRANSFORM;\n        this.offsetX = offsetX;\n        this.offsetY = offsetY;\n        this.matrix = matrix;\n        this.target = EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT;\n    }\n}\n\nexport class ClipEffect implements IElementEffect {\n    readonly type: EffectType;\n    readonly target: number;\n    readonly path: Path[];\n\n    constructor(path: Path[], target: EffectTarget) {\n        this.type = EffectType.CLIP;\n        this.target = target;\n        this.path = path;\n    }\n}\n\nexport const isTransformEffect = (effect: IElementEffect): effect is TransformEffect =>\n    effect.type === EffectType.TRANSFORM;\nexport const isClipEffect = (effect: IElementEffect): effect is ClipEffect => effect.type === EffectType.CLIP;\n","import {ElementContainer, FLAGS} from '../dom/element-container';\nimport {contains} from '../core/bitwise';\nimport {BoundCurves, calculateBorderBoxPath, calculatePaddingBoxPath} from './bound-curves';\nimport {ClipEffect, EffectTarget, IElementEffect, TransformEffect} from './effects';\nimport {OVERFLOW} from '../css/property-descriptors/overflow';\nimport {equalPath} from './path';\nimport {DISPLAY} from '../css/property-descriptors/display';\nimport {OLElementContainer} from '../dom/elements/ol-element-container';\nimport {LIElementContainer} from '../dom/elements/li-element-container';\nimport {createCounterText} from '../css/types/functions/counter';\n\nexport class StackingContext {\n    element: ElementPaint;\n    negativeZIndex: StackingContext[];\n    zeroOrAutoZIndexOrTransformedOrOpacity: StackingContext[];\n    positiveZIndex: StackingContext[];\n    nonPositionedFloats: StackingContext[];\n    nonPositionedInlineLevel: StackingContext[];\n    inlineLevel: ElementPaint[];\n    nonInlineLevel: ElementPaint[];\n\n    constructor(container: ElementPaint) {\n        this.element = container;\n        this.inlineLevel = [];\n        this.nonInlineLevel = [];\n        this.negativeZIndex = [];\n        this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\n        this.positiveZIndex = [];\n        this.nonPositionedFloats = [];\n        this.nonPositionedInlineLevel = [];\n    }\n}\n\nexport class ElementPaint {\n    container: ElementContainer;\n    effects: IElementEffect[];\n    curves: BoundCurves;\n    listValue?: string;\n\n    constructor(element: ElementContainer, parentStack: IElementEffect[]) {\n        this.container = element;\n        this.effects = parentStack.slice(0);\n        this.curves = new BoundCurves(element);\n        if (element.styles.transform !== null) {\n            const offsetX = element.bounds.left + element.styles.transformOrigin[0].number;\n            const offsetY = element.bounds.top + element.styles.transformOrigin[1].number;\n            const matrix = element.styles.transform;\n            this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\n        }\n\n        if (element.styles.overflowX !== OVERFLOW.VISIBLE) {\n            const borderBox = calculateBorderBoxPath(this.curves);\n            const paddingBox = calculatePaddingBoxPath(this.curves);\n\n            if (equalPath(borderBox, paddingBox)) {\n                this.effects.push(new ClipEffect(borderBox, EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT));\n            } else {\n                this.effects.push(new ClipEffect(borderBox, EffectTarget.BACKGROUND_BORDERS));\n                this.effects.push(new ClipEffect(paddingBox, EffectTarget.CONTENT));\n            }\n        }\n    }\n\n    getParentEffects(): IElementEffect[] {\n        const effects = this.effects.slice(0);\n        if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\n            const borderBox = calculateBorderBoxPath(this.curves);\n            const paddingBox = calculatePaddingBoxPath(this.curves);\n            if (!equalPath(borderBox, paddingBox)) {\n                effects.push(new ClipEffect(paddingBox, EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT));\n            }\n        }\n        return effects;\n    }\n}\n\nconst parseStackTree = (\n    parent: ElementPaint,\n    stackingContext: StackingContext,\n    realStackingContext: StackingContext,\n    listItems: ElementPaint[]\n) => {\n    parent.container.elements.forEach(child => {\n        const treatAsRealStackingContext = contains(child.flags, FLAGS.CREATES_REAL_STACKING_CONTEXT);\n        const createsStackingContext = contains(child.flags, FLAGS.CREATES_STACKING_CONTEXT);\n        const paintContainer = new ElementPaint(child, parent.getParentEffects());\n        if (contains(child.styles.display, DISPLAY.LIST_ITEM)) {\n            listItems.push(paintContainer);\n        }\n\n        const listOwnerItems = contains(child.flags, FLAGS.IS_LIST_OWNER) ? [] : listItems;\n\n        if (treatAsRealStackingContext || createsStackingContext) {\n            const parentStack =\n                treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\n\n            const stack = new StackingContext(paintContainer);\n\n            if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\n                const order = child.styles.zIndex.order;\n                if (order < 0) {\n                    let index = 0;\n\n                    parentStack.negativeZIndex.some((current, i) => {\n                        if (order > current.element.container.styles.zIndex.order) {\n                            index = i;\n                            return true;\n                        }\n                        return false;\n                    });\n                    parentStack.negativeZIndex.splice(index, 0, stack);\n                } else if (order > 0) {\n                    let index = 0;\n                    parentStack.positiveZIndex.some((current, i) => {\n                        if (order > current.element.container.styles.zIndex.order) {\n                            index = i + 1;\n                            return true;\n                        }\n\n                        return false;\n                    });\n                    parentStack.positiveZIndex.splice(index, 0, stack);\n                } else {\n                    parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\n                }\n            } else {\n                if (child.styles.isFloating()) {\n                    parentStack.nonPositionedFloats.push(stack);\n                } else {\n                    parentStack.nonPositionedInlineLevel.push(stack);\n                }\n            }\n\n            parseStackTree(\n                paintContainer,\n                stack,\n                treatAsRealStackingContext ? stack : realStackingContext,\n                listOwnerItems\n            );\n        } else {\n            if (child.styles.isInlineLevel()) {\n                stackingContext.inlineLevel.push(paintContainer);\n            } else {\n                stackingContext.nonInlineLevel.push(paintContainer);\n            }\n\n            parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\n        }\n\n        if (contains(child.flags, FLAGS.IS_LIST_OWNER)) {\n            processListItems(child, listOwnerItems);\n        }\n    });\n};\n\nconst processListItems = (owner: ElementContainer, elements: ElementPaint[]) => {\n    let numbering = owner instanceof OLElementContainer ? owner.start : 1;\n    const reversed = owner instanceof OLElementContainer ? owner.reversed : false;\n    for (let i = 0; i < elements.length; i++) {\n        const item = elements[i];\n        if (\n            item.container instanceof LIElementContainer &&\n            typeof item.container.value === 'number' &&\n            item.container.value !== 0\n        ) {\n            numbering = item.container.value;\n        }\n\n        item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\n\n        numbering += reversed ? -1 : 1;\n    }\n};\n\nexport const parseStackingContexts = (container: ElementContainer): StackingContext => {\n    const paintContainer = new ElementPaint(container, []);\n    const root = new StackingContext(paintContainer);\n    const listItems: ElementPaint[] = [];\n    parseStackTree(paintContainer, root, root, listItems);\n    processListItems(paintContainer.container, listItems);\n    return root;\n};\n","import {Path} from './path';\nimport {BoundCurves} from './bound-curves';\nimport {isBezierCurve} from './bezier-curve';\n\nexport const parsePathForBorder = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderBox,\n                curves.topLeftPaddingBox,\n                curves.topRightBorderBox,\n                curves.topRightPaddingBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderBox,\n                curves.topRightPaddingBox,\n                curves.bottomRightBorderBox,\n                curves.bottomRightPaddingBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderBox,\n                curves.bottomRightPaddingBox,\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftPaddingBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftPaddingBox,\n                curves.topLeftBorderBox,\n                curves.topLeftPaddingBox\n            );\n    }\n};\n\nconst createPathFromCurves = (outer1: Path, inner1: Path, outer2: Path, inner2: Path): Path[] => {\n    const path = [];\n    if (isBezierCurve(outer1)) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (isBezierCurve(outer2)) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    if (isBezierCurve(inner2)) {\n        path.push(inner2.subdivide(0.5, true).reverse());\n    } else {\n        path.push(inner2);\n    }\n\n    if (isBezierCurve(inner1)) {\n        path.push(inner1.subdivide(0.5, false).reverse());\n    } else {\n        path.push(inner1);\n    }\n\n    return path;\n};\n","import {getAbsoluteValue} from '../css/types/length-percentage';\nimport {Bounds} from '../css/layout/bounds';\nimport {ElementContainer} from '../dom/element-container';\n\nexport const paddingBox = (element: ElementContainer): Bounds => {\n    const bounds = element.bounds;\n    const styles = element.styles;\n    return bounds.add(\n        styles.borderLeftWidth,\n        styles.borderTopWidth,\n        -(styles.borderRightWidth + styles.borderLeftWidth),\n        -(styles.borderTopWidth + styles.borderBottomWidth)\n    );\n};\n\nexport const contentBox = (element: ElementContainer): Bounds => {\n    const styles = element.styles;\n    const bounds = element.bounds;\n\n    const paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\n    const paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\n    const paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\n    const paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\n\n    return bounds.add(\n        paddingLeft + styles.borderLeftWidth,\n        paddingTop + styles.borderTopWidth,\n        -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight),\n        -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom)\n    );\n};\n","import {Bounds} from '../css/layout/bounds';\nimport {BACKGROUND_ORIGIN} from '../css/property-descriptors/background-origin';\nimport {ElementContainer} from '../dom/element-container';\nimport {BACKGROUND_SIZE, BackgroundSizeInfo} from '../css/property-descriptors/background-size';\nimport {Vector} from './vector';\nimport {BACKGROUND_REPEAT} from '../css/property-descriptors/background-repeat';\nimport {getAbsoluteValue, getAbsoluteValueForTuple, isLengthPercentage} from '../css/types/length-percentage';\nimport {CSSValue, isIdentToken} from '../css/syntax/parser';\nimport {contentBox, paddingBox} from './box-sizing';\nimport {Path} from './path';\nimport {BACKGROUND_CLIP} from '../css/property-descriptors/background-clip';\n\nexport const calculateBackgroundPositioningArea = (\n    backgroundOrigin: BACKGROUND_ORIGIN,\n    element: ElementContainer\n): Bounds => {\n    if (backgroundOrigin === BACKGROUND_ORIGIN.BORDER_BOX) {\n        return element.bounds;\n    }\n\n    if (backgroundOrigin === BACKGROUND_ORIGIN.CONTENT_BOX) {\n        return contentBox(element);\n    }\n\n    return paddingBox(element);\n};\n\nexport const calculateBackgroundPaintingArea = (backgroundClip: BACKGROUND_CLIP, element: ElementContainer): Bounds => {\n    if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\n        return element.bounds;\n    }\n\n    if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\n        return contentBox(element);\n    }\n\n    return paddingBox(element);\n};\n\nexport const calculateBackgroundRendering = (\n    container: ElementContainer,\n    index: number,\n    intrinsicSize: [number | null, number | null, number | null]\n): [Path[], number, number, number, number] => {\n    const backgroundPositioningArea = calculateBackgroundPositioningArea(\n        getBackgroundValueForIndex(container.styles.backgroundOrigin, index),\n        container\n    );\n\n    const backgroundPaintingArea = calculateBackgroundPaintingArea(\n        getBackgroundValueForIndex(container.styles.backgroundClip, index),\n        container\n    );\n\n    const backgroundImageSize = calculateBackgroundSize(\n        getBackgroundValueForIndex(container.styles.backgroundSize, index),\n        intrinsicSize,\n        backgroundPositioningArea\n    );\n\n    const [sizeWidth, sizeHeight] = backgroundImageSize;\n\n    const position = getAbsoluteValueForTuple(\n        getBackgroundValueForIndex(container.styles.backgroundPosition, index),\n        backgroundPositioningArea.width - sizeWidth,\n        backgroundPositioningArea.height - sizeHeight\n    );\n\n    const path = calculateBackgroundRepeatPath(\n        getBackgroundValueForIndex(container.styles.backgroundRepeat, index),\n        position,\n        backgroundImageSize,\n        backgroundPositioningArea,\n        backgroundPaintingArea\n    );\n\n    const offsetX = Math.round(backgroundPositioningArea.left + position[0]);\n    const offsetY = Math.round(backgroundPositioningArea.top + position[1]);\n\n    return [path, offsetX, offsetY, sizeWidth, sizeHeight];\n};\n\nexport const isAuto = (token: CSSValue): boolean => isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO;\n\nconst hasIntrinsicValue = (value: number | null): value is number => typeof value === 'number';\n\nexport const calculateBackgroundSize = (\n    size: BackgroundSizeInfo[],\n    [intrinsicWidth, intrinsicHeight, intrinsicProportion]: [number | null, number | null, number | null],\n    bounds: Bounds\n): [number, number] => {\n    const [first, second] = size;\n\n    if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\n        return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\n    }\n\n    const hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\n\n    if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\n        if (hasIntrinsicValue(intrinsicProportion)) {\n            const targetRatio = bounds.width / bounds.height;\n\n            return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\n                ? [bounds.width, bounds.width / intrinsicProportion]\n                : [bounds.height * intrinsicProportion, bounds.height];\n        }\n\n        return [bounds.width, bounds.height];\n    }\n\n    const hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\n    const hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\n    const hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\n\n    // If the background-size is auto or auto auto:\n    if (isAuto(first) && (!second || isAuto(second))) {\n        // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\n        if (hasIntrinsicWidth && hasIntrinsicHeight) {\n            return [intrinsicWidth as number, intrinsicHeight as number];\n        }\n\n        // If the image has no intrinsic dimensions and has no intrinsic proportions,\n        // it's rendered at the size of the background positioning area.\n\n        if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\n            return [bounds.width, bounds.height];\n        }\n\n        // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\n\n        // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\n        // The other dimension is computed using the specified dimension and the intrinsic proportions.\n        if (hasIntrinsicDimensions && hasIntrinsicProportion) {\n            const width = hasIntrinsicWidth\n                ? (intrinsicWidth as number)\n                : (intrinsicHeight as number) * (intrinsicProportion as number);\n            const height = hasIntrinsicHeight\n                ? (intrinsicHeight as number)\n                : (intrinsicWidth as number) / (intrinsicProportion as number);\n            return [width, height];\n        }\n\n        // If the image has only one intrinsic dimension but has no intrinsic proportions,\n        // it's rendered using the specified dimension and the other dimension of the background positioning area.\n        const width = hasIntrinsicWidth ? (intrinsicWidth as number) : bounds.width;\n        const height = hasIntrinsicHeight ? (intrinsicHeight as number) : bounds.height;\n        return [width, height];\n    }\n\n    // If the image has intrinsic proportions, it's stretched to the specified dimension.\n    // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\n    if (hasIntrinsicProportion) {\n        let width = 0;\n        let height = 0;\n        if (isLengthPercentage(first)) {\n            width = getAbsoluteValue(first, bounds.width);\n        } else if (isLengthPercentage(second)) {\n            height = getAbsoluteValue(second, bounds.height);\n        }\n\n        if (isAuto(first)) {\n            width = height * (intrinsicProportion as number);\n        } else if (!second || isAuto(second)) {\n            height = width / (intrinsicProportion as number);\n        }\n\n        return [width, height];\n    }\n\n    // If the image has no intrinsic proportions, it's stretched to the specified dimension.\n    // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\n    // if there is one. If there is no such intrinsic dimension,\n    // it becomes the corresponding dimension of the background positioning area.\n\n    let width = null;\n    let height = null;\n\n    if (isLengthPercentage(first)) {\n        width = getAbsoluteValue(first, bounds.width);\n    } else if (second && isLengthPercentage(second)) {\n        height = getAbsoluteValue(second, bounds.height);\n    }\n\n    if (width !== null && (!second || isAuto(second))) {\n        height =\n            hasIntrinsicWidth && hasIntrinsicHeight\n                ? (width / (intrinsicWidth as number)) * (intrinsicHeight as number)\n                : bounds.height;\n    }\n\n    if (height !== null && isAuto(first)) {\n        width =\n            hasIntrinsicWidth && hasIntrinsicHeight\n                ? (height / (intrinsicHeight as number)) * (intrinsicWidth as number)\n                : bounds.width;\n    }\n\n    if (width !== null && height !== null) {\n        return [width, height];\n    }\n\n    throw new Error(`Unable to calculate background-size for element`);\n};\n\nexport const getBackgroundValueForIndex = <T>(values: T[], index: number): T => {\n    const value = values[index];\n    if (typeof value === 'undefined') {\n        return values[0];\n    }\n\n    return value;\n};\n\nexport const calculateBackgroundRepeatPath = (\n    repeat: BACKGROUND_REPEAT,\n    [x, y]: [number, number],\n    [width, height]: [number, number],\n    backgroundPositioningArea: Bounds,\n    backgroundPaintingArea: Bounds\n) => {\n    switch (repeat) {\n        case BACKGROUND_REPEAT.REPEAT_X:\n            return [\n                new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width),\n                    Math.round(height + backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left),\n                    Math.round(height + backgroundPositioningArea.top + y)\n                )\n            ];\n        case BACKGROUND_REPEAT.REPEAT_Y:\n            return [\n                new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)\n                )\n            ];\n        case BACKGROUND_REPEAT.NO_REPEAT:\n            return [\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top + y + height)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.top + y + height)\n                )\n            ];\n        default:\n            return [\n                new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width),\n                    Math.round(backgroundPaintingArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width),\n                    Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left),\n                    Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)\n                )\n            ];\n    }\n};\n","export const SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n","import {SMALL_IMAGE} from '../core/util';\nexport interface FontMetric {\n    baseline: number;\n    middle: number;\n}\n\nconst SAMPLE_TEXT = 'Hidden Text';\n\nexport class FontMetrics {\n    private readonly _data: {[key: string]: FontMetric};\n    private readonly _document: Document;\n\n    constructor(document: Document) {\n        this._data = {};\n        this._document = document;\n    }\n\n    private parseMetrics(fontFamily: string, fontSize: string): FontMetric {\n        const container = this._document.createElement('div');\n        const img = this._document.createElement('img');\n        const span = this._document.createElement('span');\n\n        const body = this._document.body as HTMLBodyElement;\n\n        container.style.visibility = 'hidden';\n        container.style.fontFamily = fontFamily;\n        container.style.fontSize = fontSize;\n        container.style.margin = '0';\n        container.style.padding = '0';\n\n        body.appendChild(container);\n\n        img.src = SMALL_IMAGE;\n        img.width = 1;\n        img.height = 1;\n\n        img.style.margin = '0';\n        img.style.padding = '0';\n        img.style.verticalAlign = 'baseline';\n\n        span.style.fontFamily = fontFamily;\n        span.style.fontSize = fontSize;\n        span.style.margin = '0';\n        span.style.padding = '0';\n\n        span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n        container.appendChild(span);\n        container.appendChild(img);\n        const baseline = img.offsetTop - span.offsetTop + 2;\n\n        container.removeChild(span);\n        container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n\n        container.style.lineHeight = 'normal';\n        img.style.verticalAlign = 'super';\n\n        const middle = img.offsetTop - container.offsetTop + 2;\n\n        body.removeChild(container);\n\n        return {baseline, middle};\n    }\n    getMetrics(fontFamily: string, fontSize: string): FontMetric {\n        const key = `${fontFamily} ${fontSize}`;\n        if (typeof this._data[key] === 'undefined') {\n            this._data[key] = this.parseMetrics(fontFamily, fontSize);\n        }\n\n        return this._data[key];\n    }\n}\n","import {ElementPaint, parseStackingContexts, StackingContext} from '../stacking-context';\nimport {asString, Color, isTransparent} from '../../css/types/color';\nimport {Logger} from '../../core/logger';\nimport {ElementContainer} from '../../dom/element-container';\nimport {BORDER_STYLE} from '../../css/property-descriptors/border-style';\nimport {CSSParsedDeclaration} from '../../css/index';\nimport {TextContainer} from '../../dom/text-container';\nimport {Path, transformPath} from '../path';\nimport {BACKGROUND_CLIP} from '../../css/property-descriptors/background-clip';\nimport {BoundCurves, calculateBorderBoxPath, calculateContentBoxPath, calculatePaddingBoxPath} from '../bound-curves';\nimport {isBezierCurve} from '../bezier-curve';\nimport {Vector} from '../vector';\nimport {CSSImageType, CSSURLImage, isLinearGradient, isRadialGradient} from '../../css/types/image';\nimport {parsePathForBorder} from '../border';\nimport {Cache} from '../../core/cache-storage';\nimport {calculateBackgroundRendering, getBackgroundValueForIndex} from '../background';\nimport {isDimensionToken} from '../../css/syntax/parser';\nimport {TextBounds} from '../../css/layout/text';\nimport {fromCodePoint, toCodePoints} from 'css-line-break';\nimport {ImageElementContainer} from '../../dom/replaced-elements/image-element-container';\nimport {contentBox} from '../box-sizing';\nimport {CanvasElementContainer} from '../../dom/replaced-elements/canvas-element-container';\nimport {SVGElementContainer} from '../../dom/replaced-elements/svg-element-container';\nimport {ReplacedElementContainer} from '../../dom/replaced-elements/index';\nimport {EffectTarget, IElementEffect, isClipEffect, isTransformEffect} from '../effects';\nimport {contains} from '../../core/bitwise';\nimport {calculateGradientDirection, calculateRadius, processColorStops} from '../../css/types/functions/gradient';\nimport {FIFTY_PERCENT, getAbsoluteValue} from '../../css/types/length-percentage';\nimport {TEXT_DECORATION_LINE} from '../../css/property-descriptors/text-decoration-line';\nimport {FontMetrics} from '../font-metrics';\nimport {DISPLAY} from '../../css/property-descriptors/display';\nimport {Bounds} from '../../css/layout/bounds';\nimport {LIST_STYLE_TYPE} from '../../css/property-descriptors/list-style-type';\nimport {computeLineHeight} from '../../css/property-descriptors/line-height';\nimport {CHECKBOX, INPUT_COLOR, InputElementContainer, RADIO} from '../../dom/replaced-elements/input-element-container';\nimport {TEXT_ALIGN} from '../../css/property-descriptors/text-align';\nimport {TextareaElementContainer} from '../../dom/elements/textarea-element-container';\nimport {SelectElementContainer} from '../../dom/elements/select-element-container';\nimport {IFrameElementContainer} from '../../dom/replaced-elements/iframe-element-container';\nimport {TextShadow} from '../../css/property-descriptors/text-shadow';\n\nexport type RenderConfigurations = RenderOptions & {\n    backgroundColor: Color | null;\n};\n\nexport interface RenderOptions {\n    id: string;\n    scale: number;\n    canvas?: HTMLCanvasElement;\n    x: number;\n    y: number;\n    scrollX: number;\n    scrollY: number;\n    width: number;\n    height: number;\n    windowWidth: number;\n    windowHeight: number;\n    cache: Cache;\n}\n\nconst MASK_OFFSET = 10000;\n\nexport class CanvasRenderer {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    options: RenderConfigurations;\n    private readonly _activeEffects: IElementEffect[] = [];\n    private readonly fontMetrics: FontMetrics;\n\n    constructor(options: RenderConfigurations) {\n        this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        this.options = options;\n        this.canvas.width = Math.floor(options.width * options.scale);\n        this.canvas.height = Math.floor(options.height * options.scale);\n        this.canvas.style.width = `${options.width}px`;\n        this.canvas.style.height = `${options.height}px`;\n        this.fontMetrics = new FontMetrics(document);\n        this.ctx.scale(this.options.scale, this.options.scale);\n        this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\n        this.ctx.textBaseline = 'bottom';\n        this._activeEffects = [];\n        Logger.getInstance(options.id).debug(\n            `Canvas renderer initialized (${options.width}x${options.height} at ${options.x},${options.y}) with scale ${\n                options.scale\n            }`\n        );\n    }\n\n    applyEffects(effects: IElementEffect[], target: EffectTarget) {\n        while (this._activeEffects.length) {\n            this.popEffect();\n        }\n\n        effects.filter(effect => contains(effect.target, target)).forEach(effect => this.applyEffect(effect));\n    }\n\n    applyEffect(effect: IElementEffect) {\n        this.ctx.save();\n        if (isTransformEffect(effect)) {\n            this.ctx.translate(effect.offsetX, effect.offsetY);\n            this.ctx.transform(\n                effect.matrix[0],\n                effect.matrix[1],\n                effect.matrix[2],\n                effect.matrix[3],\n                effect.matrix[4],\n                effect.matrix[5]\n            );\n            this.ctx.translate(-effect.offsetX, -effect.offsetY);\n        }\n\n        if (isClipEffect(effect)) {\n            this.path(effect.path);\n            this.ctx.clip();\n        }\n\n        this._activeEffects.push(effect);\n    }\n\n    popEffect() {\n        this._activeEffects.pop();\n        this.ctx.restore();\n    }\n\n    async renderStack(stack: StackingContext) {\n        const styles = stack.element.container.styles;\n        if (styles.isVisible()) {\n            this.ctx.globalAlpha = styles.opacity;\n            await this.renderStackContent(stack);\n        }\n    }\n\n    async renderNode(paint: ElementPaint) {\n        if (paint.container.styles.isVisible()) {\n            await this.renderNodeBackgroundAndBorders(paint);\n            await this.renderNodeContent(paint);\n        }\n    }\n\n    renderTextWithLetterSpacing(text: TextBounds, letterSpacing: number) {\n        if (letterSpacing === 0) {\n            this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n        } else {\n            const letters = toCodePoints(text.text).map(i => fromCodePoint(i));\n            letters.reduce((left, letter) => {\n                this.ctx.fillText(letter, left, text.bounds.top + text.bounds.height);\n\n                return left + this.ctx.measureText(letter).width;\n            }, text.bounds.left);\n        }\n    }\n\n    private createFontStyle(styles: CSSParsedDeclaration): string[] {\n        const fontVariant = styles.fontVariant\n            .filter(variant => variant === 'normal' || variant === 'small-caps')\n            .join('');\n        const fontFamily = styles.fontFamily.join(', ');\n        const fontSize = isDimensionToken(styles.fontSize)\n            ? `${styles.fontSize.number}${styles.fontSize.unit}`\n            : `${styles.fontSize.number}px`;\n\n        return [\n            [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\n            fontFamily,\n            fontSize\n        ];\n    }\n\n    async renderTextNode(text: TextContainer, styles: CSSParsedDeclaration) {\n        const [font, fontFamily, fontSize] = this.createFontStyle(styles);\n\n        this.ctx.font = font;\n\n        text.textBounds.forEach(text => {\n            this.ctx.fillStyle = asString(styles.color);\n            this.renderTextWithLetterSpacing(text, styles.letterSpacing);\n            const textShadows: TextShadow = styles.textShadow;\n\n            if (textShadows.length && text.text.trim().length) {\n                textShadows\n                    .slice(0)\n                    .reverse()\n                    .forEach(textShadow => {\n                        this.ctx.shadowColor = asString(textShadow.color);\n                        this.ctx.shadowOffsetX = textShadow.offsetX.number * this.options.scale;\n                        this.ctx.shadowOffsetY = textShadow.offsetY.number * this.options.scale;\n                        this.ctx.shadowBlur = textShadow.blur.number;\n\n                        this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n                    });\n\n                this.ctx.shadowColor = '';\n                this.ctx.shadowOffsetX = 0;\n                this.ctx.shadowOffsetY = 0;\n                this.ctx.shadowBlur = 0;\n            }\n\n            if (styles.textDecorationLine.length) {\n                this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\n                styles.textDecorationLine.forEach(textDecorationLine => {\n                    switch (textDecorationLine) {\n                        case TEXT_DECORATION_LINE.UNDERLINE:\n                            // Draws a line at the baseline of the font\n                            // TODO As some browsers display the line as more than 1px if the font-size is big,\n                            // need to take that into account both in position and size\n                            const {baseline} = this.fontMetrics.getMetrics(fontFamily, fontSize);\n                            this.ctx.fillRect(\n                                text.bounds.left,\n                                Math.round(text.bounds.top + baseline),\n                                text.bounds.width,\n                                1\n                            );\n\n                            break;\n                        case TEXT_DECORATION_LINE.OVERLINE:\n                            this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);\n                            break;\n                        case TEXT_DECORATION_LINE.LINE_THROUGH:\n                            // TODO try and find exact position for line-through\n                            const {middle} = this.fontMetrics.getMetrics(fontFamily, fontSize);\n                            this.ctx.fillRect(\n                                text.bounds.left,\n                                Math.ceil(text.bounds.top + middle),\n                                text.bounds.width,\n                                1\n                            );\n                            break;\n                    }\n                });\n            }\n        });\n    }\n\n    renderReplacedElement(\n        container: ReplacedElementContainer,\n        curves: BoundCurves,\n        image: HTMLImageElement | HTMLCanvasElement\n    ) {\n        if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\n            const box = contentBox(container);\n            const path = calculatePaddingBoxPath(curves);\n            this.path(path);\n            this.ctx.save();\n            this.ctx.clip();\n            this.ctx.drawImage(\n                image,\n                0,\n                0,\n                container.intrinsicWidth,\n                container.intrinsicHeight,\n                box.left,\n                box.top,\n                box.width,\n                box.height\n            );\n            this.ctx.restore();\n        }\n    }\n\n    async renderNodeContent(paint: ElementPaint) {\n        this.applyEffects(paint.effects, EffectTarget.CONTENT);\n        const container = paint.container;\n        const curves = paint.curves;\n        const styles = container.styles;\n        for (const child of container.textNodes) {\n            await this.renderTextNode(child, styles);\n        }\n\n        if (container instanceof ImageElementContainer) {\n            try {\n                const image = await this.options.cache.match(container.src);\n                this.renderReplacedElement(container, curves, image);\n            } catch (e) {\n                Logger.getInstance(this.options.id).error(`Error loading image ${container.src}`);\n            }\n        }\n\n        if (container instanceof CanvasElementContainer) {\n            this.renderReplacedElement(container, curves, container.canvas);\n        }\n\n        if (container instanceof SVGElementContainer) {\n            try {\n                const image = await this.options.cache.match(container.svg);\n                this.renderReplacedElement(container, curves, image);\n            } catch (e) {\n                Logger.getInstance(this.options.id).error(`Error loading svg ${container.svg.substring(0, 255)}`);\n            }\n        }\n\n        if (container instanceof IFrameElementContainer && container.tree) {\n            const iframeRenderer = new CanvasRenderer({\n                id: this.options.id,\n                scale: this.options.scale,\n                backgroundColor: container.backgroundColor,\n                x: 0,\n                y: 0,\n                scrollX: 0,\n                scrollY: 0,\n                width: container.width,\n                height: container.height,\n                cache: this.options.cache,\n                windowWidth: container.width,\n                windowHeight: container.height\n            });\n\n            const canvas = await iframeRenderer.render(container.tree);\n            this.ctx.drawImage(\n                canvas,\n                0,\n                0,\n                container.width,\n                container.width,\n                container.bounds.left,\n                container.bounds.top,\n                container.bounds.width,\n                container.bounds.height\n            );\n        }\n\n        if (container instanceof InputElementContainer) {\n            const size = Math.min(container.bounds.width, container.bounds.height);\n\n            if (container.type === CHECKBOX) {\n                if (container.checked) {\n                    this.ctx.save();\n                    this.path([\n                        new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\n                        new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\n                        new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\n                        new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\n                        new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\n                        new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\n                        new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\n                    ]);\n\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\n                    this.ctx.fill();\n                    this.ctx.restore();\n                }\n            } else if (container.type === RADIO) {\n                if (container.checked) {\n                    this.ctx.save();\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        container.bounds.left + size / 2,\n                        container.bounds.top + size / 2,\n                        size / 4,\n                        0,\n                        Math.PI * 2,\n                        true\n                    );\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\n                    this.ctx.fill();\n                    this.ctx.restore();\n                }\n            }\n        }\n\n        if (isTextInputElement(container) && container.value.length) {\n            [this.ctx.font] = this.createFontStyle(styles);\n            this.ctx.fillStyle = asString(styles.color);\n\n            this.ctx.textBaseline = 'middle';\n            this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\n\n            const bounds = contentBox(container);\n\n            let x = 0;\n\n            switch (container.styles.textAlign) {\n                case TEXT_ALIGN.CENTER:\n                    x += bounds.width / 2;\n                    break;\n                case TEXT_ALIGN.RIGHT:\n                    x += bounds.width;\n                    break;\n            }\n\n            const textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\n\n            this.ctx.save();\n            this.path([\n                new Vector(bounds.left, bounds.top),\n                new Vector(bounds.left + bounds.width, bounds.top),\n                new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\n                new Vector(bounds.left, bounds.top + bounds.height)\n            ]);\n\n            this.ctx.clip();\n            this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing);\n            this.ctx.restore();\n            this.ctx.textBaseline = 'bottom';\n            this.ctx.textAlign = 'left';\n        }\n\n        if (contains(container.styles.display, DISPLAY.LIST_ITEM)) {\n            if (container.styles.listStyleImage !== null) {\n                const img = container.styles.listStyleImage;\n                if (img.type === CSSImageType.URL) {\n                    let image;\n                    const url = (img as CSSURLImage).url;\n                    try {\n                        image = await this.options.cache.match(url);\n                        this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\n                    } catch (e) {\n                        Logger.getInstance(this.options.id).error(`Error loading list-style-image ${url}`);\n                    }\n                }\n            } else if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\n                [this.ctx.font] = this.createFontStyle(styles);\n                this.ctx.fillStyle = asString(styles.color);\n\n                this.ctx.textBaseline = 'middle';\n                this.ctx.textAlign = 'right';\n                const bounds = new Bounds(\n                    container.bounds.left,\n                    container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width),\n                    container.bounds.width,\n                    computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1\n                );\n\n                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing);\n                this.ctx.textBaseline = 'bottom';\n                this.ctx.textAlign = 'left';\n            }\n        }\n    }\n\n    async renderStackContent(stack: StackingContext) {\n        // https://www.w3.org/TR/css-position-3/#painting-order\n        // 1. the background and borders of the element forming the stacking context.\n        await this.renderNodeBackgroundAndBorders(stack.element);\n        // 2. the child stacking contexts with negative stack levels (most negative first).\n        for (const child of stack.negativeZIndex) {\n            await this.renderStack(child);\n        }\n        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n        await this.renderNodeContent(stack.element);\n\n        for (const child of stack.nonInlineLevel) {\n            await this.renderNode(child);\n        }\n        // 4. All non-positioned floating descendants, in tree order. For each one of these,\n        // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n        // which actually create a new stacking context should be considered part of the parent stacking context,\n        // not this new one.\n        for (const child of stack.nonPositionedFloats) {\n            await this.renderStack(child);\n        }\n        // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n        for (const child of stack.nonPositionedInlineLevel) {\n            await this.renderStack(child);\n        }\n        for (const child of stack.inlineLevel) {\n            await this.renderNode(child);\n        }\n        // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n        //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n        //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n        //  but any positioned descendants and descendants which actually create a new stacking context should be\n        //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n        //  treat the stacking context generated atomically.\n        //\n        //  All opacity descendants with opacity less than 1\n        //\n        //  All transform descendants with transform other than none\n        for (const child of stack.zeroOrAutoZIndexOrTransformedOrOpacity) {\n            await this.renderStack(child);\n        }\n        // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n        // order (smallest first) then tree order.\n        for (const child of stack.positiveZIndex) {\n            await this.renderStack(child);\n        }\n    }\n\n    mask(paths: Path[]) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(0, 0);\n        this.ctx.lineTo(this.canvas.width, 0);\n        this.ctx.lineTo(this.canvas.width, this.canvas.height);\n        this.ctx.lineTo(0, this.canvas.height);\n        this.ctx.lineTo(0, 0);\n        this.formatPath(paths.slice(0).reverse());\n        this.ctx.closePath();\n    }\n\n    path(paths: Path[]) {\n        this.ctx.beginPath();\n        this.formatPath(paths);\n        this.ctx.closePath();\n    }\n\n    formatPath(paths: Path[]) {\n        paths.forEach((point, index) => {\n            const start: Vector = isBezierCurve(point) ? point.start : point;\n            if (index === 0) {\n                this.ctx.moveTo(start.x, start.y);\n            } else {\n                this.ctx.lineTo(start.x, start.y);\n            }\n\n            if (isBezierCurve(point)) {\n                this.ctx.bezierCurveTo(\n                    point.startControl.x,\n                    point.startControl.y,\n                    point.endControl.x,\n                    point.endControl.y,\n                    point.end.x,\n                    point.end.y\n                );\n            }\n        });\n    }\n\n    renderRepeat(path: Path[], pattern: CanvasPattern | CanvasGradient, offsetX: number, offsetY: number) {\n        this.path(path);\n        this.ctx.fillStyle = pattern;\n        this.ctx.translate(offsetX, offsetY);\n        this.ctx.fill();\n        this.ctx.translate(-offsetX, -offsetY);\n    }\n\n    resizeImage(image: HTMLImageElement, width: number, height: number): HTMLCanvasElement | HTMLImageElement {\n        if (image.width === width && image.height === height) {\n            return image;\n        }\n\n        const canvas = (this.canvas.ownerDocument as Document).createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n        ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\n        return canvas;\n    }\n\n    async renderBackgroundImage(container: ElementContainer) {\n        let index = container.styles.backgroundImage.length - 1;\n        for (const backgroundImage of container.styles.backgroundImage.slice(0).reverse()) {\n            if (backgroundImage.type === CSSImageType.URL) {\n                let image;\n                const url = (backgroundImage as CSSURLImage).url;\n                try {\n                    image = await this.options.cache.match(url);\n                } catch (e) {\n                    Logger.getInstance(this.options.id).error(`Error loading background-image ${url}`);\n                }\n\n                if (image) {\n                    const [path, x, y, width, height] = calculateBackgroundRendering(container, index, [\n                        image.width,\n                        image.height,\n                        image.width / image.height\n                    ]);\n                    const pattern = this.ctx.createPattern(\n                        this.resizeImage(image, width, height),\n                        'repeat'\n                    ) as CanvasPattern;\n                    this.renderRepeat(path, pattern, x, y);\n                }\n            } else if (isLinearGradient(backgroundImage)) {\n                const [path, x, y, width, height] = calculateBackgroundRendering(container, index, [null, null, null]);\n                const [lineLength, x0, x1, y0, y1] = calculateGradientDirection(backgroundImage.angle, width, height);\n\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n                const gradient = ctx.createLinearGradient(x0, y0, x1, y1);\n\n                processColorStops(backgroundImage.stops, lineLength).forEach(colorStop =>\n                    gradient.addColorStop(colorStop.stop, asString(colorStop.color))\n                );\n\n                ctx.fillStyle = gradient;\n                ctx.fillRect(0, 0, width, height);\n                const pattern = this.ctx.createPattern(canvas, 'repeat') as CanvasPattern;\n                this.renderRepeat(path, pattern, x, y);\n            } else if (isRadialGradient(backgroundImage)) {\n                const [path, left, top, width, height] = calculateBackgroundRendering(container, index, [\n                    null,\n                    null,\n                    null\n                ]);\n                const position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\n                const x = getAbsoluteValue(position[0], width);\n                const y = getAbsoluteValue(position[position.length - 1], height);\n\n                const [rx, ry] = calculateRadius(backgroundImage, x, y, width, height);\n                if (rx > 0 && rx > 0) {\n                    const radialGradient = this.ctx.createRadialGradient(left + x, top + y, 0, left + x, top + y, rx);\n\n                    processColorStops(backgroundImage.stops, rx * 2).forEach(colorStop =>\n                        radialGradient.addColorStop(colorStop.stop, asString(colorStop.color))\n                    );\n\n                    this.path(path);\n                    this.ctx.fillStyle = radialGradient;\n                    if (rx !== ry) {\n                        // transforms for elliptical radial gradient\n                        const midX = container.bounds.left + 0.5 * container.bounds.width;\n                        const midY = container.bounds.top + 0.5 * container.bounds.height;\n                        const f = ry / rx;\n                        const invF = 1 / f;\n\n                        this.ctx.save();\n                        this.ctx.translate(midX, midY);\n                        this.ctx.transform(1, 0, 0, f, 0, 0);\n                        this.ctx.translate(-midX, -midY);\n\n                        this.ctx.fillRect(left, invF * (top - midY) + midY, width, height * invF);\n                        this.ctx.restore();\n                    } else {\n                        this.ctx.fill();\n                    }\n                }\n            }\n            index--;\n        }\n    }\n\n    async renderBorder(color: Color, side: number, curvePoints: BoundCurves) {\n        this.path(parsePathForBorder(curvePoints, side));\n        this.ctx.fillStyle = asString(color);\n        this.ctx.fill();\n    }\n\n    async renderNodeBackgroundAndBorders(paint: ElementPaint) {\n        this.applyEffects(paint.effects, EffectTarget.BACKGROUND_BORDERS);\n        const styles = paint.container.styles;\n        const hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\n\n        const borders = [\n            {style: styles.borderTopStyle, color: styles.borderTopColor},\n            {style: styles.borderRightStyle, color: styles.borderRightColor},\n            {style: styles.borderBottomStyle, color: styles.borderBottomColor},\n            {style: styles.borderLeftStyle, color: styles.borderLeftColor}\n        ];\n\n        const backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(\n            getBackgroundValueForIndex(styles.backgroundClip, 0),\n            paint.curves\n        );\n\n        if (hasBackground || styles.boxShadow.length) {\n            this.ctx.save();\n            this.path(backgroundPaintingArea);\n            this.ctx.clip();\n\n            if (!isTransparent(styles.backgroundColor)) {\n                this.ctx.fillStyle = asString(styles.backgroundColor);\n                this.ctx.fill();\n            }\n\n            await this.renderBackgroundImage(paint.container);\n\n            this.ctx.restore();\n\n            styles.boxShadow\n                .slice(0)\n                .reverse()\n                .forEach(shadow => {\n                    this.ctx.save();\n                    const borderBoxArea = calculateBorderBoxPath(paint.curves);\n                    const maskOffset = shadow.inset ? 0 : MASK_OFFSET;\n                    const shadowPaintingArea = transformPath(\n                        borderBoxArea,\n                        -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number,\n                        (shadow.inset ? 1 : -1) * shadow.spread.number,\n                        shadow.spread.number * (shadow.inset ? -2 : 2),\n                        shadow.spread.number * (shadow.inset ? -2 : 2)\n                    );\n\n                    if (shadow.inset) {\n                        this.path(borderBoxArea);\n                        this.ctx.clip();\n                        this.mask(shadowPaintingArea);\n                    } else {\n                        this.mask(borderBoxArea);\n                        this.ctx.clip();\n                        this.path(shadowPaintingArea);\n                    }\n\n                    this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\n                    this.ctx.shadowOffsetY = shadow.offsetY.number;\n                    this.ctx.shadowColor = asString(shadow.color);\n                    this.ctx.shadowBlur = shadow.blur.number;\n                    this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\n\n                    this.ctx.fill();\n                    this.ctx.restore();\n                });\n        }\n\n        let side = 0;\n        for (const border of borders) {\n            if (border.style !== BORDER_STYLE.NONE && !isTransparent(border.color)) {\n                await this.renderBorder(border.color, side++, paint.curves);\n            }\n        }\n    }\n\n    async render(element: ElementContainer): Promise<HTMLCanvasElement> {\n        if (this.options.backgroundColor) {\n            this.ctx.fillStyle = asString(this.options.backgroundColor);\n            this.ctx.fillRect(\n                this.options.x - this.options.scrollX,\n                this.options.y - this.options.scrollY,\n                this.options.width,\n                this.options.height\n            );\n        }\n\n        const stack = parseStackingContexts(element);\n\n        await this.renderStack(stack);\n        this.applyEffects([], EffectTarget.BACKGROUND_BORDERS);\n        return this.canvas;\n    }\n}\n\nconst isTextInputElement = (\n    container: ElementContainer\n): container is InputElementContainer | TextareaElementContainer | SelectElementContainer => {\n    if (container instanceof TextareaElementContainer) {\n        return true;\n    } else if (container instanceof SelectElementContainer) {\n        return true;\n    } else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\n        return true;\n    }\n    return false;\n};\n\nconst calculateBackgroundCurvedPaintingArea = (clip: BACKGROUND_CLIP, curves: BoundCurves): Path[] => {\n    switch (clip) {\n        case BACKGROUND_CLIP.BORDER_BOX:\n            return calculateBorderBoxPath(curves);\n        case BACKGROUND_CLIP.CONTENT_BOX:\n            return calculateContentBoxPath(curves);\n        case BACKGROUND_CLIP.PADDING_BOX:\n        default:\n            return calculatePaddingBoxPath(curves);\n    }\n};\n\nconst canvasTextAlign = (textAlign: TEXT_ALIGN): CanvasTextAlign => {\n    switch (textAlign) {\n        case TEXT_ALIGN.CENTER:\n            return 'center';\n        case TEXT_ALIGN.RIGHT:\n            return 'right';\n        case TEXT_ALIGN.LEFT:\n        default:\n            return 'left';\n    }\n};\n","import {RenderConfigurations} from './canvas-renderer';\nimport {Logger} from '../../core/logger';\nimport {createForeignObjectSVG} from '../../core/features';\nimport {asString} from '../../css/types/color';\n\nexport class ForeignObjectRenderer {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    options: RenderConfigurations;\n\n    constructor(options: RenderConfigurations) {\n        this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        this.options = options;\n        this.canvas.width = Math.floor(options.width * options.scale);\n        this.canvas.height = Math.floor(options.height * options.scale);\n        this.canvas.style.width = `${options.width}px`;\n        this.canvas.style.height = `${options.height}px`;\n\n        this.ctx.scale(this.options.scale, this.options.scale);\n        this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\n        Logger.getInstance(options.id).debug(\n            `EXPERIMENTAL ForeignObject renderer initialized (${options.width}x${options.height} at ${options.x},${\n                options.y\n            }) with scale ${options.scale}`\n        );\n    }\n\n    async render(element: HTMLElement) {\n        const svg = createForeignObjectSVG(\n            Math.max(this.options.windowWidth, this.options.width) * this.options.scale,\n            Math.max(this.options.windowHeight, this.options.height) * this.options.scale,\n            this.options.scrollX * this.options.scale,\n            this.options.scrollY * this.options.scale,\n            element\n        );\n\n        const img = await loadSerializedSVG(svg);\n\n        if (this.options.backgroundColor) {\n            this.ctx.fillStyle = asString(this.options.backgroundColor);\n            this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\n        }\n\n        this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\n\n        return this.canvas;\n    }\n}\n\nexport const loadSerializedSVG = (svg: Node): Promise<HTMLImageElement> =>\n    new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n            resolve(img);\n        };\n        img.onerror = reject;\n\n        img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(new XMLSerializer().serializeToString(svg))}`;\n    });\n","import {Bounds, parseBounds, parseDocumentSize} from './css/layout/bounds';\nimport {color, Color, COLORS, isTransparent} from './css/types/color';\nimport {Parser} from './css/syntax/parser';\nimport {CloneOptions, DocumentCloner} from './dom/document-cloner';\nimport {isBodyElement, isHTMLElement, parseTree} from './dom/node-parser';\nimport {Logger} from './core/logger';\nimport {CacheStorage, ResourceOptions} from './core/cache-storage';\nimport {CanvasRenderer, RenderOptions} from './render/canvas/canvas-renderer';\nimport {ForeignObjectRenderer} from './render/canvas/foreignobject-renderer';\n\nexport type Options = CloneOptions &\n    RenderOptions &\n    ResourceOptions & {\n        backgroundColor: string;\n        foreignObjectRendering: boolean;\n        logging: boolean;\n        removeContainer?: boolean;\n    };\n\nconst parseColor = (value: string): Color => color.parse(Parser.create(value).parseComponentValue());\n\nconst html2canvas = (element: HTMLElement, options: Partial<Options> = {}): Promise<HTMLCanvasElement> => {\n    return renderElement(element, options);\n};\n\nexport default html2canvas;\n\nCacheStorage.setContext(window);\n\nconst renderElement = async (element: HTMLElement, opts: Partial<Options>): Promise<HTMLCanvasElement> => {\n    const ownerDocument = element.ownerDocument;\n\n    if (!ownerDocument) {\n        throw new Error(`Element is not attached to a Document`);\n    }\n\n    const defaultView = ownerDocument.defaultView;\n\n    if (!defaultView) {\n        throw new Error(`Document is not attached to a Window`);\n    }\n\n    const instanceName = (Math.round(Math.random() * 1000) + Date.now()).toString(16);\n\n    const {width, height, left, top} =\n        isBodyElement(element) || isHTMLElement(element) ? parseDocumentSize(ownerDocument) : parseBounds(element);\n\n    const defaultResourceOptions = {\n        allowTaint: false,\n        imageTimeout: 15000,\n        proxy: undefined,\n        useCORS: false\n    };\n\n    const resourceOptions: ResourceOptions = {...defaultResourceOptions, ...opts};\n\n    const defaultOptions = {\n        backgroundColor: '#ffffff',\n        cache: opts.cache ? opts.cache : CacheStorage.create(instanceName, resourceOptions),\n        logging: true,\n        removeContainer: true,\n        foreignObjectRendering: false,\n        scale: defaultView.devicePixelRatio || 1,\n        windowWidth: defaultView.innerWidth,\n        windowHeight: defaultView.innerHeight,\n        scrollX: defaultView.pageXOffset,\n        scrollY: defaultView.pageYOffset,\n        x: left,\n        y: top,\n        width: Math.ceil(width),\n        height: Math.ceil(height),\n        id: instanceName\n    };\n\n    const options: Options = {...defaultOptions, ...resourceOptions, ...opts};\n\n    const windowBounds = new Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\n\n    Logger.create(instanceName);\n    Logger.getInstance(instanceName).debug(`Starting document clone`);\n    const documentCloner = new DocumentCloner(element, {\n        id: instanceName,\n        onclone: options.onclone,\n        ignoreElements: options.ignoreElements,\n        inlineImages: options.foreignObjectRendering,\n        copyStyles: options.foreignObjectRendering\n    });\n    const clonedElement = documentCloner.clonedReferenceElement;\n    if (!clonedElement) {\n        return Promise.reject(`Unable to find element in cloned iframe`);\n    }\n\n    const container = await documentCloner.toIFrame(ownerDocument, windowBounds);\n\n    // http://www.w3.org/TR/css3-background/#special-backgrounds\n    const documentBackgroundColor = ownerDocument.documentElement\n        ? parseColor(getComputedStyle(ownerDocument.documentElement).backgroundColor as string)\n        : COLORS.TRANSPARENT;\n    const bodyBackgroundColor = ownerDocument.body\n        ? parseColor(getComputedStyle(ownerDocument.body).backgroundColor as string)\n        : COLORS.TRANSPARENT;\n\n    const bgColor = opts.backgroundColor;\n    const defaultBackgroundColor = typeof bgColor === 'string' ? parseColor(bgColor) : 0xffffffff;\n\n    const backgroundColor =\n        element === ownerDocument.documentElement\n            ? isTransparent(documentBackgroundColor)\n                ? isTransparent(bodyBackgroundColor)\n                    ? defaultBackgroundColor\n                    : bodyBackgroundColor\n                : documentBackgroundColor\n            : defaultBackgroundColor;\n\n    const renderOptions = {\n        id: instanceName,\n        cache: options.cache,\n        backgroundColor,\n        scale: options.scale,\n        x: options.x,\n        y: options.y,\n        scrollX: options.scrollX,\n        scrollY: options.scrollY,\n        width: options.width,\n        height: options.height,\n        windowWidth: options.windowWidth,\n        windowHeight: options.windowHeight\n    };\n\n    let canvas;\n\n    if (options.foreignObjectRendering) {\n        Logger.getInstance(instanceName).debug(`Document cloned, using foreign object rendering`);\n        const renderer = new ForeignObjectRenderer(renderOptions);\n        canvas = await renderer.render(clonedElement);\n    } else {\n        Logger.getInstance(instanceName).debug(`Document cloned, using computed rendering`);\n\n        CacheStorage.attachInstance(options.cache);\n        Logger.getInstance(instanceName).debug(`Starting DOM parsing`);\n        const root = parseTree(clonedElement);\n        CacheStorage.detachInstance();\n\n        if (backgroundColor === root.styles.backgroundColor) {\n            root.styles.backgroundColor = COLORS.TRANSPARENT;\n        }\n\n        Logger.getInstance(instanceName).debug(`Starting renderer`);\n\n        const renderer = new CanvasRenderer(renderOptions);\n        canvas = await renderer.render(root);\n    }\n\n    if (options.removeContainer === true) {\n        if (!cleanContainer(container)) {\n            Logger.getInstance(instanceName).error(`Cannot detach cloned iframe as it is not in the DOM anymore`);\n        }\n    }\n\n    Logger.getInstance(instanceName).debug(`Finished rendering`);\n    Logger.destroy(instanceName);\n    CacheStorage.destroy(instanceName);\n    return canvas;\n};\n\nconst cleanContainer = (container: HTMLIFrameElement): boolean => {\n    if (container.parentNode) {\n        container.parentNode.removeChild(container);\n        return true;\n    }\n    return false;\n};\n","import { IImpressionEventInput } from '../../../telemetry/interfaces/telemetry';\nimport { Component, OnInit } from '@angular/core';\nimport * as _ from 'lodash-es';\nimport { SearchService } from '@sunbird/core';\nimport { ToasterService, ResourceService } from '@sunbird/shared';\nimport { ReportService } from '../../services/report/report.service';\n\n\n\nimport { Chart } from 'chart.js';\n//import 'chartjs-plugin-labels';\n////////////////////////////////////////\nimport { AddusserService } from '../../services/addusser/addusser.service';\n\n@Component({\n  selector: 'app-content-leaderboard',\n  templateUrl: './content-leaderboard.component.html',\n  styleUrls: ['./content-leaderboard.component.scss']\n})\nexport class ContentLeaderboardComponent implements OnInit {\n\n  telemetryImpression: IImpressionEventInput;\n  constructor\n    (\n      private _httpService: AddusserService,\n      public reportService: ReportService,\n      private searchService: SearchService,\n      private toasterService: ToasterService,\n      public resourceService: ResourceService,\n  ) { }\n\n  ////////////Tab///////////////////////\n\n  checkoutForm: Object;\n  //createOrgForm: FormGroup;\n  organizationTab: boolean = true;\n  userTab: boolean = true;\n  //////////////////////////////////////\n  selectedCity: string;\n  filters = [];\n  titleCity = '';\n  cityList1: any = [];\n  cityList: any = [];\n  userList: any = [];\n  Graph_Data_List = [];\n  noResultMessage: any;\n  noResult = true;\n  strList = \"\";\n  colsUser = [];\n  colsUser2 = [];\n  subOrgs = []\n  ////////popup//////////////////////\n  tableData = [];\n\n  popupTitle = \"Content wise Graphical Reports\";\n  selectedItems = [];\n  addUserPopup: boolean = false;\n  ////////////extra////////////////\n  i = 0;\n  ////////////////////////////\n  hideme = [];\n  Index: any;\n  //////////////////////\n  Table_Data_List = [];\n  L1_Root_list = [];\n  L2_Root_list = [];\n  L1_Piechart: any;\n  L2_Piechart: any;\n  // rr=[];\n  strTxt = '';\n  tooltip = '';\n  selectedSubOrg: any\n  rootOrgId:any = []\n  ////////////extra////////////////\n  ngOnInit() {\n    this.getOrgList();\n    this.getContentData();\n    this.colsUser = [\n\n      { field: 'Rank', header: 'Rank', width: '50px' },\n      { field: 'User_Name', header: 'Creator Name', width: '184px' },\n      { field: 'Email', header: 'Email', width: '245px' },\n      { field: 'Phone', header: 'Phone', },\n      { field: 'organisation', header: 'Copyright', },\n      { field: 'Root_Organisation', header: 'Root Organisation', },\n      { field: 'Sub_Organisation', header: 'Sub Organisation', },\n      { field: 'Total_Content', header: 'Total Content', },\n    ]\n\n  }\n\n  /////Load content List////////////////////////////\n  getOrgList() {\n    this.cityList = [];\n\n    const data = { \"request\": { \"filters\": { \"isTenant\": true, \"status\": 1 } } };\n    this.reportService.getOrganizationName(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.response.count > 0) {\n          this.cityList = _.reject(response.result.response.content, obj => _.isEmpty(obj.orgName));\n          this.cityList.push({ \"orgName\": \"---Select All---\", \"id\": 0, \"rootOrgId\": \"0\" });\n          this.sortArray(this.cityList)\n        }\n      } else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    });\n  }\n\n  sortArray(arr){\n    arr.sort((a, b) => {\n      if (a.orgName < b.orgName)\n        return -1;\n      if (a.orgName > b.orgName)\n        return 1;\n      return 0;\n    });\n  }\n\n  getContentData() {\n    this.subOrgs = [];\n    this.selectedSubOrg = { \"orgName\": null, \"id\": 0, \"rootOrgId\": \"0\" }\n    this.filters = [];\n    this.titleCity = \"NULP platform\"\n    if (!_.isEmpty(this.selectedCity)) {\n      this.filters = [_.get(this.selectedCity, 'channel')];  //rootOrgId\n      this.rootOrgId = [_.get(this.selectedCity, 'id')]\n      this.titleCity = _.get(this.selectedCity, 'orgName');\n      this.L1_Chart(null, null, null, null, \"\");\n      this.Table_Data_List = [];\n      this.Graph_Data_List = [];\n      if (_.get(this.selectedCity, 'id') == 0) {\n        this.filters = [];\n        this.rootOrgId = [];\n        this.titleCity = \"NULP platform\";\n      }\n    }\n\n    const data = {\n      \"request\":\n      {\n        \"query\": \"\",\n        \"filters\": { \"status\": [\"Live\"], \"framework\": [\"nulp\"], \"channel\": this.rootOrgId, \"contentType\": [\"Course\", 'Resource', 'Collection'] },\n        \"limit\": \"1000\",\n        \"sort_by\": { \"lastUpdatedOn\": \"desc\" },\n        \"fields\":\n          [\"identifier\", \"creator\", \"organisation\", \"copyright\",\n            \"name\", \"contentType\", \"createdFor\", \"channel\",\n            \"board\", \"medium\", \"gradeLevel\", \"subject\",\n            \"lastUpdatedOn\", \"status\", \"createdBy\",\n            \"framework\", \"createdOn\", \"lastPublishedOn\"]\n      }\n    };\n    //alert('titleCity'+this.titleCity+ '\\n filters'+JSON.stringify(this.filters)+ '\\n request :-'+JSON.stringify(data));\n\n    if(this.filters.length > 0){\n      const reqPayload = { \"request\": { \"filters\": { \"channel\": this.filters, \"isTenant\": false }, \n                          limit: 100, offset: 0 } };\n      this.reportService.getOrganizationName(reqPayload).subscribe((response) => {\n          this.subOrgs = response.result.response.content\n          this.sortArray(this.subOrgs)\n          this.subOrgs.unshift({ \"orgName\": \"---Select All---\", \"id\": 0, \"rootOrgId\": \"0\" });\n      })\n    }\n\n    this.reportService.getContentCreationStaticsReport(data).subscribe((response) => {\n      if (_.get(response, 'responseCode') === 'OK') {\n        if (response.result.count > 0) {\n          var tableData = [];\n          let tempObj = _.cloneDeep(response.result.content);\n          tableData = tempObj;\n          var self = this;\n          ///////////////LOOPING ROOT ORG/////////////////////////////////\n          var ChnlIds = [];\n          var UserIds = [];\n          ChnlIds = _.uniq(_.map(tempObj, 'channel'));\n          UserIds = _.uniq(_.map(tempObj, 'createdBy'));\n          /////////////////GET USER LIST/////////////////////////////////\n          const reqParam = { filters: { id: UserIds } }\n          this.searchService.getUserList(reqParam).subscribe(response => {\n            this.userList = [];\n            let userObj = _.cloneDeep(response.result.response.content);\n            this.userList = userObj;\n            //////////////////GET CITY/ORG LIST/////////////////////////////\n            const reqPayload = { \"request\": { \"filters\": { \"id\": ChnlIds, \"isTenant\": true } } };\n            //const reqPayload = { \"request\": { \"filters\": { \"id\":ChnlIds, \"isRootOrg\":true, \"status\":1 } } };\n            //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true, \"status\":1 } } };\n            //const reqPayload = { \"request\": { \"filters\": { \"isRootOrg\":true} } };\n            this.reportService.getOrganizationName(reqPayload).subscribe((response) => {\n              this.cityList1 = [];\n              let cityObj = _.cloneDeep(response.result.response.content);\n              this.cityList1 = cityObj;\n              this.cityList1 = _.reject(response.result.response.content, obj => _.isEmpty(obj.orgName));\n              //////////////////////////////////////////////////////////////////\n\n              this.InitializeGraph(tableData);\n              ////////////////////////////////////////////////////\n            }); //City close\n            /////////////////////////////////////////////////////////////////\n          }); //User Close\n        }\n        else {\n          this.noResultMessage = { 'messageText': 'messages.stmsg.m0131' };\n          this.noResult = true;\n        }\n      }\n      else {\n        this.toasterService.error(this.resourceService.messages.emsg.m0007);\n      }\n    }, (err) => {\n      this.toasterService.error(this.resourceService.messages.emsg.m0007);\n    }); //Content close\n    ////////////////////////////////////////////////////////////\n  }\n\n  InitializeGraph(C_List: any) {\n    ///////UPDATE USER LIST//////USER-ID-to-SUB-ORG-MAPING////////////////////\n    ///////UPDATE USER LIST//////USER-ID-to-SUB-ORG-MAPING////////////////////\n    this.userList.forEach(element => {\n      this.cityList.forEach(element1 => {\n        //if(element1.identifier==orgId)\n        //{\n        //  this.rootOrgNameUser_new  = element1.orgName\n        //}\n\n        if (element.organisations.length > 1) {\n          if ((element1.identifier == element.organisations[1].organisationId) &&\n            (element.rootOrgId != element.organisations[1].organisationId)) {\n            element.orgNameUser_new = element1.orgName\n            element.orgTypeUser_new = 'Sub Organization';\n          }\n          else if (element.rootOrgId == element.organisations[1].organisationId) {\n            element.orgNameUser_new = element.organisations[0].orgName;\n            element.orgTypeUser_new = 'Sub Organization';\n          } else {\n            element.orgNameUser_new = element.organisations[1].orgName;\n            element.orgTypeUser_new = 'Sub Organization';\n          }\n        }\n        else if (element.organisations.length == 1) {\n          element.orgNameUser_new = element.organisations[0].orgName;\n          element.orgTypeUser_new = 'Root  Organization';\n        }\n      });\n    });\n    //////////////////Camposing comman content data list//////////////////////////\n    this.Graph_Data_List = [];\n    C_List.forEach(x => {\n      let CityTraced = this.cityList1.find(el => el.id === x.channel);\n      let UserTraced = this.userList.find(el => el.id === x.createdBy);\n      this.Graph_Data_List.push({\n        \"identifier\": x.identifier,\n        \"copyright\": x.copyright,\n        \"createdFor\": x.createdFor,\n        \"creator\": x.creator,\n        \"subject\": x.subject,\n        \"channel\": x.channel,\n        \"organisation\": x.organisation,\n        /////////////////////////////////////\n        \"RootOrgName_new_user\": CityTraced[\"orgName\"],\n        \"rootOrgName_new_city\": UserTraced[\"rootOrgName\"],\n        \"orgNameUser_new\": UserTraced[\"orgNameUser_new\"],\n        \"orgTypeUser_new\": UserTraced[\"orgTypeUser_new\"],\n        \"lastNameUser_new\": UserTraced[\"lastName\"],\n        \"email\": UserTraced[\"email\"],\n        \"maskedPhone\": UserTraced[\"maskedPhone\"],\n        ////////////////////////////////////\n        \"createdBy\": x.createdBy,\n        \"medium\": x.medium,\n        \"name\": x.name,\n        \"createdOn\": x.createdOn,\n        \"objectType\": x.objectType,\n        \"gradeLevel\": x.gradeLevel,\n        \"framework\": x.framework,\n        \"contentType\": x.contentType,\n        \"Category\": x.board,\n        \"lastPublishedOn\": x.lastPublishedOn,\n        \"lastUpdatedOn\": x.lastUpdatedOn,\n        \"status\": x.status\n      });\n    });\n    this.strList = JSON.stringify(this.Graph_Data_List);\n    ///////SHORTING//////////////////////////////////////////////////\n    this.CreateLeaderBoardChart(this.Graph_Data_List);\n  }\n\n  CreateLeaderBoardChart(ResultCT: any) {\n    var L1_Name = [];\n    var L1_Value = [];\n    var L1_Filter = [];\n    var L1_Colour = [];\n    /////////////////////////////////////////////////////////////////\n    this.L1_Root_list = this.groupBy1(ResultCT, \"creator\");\n    var leader = [];\n    Object.keys(this.L1_Root_list).forEach(x => {\n      var xx = this.L1_Root_list[x];\n      leader.push(\n        {\n          \"User_Name\": x,\n          \"Email\": xx[0].email,\n          \"Phone\": xx[0].maskedPhone,\n          \"organisation\": xx[0].organisation,\n          \"Root_Organisation\": xx[0].rootOrgName_new_city,\n          \"Sub_Organisation\": xx[0].orgNameUser_new,\n          \"Content_Data\": this.L1_Root_list[x],\n          \"Total_Content\": this.L1_Root_list[x].length,\n        })\n    });\n\n    if(this.selectedSubOrg.rootOrgId != 0){\n      leader = leader.filter((obj => obj.Sub_Organisation === this.selectedSubOrg.orgName))\n    }\n    \n    var top10 = leader.sort(function (a, b) { return a.Total_Content < b.Total_Content ? 1 : -1; }).slice(0, 10);\n    var Rank = 0;\n    top10.forEach(y => {\n      Rank++;\n      L1_Name.push(y.User_Name);\n      L1_Value.push(y.Total_Content);\n      L1_Filter.push(y.User_Name);\n      L1_Colour.push(this.getRandomColorHex());\n      y.Rank = Rank;\n    });\n    \n    this.popupTitle = \"List of Top 10 Content Creators in '\" + this.titleCity + \"'.\";\n    this.L1_Chart(L1_Name, L1_Value, L1_Filter, L1_Colour, \"\");\n    this.Table_Data_List = top10;\n  }\n\n\n  L1_Chart(L1_Name: any, L1_Value: any, L1_Filter: any, L1_Colour: any, L1_Title: any) {\n    if (this.L1_Piechart) // != undefined\n    {\n      this.L1_Piechart.destroy();\n    }\n    this.L1_Piechart = new Chart('L1_Canvas',\n      {\n        type: 'bar',\n        data:\n        {\n          labels: L1_Name,\n          datasets: [{\n            data: L1_Value,\n            borderColor: L1_Filter,\n            borderSkipped: L1_Filter,\n            backgroundColor: L1_Colour,\n            borderWidth: 1,\n            fill: true\n          }\n          ]\n        },\n        options:\n        {\n          tooltips: { mode: 'index' },\n          //hover: { mode: 'index', intersect: true  },\n          title: { display: true, text: L1_Title, fontSize: 18, fontColor: \"#111\", },\n          legend: { display: false, labels: { fontColor: \"green\", } },\n          scales: {\n            xAxes: [{ scaleLabel: { display: true, labelString: 'Content Contributors' } }],\n            yAxes: [{ scaleLabel: { display: true, labelString: 'Content Count' } }],\n          },\n          // plugins: {\n          //   labels: [\n          //             { render: 'label', fontColor: '#000', position: 'outside' },\n          //             { render:'value',fontColor: '#000'}\n          //           ]\n          //         },\n        }\n      });\n  }\n\n  //////////////////////////////////////\n  getRandomColorHex() {\n    //  var hex = \"0123456789ABCDEF\",\n    //      color = \"#\";\n    //  for (var i = 1; i <= 6; i++)\n    //  {\n    //    color += hex[Math.floor(Math.random() * 16)];\n    //  }\n    var color = [\"red\", \"green\", \"blue\", \"purple\", \"magenta\", \"aqua\", \"salmon\", \"darkgray\", \"pink\", \"coral\"];\n    //var min=0;\n    //var max=color.length-1;\n    //var rand= Math.floor(Math.random() * (max - min + 1) + min);\n    this.i++;\n    //return color[this.i%color.length-1];\n    return \"blue\";\n  }\n\n  groupBy1(list, key) {\n    return list.reduce(function (rv, x) {\n      (rv[x[key]] = rv[x[key]] || []).push(x);\n      return rv;\n    }, {});\n  };\n\n  onChangeSubOrg(){\n    this.CreateLeaderBoardChart(this.Graph_Data_List)\n  }\n}\n"],"sourceRoot":"webpack:///"}