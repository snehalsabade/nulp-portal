{"version":3,"sources":["./src/app/plugins/profile/components/profile-badge/profile-badge.component.ts","./src/app/plugins/profile/components/profile-badge/profile-badge.component.html","./src/app/plugins/profile/profile-routing.module.ts","./src/app/plugins/profile/components/create-user/create-user.component.ts","./src/app/modules/shared/components/full-page-loader/full-page-loader.component.html","./src/app/plugins/profile/components/index.ts","./src/app/plugins/profile/profile.module.ts","./src/app/plugins/profile/components/update-contact-details/update-contact-details.component.ts","./src/app/plugins/profile/components/choose-user/choose-user.component.ts","./src/app/plugins/profile/components/update-contact-details/update-contact-details.component.html","./src/app/plugins/profile/components/account-recovery-info/account-recovery-info.component.ts","./src/app/plugins/profile/components/submit-teacher-details/submit-teacher-details.component.html","./src/app/plugins/profile/components/submit-teacher-details/submit-teacher-details.component.ts","./src/app/plugins/profile/components/create-user/create-user.component.html","./src/app/plugins/profile/components/choose-user/choose-user.component.html","./src/app/plugins/profile/components/profile-page/profile-page.component.html","./src/app/plugins/profile/components/account-recovery-info/account-recovery-info.component.html","./src/app/plugins/profile/components/profile-page/profile-page.component.ts"],"names":[],"mappings":"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","file":"plugins-profile-profile-module-ngfactory.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ResourceService, ConfigService, IUserProfile, IUserData } from '../../../../modules/shared';\nimport { UserService, BadgesService } from '../../../../modules/core/services';\nimport * as _ from 'lodash-es';\n\n@Component({\n  selector: 'app-profile-badge',\n  templateUrl: './profile-badge.component.html',\n  styleUrls: ['./profile-badge.component.scss']\n})\nexport class ProfileBadgeComponent implements OnInit {\n  /**\n   * Reference of User Profile interface\n   */\n  userProfile: IUserProfile;\n  /**\n   * Booloean value to hide/show awards\n   */\n  viewMore = true;\n  /**\n   * Contains default limit to show awards\n   */\n  defaultLimit = this.configService.appConfig.PROFILE.defaultShowMoreLimit;\n  /**\n   * Used to store limit to show/hide awards\n   */\n  limit = this.defaultLimit;\n  /**\n   * Contains array of badges\n   */\n  badgeArray: any = [];\n  constructor(public resourceService: ResourceService, public userService: UserService,\n    public badgeService: BadgesService, public configService: ConfigService) { }\n  /**\n   * This method is used to call getBadgeData method\n   */\n  ngOnInit() {\n    this.getBadgeData();\n  }\n  /**\n   * This method is used to fetch detailed badge data\n   */\n  getBadgeData() {\n    this.userService.userData$.subscribe(\n      (user: IUserData) => {\n        if (user && !user.err && user.userProfile.badgeAssertions) {\n          this.userProfile = user.userProfile;\n          const badgeList = [];\n          _.each(this.userProfile.badgeAssertions, (badge) => {\n            badgeList.push(badge['badgeId']);\n          });\n          const req = {\n            request: {\n              filters: {\n                'badgeList': badgeList,\n                'type': 'user',\n                'rootOrgId': this.userProfile.rootOrgId\n              }\n            }\n          };\n          this.badgeArray = [];\n          this.badgeService.getDetailedBadgeAssertions(req, this.userProfile.badgeAssertions).subscribe((detailedAssertion) => {\n            if (detailedAssertion) {\n              this.badgeArray.push(detailedAssertion);\n            }\n          });\n        }\n      });\n  }\n  /**\n   * This method is used to show/hide ViewMore based on the limit\n   */\n  toggle(viewMore) {\n    if (viewMore === true) {\n      this.limit = this.badgeArray.length;\n      this.viewMore = false;\n    } else {\n      this.viewMore = true;\n      this.limit = this.defaultLimit;\n    }\n  }\n}\n","  <section class=\"d-flex flex-ai-center flex-jc-center flex-dc pt-30 pb-30\" *ngIf=\"badgeArray && badgeArray.length > 0\">\n    <div class=\"fs-1-7 font-weight-bold mb-30\">{{resourceService?.frmelmnts?.lbl?.myBadges}} ({{badgeArray.length}})&#x200E;</div>\n    <div class=\"d-flex flex-ai-center flex-jc-center flex-dr flex-w-wrap badges-container\">\n      <div class=\"px-60 py-20\" *ngFor=\"let badge of badgeArray | slice:0:limit\">\n          <img class=\"ui small custom badge image\" src=\"{{badge.image || badge.badgeClassImage}}\" alt=\"my badges\">\n      </div>\n    </div>\n    <div *ngIf=\"badgeArray.length > defaultLimit\">\n    <button class=\"ui semi-circular dodger-blue button mt-30\" tabindex=\"0\" *ngIf=\"viewMore\" (click)=\"toggle(true)\"> {{resourceService?.frmelmnts?.btn?.viewmore}} <i class=\"chevron down icon ml-5 mr-0\"></i></button>\n    <button class=\"ui semi-circular dodger-blue button mt-30\" tabindex=\"0\" (click)=\"toggle(false)\" *ngIf=\"!viewMore\">{{resourceService?.frmelmnts?.btn?.viewless}} <i class=\"chevron up icon ml-5 mr-0\" ></i></button>\n  </div>\n  </section>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {\n  ProfilePageComponent,\n  CreateUserComponent,\n  ChooseUserComponent,\n  SubmitTeacherDetailsComponent\n} from './components';\nconst telemetryEnv = 'profile';\nconst objectType = 'profile';\nconst routes: Routes = [\n  {\n    path: '', component: ProfilePageComponent,\n    data: {\n      menuBar: {\n        visible: false\n      },\n      pageTitle: 'profile',\n      telemetry: {\n        env: telemetryEnv, type: 'view', mode: 'create', subtype: 'paginate', object: { type: objectType, ver: '1.0' }\n      }, breadcrumbs: [{ label: 'Home', url: '/home' }, { label: 'Profile', url: '' }]\n    }\n  },\n  {\n    path: 'create-managed-user', component: CreateUserComponent,\n    data: {\n      menuBar: {\n        visible: false\n      },\n      pageTitle: 'create-managed-user',\n      telemetry: {\n        env: telemetryEnv, type: 'view'\n      }\n    }\n  },\n  {\n    path: 'choose-managed-user', component: ChooseUserComponent,\n    data: {\n      menuBar: {\n        visible: false\n      },\n      telemetry: {\n        env: telemetryEnv, pageid: 'choose-managed-user', type: 'view',\n        uri: '/profile/choose-managed-user',\n      }\n    }\n  },\n  {\n    path: 'submit-declaration', component: SubmitTeacherDetailsComponent,\n    data: {\n      menuBar: {\n        visible: false\n      },\n      telemetry: {\n        env: telemetryEnv, pageid: 'teacher-declaration', type: 'view',\n        uri: '/profile/submit-declaration',\n      }\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ProfileRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport {InterpolatePipe, ResourceService, ToasterService, ServerResponse, UtilService, NavigationHelperService, LayoutService } from '@sunbird/shared';\nimport { ProfileService } from './../../services';\nimport { FormBuilder, Validators, FormGroup, FormControl } from '@angular/forms';\nimport * as _ from 'lodash-es';\nimport { takeUntil } from 'rxjs/operators';\nimport { IInteractEventEdata, IImpressionEventInput } from '@sunbird/telemetry';\nimport {\n  OrgDetailsService,\n  ChannelService,\n  FrameworkService,\n  UserService,\n  FormService,\n  TncService,\n  ManagedUserService\n} from '@sunbird/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { map } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-create-user',\n  templateUrl: './create-user.component.html',\n  styleUrls: ['./create-user.component.scss']\n})\nexport class CreateUserComponent implements OnInit {\n\n  userDetailsForm: FormGroup;\n  sbFormBuilder: FormBuilder;\n  enableSubmitBtn = false;\n  instance: string;\n  formData;\n  showLoader = true;\n  telemetryImpression: IImpressionEventInput;\n  submitInteractEdata: IInteractEventEdata;\n  submitCancelInteractEdata: IInteractEventEdata;\n  layoutConfiguration: any;\n  public unsubscribe = new Subject<void>();\n  pageId = 'create-managed-user';\n\n  constructor(public resourceService: ResourceService, public toasterService: ToasterService,\n    public profileService: ProfileService, formBuilder: FormBuilder, public router: Router,\n    public userService: UserService, public orgDetailsService: OrgDetailsService, public channelService: ChannelService,\n    public frameworkService: FrameworkService, public utilService: UtilService, public formService: FormService,\n    private activatedRoute: ActivatedRoute, public navigationhelperService: NavigationHelperService,\n    public tncService: TncService, private managedUserService: ManagedUserService, public layoutService: LayoutService) {\n    this.sbFormBuilder = formBuilder;\n  }\n\n  ngOnInit() {\n    this.navigationhelperService.setNavigationUrl();\n    this.setTelemetryData();\n    this.instance = _.upperCase(this.resourceService.instance || 'SUNBIRD');\n    this.getFormDetails();\n\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout().\n      pipe(takeUntil(this.unsubscribe)).subscribe(layoutConfig => {\n        if (layoutConfig != null) {\n          this.layoutConfiguration = layoutConfig.layout;\n        }\n      });\n\n  }\n\n  goBack() {\n    this.navigationhelperService.goBack();\n  }\n\n  setTelemetryData() {\n    this.telemetryImpression = {\n      context: {\n        env: this.activatedRoute.snapshot.data.telemetry.env\n      },\n      edata: {\n        type: this.activatedRoute.snapshot.data.telemetry.type,\n        pageid: this.pageId,\n        subtype: this.activatedRoute.snapshot.data.telemetry.subtype,\n        uri: this.router.url,\n        duration: this.navigationhelperService.getPageLoadTime()\n      }\n    };\n\n    this.submitInteractEdata = {\n      id: 'submit-create-managed-user',\n      type: 'click',\n      pageid: this.pageId\n    };\n\n    this.submitCancelInteractEdata = {\n      id: 'cancel-create-managed-user',\n      type: 'click',\n      pageid: this.pageId\n    };\n  }\n\n  getFormDetails() {\n    const formServiceInputParams = {\n      formType: 'user',\n      formAction: 'create',\n      contentType: 'child',\n      component: 'portal'\n    };\n    this.formService.getFormConfig(formServiceInputParams, this.userService.hashTagId).subscribe((formData) => {\n      this.formData = formData;\n      this.initializeFormFields();\n    }, (err) => {\n      this.toasterService.error(_.get(this.resourceService, 'messages.emsg.m0005'));\n      this.showLoader = false;\n    });\n  }\n\n  initializeFormFields() {\n    const formGroupObj = {};\n    for (const key of this.formData) {\n      if (key.visible && key.required) {\n        formGroupObj[key.code] = new FormControl(null, [Validators.required]);\n      } else if (key.visible) {\n        formGroupObj[key.code] = new FormControl(null);\n      }\n    }\n\n    this.userDetailsForm = this.sbFormBuilder.group(formGroupObj, {\n      validator: (formControl) => {\n        const nameCtrl = formControl.controls.name;\n        if (_.trim(nameCtrl.value) === '') {\n          nameCtrl.setErrors({ required: true });\n        }\n        return null;\n      }\n    });\n    this.showLoader = false;\n    this.enableSubmitBtn = (this.userDetailsForm.status === 'VALID');\n    this.enableSubmitButton();\n  }\n\n  enableSubmitButton() {\n    this.userDetailsForm.valueChanges.subscribe(val => {\n      this.enableSubmitBtn = (this.userDetailsForm.status === 'VALID');\n    });\n  }\n\n  onCancel() {\n    this.navigationhelperService.navigateToLastUrl();\n  }\n\n  onSubmitForm() {\n    this.enableSubmitBtn = false;\n    const createUserRequest = {\n      request: {\n        firstName: this.userDetailsForm.value.name,\n        managedBy: this.managedUserService.getUserId()\n      }\n    };\n    this.managedUserService.getParentProfile().subscribe((userProfileData) => {\n      if (!_.isEmpty(_.get(userProfileData, 'userLocations'))) {\n        createUserRequest.request['profileLocation'] = _.map(_.get(userProfileData, 'userLocations'), function(location) { return {code: location.code, type: location.type}; });\n      }\n      if (_.get(userProfileData, 'framework') && !_.isEmpty(_.get(userProfileData, 'framework'))) {\n        createUserRequest.request['framework'] = _.get(userProfileData, 'framework');\n      }\n      this.registerUser(createUserRequest, userProfileData);\n    });\n  }\n\n  registerUser(createUserRequest, userProfileData) {\n    this.userService.registerUser(createUserRequest).subscribe((resp: ServerResponse) => {\n        this.managedUserService.updateUserList({\n          firstName: this.userDetailsForm.value.name,\n          identifier: _.get(resp, 'result.userId'),\n          id: _.get(resp, 'result.userId'),\n          managedBy: this.managedUserService.getUserId()\n        });\n        const filterPipe = new InterpolatePipe();\n        const successMessage = filterPipe.transform(_.get(this.resourceService, 'messages.imsg.m0096'),\n          '{firstName}', this.userDetailsForm.value.name);\n        this.toasterService.custom({\n          message: successMessage,\n          class: 'sb-toaster sb-toast-success sb-toast-normal'\n        });\n        this.router.navigate(['/profile/choose-managed-user']);\n      }, (err) => {\n        if (_.get(err, 'error.params.status') === 'MANAGED_USER_LIMIT_EXCEEDED') {\n          this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0100'));\n        } else {\n          this.toasterService.error(this.resourceService.messages.fmsg.m0085);\n        }\n        this.enableSubmitBtn = true;\n      }\n    );\n  }\n}\n","<div class=\"d-flex container\">\n    <div>\n        <app-loader></app-loader>\n    </div>\n</div>","export * from './profile-badge/profile-badge.component';\nexport * from './profile-page/profile-page.component';\nexport * from './update-contact-details/update-contact-details.component';\nexport * from './account-recovery-info/account-recovery-info.component';\nexport * from './create-user/create-user.component';\nexport * from './choose-user/choose-user.component';\nexport * from './submit-teacher-details/submit-teacher-details.component';\n","import { SharedFeatureModule } from '@sunbird/shared-feature';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@sunbird/shared';\nimport { SlickModule } from 'ngx-slick';\nimport { ProfileRoutingModule } from './profile-routing.module';\nimport {\n  ProfilePageComponent, ProfileBadgeComponent, UpdateContactDetailsComponent,\n  AccountRecoveryInfoComponent, CreateUserComponent, ChooseUserComponent, SubmitTeacherDetailsComponent\n} from './components';\nimport { SuiSelectModule, SuiModalModule, SuiAccordionModule, SuiPopupModule, SuiDropdownModule,\n  SuiProgressModule, SuiRatingModule, SuiCollapseModule } from 'ng2-semantic-ui-v9';\nimport { CoreModule } from '@sunbird/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n// import { WebExtensionModule } from '@project-sunbird/web-extensions';\nimport { TelemetryModule } from '@sunbird/telemetry';\nimport { AvatarModule } from 'ngx-avatar';\nimport { ContentSearchModule } from '@sunbird/content-search';\nimport {CommonConsumptionModule} from '@project-sunbird/common-consumption-v9';\nimport { CertificateDirectivesModule } from 'sb-svg2pdf';\nimport { CsModule } from '@project-sunbird/client-services';\nimport { CsLibInitializerService } from '../../service/CsLibInitializer/cs-lib-initializer.service';\nimport { CommonFormElementsModule } from 'common-form-elements-web-v9';\nimport {LocationModule} from '../location';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n\nexport const csCourseServiceFactory = (csLibInitializerService: CsLibInitializerService) => {\n  if (!CsModule.instance.isInitialised) {\n    csLibInitializerService.initializeCs();\n  }\n  return CsModule.instance.courseService;\n};\n\nexport const csCertificateServiceFactory = (csLibInitializerService: CsLibInitializerService) => {\n  if (!CsModule.instance.isInitialised) {\n    csLibInitializerService.initializeCs();\n  }\n  return CsModule.instance.certificateService;\n};\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ProfileRoutingModule,\n    SharedModule,\n    SuiSelectModule, SuiModalModule, SuiAccordionModule, SuiPopupModule, SuiDropdownModule,\n    SuiProgressModule, SuiRatingModule, SuiCollapseModule,\n    CoreModule,\n    FormsModule,\n    ReactiveFormsModule,\n    // WebExtensionModule,\n    TelemetryModule,\n    SlickModule,\n    AvatarModule,\n    SharedFeatureModule,\n    ContentSearchModule,\n    CommonConsumptionModule,\n    CertificateDirectivesModule,\n    CommonFormElementsModule,\n    LocationModule,\n    MatTooltipModule\n  ],\n  declarations: [ProfilePageComponent, ProfileBadgeComponent, UpdateContactDetailsComponent,\n   AccountRecoveryInfoComponent,\n   CreateUserComponent,\n   ChooseUserComponent,\n   SubmitTeacherDetailsComponent],\n  providers: [\n    {provide: 'CS_COURSE_SERVICE', useFactory: csCourseServiceFactory, deps: [CsLibInitializerService]},\n    {provide: 'CS_CERTIFICATE_SERVICE', useFactory: csCertificateServiceFactory, deps: [CsLibInitializerService]}\n  ]\n})\nexport class ProfileModule { }\n","import { Component, OnInit, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\nimport * as _ from 'lodash-es';\nimport { UserService, OtpService } from '@sunbird/core';\nimport { ResourceService, ServerResponse, ToasterService, ConfigService } from '@sunbird/shared';\nimport { Subject } from 'rxjs';\nimport { ProfileService } from './../../services';\nimport { IInteractEventObject, IInteractEventEdata } from '@sunbird/telemetry';\nimport { MatDialog } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-update-contact-details',\n  templateUrl: './update-contact-details.component.html',\n  styleUrls: ['./update-contact-details.component.scss']\n})\nexport class UpdateContactDetailsComponent implements OnInit, OnDestroy {\n  public unsubscribe = new Subject<void>();\n  @Input() contactType: string;\n  @Input() userProfile: any;\n  @Output() close = new EventEmitter<any>();\n  @Input() dialogProps;\n  contactTypeForm: FormGroup;\n  enableSubmitBtn = false;\n  showUniqueError = '';\n  showForm = false;\n  // @ViewChild('contactTypeModal', {static: true}) contactTypeModal;\n  otpData: any;\n  submitInteractEdata: IInteractEventEdata;\n  telemetryInteractObject: IInteractEventObject;\n  verifiedUser = false;\n  templateId: any = 'otpContactUpdateTemplate';\n\n  constructor(public resourceService: ResourceService, public userService: UserService,\n    public otpService: OtpService, public toasterService: ToasterService,\n    public profileService: ProfileService, private matDialog: MatDialog,\n    public configService: ConfigService) { }\n\n  ngOnInit() {\n    this.validateAndEditContact();\n  }\n\n  initializeFormFields() {\n    if (this.contactType === 'phone') {\n      this.contactTypeForm = new FormGroup({\n        phone: new FormControl('', [Validators.required , Validators.pattern(/^[6-9]\\d{9}$/)]),\n        uniqueContact: new FormControl(null, [Validators.required])\n      });\n      this.onContactValueChange();\n    } else if (this.contactType === 'email') {\n      this.contactTypeForm = new FormGroup({\n        email: new FormControl('', [Validators.required, Validators.pattern(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[a-z]{2,4}$/)]),\n        uniqueContact: new FormControl(null, [Validators.required])\n      });\n      this.onContactValueChange();\n    }\n    this.enableSubmitButton();\n    this.setInteractEventData();\n  }\n\n  private async validateAndEditContact() {\n    if (this.userProfile) {\n      const request: any = {\n          key: this.userProfile.email || this.userProfile.phone || this.userProfile.recoveryEmail,\n          userId: this.userProfile.userId,\n          templateId: this.configService.appConfig.OTPTemplate.updateContactTemplate,\n          type: ''\n      };\n      if ((this.userProfile.email && !this.userProfile.phone) ||\n      (!this.userProfile.email && !this.userProfile.phone && this.userProfile.recoveryEmail)) {\n          request.type = 'email';\n      } else if (this.userProfile.phone || this.userProfile.recoveryPhone) {\n          request.type = 'phone';\n      }\n      const otpData = {\n          'type': request.type,\n          'value': request.key,\n          'instructions': this.resourceService.frmelmnts.lbl.otpcontactinfo,\n          'retryMessage': request.type === 'phone' ?\n            this.resourceService.frmelmnts.lbl.unableToUpdateMobile : this.resourceService.frmelmnts.lbl.unableToUpdateEmail,\n          'wrongOtpMessage': request.type === 'phone' ? this.resourceService.frmelmnts.lbl.wrongPhoneOTP :\n            this.resourceService.frmelmnts.lbl.wrongEmailOTP\n        };\n      this.verifiedUser = false;\n\n      this.generateOTP({ request }, otpData);\n    }\n  }\n\n  closeModal() {\n    this.closeMatDialog();\n    this.close.emit();\n  }\n\n  enableSubmitButton() {\n    this.contactTypeForm.valueChanges.subscribe(val => {\n      this.enableSubmitBtn = (this.contactTypeForm.status === 'VALID');\n    });\n  }\n\n  showParentForm(event) {\n    if (event === 'true') {\n      this.initializeFormFields();\n      this.showForm = true;\n    }\n  }\n\n  prepareOtpData(otpData?) {\n    this.otpData = otpData || {\n      'type': this.contactType.toString(),\n      'value': this.contactType === 'phone' ?\n        this.contactTypeForm.controls.phone.value.toString() : this.contactTypeForm.controls.email.value,\n      'instructions': this.contactType === 'phone' ?\n        this.resourceService.frmelmnts.instn.t0083 : this.resourceService.frmelmnts.instn.t0084,\n      'retryMessage': this.contactType === 'phone' ?\n        this.resourceService.frmelmnts.lbl.unableToUpdateMobile : this.resourceService.frmelmnts.lbl.unableToUpdateEmail,\n      'wrongOtpMessage': this.contactType === 'phone' ? this.resourceService.frmelmnts.lbl.wrongPhoneOTP :\n        this.resourceService.frmelmnts.lbl.wrongEmailOTP\n    };\n  }\n\n  vaidateUserContact() {\n    const value = this.contactType === 'phone' ?\n      this.contactTypeForm.controls.phone.value.toString() : this.contactTypeForm.controls.email.value;\n    const uri = this.contactType + '/' + value;\n    this.userService.getIsUserExistsUserByKey(uri).subscribe(\n      (data: ServerResponse) => {\n        if (this.userService.userid === data.result.response.id) {\n          this.showUniqueError = this.contactType === 'phone' ?\n            this.resourceService.frmelmnts.lbl.samePhoneNo : this.resourceService.frmelmnts.lbl.sameEmailId;\n        } else {\n          this.showUniqueError = this.contactType === 'phone' ?\n            this.resourceService.frmelmnts.lbl.uniqueMobile : this.resourceService.frmelmnts.lbl.uniqueEmailId;\n        }\n      },\n      (err) => {\n        if (_.get(err, 'error.params.status') && err.error.params.status === 'USER_ACCOUNT_BLOCKED') {\n          this.showUniqueError = this.resourceService.frmelmnts.lbl.blockedUserError;\n        } else {\n          this.contactTypeForm.controls['uniqueContact'].setValue(true);\n          this.showUniqueError = '';\n        }\n      }\n    );\n  }\n\n  onContactValueChange() {\n    const contactTypeControl = this.contactType === 'phone' ?\n      this.contactTypeForm.get('phone') : this.contactTypeForm.get('email');\n    let contactValue = '';\n    contactTypeControl.valueChanges.subscribe(\n      (data: string) => {\n        if (contactTypeControl.status === 'VALID' && contactValue !== contactTypeControl.value) {\n          this.contactTypeForm.controls['uniqueContact'].setValue('');\n          this.vaidateUserContact();\n          contactValue = contactTypeControl.value;\n        }\n      });\n  }\n\n  onSubmitForm() {\n    this.enableSubmitBtn = false;\n    if (this.contactTypeForm.valid) {\n      this.generateOTP();\n    }\n  }\n\n  generateOTP(request?, otpData?) {\n    if (!request) {\n      request = {\n        'request': {\n          'key': this.contactType === 'phone' ?\n            this.contactTypeForm.controls.phone.value.toString() : this.contactTypeForm.controls.email.value,\n          'type': this.contactType.toString()\n        }\n      };\n    }\n\n    this.otpService.generateOTP(request).subscribe(\n      (data: ServerResponse) => {\n        this.prepareOtpData(otpData);\n        this.showForm = false;\n      },\n      (err) => {\n        const failedgenerateOTPMessage = (err.error.params.status === 'PHONE_ALREADY_IN_USE') ||\n          (err.error.params.status === 'EMAIL_IN_USE') ? err.error.params.errmsg : this.resourceService.messages.fmsg.m0051;\n        this.toasterService.error(failedgenerateOTPMessage);\n        this.enableSubmitBtn = true;\n        if (!this.verifiedUser) {\n            this.closeModal();\n        }\n      }\n    );\n  }\n\n  updateProfile(data) {\n    if (this.verifiedUser) {\n        this.profileService.updateProfile(data).subscribe(res => {\n          this.closeModal();\n          const sMessage = this.contactType === 'phone' ?\n            this.resourceService.messages.smsg.m0047 : this.resourceService.messages.smsg.m0048;\n          this.toasterService.success(sMessage);\n        }, err => {\n          this.closeModal();\n          const fMessage = this.contactType === 'phone' ?\n            this.resourceService.messages.emsg.m0014 : this.resourceService.messages.emsg.m0015;\n          this.toasterService.error(fMessage);\n        });\n    } else {\n        this.initializeFormFields();\n        this.verifiedUser = true;\n        this.showForm = true;\n    }\n  }\n\n  setInteractEventData() {\n    const id = this.contactType === 'phone' ?\n    'submit-mobile' : 'submit-emailId';\n    this.submitInteractEdata = {\n      id: id,\n      type: 'click',\n      pageid: 'profile-read'\n    };\n\n    this.telemetryInteractObject = {\n      id: this.userService.userid,\n      type: 'User',\n      ver: '1.0'\n    };\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n    this.closeMatDialog();\n  }\n  closeMatDialog() {\n    const dialogRef = this.dialogProps && this.dialogProps.id && this.matDialog.getDialogById(this.dialogProps.id);\n    dialogRef && dialogRef.close();\n  }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {CoursesService, ManagedUserService, UserService} from '@sunbird/core';\nimport {\n  ConfigService,\n  ResourceService,\n  ToasterService, ConnectionService,\n  IUserData, NavigationHelperService, UtilService, LayoutService\n} from '@sunbird/shared';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {IInteractEventEdata, TelemetryService} from '@sunbird/telemetry';\nimport {environment} from '@sunbird/environment';\nimport * as _ from 'lodash-es';\nimport { zip, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-choose-user',\n  templateUrl: './choose-user.component.html',\n  styleUrls: ['./choose-user.component.scss']\n})\nexport class ChooseUserComponent implements OnInit, OnDestroy {\n\n  constructor(public userService: UserService, public navigationhelperService: NavigationHelperService,\n              public toasterService: ToasterService, public router: Router, private utilService: UtilService,\n              public resourceService: ResourceService, private telemetryService: TelemetryService,\n              private configService: ConfigService, private managedUserService: ManagedUserService,\n              public activatedRoute: ActivatedRoute, public courseService: CoursesService,\n              private connectionService: ConnectionService, public layoutService: LayoutService) {\n    this.instance = (<HTMLInputElement>document.getElementById('instance'))\n      ? (<HTMLInputElement>document.getElementById('instance')).value.toUpperCase() : 'SUNBIRD';\n  }\n\n  userList = [];\n  instance: string;\n  memberCardConfig = {\n    size: this.configService.constants.SIZE.MEDIUM,\n    isSelectable: true,\n    view: this.configService.constants.VIEW.HORIZONTAL,\n    isBold: false\n  };\n  selectedUser: any;\n  submitInteractEdata: IInteractEventEdata;\n  userDataSubscription: any;\n  isConnected = false;\n  layoutConfiguration: any;\n  unsubscribe$ = new Subject<void>();\n  public unsubscribe = new Subject<void>();\n\n  ngOnInit() {\n    this.navigationhelperService.setNavigationUrl();\n    this.userDataSubscription = this.userService.userData$.subscribe((user: IUserData) => {\n      this.getManagedUserList();\n    });\n    this.telemetryImpressionEvent();\n    this.setTelemetryData();\n    this.connectionService.monitor()\n    .pipe(takeUntil(this.unsubscribe$)).subscribe(isConnected => {\n      this.isConnected = isConnected;\n    });\n\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout().\n      pipe(takeUntil(this.unsubscribe)).subscribe(layoutConfig => {\n        if (layoutConfig != null) {\n          this.layoutConfiguration = layoutConfig.layout;\n        }\n      });\n\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n    if (this.userDataSubscription) {\n      this.userDataSubscription.unsubscribe();\n    }\n  }\n\n  goBack() {\n    this.navigationhelperService.goBack();\n  }\n\n  switchUser() {\n    const userId = this.selectedUser.identifier;\n    const switchUserRequest = {\n      userId: this.selectedUser.identifier,\n      isManagedUser: this.selectedUser.managedBy ? true : false\n    };\n    this.managedUserService.initiateSwitchUser(switchUserRequest).subscribe((data) => {\n        this.managedUserService.setSwitchUserData(userId, _.get(data, 'result.userSid'));\n        this.userService.userData$.subscribe((user: IUserData) => {\n          if (user && !user.err && user.userProfile.userId === userId) {\n            if (this.utilService.isDesktopApp && !this.isConnected) {\n              this.initializeManagedUser();\n            } else {\n              this.courseService.getEnrolledCourses().pipe(takeUntil(this.unsubscribe$)).subscribe((enrolledCourse) => {\n                this.initializeManagedUser();\n              });\n            }\n          }\n        });\n      }, (err) => {\n        this.toasterService.error(_.get(this.resourceService, 'messages.emsg.m0005'));\n      }\n    );\n  }\n\n  telemetryImpressionEvent() {\n    this.telemetryService.impression({\n      context: {\n        env: this.activatedRoute.snapshot.data.telemetry.env\n      },\n      edata: {\n        type: this.activatedRoute.snapshot.data.telemetry.type,\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n        uri: this.activatedRoute.snapshot.data.telemetry.uri,\n        duration: this.navigationhelperService.getPageLoadTime()\n      }\n    });\n  }\n\n  selectUser(event) {\n    this.selectedUser = _.get(event, 'data.data');\n    if (this.selectedUser.selected) {\n      this.selectedUser = null;\n    }\n    const userId = _.get(event, 'data.data.identifier');\n    _.forEach(this.userList, (userData, index) => {\n      if (userData.identifier === userId) {\n        this.userList[index].selected = !userData.selected;\n      } else {\n        this.userList[index].selected = userData.identifier === userId;\n      }\n    });\n  }\n\n  setTelemetryData() {\n    this.submitInteractEdata = {\n      id: 'submit-choose-managed-user',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n    };\n  }\n\n  navigateToCreateUser() {\n    this.router.navigate(['/profile/create-managed-user']);\n  }\n\n  getManagedUserList() {\n    const requests = [this.managedUserService.managedUserList$];\n    if (this.userService.userProfile.managedBy) {\n      requests.push(this.managedUserService.getParentProfile());\n    }\n    zip(...requests).subscribe((data) => {\n      let userListToProcess = _.get(data[0], 'result.response.content');\n      if (data[1]) {\n        userListToProcess = [data[1]].concat(userListToProcess);\n      }\n      this.userList = this.managedUserService.processUserList(userListToProcess, this.userService.userid);\n    }, (err) => {\n      this.toasterService.error(_.get(this.resourceService, 'messages.emsg.m0005'));\n    });\n  }\n\n  getTelemetryContext() {\n    const userProfile = this.userService.userProfile;\n    const buildNumber = (<HTMLInputElement>document.getElementById('buildNumber'));\n    const version = buildNumber && buildNumber.value ? buildNumber.value.slice(0, buildNumber.value.lastIndexOf('.')) : '1.0';\n    return {\n      userOrgDetails: {\n        userId: userProfile.userId,\n        rootOrgId: userProfile.rootOrgId,\n        rootOrg: userProfile.rootOrg,\n        organisationIds: userProfile.hashTagIds\n      },\n      config: {\n        pdata: {\n          id: this.userService.appId,\n          ver: version,\n          pid: this.configService.appConfig.TELEMETRY.PID\n        },\n        endpoint: this.configService.urlConFig.URLS.TELEMETRY.SYNC,\n        apislug: this.configService.urlConFig.URLS.CONTENT_PREFIX,\n        host: '',\n        uid: userProfile.userId,\n        sid: this.userService.sessionId,\n        channel: _.get(userProfile, 'rootOrg.hashTagId'),\n        env: 'home',\n        enableValidation: environment.enableTelemetryValidation,\n        timeDiff: this.userService.getServerTimeDiff\n      }\n    };\n  }\n\n  closeSwitchUser() {\n    this.navigationhelperService.navigateToLastUrl();\n  }\n\n  initializeManagedUser() {\n    this.telemetryService.syncEvents(false);\n    this.telemetryService.setInitialization(false);\n    this.telemetryService.initialize(this.getTelemetryContext());\n    this.toasterService.custom({\n      message: this.managedUserService.getMessage(_.get(this.resourceService, 'messages.imsg.m0095'),\n        this.selectedUser.firstName),\n      class: 'sb-toaster sb-toast-success sb-toast-normal'\n    });\n\n    setTimeout(() => {\n      this.utilService.redirect('/resources');\n    }, 5100);\n  }\n}\n","<div class=\"sb-mat__modal\">\n  <div mat-dialog-title class=\"mb-0\">\n    <button aria-label=\"close dialog\" mat-dialog-close class=\"close-btn\"></button>\n  </div>\n  \n  <ng-container *ngIf=\"showForm\">\n  \n    <!--Content-->\n    <mat-dialog-content>\n      <div class=\"sb-mat__modal__content\">\n        <!--Header-->\n        <div class=\"sb-modal-header font-weight-bold fmedium\" [ngSwitch]=\"contactType\" role=\"heading\" aria-level=\"2\">\n          <span *ngSwitchCase=\"'email'\">{{resourceService?.frmelmnts?.lbl?.updateEmailId}}</span>\n          <span *ngSwitchCase=\"'phone'\">{{resourceService?.frmelmnts?.lbl?.updatePhoneNo}}</span>\n        </div>\n        <!--/Header-->\n        <form class=\"sb-form borderd\" [formGroup]=\"contactTypeForm\">\n          <div [ngSwitch]=\"contactType\">\n            <div class=\"sb-field-group\" *ngSwitchCase=\"'email'\">\n              <label>{{resourceService?.frmelmnts?.prmpt?.enteremailID}}</label>\n              <div class=\"sb-field ui input\">\n                <input class=\"sb-form-control\" formControlName=\"email\" type=\"text\"\n                  placeholder=\"{{ resourceService?.frmelmnts?.lbl?.enterEmail}}\">\n              </div>\n              <label class=\"ui basic blue error label pt-0\"\n                *ngIf=\"contactTypeForm.controls.email.dirty && contactTypeForm.controls['email'].errors\">{{resourceService?.frmelmnts?.lbl?.validEmail}}</label>\n              <label class=\"ui basic blue error label pt-0\"\n                *ngIf=\"showUniqueError && !(contactTypeForm.controls.email.touched && contactTypeForm.controls['email'].errors)\">{{showUniqueError}}</label>\n            </div>\n            <div class=\"sb-field-group\" *ngSwitchCase=\"'phone'\">\n              <label>{{resourceService?.frmelmnts?.prmpt?.enterphoneno}}</label>\n              <div class=\"sb-field ui left icon input\">\n                <input class=\"sb-form-control\" formControlName=\"phone\" type=\"number\"\n                  placeholder=\"{{resourceService?.frmelmnts?.lbl?.enterPhoneNumber}}\">\n                <i class=\" icon\">{{resourceService?.frmelmnts?.lbl?.indPhoneCode}}-</i>\n              </div>\n              <label class=\"ui basic blue error label pt-0\"\n                *ngIf=\"contactTypeForm.controls.phone.dirty && contactTypeForm.controls['phone'].errors\">{{resourceService?.frmelmnts?.lbl?.validPhone}}</label>\n              <label class=\"ui basic blue error label pt-0\"\n                *ngIf=\"showUniqueError && !(contactTypeForm.controls['phone'].errors)\">{{showUniqueError}}</label>\n            </div>\n          </div>\n        </form>\n      </div>\n    </mat-dialog-content>\n    <!--/Content-->\n  \n    <!--Actions-->\n    <div class=\"sb-mat__modal__actions text-center\">\n      <button appTelemetryInteract [telemetryInteractObject]=\"telemetryInteractObject\"\n        [telemetryInteractEdata]=\"submitInteractEdata\" [ngClass]=\"{'sb-btn-disabled':!enableSubmitBtn}\" (click)=\"onSubmitForm()\"\n        tabindex=\"0\" class=\"sb-btn sb-btn-normal sb-btn-primary\">\n        {{resourceService?.frmelmnts?.btn?.submit}}\n      </button>\n    </div>\n    <!--/Actions-->\n  </ng-container>\n  \n  <app-otp-popup *ngIf=\"!showForm\" [otpData]=\"otpData\" [redirectToLogin]=\"false\"\n    (verificationSuccess)=\"updateProfile($event)\" (closeContactForm)=\"closeModal()\"\n    (redirectToParent)=\"showParentForm($event)\">\n  </app-otp-popup>\n</div>\n\n\n<router-outlet></router-outlet>\n","import { UserService, OtpService } from '@sunbird/core';\nimport { IInteractEventObject, IInteractEventEdata } from '@sunbird/telemetry';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { Component, OnInit, Output, EventEmitter, Input, OnDestroy } from '@angular/core';\nimport { ResourceService, ToasterService, ServerResponse, ConfigService } from '@sunbird/shared';\nimport { ProfileService } from './../../services';\nimport * as _ from 'lodash-es';\nimport { MatDialog } from '@angular/material/dialog';\n@Component({\n  selector: 'app-account-recovery-info',\n  templateUrl: './account-recovery-info.component.html',\n  styleUrls: ['./account-recovery-info.component.scss']\n})\nexport class AccountRecoveryInfoComponent implements OnInit, OnDestroy {\n  @Output() close = new EventEmitter<any>();\n  @Input() dialogProps;\n\n  /** to take the mode of operaion (edit or add of recovery id) from profile page */\n  @Input() mode: string;\n  @Input() userProfile: any;\n  accountRecoveryForm: FormGroup;\n  enableSubmitButton = false;\n\n  /** to store the type of contact (email or phone) */\n  contactType: string;\n\n  /** to store the request */\n  request: {};\n\n  /** telemetry */\n  telemetryInteractObject: IInteractEventObject;\n  submitInteractEdata: IInteractEventEdata;\n  telemetryCdata: Array<{}> = [];\n  duplicateRecoveryId: boolean;\n  showOTPForm: boolean;\n  otpData: any;\n\n  constructor(\n    public resourceService: ResourceService,\n    public profileService: ProfileService,\n    public userService: UserService,\n    private matDialog: MatDialog,\n    public toasterService: ToasterService,\n    public otpService: OtpService,\n    private configService: ConfigService) { }\n\n  ngOnInit() {\n    this.contactType = 'emailId';\n    this.validateAndEditContact();\n  }\n\n  /** to initialize form fields */\n  initializeFormFields() {\n    if (this.contactType === 'emailId') {\n      this.accountRecoveryForm = new FormGroup({\n        email: new FormControl('', [Validators.required, Validators.pattern(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[a-z]{2,4}$/)]),\n      });\n    } else if (this.contactType === 'phoneNo') {\n      this.accountRecoveryForm = new FormGroup({\n        phone: new FormControl('', [Validators.required, Validators.pattern(/^[6-9]\\d{9}$/)]),\n      });\n    }\n    this.handleSubmitButton();\n    this.setTelemetryData();\n  }\n\n  validateAndEditContact() {\n    if (this.userProfile) {\n        const request: any = {\n            key: this.userProfile.email || this.userProfile.phone || this.userProfile.recoveryEmail,\n            userId: this.userProfile.userId,\n            templateId: this.configService.appConfig.OTPTemplate.updateContactTemplate,\n            type: ''\n        };\n        if ((this.userProfile.email && !this.userProfile.phone) ||\n        (!this.userProfile.email && !this.userProfile.phone && this.userProfile.recoveryEmail)) {\n            request.type = 'email';\n        } else if (this.userProfile.phone || this.userProfile.recoveryPhone) {\n            request.type = 'phone';\n        }\n        this.otpData = {\n            'type': request.type,\n            'value': request.key,\n            'instructions': this.resourceService.frmelmnts.lbl.otpcontactinfo,\n            'retryMessage': request.type === 'phone' ?\n              this.resourceService.frmelmnts.lbl.unableToUpdateMobile : this.resourceService.frmelmnts.lbl.unableToUpdateEmail,\n            'wrongOtpMessage': request.type === 'phone' ? this.resourceService.frmelmnts.lbl.wrongPhoneOTP :\n              this.resourceService.frmelmnts.lbl.wrongEmailOTP\n        };\n        this.showOTPForm = true;\n        this.generateOTP({ request });\n    }\n  }\n\n  generateOTP(request) {\n    console.log('Request', request);\n    this.otpService.generateOTP(request).subscribe(\n      (data: ServerResponse) => {\n      },\n      (err) => {\n        const failedgenerateOTPMessage = (err.error.params.status === 'PHONE_ALREADY_IN_USE') ||\n          (err.error.params.status === 'EMAIL_IN_USE') ? err.error.params.errmsg : this.resourceService.messages.fmsg.m0051;\n        this.toasterService.error(failedgenerateOTPMessage);\n        this.closeModal();\n      }\n    );\n  }\n\n  userVerificationSuccess() {\n    this.initializeFormFields();\n    this.showOTPForm = false;\n  }\n\n  /** to add/update the recovery id */\n  updateRecoveryId() {\n    this.enableSubmitButton = false;\n    if (this.contactType === 'emailId') {\n      this.request = {\n        'recoveryEmail': this.accountRecoveryForm.get('email').value,\n        'recoveryPhone': ''\n      };\n    } else if (this.contactType === 'phoneNo') {\n      this.request = {\n        'recoveryPhone': this.accountRecoveryForm.get('phone').value,\n        'recoveryEmail': ''\n      };\n    }\n    this.profileService.updateProfile(this.request).subscribe((data) => {\n      this.closeModal();\n    }, (error) => {\n      if (_.get(error, 'error.params.err') === 'RECOVERY_PARAM_MATCH_EXCEPTION') {\n        this.duplicateRecoveryId = true;\n        this.accountRecoveryForm.reset();\n      } else {\n        this.toasterService.error(this.resourceService.messages.fmsg.m0051);\n        this.closeModal();\n      }\n    });\n  }\n\n  /** to handle enable/disable functionality of submit button */\n  handleSubmitButton() {\n    this.enableSubmitButton = false;\n    this.accountRecoveryForm.valueChanges.subscribe(val => {\n      this.enableSubmitButton = (this.accountRecoveryForm.status === 'VALID');\n    });\n  }\n\n  ngOnDestroy() {\n    this.closeMatDialog();\n  }\n\n  /** to initialize form fields each time when radio button will be selected/changed */\n  onItemChange() {\n    this.duplicateRecoveryId = false;\n    this.initializeFormFields();\n  }\n\n  closeModal() {\n    this.closeMatDialog();\n    this.close.emit();\n  }\n\n  /** To prepare telemetry data */\n  setTelemetryData() {\n    const id = this.contactType === 'phoneNo' ?\n      'submit-phone-recovery' : 'submit-emailId-recovery';\n    this.submitInteractEdata = {\n      id: id,\n      type: 'click',\n      pageid: 'profile-read'\n    };\n\n    this.telemetryCdata = [\n      {\n        id: 'user:account:recovery',\n        type: 'Feature'\n      },\n      {\n        id: 'SC-1288',\n        type: 'Task'\n      }\n    ];\n\n    this.telemetryInteractObject = {\n      id: this.userService.userid,\n      type: 'User',\n      ver: '1.0'\n    };\n  }\n  closeMatDialog() {\n    const dialogRef = this.dialogProps && this.dialogProps.id && this.matDialog.getDialogById(this.dialogProps.id);\n    dialogRef && dialogRef.close();\n  }\n}\n","<div [ngClass]=\"layoutConfiguration ? 'sb-back-actionbar' : 'sb-bg-white cc-player__btn-back'\" class=\"relative position mt-0\" [ngClass]=\"{'header-block': isFullScreenView}\">\n  <div class=\"ui container py-0 px-0 d-flex flex-ai-center\">\n    <button type=\"button\" (click)=\"goBack()\" [ngClass]=\"layoutConfiguration ? 'sb-btn-round' : ''\" class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn px-0\"\n    tabindex=\"0\">\n    <i class=\"icon-svg icon-svg--xxs icon-back mr-4\"><svg class=\"icon icon-svg--primary\">\n        <use xlink:href=\"assets/images/sprite.svg#arrow-long-left\"></use>\n      </svg></i>\n   <span>{{resourceService?.frmelmnts?.btn?.back}}</span>\n  </button>\n    <div class=\"content-header__content w-100 ml-16\">\n      <div class=\"d-flex flex-dc flex-basis-1 mr-32 min-w-0 content-header__content__title\">\n        <div class=\"content-header__title font-weight-bold ellipsis text-left\"  tabindex=\"0\" role=\"heading\" aria-level=\"2\">\n          <span *ngIf=\"formAction === 'submit'\">{{resourceService?.frmelmnts?.lbl?.provideTeacherDetails}} </span>\n    <span *ngIf=\"formAction === 'update'\">{{resourceService?.frmelmnts?.lbl?.updateDetails}}</span>\n  </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div [ngClass]=\"layoutConfiguration ? 'sbt-inside-page-container' : ''\">\n<div class=\"mt-24 sb-md-container\">\n  <div class=\"sb-modal-header teacher-header font-weight-bold px-24 py-16\">\n    <span *ngIf=\"formAction === 'submit'\">{{resourceService?.frmelmnts?.lbl?.provideTeacherDetails}} </span>\n    <span *ngIf=\"formAction === 'update'\">{{resourceService?.frmelmnts?.lbl?.updateDetails}}</span>\n  </div>\n\n  <div class=\"py-16 px-32\">\n    <div *ngIf=\"showLoader\">\n      <app-loader></app-loader>\n    </div>\n\n    <div *ngIf=\"!showLoader\">\n      <sb-form *ngIf=\"tenantPersonaForm\" [config]=\"tenantPersonaForm\" [platform]=\"'web'\"\n        (initialize)=\"tenantPersonaFormValueChanges($event?.value); tenantPersonaFormStatusChanges($event);\"\n        (valueChanges)=\"tenantPersonaFormValueChanges($event)\" (statusChanges)=\"tenantPersonaFormStatusChanges($event)\">\n      </sb-form>\n\n      <sb-form *ngIf=\" teacherDetailsForm?.length\" [config]=\"teacherDetailsForm\" [platform]=\"'web'\"\n        (valueChanges)=\"declarationFormValueChanges($event)\" (statusChanges)=\"declarationFormStatusChanges($event)\"\n        (linkClicked)=\"linkClicked($event)\">\n      </sb-form>\n\n      <div class=\"teacher-buttons text-right\">\n        <button *ngIf=\"formAction === 'submit'\" appTelemetryInteract [telemetryInteractEdata]=\"submitInteractEdata\"\n          [ngClass]=\"{'sb-btn-disabled': !isTenantPersonaFormValid || !isDeclarationFormValid}\"\n          class=\"sb-btn sb-btn-normal sb-btn-primary\" [disabled]=\"!isTenantPersonaFormValid || !isDeclarationFormValid\"\n          (click)=\"submit()\" tabindex=\"0\">\n          {{resourceService?.frmelmnts?.btn?.submit}}\n        </button>\n        <button *ngIf=\"formAction === 'update'\" appTelemetryInteract [telemetryInteractEdata]=\"getUpdateTelemetry()\"\n          [ngClass]=\"{'sb-btn-disabled': !isTenantPersonaFormValid || !isDeclarationFormValid}\"\n          class=\"sb-btn sb-btn-normal sb-btn-primary\" [disabled]=\"!isTenantPersonaFormValid || !isDeclarationFormValid\"\n          (click)=\"submit()\" tabindex=\"0\">\n          {{resourceService?.frmelmnts?.btn?.update}}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n<!-- information submitted modal in TEACHER Profile-->\n<app-modal-wrapper *ngIf=\"showSuccessModal\" [config]=\"{disableClose: true, size: 'small'}\"\n  (dismiss)=\"closeSuccessModal()\" #modal>\n  <ng-template sbModalContent>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible small\">\n\n          <div class=\"sb-modal-header font-weight-normal\">\n            {{resourceService?.frmelmnts?.lbl?.thankyouForSubmittingDetails}}\n          </div>\n          <div class=\"sb-modal-content text-center\">\n            <div class=\"my-16\">{{resourceService?.frmelmnts?.lbl?.editProfileInfo}}</div>\n          </div>\n          <div class=\"sb-modal-actions\">\n            <button class=\"sb-btn sb-btn-normal sb-btn-success\" appTelemetryInteract\n              [telemetryInteractEdata]=\"submitDetailsInteractEdata\" tabindex=\"0\" (click)=\"closeSuccessModal()\">\n              {{resourceService?.frmelmnts?.btn?.ok}}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n\n<app-tnc-popup (close)=\"showAndHidePopup(false)\" [tncUrl]=\"termsAndConditionLink\" *ngIf=\"showTncPopup\">\n</app-tnc-popup>\n<app-modal-wrapper *ngIf=\"isOtpVerificationRequired\" [config]=\"{disableClose: true, size: 'small'}\"\n  (dismiss)=\"onOtpPopupClose()\" #modal>\n  <ng-template sbModalContent>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible small\">\n\n          <app-otp-popup [otpData]=\"otpData\" [redirectToLogin]=\"false\"\n            (verificationSuccess)=\"onVerificationSuccess($event)\" (closeContactForm)=\"onOtpPopupClose()\"\n            (redirectToParent)=\"onOtpVerificationError($event)\">\n          </app-otp-popup>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>","import { Component, Inject, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormService, OtpService, TncService, UserService } from '@sunbird/core';\nimport { Consent, ConsentStatus } from '@project-sunbird/client-services/models';\nimport { CsUserService } from '@project-sunbird/client-services/services/user/interface';\nimport {\n  IUserData,\n  NavigationHelperService,\n  ResourceService,\n  ServerResponse,\n  ToasterService,\n  UtilService, LayoutService\n} from '@sunbird/shared';\nimport { IInteractEventEdata, IInteractEventObject, TelemetryService } from '@sunbird/telemetry';\nimport { FieldConfig } from 'common-form-elements-web-v9';\nimport * as _ from 'lodash-es';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { ProfileService } from './../../services';\n\n@Component({\n  selector: 'app-submit-teacher-details',\n  templateUrl: './submit-teacher-details.component.html',\n  styleUrls: ['./submit-teacher-details.component.scss']\n})\nexport class SubmitTeacherDetailsComponent implements OnInit, OnDestroy {\n\n  @ViewChild('modal') modal;\n  showSuccessModal = false;\n  userProfile: any;\n  formAction: string;\n  unsubscribe = new Subject<void>();\n  layoutConfiguration: any;\n  selectedState;\n  selectedDistrict;\n  forChanges = {\n    prevPersonaValue: '',\n    prevTenantValue: '',\n    prevPhoneValue: '',\n    prevEmailValue: ''\n  };\n  showLoader = true;\n  submitInteractEdata: IInteractEventEdata;\n  submitDetailsInteractEdata: IInteractEventEdata;\n  cancelInteractEdata: IInteractEventEdata;\n  telemetryInteractObject: IInteractEventObject;\n  instance: string;\n  showTncPopup = false;\n  tncLatestVersion: any;\n  termsAndConditionLink: any;\n  otpData;\n  isOtpVerificationRequired = false;\n  validationType = {\n    'declared-phone': {\n      isVerified: false,\n      isVerificationRequired: false\n    },\n    'declared-email': {\n      isVerified: false,\n      isVerificationRequired: false\n    }\n  };\n  formGroupObj = {};\n  declaredDetails: any;\n  tenantPersonaForm;\n  teacherDetailsForm;\n  tenantPersonaLatestFormValue;\n  declaredLatestFormValue;\n  selectedTenant = '';\n  selectedStateCode: any;\n  isDeclarationFormValid = false;\n  isTenantPersonaFormValid = false;\n  otpConfirm;\n  globalConsent = 'global-consent';\n  isglobalConsent = true;\n  consentConfig: { tncLink: string; tncText: any; };\n  showGlobalConsentPopUpSection = false;\n  profileInfo: {};\n  isTenantChanged = false;\n  previousOrgId;\n\n  constructor(\n    @Inject('CS_USER_SERVICE') private csUserService: CsUserService,\n    private activatedRoute: ActivatedRoute,\n    private telemetryService: TelemetryService,\n    public resourceService: ResourceService,\n    public toasterService: ToasterService,\n    public profileService: ProfileService,\n    public userService: UserService,\n    public formService: FormService,\n    public router: Router,\n    public navigationHelperService: NavigationHelperService,\n    public otpService: OtpService,\n    public tncService: TncService,\n    public utilService: UtilService, public layoutService: LayoutService) { }\n\n  ngOnInit() {\n\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout().\n      pipe(takeUntil(this.unsubscribe)).subscribe(layoutConfig => {\n        if (layoutConfig != null) {\n          this.layoutConfiguration = layoutConfig.layout;\n        }\n      });\n\n    this.instance = _.upperCase(this.resourceService.instance || 'SUNBIRD');\n    this.consentConfig = { tncLink: this.resourceService.frmelmnts.lbl.tncLabelLink,\n       tncText: this.resourceService.frmelmnts.lbl.nonCustodianTC };\n    this.fetchTncData();\n    const queryParams = this.activatedRoute.snapshot.queryParams;\n    this.formAction = queryParams.formaction;\n    this.telemetryImpressionEvent();\n    this.userService.userData$.pipe(takeUntil(this.unsubscribe)).subscribe((user: IUserData) => {\n      if (user.userProfile) {\n        this.userProfile = user.userProfile;\n        this.getLocations();\n        if (_.get(this.userProfile, 'declarations.length')) {\n          this.declaredDetails = _.get(this.userProfile, 'declarations')[0] || '';\n          this.forChanges.prevPersonaValue = _.get(this.declaredDetails, 'persona');\n          this.forChanges.prevTenantValue = _.get(this.declaredDetails, 'orgId');\n        }\n        this.getPersonaTenant();\n        this.showLoader = false;\n      }\n    });\n    this.setTelemetryData();\n  }\n\n  fetchTncData() {\n    this.tncService.getTncConfig().pipe(takeUntil(this.unsubscribe)).subscribe((data: ServerResponse) => {\n      const response = _.get(data, 'result.response.value');\n      if (response) {\n        try {\n          const tncConfig = this.utilService.parseJson(response);\n          this.tncLatestVersion = _.get(tncConfig, 'latestVersion') || {};\n          this.termsAndConditionLink = tncConfig[this.tncLatestVersion].url;\n        } catch (e) {\n          this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0004'));\n        }\n      }\n    }, (err) => {\n      this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0004'));\n    }\n    );\n  }\n\n  showAndHidePopup(mode: boolean) {\n    this.showTncPopup = mode;\n  }\n\n  telemetryImpressionEvent() {\n    this.telemetryService.impression({\n      context: {\n        env: this.activatedRoute.snapshot.data.telemetry.env\n      },\n      edata: {\n        type: this.activatedRoute.snapshot.data.telemetry.type,\n        subtype: this.formAction,\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n        uri: this.activatedRoute.snapshot.data.telemetry.uri,\n        duration: this.navigationHelperService.getPageLoadTime()\n      }\n    });\n  }\n\n  setTelemetryData() {\n    this.submitInteractEdata = {\n      id: 'submit-teacher-details',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n    this.cancelInteractEdata = {\n      id: `cancel-${this.formAction}-teacher-details`,\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n    this.submitDetailsInteractEdata = {\n      id: `teacher-details-submit-success`,\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n  }\n\n  generateTelemetry(fieldType) {\n    const interactData = {\n      context: {\n        env: this.activatedRoute.snapshot.data.telemetry.env,\n        cdata: []\n      },\n      edata: {\n        id: `validate-${fieldType}-${this.formAction}-teacher-details`,\n        type: 'click',\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n      }\n    };\n    this.telemetryService.interact(interactData);\n  }\n\n  generateOTP(fieldType, value) {\n    this.generateTelemetry(fieldType);\n    const request = {\n      request: {\n        key: value.toString(),\n        type: fieldType === 'declared-phone' ? 'phone' : 'email'\n      }\n    };\n    this.otpService.generateOTP(request).pipe(takeUntil(this.unsubscribe)).subscribe((data: ServerResponse) => {\n      this.otpData = this.prepareOtpData(fieldType, value);\n      this.setOtpValidation(true);\n    },\n      (err) => {\n        this.toasterService.error(this.resourceService.messages.fmsg.m0051);\n      }\n    );\n  }\n\n  onVerificationSuccess(event) {\n    this.setOtpValidation(false);\n    this.otpConfirm.next(true);\n    this.otpConfirm.complete();\n  }\n\n  getFieldType(data) {\n    return _.get(data, 'phone') ? 'declared-phone' : 'declared-email';\n  }\n\n  onOtpPopupClose() {\n    this.setOtpValidation(false);\n  }\n\n  setOtpValidation(valueToSet) {\n    this.isOtpVerificationRequired = valueToSet;\n  }\n\n  onOtpVerificationError(data) {\n    this.setOtpValidation(false);\n  }\n\n  prepareOtpData(fieldType, value) {\n    const otpData: any = {};\n    switch (fieldType) {\n      case 'declared-phone':\n        otpData.instructions = this.resourceService.frmelmnts.instn.t0083;\n        otpData.retryMessage = this.resourceService.frmelmnts.lbl.unableToUpdateMobile;\n        otpData.wrongOtpMessage = this.resourceService.frmelmnts.lbl.wrongPhoneOTP;\n        break;\n      case 'declared-email':\n        otpData.instructions = this.resourceService.frmelmnts.instn.t0084;\n        otpData.retryMessage = this.resourceService.frmelmnts.lbl.unableToUpdateEmail;\n        otpData.wrongOtpMessage = this.resourceService.frmelmnts.lbl.wrongEmailOTP;\n        break;\n    }\n    otpData.type = fieldType === 'declared-phone' ? 'phone' : 'email';\n    otpData.value = value;\n    return otpData;\n  }\n\n  getLocations() {\n    _.map(this.userProfile.userLocations, (locations) => {\n      if (locations.type === 'state') {\n        this.selectedState = locations.name;\n      }\n      if (locations.type === 'district') {\n        this.selectedDistrict = locations.name;\n      }\n    });\n  }\n\n  getUpdateTelemetry() {\n    const fieldsChanged = [];\n    if (this.forChanges.prevPersonaValue !== _.get(this.tenantPersonaLatestFormValue, 'persona')) { fieldsChanged.push('Persona'); }\n    if (this.forChanges.prevTenantValue !== _.get(this.tenantPersonaLatestFormValue, 'tenant')) { fieldsChanged.push('Tenant'); }\n    if (this.declaredDetails && _.get(this.declaredLatestFormValue, 'children.externalIds')) {\n      const userDeclaredValues = _.get(this.declaredLatestFormValue, 'children.externalIds');\n      for (const [key, value] of Object.entries(userDeclaredValues)) {\n        if (!_.includes(['state', 'district', 'name'], key) &&\n          this.declaredDetails.info[key] !== this.declaredLatestFormValue.children.externalIds[key]) {\n          fieldsChanged.push(key);\n        }\n      }\n    }\n\n    const updateInteractEdata: IInteractEventEdata = {\n      id: 'update-teacher-details',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n    if (!_.isEmpty(fieldsChanged)) {\n      updateInteractEdata['extra'] = { fieldsChanged };\n    }\n    return updateInteractEdata;\n  }\n\n  closeSuccessModal() {\n    this.modal.deny();\n    this.showSuccessModal = false;\n    this.navigateToProfile();\n  }\n\n\n  updateProfile(data) {\n    this.profileService.declarations(data).pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n      if (this.formAction === 'update') {\n        this.toasterService.success(this.resourceService.messages.smsg.m0037);\n        this.navigateToProfile();\n      } else {\n        if (_.get(this.declaredLatestFormValue, 'tnc')) {\n          this.logAuditEvent();\n        }\n        this.showSuccessModal = true;\n      }\n    }, err => {\n      this.navigateToProfile();\n      this.toasterService.error(this.formAction === 'submit' ? this.resourceService.messages.emsg.m0051 :\n        this.resourceService.messages.emsg.m0052);\n    });\n  }\n\n  goBack() {\n    this.navigationHelperService.goBack();\n  }\n\n\n  logAuditEvent() {\n    this.telemetryService.audit({\n      context: {\n        env: this.activatedRoute.snapshot.data.telemetry.env,\n        cdata: [{ id: 'teacher-self-declaration', type: 'FromPage' }]\n      },\n      object: { id: 'data-sharing', type: 'TnC', ver: this.tncLatestVersion },\n      edata: { state: 'Updated', props: [], prevstate: '', type: 'tnc-data-sharing' }\n    });\n  }\n\n  navigateToProfile() {\n    this.router.navigate(['/profile']);\n  }\n\n  getPersonaTenant() {\n    this.profileService.getPersonaTenantForm().pipe(takeUntil(this.unsubscribe)).subscribe(response => {\n      this.selectedTenant = (_.get(this.userProfile, 'declarations[0].orgId')) || '';\n\n      response.forEach(config => {\n        if (config.code === 'persona') {\n          config.default = _.get(this.userProfile, 'declarations[0].persona');\n        } else if (config.code === 'tenant') {\n          config.default = _.get(this.userProfile, 'declarations[0].orgId');\n        }\n      });\n\n      this.tenantPersonaForm = response;\n      if (this.selectedTenant) {\n        this.getTeacherDetailsForm();\n      }\n    }, error => {\n      console.error('Unable to fetch form', error);\n      this.toasterService.error(_.get(this.resourceService, 'messages.emsg.m0005'));\n      this.navigateToProfile();\n    });\n  }\n\n  tenantPersonaFormValueChanges(event) {\n    this.tenantPersonaLatestFormValue = event;\n    if (_.get(event, 'tenant')) {\n      if (!this.selectedTenant || event.tenant !== this.selectedTenant) {\n        this.previousOrgId = this.selectedTenant;\n        this.isTenantChanged = this.selectedTenant ? true : false;\n        this.selectedTenant = event.tenant;\n        this.getTeacherDetailsForm();\n      }\n    }\n  }\n\n  linkClicked(event) {\n    if (_.get(event, 'event.preventDefault')) {\n      event.event.preventDefault();\n      this.showTncPopup = true;\n    }\n  }\n\n  declarationFormValueChanges(event) {\n    this.declaredLatestFormValue = event;\n    if (_.get(event, 'children.externalIds')) {\n      if (!this.selectedStateCode && _.get(event, 'children.externalIds.declared-state')) {\n        this.selectedStateCode = event.children.externalIds['declared-state'];\n      }\n      if (_.get(event, 'children.externalIds[\"declared-state\"]') && this.selectedStateCode !== _.get(event, 'children.externalIds.declared-state')) {\n        this.selectedStateCode = event.children.externalIds['declared-state'];\n      }\n    }\n  }\n\n  tenantPersonaFormStatusChanges(event) {\n    this.isTenantPersonaFormValid = event.isValid || event.valid;\n  }\n\n  declarationFormStatusChanges(event) {\n    this.isDeclarationFormValid = event.isValid;\n  }\n\n  getTeacherDetailsForm() {\n    this.profileService.getSelfDeclarationForm(this.selectedTenant).pipe(takeUntil(this.unsubscribe)).subscribe(formConfig => {\n      console.log('formConfig', formConfig);\n      this.initializeFormData(formConfig);\n    }, error => {\n      console.error('Unable to fetch form', error);\n      this.toasterService.error(_.get(this.resourceService, 'messages.emsg.m0005'));\n    });\n  }\n\n  initializeFormData(formConfig) {\n    this.teacherDetailsForm = formConfig.map((config: FieldConfig<any>) => {\n      switch (config.code) {\n        case 'name':\n          config.templateOptions.labelHtml.values['$1'] = this.userProfile.firstName;\n          break;\n        case 'state':\n          config.templateOptions.labelHtml.values['$1'] = this.selectedState || 'Enter location from Profile page';\n          break;\n        case 'district':\n          config.templateOptions.labelHtml.values['$1'] = this.selectedDistrict || 'Enter location from Profile page';\n          break;\n        case 'externalIds':\n          config.children = (config.children as FieldConfig<any>[]).map((childConfig: FieldConfig<any>) => {\n\n            if (_.get(childConfig, `templateOptions['dataSrc'].marker`) === 'LOCATION_LIST') {\n              if (childConfig.templateOptions['dataSrc'].params.id === 'state') {\n                let stateCode;\n                if (this.selectedState) {\n                  stateCode = this.selectedState;\n                } else {\n                  let stateDetails;\n                  if (_.get(this.userProfile, `declarations[0].info[${childConfig.code}]`)) {\n                    stateDetails = this.userProfile.declarations[0].info[childConfig.code];\n                  }\n                  stateCode = _.get(stateDetails, 'id');\n                }\n              } else if (_.get(childConfig, 'templateOptions[\"dataSrc\"].params.id') === 'district') {\n                let districtDetails;\n                if (_.get(this.userProfile, `declarations[0].info[${childConfig.code}]`)) {\n                  districtDetails = this.userProfile.declarations[0].info[childConfig.code];\n                }\n              }\n              return childConfig;\n            }\n\n            this.assignDefaultValue(childConfig);\n            if (childConfig.asyncValidation) {\n              childConfig = this.assignDefaultValue(childConfig);\n\n              if (_.get(childConfig, 'asyncValidation.marker') === 'MOBILE_OTP_VALIDATION') {\n                childConfig.asyncValidation.asyncValidatorFactory = this.mobileVerificationAsyncFactory(childConfig, this.userProfile, childConfig.default);\n              } else if (_.get(childConfig, 'asyncValidation.marker') === 'EMAIL_OTP_VALIDATION') {\n                childConfig.asyncValidation.asyncValidatorFactory = this.emailVerificationAsyncFactory(childConfig, this.userProfile, childConfig.default);\n              }\n              return childConfig;\n            }\n            return childConfig;\n          });\n          break;\n        case 'tnc':\n          if (this.formAction === 'update') {\n            config = undefined;\n          }\n          break;\n      }\n      return config;\n    }).filter((formData) => formData);\n  }\n\n  private assignDefaultValue(childConfig: FieldConfig<any>) {\n    if (_.get(this.userProfile, `declarations[0].info[${childConfig.code}]`)) {\n      childConfig.default = this.userProfile.declarations[0].info[childConfig.code];\n    }\n\n    if (this.formAction === 'submit') {\n      if (childConfig.code === 'declared-phone') {\n        childConfig.default = this.userProfile['maskedPhone'];\n      }\n\n      if (childConfig.code === 'declared-email') {\n        childConfig.default = this.userProfile['maskedEmail'];\n      }\n    }\n\n    return childConfig;\n  }\n\n\n\n  mobileVerificationAsyncFactory(formElement: FieldConfig<any>, profile: any, initialMobileVal): any {\n    return (marker: string, trigger: HTMLElement) => {\n      if (marker === 'MOBILE_OTP_VALIDATION') {\n        return async (control: FormControl) => {\n          if ((control && !control.value) || (initialMobileVal && initialMobileVal === control.value)) {\n            return null;\n          }\n          return new Promise<ValidationErrors | null>(resolve => {\n            if (trigger) {\n              const that = this;\n              this.otpConfirm = new Subject();\n              trigger.onclick = (async () => {\n                try {\n                  that.generateOTP('declared-phone', control.value);\n                  const isOtpVerified: boolean = await that.otpConfirm.toPromise();\n                  if (isOtpVerified) {\n                    resolve(null);\n                  } else {\n                    resolve({ asyncValidation: 'error' });\n                  }\n                } catch (e) {\n                  console.error(e);\n                }\n              }).bind(this);\n              return;\n            }\n            resolve(null);\n          });\n        };\n      }\n      return async () => null;\n    };\n  }\n\n  emailVerificationAsyncFactory(formElement: FieldConfig<any>, profile: any, initialEmailVal): any {\n    return (marker: string, trigger: HTMLElement) => {\n      if (marker === 'EMAIL_OTP_VALIDATION') {\n        return async (control: FormControl) => {\n          if ((control && !control.value) || (initialEmailVal && initialEmailVal === control.value)) {\n            return null;\n          }\n          return new Promise<ValidationErrors | null>(resolve => {\n            if (trigger) {\n              const that = this;\n              this.otpConfirm = new Subject();\n              trigger.onclick = (async () => {\n                try {\n                  that.generateOTP('declared-email', control.value);\n                  const isOtpVerified: boolean = await that.otpConfirm.toPromise();\n                  if (isOtpVerified) {\n                    resolve(null);\n                  } else {\n                    resolve({ asyncValidation: 'error' });\n                  }\n                } catch (e) {\n                  console.error(e);\n                }\n              }).bind(this);\n              return;\n            }\n            resolve(null);\n          });\n        };\n      }\n      return async () => null;\n    };\n  }\n\n  closeConsentPopUp() {\n    this.showGlobalConsentPopUpSection = false;\n    this.isglobalConsent = false;\n    this.globalConsent = '';\n  }\n\n  async submit() {\n    if (!this.declaredLatestFormValue || !this.tenantPersonaLatestFormValue) {\n      this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0051'));\n      return;\n    }\n    const formValue = this.declaredLatestFormValue.children.externalIds;\n    const declarations = [];\n    const declaredDetails = this.declaredLatestFormValue.children && this.declaredLatestFormValue.children.externalIds;\n    let operation = '';\n    if (!this.userProfile.declarations || !_.get(this.userProfile, 'declarations.length')) {\n      operation = 'add';\n    } else if (this.tenantPersonaLatestFormValue.tenant === this.userProfile.declarations[0].orgId) {\n      operation = 'edit';\n    } else if (this.tenantPersonaLatestFormValue.tenant !== this.userProfile.declarations[0].orgId) {\n      const tenantPersonaData = { persona: this.userProfile.declarations[0].persona, tenant: this.userProfile.declarations[0].orgId };\n      declarations.push(this.getDeclarationReqObject('remove', this.userProfile.declarations[0].info, tenantPersonaData));\n      operation = 'add';\n    }\n    declarations.push(this.getDeclarationReqObject(operation, declaredDetails, this.tenantPersonaLatestFormValue));\n\n    const data = { declarations };\n    this.getProfileInfo(declarations);\n    this.updateProfile(data);\n    if (this.formAction === 'submit') {\n      this.updateUserConsent(declarations[0].orgId);\n    } else if (this.formAction === 'update' && this.isTenantChanged) {\n      this.updateUserConsent(declarations[1].orgId, this.previousOrgId);\n    }\n  }\n\n  updateUserConsent(currentOrgId, previousOrgId?) {\n    if (this.isTenantChanged && !!previousOrgId) {\n      const requestFoRevoked: Consent = {\n        status: ConsentStatus.REVOKED,\n        userId: this.userService.userid,\n        consumerId: previousOrgId,\n        objectId: previousOrgId,\n        objectType: 'Organisation'\n      };\n      this.csUserService.updateConsent(requestFoRevoked, { apiPath: '/learner/user/v1' })\n        .pipe(takeUntil(this.unsubscribe))\n        .subscribe((response) => {\n         // this.toasterService.success(_.get(this.resourceService, 'messages.smsg.dataSettingSubmitted'));\n          if (response && response.consent) {\n            this.isTenantChanged = false;\n            const requestForActive: Consent = {\n              status: ConsentStatus.ACTIVE,\n              userId: this.userService.userid,\n              consumerId: currentOrgId,\n              objectId: currentOrgId,\n              objectType: 'Organisation'\n            };\n            this.csUserService.updateConsent(requestForActive, { apiPath: '/learner/user/v1' })\n              .pipe(takeUntil(this.unsubscribe))\n              .subscribe(() => {\n                this.toasterService.success(_.get(this.resourceService, 'messages.smsg.dataSettingSubmitted'));\n              }, error => {\n                this.toasterService.error(_.get(this.resourceService, 'messages.emsg.m0005'));\n                console.error('Error while updating user consent', error);\n              });\n          }\n        }, error => {\n          this.toasterService.error(_.get(this.resourceService, 'messages.emsg.m0005'));\n          console.error('Error while updating user consent', error);\n        });\n    } else {\n      const request: Consent = {\n        status: ConsentStatus.ACTIVE,\n        userId: this.userService.userid,\n        consumerId: currentOrgId,\n        objectId: currentOrgId,\n        objectType: 'Organisation'\n      };\n      this.csUserService.updateConsent(request, { apiPath: '/learner/user/v1' })\n        .pipe(takeUntil(this.unsubscribe))\n        .subscribe(() => {\n          this.toasterService.success(_.get(this.resourceService, 'messages.smsg.dataSettingSubmitted'));\n        }, error => {\n          this.toasterService.error(_.get(this.resourceService, 'messages.emsg.m0005'));\n          console.error('Error while updating user consent', error);\n        });\n    }\n  }\n\n  getProfileInfo(declarations) {\n    this.profileInfo = {\n      emailId: '',\n      phone: '',\n      schoolId: '',\n      schoolName: ''\n    };\n    for (const [key, value] of Object.entries(declarations[0].info)) {\n      switch (key) {\n        case 'declared-email':\n          this.profileInfo['emailId'] = value;\n          break;\n        case 'declared-phone':\n          this.profileInfo['phone'] = value;\n          break;\n        case 'declared-school-udise-code':\n          this.profileInfo['schoolId'] = value;\n          break;\n        case 'declared-school-name':\n          this.profileInfo['schoolName'] = value;\n          break;\n      }\n    }\n  }\n\n  private getDeclarationReqObject(operation, declaredDetails, tenantPersonaDetails) {\n    return {\n      operation,\n      userId: this.userProfile.userId,\n      orgId: tenantPersonaDetails.tenant,\n      persona: tenantPersonaDetails.persona,\n      info: declaredDetails\n    };\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n    if (_.get(this.modal, 'deny')) {\n      this.modal.deny();\n    }\n  }\n}\n","<div [appTelemetryImpression]=\"telemetryImpression\">\n    <!--profile Content Header -->\n    <div [ngClass]=\"layoutConfiguration ? 'sb-back-actionbar' : 'sb-bg-white cc-player__btn-back'\" class=\"relative position mt-0\" [ngClass]=\"{'header-block': isFullScreenView}\">\n      <div class=\"ui container py-0 px-0 d-flex flex-ai-center\">\n        <button type=\"button\" (click)=\"goBack()\" [ngClass]=\"layoutConfiguration ? 'sb-btn-round' : ''\" class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn px-0\"\n        tabindex=\"0\">\n        <i class=\"icon-svg icon-svg--xxs icon-back mr-4\"><svg class=\"icon icon-svg--primary\">\n            <use xlink:href=\"assets/images/sprite.svg#arrow-long-left\"></use>\n          </svg></i>\n       <span>{{resourceService?.frmelmnts?.btn?.back}}</span>\n      </button>\n        <div class=\"content-header__content w-100 ml-16\">\n          <div class=\"d-flex flex-dc flex-basis-1 mr-32 min-w-0 content-header__content__title\">\n            <div class=\"content-header__title font-weight-bold ellipsis text-left\"  tabindex=\"0\" role=\"heading\" aria-level=\"2\">{{resourceService?.frmelmnts?.lbl?.createUser}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div [ngClass]=\"layoutConfiguration ? 'sbt-inside-page-container' : ''\">\n  <div class=\"ui container py-16\" *ngIf=\"showLoader\">\n    <app-loader></app-loader>\n  </div>\n  <div class=\"user-profile-box p-0\" *ngIf=\"!showLoader\">\n    <div class=\"d-flex flex-jc-space-between py-16 px-16\">\n      <div role=\"heading\" aria-level=\"1\" class=\"user-profile-box__title\">{{resourceService?.frmelmnts?.lbl?.createUser}}</div>\n    </div>\n    <div class=\"twelve wide column p-0 mx-16 mb-8 text-center\"><img src=\"../../assets/images/profile-icon.svg\" alt=\"profile-icon\"\n        width=\"88px\"></div>\n    <form class=\"sb-form mb-16 px-16\" [formGroup]=\"userDetailsForm\">\n      <div class=\"ui stackable grid m-0\" *ngFor=\"let field of formData\">\n        <div class=\"twelve wide column p-0\" *ngIf=\"field.inputType==='input' && field.visible===true\">\n          <div class=\"d-flex fields-selection p-0\">\n            <div class=\"sb-field field-focus mb-8 w-100\">\n              <input\n                [ngClass]=\"{'orange-border': userDetailsForm.controls[field.code].touched && userDetailsForm.controls[field.code].errors}\"\n                class=\"sb-form-control\" formControlName=\"{{field.code}}\" aria-label=\"Enter Name\" type=\"text\" name=\"{{field.code}}\"\n                placeholder=\"{{field.description}}\">\n              <label\n                *ngIf=\"!(userDetailsForm.controls[field.code].touched && userDetailsForm.controls[field.code].errors)\"\n                class=\"font-weight-normal\">{{field.name}}<span class=\"sb-color-warning\">*</span></label>\n              <label *ngIf=\"userDetailsForm.controls[field.code].touched && userDetailsForm.controls[field.code].errors\"\n                class=\"font-weight-normal orange text\">{{resourceService?.frmelmnts?.lbl?.nameRequired}}</label>\n            </div>\n          </div>\n          <p class=\"fsmall my-8 text-left line-height-normal\">\n            {{resourceService?.frmelmnts?.lbl?.preferenceCanBeUpdated}}&lrm;</p>\n        </div>\n      </div>\n    </form>\n    <div class=\"user-profile-box__actions pb-16 px-16\">\n      <button appTelemetryInteract appOnlineOnly [telemetryInteractEdata]=\"submitInteractEdata\" [disabled]=\"!enableSubmitBtn\"\n        (click)=\"onSubmitForm()\" tabindex=\"0\" type=\"submit\" [ngClass]=\"{'sb-btn-disabled': !enableSubmitBtn}\"\n        class=\"sb-btn sb-btn-normal sb-btn-primary\">\n        {{resourceService?.frmelmnts?.lbl?.addUser}}\n      </button>\n      <button appTelemetryInteract [telemetryInteractEdata]=\"submitCancelInteractEdata\" appTelemetryInteract\n        type=\"button\" class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-8\" tabindex=\"0\" (click)=\"onCancel()\">\n        {{resourceService?.frmelmnts.btn.cancel}}</button>\n    </div>\n  </div>\n</div>\n</div>\n","<!--profile Content Header -->\n    <div [ngClass]=\"layoutConfiguration ? 'sb-back-actionbar' : 'sb-bg-white cc-player__btn-back'\" class=\"relative position mt-0\" [ngClass]=\"{'header-block': isFullScreenView}\">\n      <div class=\"ui container py-0 px-0 d-flex flex-ai-center\">\n        <button type=\"button\" (click)=\"goBack()\" [ngClass]=\"layoutConfiguration ? 'sb-btn-round' : ''\" class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn px-0\"\n        tabindex=\"0\">\n        <i class=\"icon-svg icon-svg--xxs icon-back mr-4\"><svg class=\"icon icon-svg--primary\">\n            <use xlink:href=\"assets/images/sprite.svg#arrow-long-left\"></use>\n          </svg></i>\n       <span>{{resourceService?.frmelmnts?.btn?.back}}</span>\n      </button>\n        <div class=\"content-header__content w-100 ml-16\">\n          <div class=\"d-flex flex-dc flex-basis-1 mr-32 min-w-0 content-header__content__title\">\n            <div class=\"content-header__title font-weight-bold ellipsis text-left\"  tabindex=\"0\" role=\"heading\" aria-level=\"2\">{{resourceService.frmelmnts?.lbl?.useInstanceAs | interpolate:'{instance}': instance}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div [ngClass]=\"layoutConfiguration ? 'sbt-inside-page-container' : ''\">\n<div class=\"user-profile-box my-32 p-0\">\n  <div class=\"d-flex flex-jc-space-between px-16 pt-16\">\n    <div class=\"user-profile-box__title\">\n      {{resourceService.frmelmnts?.lbl?.useInstanceAs | interpolate:'{instance}': instance}}\n    </div>\n  </div>\n  <div class=\"px-16\">\n    <button (click)=\"navigateToCreateUser()\" type=\"submit\" appOnlineOnly tabindex=\"0\"\n            class=\"sb-btn sb-btn-sm sb-btn-outline-secondary sb-left-icon-btn w-100 mt-16 mb-24\">\n      <i class=\"chevron plus icon\"></i> {{resourceService.frmelmnts?.lbl?.addUser}}\n    </button>\n  </div>\n  <div class=\"px-16 mb-16 member-list-container\">\n    <sb-member-list [layoutConfig]=memberCardConfig\n                    [memberList]=\"userList\"\n                    [isMenu]=\"false\"\n                    (cardClick)=\"selectUser($event)\">\n    </sb-member-list>\n  </div>\n  <div class=\"user-profile-box__actions pb-16 px-16\">\n    <button type=\"submit\" class=\"sb-btn sb-btn-normal\" (click)=\"switchUser()\" tabindex=\"0\"\n            [disabled]=\"!selectedUser\" appOnlineOnly\n            appTelemetryInteract [telemetryInteractEdata]=\"submitInteractEdata\"\n            [ngClass]=\"{'sb-btn-disabled': !selectedUser, 'sb-btn-primary': selectedUser}\">\n      {{resourceService.frmelmnts?.lbl?.switchUser}}\n    </button>\n    <button type=\"submit\" (click)=\"closeSwitchUser()\" tabindex=\"0\"\n            class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-8\">{{resourceService.frmelmnts?.btn?.cancel}}</button>\n  </div>\n</div>\n</div>\n","<app-landing-section [textToDisplay]=\"\"\n[layoutConfiguration]=\"{}\" [noTitle]=\"true\"></app-landing-section>\n  <!--profile Content Header -->\n  <div [ngClass]=\"layoutConfiguration ? 'sb-back-actionbar' : 'sb-bg-white cc-player__btn-back'\" class=\"relative position mt-0\" [ngClass]=\"{'header-block': isFullScreenView}\">\n    <div class=\"ui container py-0 px-0 d-flex flex-ai-center\">\n      <button type=\"button\" (click)=\"goBack()\" [ngClass]=\"layoutConfiguration ? 'sb-btn-round' : ''\" class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn px-0\"\n      tabindex=\"0\">\n      <i class=\"icon-svg icon-svg--xxs icon-back mr-4\"><svg class=\"icon icon-svg--primary\">\n          <use xlink:href=\"assets/images/sprite.svg#arrow-long-left\"></use>\n        </svg></i>\n     <span>{{resourceService?.frmelmnts?.btn?.back}}</span>\n    </button>\n      <div class=\"content-header__content w-100 ml-16\">\n        <div class=\"d-flex flex-dc flex-basis-1 mr-32 min-w-0 content-header__content__title\">\n          <div class=\"content-header__title font-weight-bold ellipsis text-left\"  tabindex=\"0\" role=\"heading\" aria-level=\"2\">{{resourceService.frmelmnts?.lnk?.profile}}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n<div [ngClass]=\"layoutConfiguration ? 'sbt-inside-page-container' : ''\">\n<div [ngClass]=\"layoutConfiguration ? 'relative9' : ''\">\n<div [appTelemetryImpression]=\"telemetryImpression\" *ngIf=\"userProfile\">\n  <section class=\"py-24 d-flex flex-ai-center flex-dc\">\n    <div class=\"ui container\">\n      <div class=\"mb-15 d-flex flex-jc-center relative avatar-container\" aria-label=\"Profile\">\n       <img *ngIf=\"userProfile.stateValidated || !isCustodianOrgUser\" role=\"img\" src=\"assets/images/avatar-tickmark.svg\" alt=\"certified\" class=\"avatar-tickmark\"\n        matTooltip=\"{{resourceService.frmelmnts.lbl.stateVerified}}\" [matTooltipPosition]=\"'right'\">\n       <ngx-avatar [ngClass]=\"{verified: userProfile.stateValidated}\" class=\"my-avatar\" [style]=\"{\n         backgroundColor: '#ffffff',\n         border: '1px solid #fff',\n         boxShadow: '0 0 6px 0 rgba(0,0,0,0.38)',\n         borderRadius: '50%',\n         color: '#9017FF',\n         fontWeight: '700',\n         fontFamily: 'inherit'}\" [size]=\"98\" initialsSize=\"1\" [textSizeRatio]=\"2\" name=\"{{userProfile.firstName}} \">\n       </ngx-avatar>\n      </div>\n    </div>\n    <div class=\"profile-user-label font-w-bold d-flex text-center relative position\">{{userProfile.firstName | titlecase}} {{userProfile.lastName |\n      titlecase}}\n    </div>\n    <div class=\"mt-8 mb-16 d-flex flex-jc-center\">\n      <div class=\"fnormal\">{{resourceService?.frmelmnts?.lbl?.instacnceId | interpolate:'{instance}': instance}} :</div>\n      <div class=\"fnormal ml-5\" id=\"copyUser\">{{userProfile.userName}}</div>\n      <div role=\"button\" class=\"ml-8 cursor-pointer\" tabindex=\"0\" (click)=\"copyToClipboard(userProfile.userName)\" matTooltip=\"{{resourceService.frmelmnts?.lbl?.copyid | interpolate:'{instance}': instance}}\" [matTooltipPosition]=\"'left'\">\n        <i class=\"icon-svg icon-svg--xs icon-edit\">\n          <svg class=\"icon icon-svg--primary\">\n          <use xlink:href=\"assets/images/sprite.svg#copy-alternate\"></use>\n        </svg>\n        </i>\n        <span class=\"sb-color-primary\" role=\"link\" tabindex=\"0\" attr.aria-label={{resourceService?.frmelmnts?.lbl?.copy}}>{{resourceService?.frmelmnts?.lbl?.copy}}</span>\n      </div>\n\n    </div>\n    <div class=\"mb-15 text-center profile-label-container\" *ngIf=\"roles && roles.length > 0\">\n      <span class=\"ui dodger-blue basic label mr-15 mt-5\"\n        *ngFor=\"let role of roles | slice:0:showMoreRolesLimit\">{{role}}</span>\n    </div>\n    <div *ngIf=\"roles.length > configService.appConfig.PROFILE.defaultShowMoreLimit\"\n      class=\"fs-1 color-2 mb-8 font-w-bold cursor-pointer\">\n      <span tabindex=\"0\" *ngIf=\"showMoreRoles\" (click)=\"toggle(true)\">+ {{roles.length -\n        configService.appConfig.PROFILE.defaultShowMoreLimit}} {{resourceService.frmelmnts.lbl.more}}\n        <i class=\"chevron down icon\"></i>\n      </span>\n      <span (click)=\"toggle(false)\" *ngIf=\"!showMoreRoles\">\n        {{resourceService.frmelmnts.lbl.showLess}}\n        <i class=\"chevron up icon\"></i>\n      </span>\n    </div>\n    <div class=\"ui container\">\n      \n  </div>\n    <div class=\"fs-1-5 font-w-bold d-flex mb-8 text-center org-info\" *ngIf=\" orgDetails && orgDetails.orgName\">{{orgDetails.orgName}}\n    </div>\n    <!-- <div class=\"ui container\" *ngIf=\"!isCustodianOrgUser\">\n      <div class=\"d-flex flex-dc flex-jcc-center flex-ai-center\">\n        <button appTelemetryInteract\n          [telemetryInteractEdata]=\"editProfileInteractEdata\"\n          class=\"sb-btn sb-btn-primary sb-btn-normal sb-btn-border my-16 computer only\"\n          (click)=\"showEditUserDetailsPopup=true\">{{resourceService.frmelmnts.lbl.edit}}</button>\n          </div>\n    </div> -->\n    <!-- <div class=\"m-0 pl-0 computer only\" *ngIf=\"nonCustodianUserLocation && !isCustodianOrgUser\">\n      <div class=\"mb-0 d-flex mb-5 flex-jc-center\" *ngIf=\"nonCustodianUserLocation.block\">\n        <div class=\"fmedium\">{{resourceService.frmelmnts.lbl.block}} :</div>\n        <div class=\"fmedium font-w-bold ml-5\">{{nonCustodianUserLocation.block}}</div>\n      </div>\n      <div class=\"mb-0 d-flex mb-5 flex-jc-center\" *ngIf=\"nonCustodianUserLocation.district\">\n        <div class=\"fmedium\">{{resourceService.frmelmnts.lbl.district}} :</div>\n        <div class=\"fmedium font-w-bold ml-5\">{{nonCustodianUserLocation.district}}</div>\n      </div>\n      <div class=\"mb-0 d-flex mb-5 flex-jc-center\" *ngIf=\"nonCustodianUserLocation.state\">\n        <div class=\"fmedium\">{{resourceService.frmelmnts.lbl.state}} :</div>\n        <div class=\"fmedium font-w-bold ml-5\">{{nonCustodianUserLocation.state}}</div>\n      </div>\n    </div> -->\n\n    <!-- <div class=\"m-0 pl-0 mobile only\" *ngIf=\"orgDetails && orgDetails.locations && !isCustodianOrgUser\">\n      <div class=\"mb-0 d-flex m-responsive-flex-dc mt-15\" *ngIf=\"getLocationDetails(orgDetails.locations, 'block')\">\n        <span class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.block}} :</span>\n        <span class=\"fmedium font-w-bold text-center\">{{getLocationDetails(orgDetails.locations, 'block')}}</span>\n      </div>\n      <div class=\"mb-0 d-flex m-responsive-flex-dc mt-15\" *ngIf=\"getLocationDetails(orgDetails.locations, 'district')\">\n        <span class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.district}} :</span>\n        <span class=\"fmedium font-w-bold text-center\">{{getLocationDetails(orgDetails.locations, 'district')}}</span>\n      </div>\n      <div class=\"mb-0 d-flex m-responsive-flex-dc mt-15\" *ngIf=\"getLocationDetails(orgDetails.locations, 'state')\">\n        <span class=\"fmedium text-center text-center\">{{resourceService.frmelmnts.lbl.state}} :</span>\n        <span class=\"fmedium font-w-bold text-center\">{{getLocationDetails(orgDetails.locations, 'state')}}</span>\n      </div>\n    </div> -->\n  </section>\n\n<section class=\"d-flex flex-ai-center flex-dc pb-24 content-preference\">\n\n     <div class=\"ui container content-preference__info pt-16\">\n        <div class=\"mb-0 d-flex flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.orgname}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">{{userProfile.organisations[0].orgName}}</div>\n        </div>\n\n        <div *ngIf=\"userProfile.organisations.length > 1\" class=\"mb-30 d-flex flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.suborgname}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">{{userProfile.organisations[1].orgName}}</div>\n        </div>\n        </div>\n\n     <!--  <h3 class=\"content-header-info font-weight-bold mb-16\">{{resourceService.frmelmnts.lbl.profiledetails}}</h3>\n\n      <div class=\"ui container content-preference__info pt-16\">\n        <div *ngIf=\"persona?.name\" class=\"mb-0 d-flex flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.role}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">{{persona.name}}</div>\n        </div>\n        <div *ngIf=\"subPersona\" class=\"mb-0 d-flex flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center white-space-nowrap\">{{resourceService.frmelmnts.lbl.subRole}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">{{subPersona.join(', ')}}</div>\n        </div>\n        <div *ngIf=\"userLocation?.district && userLocation?.district?.name\" class=\"mb-0 d-flex flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.district}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">\n            {{userLocation.district.name}} </div>\n        </div>\n        <div *ngIf=\"userLocation?.state && userLocation?.state?.name\" class=\"d-flex mb-5 flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.state}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">\n            {{userLocation.state.name}}</div>\n        </div>\n        <div *ngIf=\"userLocation?.block && userLocation?.block?.name\" class=\"mb-0 d-flex flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.block}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">\n            {{userLocation.block.name}} </div>\n        </div>\n        <div *ngIf=\"userLocation?.cluster && userLocation?.cluster?.name\" class=\"mb-0 d-flex flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.cluster}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">\n            {{userLocation.cluster.name}} </div>\n        </div>\n        <div *ngIf=\"userLocation?.school && userLocation?.school?.name\" class=\"mb-0 d-flex flex-jc-center m-responsive-flex-dc m-responsive-mt-15\">\n          <div class=\"fmedium text-center\">{{resourceService.frmelmnts.lbl.school}} :</div>\n          <div class=\"fmedium ml-5 font-w-bold text-center\">\n            {{userLocation.school.name}} </div>\n        </div>\n        \n        <div class=\"d-flex flex-dc flex-jcc-center flex-ai-center\">\n          <button appTelemetryInteract appOnlineOnly\n            [telemetryInteractEdata]=\"editProfileInteractEdata\"\n            class=\"sb-btn sb-btn-primary sb-btn-normal sb-btn-border my-16\" attr.aria-label=\"{{resourceService?.frmelmnts?.lbl?.editPersonalDetails}}\" tabindex=\"0\"\n            (click)=\"showEditUserDetailsPopup=true\" tabindex=\"0\">{{resourceService.frmelmnts.lbl.edit}}</button>\n          <button appTelemetryInteract appOnlineOnly tabindex=\"0\"\n                  [telemetryInteractEdata]=\"submitTeacherDetailsInteractEdata\"\n                  *ngIf=\"!declarationDetails && isCustodianOrgUser && !userProfile.isMinor\"\n                  (click)=\"navigate('/profile/submit-declaration','submit')\" tabindex=\"0\"\n                  class=\"no-text-transform sb-btn sb-btn-normal sb-btn-secondary sb-right-icon-btn mx-8 mb-8 px-24\" type=\"submit\">\n          {{resourceService?.frmelmnts?.lbl?.iAmStateTeacher}} </button>\n        </div>\n      </div>-->\n  </section> \n  \n  <section class=\"d-flex flex-ai-center flex-dc pt-30 pb-30 profile-bg-c-4 content-preference\">\n    <!-- User info computer view starts-->\n    <div class=\"ui container\">\n      <div class=\"d-flex flex-jc-center flex-ai-center flex-dc\" *ngIf=\"userProfile && userProfile.framework \">\n        <div class=\"max-w-400 computer only\">\n          <div class=\"mb-15 d-flex flex-jc-center\" *ngIf=\"convertToString(userProfile.framework.board)\">\n            <span class=\"fmedium white-space-nowrap\">{{resourceService.frmelmnts.lbl.boards}} :</span>\n            <span class=\"fmedium font-w-bold pl-4\"\n              *ngIf=\"userProfile.framework\">{{convertToString(userProfile.framework.board) | interpolate: 'CBSE': 'CBSE/NCERT'}}</span>\n          </div>\n          <div class=\"mb-15 d-flex flex-jc-center\" *ngIf=\"convertToString(userProfile.framework.medium)\">\n            <span class=\"fmedium white-space-nowrap\">{{resourceService.frmelmnts.lbl.medium}} :</span>\n            <span class=\"fmedium font-w-bold pl-4\"\n              *ngIf=\"userProfile.framework\">{{convertToString(userProfile.framework.medium)}}</span>\n          </div>\n          <div class=\"mb-15 d-flex flex-jc-center\" *ngIf=\"convertToString(userProfile.framework.gradeLevel)\">\n            <span class=\"fmedium white-space-nowrap\">{{resourceService.frmelmnts.lbl.classes}} :</span>\n            <span class=\"fmedium font-w-bold pl-4\"\n              *ngIf=\"userProfile.framework\">{{convertToString(userProfile.framework.gradeLevel)}}</span>\n          </div>\n          <div class=\"d-flex flex-jc-center\" *ngIf=\"convertToString(userProfile.framework.subject)\">\n            <span class=\"fmedium white-space-nowrap\">{{resourceService.frmelmnts.lbl.subjects}} :</span>\n            <span class=\"fmedium font-w-bold pl-4\"\n              *ngIf=\"userProfile.framework\">{{convertToString(userProfile.framework.subject)}}</span>\n          </div>\n        </div>\n        <button class=\"sb-btn sb-btn-primary sb-btn-normal my-16 sb-btn-border computer only\"\n          appTelemetryInteract appOnlineOnly\n          [telemetryInteractEdata]=\"myFrameworkEditEdata\" attr.aria-label=\"{{resourceService.frmelmnts.lbl.edit}} {{resourceService.frmelmnts.lbl.boards}},{{resourceService.frmelmnts.lbl.medium}},{{resourceService.frmelmnts.lbl.classes}},{{convertToString(userProfile.framework.gradeLevel)}},{{resourceService.frmelmnts.lbl.subjects}}\"\n          (click)=\"showEdit = !showEdit\" tabindex=\"0\">{{resourceService.frmelmnts.lbl.edit}}</button>\n      </div>\n    </div>\n    <!-- User info computer view ends-->\n\n    <!-- User info mobile view starts-->\n    <div class=\"max-w-300 mobile only\">\n      <div class=\"mb-15 d-flex flex-ai-center flex-dc\">\n        <span class=\"fmedium white-space-nowrap\">{{resourceService.frmelmnts.lbl.boards}}:</span>\n        <span class=\"fmedium font-w-bold text-center\"\n          *ngIf=\"userProfile.framework\">{{convertToString(userProfile.framework.board) | interpolate: 'CBSE': 'CBSE/NCERT'}}</span>\n      </div>\n      <div class=\"mb-15 d-flex flex-ai-center flex-dc\">\n        <span class=\"fmedium white-space-nowrap\">{{resourceService.frmelmnts.lbl.medium}} :</span>\n        <span class=\"fmedium font-w-bold text-center\"\n          *ngIf=\"userProfile.framework\">{{convertToString(userProfile.framework.medium)}}</span>\n      </div>\n      <div class=\"mb-15 d-flex flex-ai-center flex-dc\">\n        <span class=\"fmedium white-space-nowrap\">{{resourceService.frmelmnts.lbl.classes}} :</span>\n        <span class=\"fmedium font-w-bold text-center\"\n          *ngIf=\"userProfile.framework\">{{convertToString(userProfile.framework.gradeLevel)}}</span>\n      </div>\n      <div class=\"mb-15 d-flex flex-ai-center flex-dc\">\n        <span class=\"fmedium white-space-nowrap\">{{resourceService.frmelmnts.lbl.subjects}} :</span>\n        <span class=\"fmedium font-w-bold text-center\"\n          *ngIf=\"userProfile.framework\">{{convertToString(userProfile.framework.subject)}}</span>\n      </div>\n      <div class=\"d-flex flex-ai-center flex-jc-center\" appTelemetryInteract\n        [telemetryInteractEdata]=\"myFrameworkEditEdata\" tabindex=\"0\"\n        (click)=\"showEdit = !showEdit\" attr.aria-label=\"{{resourceService?.frmelmnts?.lbl?.editPersonalDetails}}\">\n        <button appOnlineOnly class=\"sb-btn sb-btn-primary sb-btn-xs mt-30\">{{resourceService.frmelmnts.lbl.edit}}</button>\n      </div>\n    </div>\n    <!-- User info mobile view ends-->\n  </section>\n\n  <!-- <section class=\"pt-30 pb-30 d-flex flex-jc-center profile-bg-c-3\" *ngIf=\"userProfile.email || userProfile.phone\">\n    <div class=\"d-flex flex-dc\">\n      <div class=\"d-flex flex-jc-center\">\n        <div role=\"button\" appOnlineOnly (click)=\"showContactPopup=true;contactType='phone'\" tabindex=\"0\"\n          class=\"ui semi-circular dodger-blue basic label mb-15 cursor-pointer\" *ngIf=\"userProfile.phone\"\n          appTelemetryInteract\n          [telemetryInteractEdata]=\"editMobileInteractEdata\">\n          <i class=\"phone blue icon mr-5\"></i> &#x200E;+91 {{userProfile.phone}}\n        </div>\n        <div appOnlineOnly (click)=\"showContactPopup=true;contactType='phone'\" attr.aria-label={{resourceService?.frmelmnts?.lbl?.addPhoneNo}} tabindex=\"0\"\n          class=\"ui semi-circular update basic label mb-15 cursor-pointer font-weight-normal\" *ngIf=\"!userProfile.phone\"\n          appTelemetryInteract\n          [telemetryInteractEdata]=\"editMobileInteractEdata\">\n          <i class=\"phone icon mr-5\"></i> {{resourceService?.frmelmnts?.lbl?.addPhoneNo}}\n        </div>\n      </div>\n     <div class=\"d-flex flex-jc-center\">\n      <div appOnlineOnly (click)=\"showContactPopup=true;contactType='email'\" tabindex=\"0\"\n      class=\"ui semi-circular dodger-blue basic label cursor-pointer mb-15\" attr.aria-label={{userProfile.email}} *ngIf=\"userProfile.email\" appTelemetryInteract\n      [telemetryInteractEdata]=\"editEmailInteractEdata\">\n      <i class=\"mail blue icon mr-5\"></i> {{userProfile.email}}\n    </div>\n    <div appOnlineOnly (click)=\"showContactPopup=true;contactType='email'\" tabindex=\"0\" attr.aria-label={{resourceService?.frmelmnts?.lbl?.addEmailID}}\n      class=\"ui semi-circular update basic label mb-15 cursor-pointer font-weight-normal\" *ngIf=\"!userProfile.email\"\n      appTelemetryInteract\n      [telemetryInteractEdata]=\"editEmailInteractEdata\">\n      <i class=\"mail icon mr-5\"></i> {{resourceService?.frmelmnts?.lbl?.addEmailID}}\n    </div>\n     </div>\n    <div class=\"d-flex flex-jc-center\">\n      <div appOnlineOnly *ngIf=\"userProfile.recoveryEmail || userProfile.recoveryPhone\" tabindex=\"0\" (click)=\"showRecoveryId=true; mode='edit'\" attr.aria-label={{userProfile.recoveryEmail}} class=\"ui semi-circular dodger-blue basic label cursor-pointer mb-15 d-flex\"\n      appTelemetryInteract\n      [telemetryInteractEdata]=\"editRecoveryIdInteractEdata\">\n        <div class=\"recovery-img mr-5\"></div>\n        <span *ngIf=\"userProfile.recoveryEmail\">{{userProfile.recoveryEmail}}</span>\n        <span *ngIf=\"userProfile.recoveryPhone\">{{userProfile.recoveryPhone}}</span>\n       </div>\n       <div appOnlineOnly *ngIf=\"!(userProfile.recoveryEmail || userProfile.recoveryPhone)\" attr.aria-label={{resourceService?.frmelmnts?.lbl?.addRecoveryAccount}} tabindex=\"0\" (click)=\"showRecoveryId=true; mode='add'\" class=\"ui semi-circular update basic label mb-15 cursor-pointer font-weight-normal d-flex\"\n      appTelemetryInteract\n      [telemetryInteractEdata]=\"addRecoveryIdInteractEdata\">\n        <div class=\"recovery-img mr-5\"></div>\n       <span>{{resourceService?.frmelmnts?.lbl?.addRecoveryAccount}}</span>\n       </div>\n     </div>\n    </div>\n  </section> -->\n\n  \n\n  <!-- 4 section start teacher profile-->\n  <section class=\"pt-30 pb-30 d-flex flex-jc-center profile-bg-c-3\" *ngIf=\"declarationDetails && !userProfile.stateValidated\">\n  <div class=\"flex-ai-jc-center flex-dc text-center school-id-section\">\n    <div class=\"self-declared-title\">{{resourceService.frmelmnts?.lbl?.selfDeclaredInfo}}</div>\n      <div>\n        {{resourceService?.frmelmnts?.lbl?.wishToShareDataWith}} : <span>{{ tenantInfo?.label }}</span>\n      </div>\n\n      <div *ngFor=\"let item of selfDeclaredInfo\">\n        <div class=\"fnormal white-space-nowrap\">{{ item.label }}:</div>\n        <div class=\"fnormal font-w-bold mt-4 mb-8\">{{ item.code === 'declared-phone' ? '+91' : '' }} {{ item.value }}</div>\n      </div>\n      <div class=\"my-8\">\n        <button appTelemetryInteract appOnlineOnly\n        [telemetryInteractEdata]=\"updateTeacherDetailsInteractEdata\" tabindex=\"0\" type=\"button\" class=\"sb-btn sb-btn-normal sb-btn-outline-primary sb-btn-border\"\n        (click)=\"navigate('/profile/submit-declaration','update')\">{{resourceService.frmelmnts?.btn?.update}}</button>\n      </div>\n\n    </div>\n  </section>\n  <!-- 4 section end -->\n\n  <!-- my badges section starts -->\n  <!-- <extension-point *ngIf=\"userProfile.badgeAssertions && userProfile.badgeAssertions.length > 0\"\n    [name]=\"'profile-widget'\"></extension-point> -->\n  <app-profile-badge *ngIf=\"userProfile.badgeAssertions && userProfile.badgeAssertions.length > 0\"></app-profile-badge>\n  <!-- my badges section ends -->\n\n  <div class=\"pt-30\">\n    <div class=\"sb-profile-page-container\" [ngClass]=\"layoutConfiguration ? 'sbt-center-container' : 'ui container'\">\n\n      <!--contributions view starts-->\n      <div class=\"fs-1-7 font-w-bold pl-20 mobile only\" *ngIf=\"contributions && contributions.length > 0\">\n        {{resourceService.frmelmnts.scttl.contributions}}\n        ({{totalContributions}})&#x200E;</div>\n      <div class=\"ui divider my-5 mobile only\"></div>\n      <!--contributions computer view starts-->\n      <div class=\"ui segments\" *ngIf=\"contributions && contributions.length > 0\">\n        <div class=\"ui segment computer only\">\n          <div class=\"fs-1-7 pl-10 font-w-bold\">{{resourceService.frmelmnts.scttl.contributions}}\n            ({{totalContributions}})&#x200E;</div>\n        </div>\n        <div class=\"ui segment\">\n          <div class=\"regular slider pt-10\">\n            <app-page-section [section]=\"{ contents: contributions}\" (visits)=\"prepareVisits($event)\"\n              (playEvent)=\"openContent($event)\"></app-page-section>\n          </div>\n        </div>\n      </div>\n      <!--contributions computer view ends-->\n      <!--contributions view ends-->\n\n      <!-- tarainings attended computer view strats-->\n      <div class=\"container my-16 sb-certificate-trained\" *ngIf=\"attendedTraining && attendedTraining.length\">\n          <div class=\"list-heading\">\n            <label class=\"mb-0\">{{resourceService?.frmelmnts?.lbl?.myLearning}}({{attendedTraining.length}})&#x200E;</label>\n            <span class=\"fsmall mt-4 font-weight-bold\">&nbsp;({{resourceService?.frmelmnts?.lbl?.refreshedDaily}})</span>\n          </div>\n          <div class=\"list-item-parent\">\n            <div class=\"list-items sb-course-progress-status-label\">\n              <div class=\"list-items__item\"><span class=\"sb__ellipsis mr-auto mb-0 text-left\">{{resourceService?.frmelmnts?.lbl?.course}}</span></div>\n              <div class=\"list-items__item\"><span class=\"sb__ellipsis mr-auto mb-0 text-left\">{{resourceService?.frmelmnts?.lbl?.batch}}</span></div>\n              <div class=\"list-items__item\"><span class=\"sb__ellipsis mr-auto mb-0 text-left\">{{resourceService?.frmelmnts?.lbl?.coursecompletiondate}}</span></div>\n              <div class=\"list-items__item\"><span class=\"sb__ellipsis mr-auto mb-0 text-left\">{{resourceService?.frmelmnts?.lbl?.status}}</span></div>\n              <div class=\"list-items__item\"><span class=\"sb__ellipsis mr-auto mb-0 text-left\"></span></div>\n            </div>\n          </div>\n          <div class=\"list-item-parent\" *ngFor=\"let data of attendedTraining | slice:0:courseLimit\">\n            <div class=\"list-items\" *ngIf=\"data.courseName\">\n              <div class=\"list-items__item\"><a tabindex=\"0\" (click)=\"navigateToCourse(data)\" class=\"sb__ellipsis mr-auto mb-0 text-left\">{{data.courseName}}</a></div>\n              <div class=\"list-items__item\"><span class=\"sb__ellipsis mr-auto mb-0 text-left\">{{data.batch.name}}</span></div>\n              <div class=\"list-items__item list-date\" *ngIf=\"data.completedOn\">{{data.completedOn | date :'MMMM yyy' }}</div>\n              <div class=\"list-items__item list-items__bar computer only\" *ngIf=\"!data.completedOn\">\n                  <span class=\"bar mr-4\"></span>\n                  <span class=\"bar\"></span>\n              </div>\n              <div class=\"list-items__item status-progress fsmall font-weight-bold text-left\" *ngIf=\"(data.status === 0 || data.status === 1) && (data.batch.status !== 2)\" >{{resourceService?.frmelmnts?.lbl?.ongoing}}</div>\n              <div class=\"list-items__item status-progress fsmall font-weight-bold text-left\" *ngIf=\"(data.status === 0 || data.status === 1) && (data.batch.status === 2)\" >{{resourceService?.frmelmnts?.lbl?.expiredbatch}}</div>\n              <div class=\"list-items__item status-completed fsmall font-weight-bold text-left\" *ngIf=\"data.status === 2 \" >{{resourceService?.frmelmnts?.lbl?.completed}}</div>\n              <div class=\"list-items__item\" *ngIf=\"data?.certificates?.length || data?.issuedCertificates?.length\">\n                <button appTelemetryInteract\n                 [telemetryInteractEdata]=\"downloadCertificateEData\"\n                [telemetryInteractCdata]=\"[{id: 'course:download:cert', type: 'Feature'},{id: 'SB-14120', type: 'Task'}]\"\n                class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn fnormal\" (click)=\"downloadCert(data)\" tabindex=\"0\">\n                <i class=\"download icon\"></i>{{resourceService?.frmelmnts?.btn?.downloadCertificate}}</button>\n              </div>\n              <div class=\"list-items__item list-items__bar computer only\" *ngIf=\"!data?.certificates?.length && !data?.issuedCertificates?.length\">\n                  <span class=\"bar mr-4\"></span>\n                  <span class=\"bar\"></span>\n              </div>\n            </div>\n          </div>\n          <div class=\"flex-ai-jc-center sb-ct-list\" *ngIf=\"attendedTraining.length > 3\">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary sb-right-icon-btn\" appTelemetryInteract\n              [telemetryInteractEdata]=\"{id:'view-more' , type:'click' , pageid:'profile-read'}\" *ngIf=\"showMoreTrainings\"\n              (click)=\"toggleCourse(true, attendedTraining.length)\" tabindex=\"0\"> +{{attendedTraining.length - 3}} {{resourceService.frmelmnts.lbl.viewmore}}<i\n                class=\"chevron down icon\"></i></button>\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary sb-right-icon-btn\" appTelemetryInteract\n              [telemetryInteractEdata]=\"{id:'view-less' , type:'click' , pageid:'profile-read'}\"\n              (click)=\"toggleCourse(false, attendedTraining.length)\" tabindex=\"0\" *ngIf=\"!showMoreTrainings\">{{resourceService.frmelmnts.lbl.viewless}}<i\n                class=\"chevron up icon\"></i></button>\n          </div>\n        </div>\n         <!-- trainings attended computer view ends-->\n\n         <!-- certificates - old layout-->\n        <!-- <div class=\"container my-16 sb-certificate-trained\" id=\"learner-passbook\" *ngIf=\"otherCertificates && otherCertificates.length\">\n          <div class=\"list-heading\">\n            <label class=\"mb-0\">{{resourceService.frmelmnts?.lbl?.learnerPassbook }}&#x200E;</label>\n          </div>\n          <div class=\"list-item-parent\">\n            <div class=\"list-items sb-course-progress-status-label\">\n              <label class=\"list-items__item mr-auto mb-0 text-left\">{{resourceService?.frmelmnts?.lbl?.course}}</label>\n              <label class=\"list-items__item mr-auto mb-0 text-left\">{{resourceService?.frmelmnts?.lbl?.certgivenby}}</label>\n              <label class=\"list-items__item mr-auto mb-0 last-date\">{{resourceService?.frmelmnts?.lbl?.certissuedon}}</label>\n              <label class=\"list-items__item mr-auto mb-0 text-left\"></label>\n            </div>\n          </div>\n          <div class=\"list-item-parent\" *ngFor=\"let data of otherCertificates | slice:0:otherCertificateLimit\">\n            <div class=\"list-items\" *ngIf=\"data.issuingAuthority\">\n              <label class=\"list-items__item mr-auto mb-0 text-left\">{{data.courseName}}</label>\n              <label class=\"list-items__item mr-auto mb-0 text-left\">{{data.issuingAuthority}}</label>\n              <label class=\"list-items__item list-date\" *ngIf=\"data.issuedOn\">{{data.issuedOn | date :'dd MMMM yyy' }}</label>\n              <div class=\"list-items__item\" *ngIf=\"data?.certificates?.length\">\n                <button appTelemetryInteract [telemetryInteractEdata]=\"downloadOthersCertificateEData\"\n                class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn fnormal\" (click)=\"downloadCert(data)\" tabindex=\"0\">\n                <i class=\"download icon\" ></i>{{resourceService?.frmelmnts?.btn?.downloadCertificate}}</button>\n              </div>\n              <div class=\"list-items__item list-items__bar computer only\" *ngIf=\"!data?.certificates?.length\">\n                  <span class=\"bar\"></span>\n                  <span class=\"bar\"></span>\n                </div>\n            </div>\n          </div>\n          <div class=\"flex-ai-jc-center sb-ct-list\" *ngIf=\"otherCertificates.length > 3 \">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary sb-right-icon-btn\" appTelemetryInteract\n              [telemetryInteractEdata]=\"{id:'view-more' , type:'click' , pageid:'profile-read'}\" *ngIf=\"showMoreCertificates\"\n              (click)=\"toggleOtherCertific(true)\" tabindex=\"0\">{{resourceService.frmelmnts.lbl.viewmore}}<i\n                class=\"chevron down icon\"></i></button>\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary sb-right-icon-btn\" appTelemetryInteract\n              [telemetryInteractEdata]=\"{id:'view-less' , type:'click' , pageid:'profile-read'}\"\n              (click)=\"toggleOtherCertific(false)\" tabindex=\"0\" *ngIf=\"!showMoreCertificates\">{{resourceService.frmelmnts.lbl.viewless}}<i\n                class=\"chevron up icon\"></i></button>\n          </div>\n        </div> -->\n        <!-- certificates - old layout-->\n\n        <!-- RC Certificates -->\n        <div class=\"container my-16 sb-certificate-trained\" id=\"learner-passbook\" *ngIf=\"otherCertificates && otherCertificates.length\">\n          <div class=\"list-heading\">\n            <label class=\"mb-0\">{{resourceService.frmelmnts?.lbl?.learnerPassbook }}&#x200E;</label>\n          </div>\n          <div class=\"list-item-parent\">\n            <div class=\"list-items sb-course-progress-status-label\">\n              <label class=\"list-items__item mb-0 text-left\">{{resourceService?.frmelmnts?.lbl?.course}}</label>\n              <label class=\"list-items__item mb-0 text-left\">{{resourceService?.frmelmnts?.lbl?.certgivenby}}</label>\n              <label class=\"list-items__item mb-0 last-date\">{{resourceService?.frmelmnts?.lbl?.certissuedon}}</label>\n              <label class=\"list-items__item mb-0 text-left\"></label>\n              <label class=\"list-items__item mb-0 text-left\"></label>\n            </div>\n          </div>\n          <div class=\"list-item-parent\" *ngFor=\"let data of otherCertificates | slice:0:otherCertificateLimit\">\n            <div class=\"list-items\" *ngIf=\"data?.issuerName\">\n              <label class=\"list-items__item mb-0 text-left\">{{data.trainingName}}</label>\n              <label class=\"list-items__item mb-0 text-left\">{{data?.issuerName}}</label>\n              <label class=\"list-items__item list-date\" *ngIf=\"data.issuedOn\">{{data.issuedOn | date :'dd MMMM yyy' }}</label>\n              <div class=\"list-items__item\" *ngIf=\"data?.id\">\n                <button appOnlineOnly appTelemetryInteract [telemetryInteractEdata]=\"downloadOthersCertificateEData\"\n                  class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn\"\n                  (click)=\"downloadOldAndRCCert(data)\" tabindex=\"0\" >\n                  <i class=\"download icon\"></i>{{resourceService?.frmelmnts?.btn?.downloadCertificate}}</button>\n              </div>\n              <div class=\"list-items__item list-items__bar computer only\" *ngIf=\"!data?.length\">\n                <span class=\"bar\"></span>\n                <span class=\"bar\"></span>\n              </div>\n            </div>\n          </div>\n          <div class=\"flex-ai-jc-center sb-ct-list\" *ngIf=\"otherCertificates.length > 3 \">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary sb-right-icon-btn\" appTelemetryInteract\n              [telemetryInteractEdata]=\"{id:'view-more' , type:'click' , pageid:'profile-read'}\" *ngIf=\"showMoreCertificates\"\n              (click)=\"toggleOtherCertific(true)\" tabindex=\"0\">{{resourceService.frmelmnts.lbl.viewmore}}<i\n                class=\"chevron down icon\"></i></button>\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary sb-right-icon-btn\" appTelemetryInteract\n              [telemetryInteractEdata]=\"{id:'view-less' , type:'click' , pageid:'profile-read'}\"\n              (click)=\"toggleOtherCertific(false)\" tabindex=\"0\"\n              *ngIf=\"!showMoreCertificates\">{{resourceService.frmelmnts.lbl.viewless}}<i class=\"chevron up icon\"></i></button>\n          </div>\n        </div>\n        <!-- RC Certificates -->\n      </div>\n  </div>\n</div>\n</div>\n</div>\n<app-modal-wrapper #profileModal *ngIf=\"showEdit\" [config]=\"{disableClose: false, panelClass: ['overflow-visible', 'material-modal']}\" (dismiss)=\"showEdit = !showEdit\">\n  <ng-template sbModalContent let-data>\n    <app-popup [dialogProps]=\"data\" [formInput]=\"userFrameWork\" [showCloseIcon]=\"true\"\n      [buttonLabel]=\"resourceService?.frmelmnts?.btn?.submit\" (submit)=\"updateProfile($event)\">\n    </app-popup>\n  </ng-template>\n</app-modal-wrapper>\n\n<app-modal-wrapper *ngIf=\"showContactPopup\" [config]=\"{disableClose: false, panelClass: ['overflow-visible', 'material-modal']}\" (dismiss)=\"showContactPopup = !showContactPopup\">\n  <ng-template sbModalContent let-data>\n    <app-update-contact-details [dialogProps]=\"data\" (close)=\"showContactPopup = !showContactPopup\" [contactType]=\"contactType\" [userProfile]=\"userProfile\">\n    </app-update-contact-details>\n  </ng-template>\n</app-modal-wrapper>\n\n  <app-location-selection\n    (close)=\"onLocationModalClose($event)\"\n    *ngIf=\"showEditUserDetailsPopup\">\n\n    <div slot=\"popup-sub-header\">\n      <p class=\"subtitle\">{{resourceService?.frmelmnts?.lbl?.editPersonalDetails}}&lrm;</p>\n    </div>\n  </app-location-selection>\n  <app-full-page-loader *ngIf=\"showFullScreenLoader\"></app-full-page-loader>\n\n  <app-modal-wrapper *ngIf=\"showRecoveryId\" [config]=\"{disableClose: false, panelClass: 'material-modal'}\" (dismiss)=\"showRecoveryId = !showRecoveryId\">\n    <ng-template sbModalContent let-data>\n      <app-account-recovery-info [dialogProps]=\"data\" [mode]=\"mode\" (close)=\"showRecoveryId = !showRecoveryId\"\n      [userProfile]=\"userProfile\"></app-account-recovery-info>\n    </ng-template>\n  </app-modal-wrapper>\n<router-outlet></router-outlet>\n\n","<div class=\"sb-mat__modal\">\n\n  <div mat-dialog-title class=\"mb-0\">\n    <button aria-label=\"close dialog\" mat-dialog-close class=\"close-btn\"></button>\n  </div>\n\n  <div *ngIf=\"!showOTPForm\">\n\n    <!--Content-->\n\n    <mat-dialog-content>\n\n      <div class=\"sb-mat__modal__content\">\n\n        <!--Header-->\n        <div class=\"sb-modal-header font-weight-bold fmedium\">\n          <span *ngIf=\"mode === 'edit'\">{{resourceService?.frmelmnts?.lbl?.updateRecoveryId}}</span>\n          <span *ngIf=\"mode === 'add'\">{{resourceService?.frmelmnts?.lbl?.addRecoveryId}}</span>\n        </div>\n        <!--/Header-->\n\n        <p>{{resourceService?.frmelmnts?.lbl?.accountRecoveryDescription}}</p>\n        <div class=\"d-flex flex-w-wrap\">\n          <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n            <input type=\"radio\" id=\"email\" tabindex=\"0\" (change)=\"onItemChange()\" [(ngModel)]=\"contactType\"\n              name=\"contactType\" value=\"emailId\" checked>\n            <label for=\"email\">{{resourceService?.frmelmnts?.lbl?.emailAddress}}</label>\n          </div>\n          <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n            <input type=\"radio\" tabindex=\"0\" id=\"phone\" (change)=\"onItemChange()\" [(ngModel)]=\"contactType\"\n              name=\"contactType\" value=\"phoneNo\">\n            <label for=\"phone\">{{resourceService?.frmelmnts?.lbl?.phoneNumber}}</label>\n          </div>\n        </div>\n        <form [formGroup]=\"accountRecoveryForm\" class=\"sb-form\">\n          <div class=\"sb-field\" *ngIf=\"contactType === 'emailId'\">\n            <input class=\"sb-form-control mb-8\" formControlName=\"email\" name=\"email\" id=\"email\" type=\"email\">\n            <span class=\"sb-color-error fnormal mt-8\"\n              *ngIf=\"accountRecoveryForm.controls.email.dirty && accountRecoveryForm.controls['email'].errors\">\n              {{resourceService?.frmelmnts?.lbl?.validEmail}}\n            </span>\n            <span *ngIf=\"duplicateRecoveryId\" class=\"sb-color-error fnormal mt-8\">\n              {{resourceService?.frmelmnts?.lbl?.duplicateEmailAddress}}\n            </span>\n          </div>\n\n          <div class=\"sb-field\" *ngIf=\"contactType === 'phoneNo'\">\n            <input maxlength=\"10\" class=\"sb-form-control mb-8\" formControlName=\"phone\" type=\"tel\">\n            <span class=\"sb-color-error fnormal mt-8\"\n              *ngIf=\"accountRecoveryForm.controls.phone.dirty && accountRecoveryForm.controls['phone'].errors\">\n              {{resourceService?.frmelmnts?.prmpt?.enterphoneno}}\n            </span>\n            <span *ngIf=\"duplicateRecoveryId\" class=\"sb-color-error fnormal mt-8\">\n              {{resourceService?.frmelmnts?.lbl?.duplicatePhoneNumber}}\n            </span>\n          </div>\n        </form>\n      </div>\n    </mat-dialog-content>\n    <!--/Content-->\n\n    <!--Actions-->\n    <div class=\"sb-mat__modal__actions\">\n      <button [ngClass]=\"{'sb-btn-disabled': !enableSubmitButton, 'sb-btn-primary': enableSubmitButton}\"\n        class=\"sb-btn sb-btn-normal\" tabindex=\"0\" (click)=\"updateRecoveryId()\" appTelemetryInteract\n        [telemetryInteractObject]=\"telemetryInteractObject\" [disabled]=\"!enableSubmitButton\"\n        [telemetryInteractEdata]=\"submitInteractEdata\" [telemetryInteractCdata]=\"telemetryCdata\"\n        [attr.disabled]=\"!enableSubmitButton ? 'disabled' : null\">\n        {{resourceService?.frmelmnts?.btn?.submit}}\n      </button>\n    </div>\n    <!--/Actions-->\n  </div>\n\n\n  <app-otp-popup *ngIf=\"showOTPForm\" [otpData]=\"otpData\" [redirectToLogin]=\"false\"\n    (verificationSuccess)=\"userVerificationSuccess($event)\" (closeContactForm)=\"closeModal()\">\n  </app-otp-popup>\n\n</div>\n","import {ProfileService} from '../../services';\nimport { AfterViewInit, Component, OnDestroy, OnInit, ViewChild, Inject } from '@angular/core';\nimport {\n  CertRegService,\n  CoursesService,\n  OrgDetailsService,\n  PlayerService,\n  SearchService,\n  UserService,\n  FormService\n} from '@sunbird/core';\nimport {\n  ConfigService,\n  IUserData, LayoutService,\n  NavigationHelperService,\n  ResourceService,\n  ServerResponse,\n  ToasterService,\n  UtilService,\n  ConnectionService\n} from '@sunbird/shared';\nimport * as _ from 'lodash-es';\nimport {Subject, Subscription} from 'rxjs';\nimport {IImpressionEventInput, IInteractEventEdata, TelemetryService} from '@sunbird/telemetry';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {CacheService} from 'ng2-cache-service';\nimport {takeUntil} from 'rxjs/operators';\nimport { CertificateDownloadAsPdfService } from 'sb-svg2pdf';\nimport { CsCourseService } from '@project-sunbird/client-services/services/course/interface';\nimport { FieldConfig, FieldConfigOption } from 'common-form-elements-web-v9';\nimport { CsCertificateService } from '@project-sunbird/client-services/services/certificate/interface';\n\n@Component({\n  templateUrl: './profile-page.component.html',\n  styleUrls: ['./profile-page.component.scss'],\n  providers: [CertificateDownloadAsPdfService]\n})\nexport class ProfilePageComponent implements OnInit, OnDestroy, AfterViewInit {\n  private static readonly SUPPORTED_PERSONA_LIST_FORM_REQUEST =\n  { formType: 'config', formAction: 'get', contentType: 'userType', component: 'portal' };\n  private static readonly DEFAULT_PERSONA_LOCATION_CONFIG_FORM_REQUEST =\n  { formType: 'profileConfig_v2', contentType: 'default', formAction: 'get' };\n  @ViewChild('profileModal') profileModal;\n  @ViewChild('slickModal') slickModal;\n  userProfile: any;\n  contributions = [];\n  totalContributions: Number;\n  attendedTraining: Array<object>;\n  roles: Array<string>;\n  showMoreRoles = true;\n  showMoreTrainings = true;\n  showMoreCertificates = true;\n  isCustodianOrgUser = true; // set to true to avoid showing icon before api return value\n  showMoreRolesLimit = this.configService.appConfig.PROFILE.defaultShowMoreLimit;\n  courseLimit = this.configService.appConfig.PROFILE.defaultViewMoreLimit;\n  otherCertificateLimit = this.configService.appConfig.PROFILE.defaultViewMoreLimit;\n  showEdit = false;\n  userSubscription: Subscription;\n  orgDetails: any = [];\n  showContactPopup = false;\n  showEditUserDetailsPopup = false;\n  userFrameWork: any;\n  telemetryImpression: IImpressionEventInput;\n  myFrameworkEditEdata: IInteractEventEdata;\n  editProfileInteractEdata: IInteractEventEdata;\n  editMobileInteractEdata: IInteractEventEdata;\n  editEmailInteractEdata: IInteractEventEdata;\n  downloadCertificateEData: IInteractEventEdata;\n  editRecoveryIdInteractEdata: IInteractEventEdata;\n  addRecoveryIdInteractEdata: IInteractEventEdata;\n  submitTeacherDetailsInteractEdata: IInteractEventEdata;\n  updateTeacherDetailsInteractEdata: IInteractEventEdata;\n  showRecoveryId = false;\n  otherCertificates: Array<object>;\n  otherCertificatesCounts: number;\n  downloadOthersCertificateEData: IInteractEventEdata;\n  udiseObj: { idType: string, provider: string, id: string };\n  phoneObj: { idType: string, provider: string, id: string };\n  emailObj: { idType: string, provider: string, id: string };\n  teacherObj: { idType: string, provider: string, id: string };\n  stateObj;\n  districtObj;\n  externalIds: {};\n  schoolObj: { idType: string, provider: string, id: string };\n  instance: string;\n  layoutConfiguration: any;\n  public unsubscribe$ = new Subject<void>();\n  nonCustodianUserLocation: object = {};\n  declarationDetails;\n  tenantInfo;\n  selfDeclaredInfo = [];\n  selfDeclaredErrorTypes = [];\n  scrollToId;\n  isDesktopApp;\n  userLocation: {};\n  persona: {};\n  subPersona: string[];\n  isConnected = true;\n  showFullScreenLoader = false;\n\n  constructor(@Inject('CS_COURSE_SERVICE') private courseCService: CsCourseService, private cacheService: CacheService,\n  public resourceService: ResourceService, public coursesService: CoursesService,\n    public toasterService: ToasterService, public profileService: ProfileService, public userService: UserService,\n    public configService: ConfigService, public router: Router, public utilService: UtilService, public searchService: SearchService,\n    private playerService: PlayerService, private activatedRoute: ActivatedRoute, public orgDetailsService: OrgDetailsService,\n    public navigationhelperService: NavigationHelperService, public certRegService: CertRegService,\n    private telemetryService: TelemetryService, public layoutService: LayoutService, private formService: FormService,\n    private certDownloadAsPdf: CertificateDownloadAsPdfService, private connectionService: ConnectionService,\n    @Inject('CS_CERTIFICATE_SERVICE') private CsCertificateService: CsCertificateService) {\n    this.getNavParams();\n  }\n\n  getNavParams() {\n    this.scrollToId = _.get(this.router.getCurrentNavigation(), 'extras.state.scrollToId');\n  }\n\n  ngOnInit() {\n    this.isDesktopApp = this.utilService.isDesktopApp;\n\n    this.activatedRoute.queryParams.subscribe((params) => {\n      if (params['showEditUserDetailsPopup']) {\n        this.showEditUserDetailsPopup = true;\n      }\n      });\n\n    if (this.isDesktopApp) {\n      this.connectionService.monitor()\n      .pipe(takeUntil(this.unsubscribe$)).subscribe(isConnected => {\n        this.isConnected = isConnected;\n      });\n    }\n    this.initLayout();\n    this.instance = _.upperFirst(_.toLower(this.resourceService.instance || 'SUNBIRD'));\n    this.getCustodianOrgUser();\n    this.userSubscription = this.userService.userData$.subscribe((user: IUserData) => {\n      /* istanbul ignore else */\n      this.showFullScreenLoader = false;\n      if (user.userProfile) {\n        this.userProfile = user.userProfile;\n        const role: string = (!this.userProfile.profileUserType.type ||\n          (this.userProfile.profileUserType.type && this.userProfile.profileUserType.type === 'OTHER')) ? '' : this.userProfile.profileUserType.type;\n        this.userLocation = this.getUserLocation(this.userProfile);\n        this.getPersonaConfig(role).then((val) => {\n          this.persona = val;\n        });\n        this.getSubPersonaConfig(role.toLowerCase(), this.userLocation).then((val) => {\n          this.subPersona = val;\n        });\n        this.userFrameWork = this.userProfile.framework ? _.cloneDeep(this.userProfile.framework) : {};\n        this.getOrgDetails();\n        this.getContribution();\n        this.getOtherCertificates(_.get(this.userProfile, 'userId'), 'all');\n        this.getTrainingAttended();\n        this.setNonCustodianUserLocation();\n        /* istanbul ignore else */\n        if (_.get(this.userProfile, 'declarations') && this.userProfile.declarations.length > 0) {\n          this.declarationDetails = _.get(this.userProfile, 'declarations')[0];\n          if (this.declarationDetails.errorType) {\n            this.selfDeclaredErrorTypes = this.declarationDetails.errorType.split(',');\n          }\n          this.getSelfDeclaredDetails();\n        }\n      }\n    });\n    this.setInteractEventData();\n  }\n\n  initLayout() {\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout().pipe(takeUntil(this.unsubscribe$)).subscribe(layoutConfig => {\n      /* istanbul ignore else */\n      if (layoutConfig != null) {\n        this.layoutConfiguration = layoutConfig.layout;\n      }\n    });\n  }\n\n  setNonCustodianUserLocation() {\n    const subOrgs = _.filter(this.userProfile.organisations, (org) => {\n      /*istanbul ignore else */\n      if (this.userProfile.rootOrgId !== org.organisationId) {\n        return org;\n      }\n    });\n    /*istanbul ignore else */\n    if (!_.isEmpty(subOrgs)) {\n      const sortedSubOrgs = _.reverse(_.sortBy(subOrgs, 'orgjoindate'));\n      /*istanbul ignore else */\n      if (!_.isEmpty(sortedSubOrgs[0]) && !_.isEmpty(sortedSubOrgs[0].locations)) {\n        _.forEach(sortedSubOrgs[0].locations, (location) => {\n          this.nonCustodianUserLocation[location.type] = location.name;\n        });\n      }\n    }\n  }\n\n  getOrgDetails() {\n    let orgList = [];\n    this.roles = [];\n    _.forEach(this.userProfile.organisations, (org, index) => {\n      if (this.userProfile.rootOrgId !== org.organisationId) {\n        if (org.locations && org.locations.length === 0) {\n          if (this.userProfile.organisations[0].locationIds && this.userProfile.organisations[0].locations) {\n            org.locationIds = this.userProfile.organisations[0].locationIds;\n            org.locations = this.userProfile.organisations[0].locations;\n          }\n        }\n        if (org.orgjoindate) {\n          org.modifiedJoinDate = new Date(org.orgjoindate).getTime();\n        }\n        orgList.push(org);\n      } else {\n        if (org.locations && org.locations.length !== 0) {\n          if (org.orgjoindate) {\n            org.modifiedJoinDate = new Date(org.orgjoindate).getTime();\n          }\n          orgList.push(org);\n        }\n      }\n    });\n    let userRoles;\n    if (_.get(this.userProfile, 'roles') && !_.isEmpty(this.userProfile.roles)) {\n      userRoles = _.map(this.userProfile.roles, 'role');\n    }\n    _.forEach(userRoles, (value, key) => {\n      if (value !== 'PUBLIC') {\n        const roleName = _.find(this.userProfile.roleList, { id: value });\n        if (roleName) {\n          this.roles.push(roleName['name']);\n        }\n      }\n    });\n    this.roles = _.uniq(this.roles).sort();\n    orgList = _.sortBy(orgList, ['modifiedJoinDate']);\n    this.orgDetails = _.last(orgList);\n  }\n\n  convertToString(value) {\n    return _.isArray(value) ? _.join(value, ', ') : undefined;\n  }\n\n  getLocationDetails(locations, type) {\n    const location: any = _.find(locations, { type: type });\n    return location ? location.name : false;\n  }\n\n  getContribution(): void {\n    const { constantData, metaData, dynamicFields } = this.configService.appConfig.Course.otherCourse;\n      const searchParams = {\n        status: ['Live'],\n        contentType: this.configService.appConfig.WORKSPACE.contentType,\n        params: { lastUpdatedOn: 'desc' }\n      };\n      const inputParams = { params: this.configService.appConfig.PROFILE.contentApiQueryParams };\n      this.searchService.searchContentByUserId(searchParams, inputParams).subscribe((data: ServerResponse) => {\n        this.contributions = this.utilService.getDataForCard(data.result.content, constantData, dynamicFields, metaData);\n        this.totalContributions = _.get(data, 'result.count') || 0;\n      });\n  }\n\n  getTrainingAttended() {\n    this.coursesService.enrolledCourseData$.pipe().subscribe(data => {\n      this.attendedTraining = _.reverse(_.sortBy(data.enrolledCourses, val => {\n        return _.isNumber(_.get(val, 'completedOn')) ? _.get(val, 'completedOn') : Date.parse(val.completedOn);\n      })) || [];\n    });\n  }\n\n/**\n * @param userId\n *It will fetch certificates of user, other than courses\n */\n  getOtherCertificates(userId, certType) {\n    this.otherCertificates = [];\n    let requestBody = { userId: userId, schemaName: 'certificate' };\n    if (this.otherCertificatesCounts) {\n      requestBody['size'] = this.otherCertificatesCounts;\n    }\n    this.CsCertificateService.fetchCertificates(requestBody, {\n      apiPath: '/learner/certreg/v2',\n      apiPathLegacy: '/certreg/v1',\n      rcApiPath: '/learner/rc/${schemaName}/v1',\n    }).subscribe((_res) => {\n      if (_res && _res?.certificates?.length > 0) {\n        this.otherCertificates = _.get(_res, 'certificates');\n        this.otherCertificatesCounts = (_.get(_res, 'certRegCount') ? _.get(_res, 'certRegCount') : 0) + (_.get(_res, 'rcCount') ? _.get(_res, 'rcCount') : 0);\n      }\n    }, (error) => {\n      this.toasterService.error(this.resourceService.messages.emsg.m0005);\n      console.log('Portal :: CSL : Fetch certificate CSL API failed ', error);\n    });\n  }\n\n  downloadCert(course) {\n    if (this.isDesktopApp && !this.isConnected) {\n      this.toasterService.error(this.resourceService.messages.desktop.emsg.cannotAccessCertificate);\n      return;\n    }\n    // Check for V2\n    if (_.get(course, 'issuedCertificates.length')) {\n      this.toasterService.success(_.get(this.resourceService, 'messages.smsg.certificateGettingDownloaded'));\n      const certificateInfo = course.issuedCertificates[0];\n      const courseName = course.courseName || _.get(course, 'issuedCertificates[0].name') || 'certificate';\n      if (_.get(certificateInfo, 'type') === 'TrainingCertificate') {\n        const courseObj = {\n          id: certificateInfo.identifier,\n          type: 'rc_certificate_registry',\n          templateUrl: _.get(certificateInfo, 'templateUrl'),\n          trainingName: courseName\n        }\n        this.downloadOldAndRCCert(courseObj);\n      } else if (_.get(certificateInfo, 'identifier')) {\n        this.courseCService.getSignedCourseCertificate(_.get(certificateInfo, 'identifier'))\n          .pipe(takeUntil(this.unsubscribe$))\n          .subscribe((resp) => {\n            if (_.get(resp, 'printUri')) {\n              this.certDownloadAsPdf.download(resp.printUri, null, courseName);\n            } else if (_.get(course, 'certificates.length')) {\n              this.downloadPdfCertificate(course.certificates[0]);\n            } else {\n              this.toasterService.error(this.resourceService.messages.emsg.m0076);\n            }\n          }, error => {\n            this.downloadPdfCertificate(certificateInfo);\n          });\n      } else {\n        this.downloadPdfCertificate(certificateInfo);\n      }\n    } else if (_.get(course, 'certificates.length')) { // For V1 - backward compatibility\n      this.toasterService.success(_.get(this.resourceService, 'messages.smsg.certificateGettingDownloaded'));\n      this.downloadPdfCertificate(course.certificates[0]);\n    } else {\n      this.toasterService.error(this.resourceService.messages.emsg.m0076);\n    }\n  }\n\n  downloadOldAndRCCert(courseObj) {\n    let requestBody = {\n      certificateId: courseObj.id,\n      schemaName: 'certificate',\n      type: courseObj.type,\n      templateUrl: courseObj.templateUrl\n    };\n    this.CsCertificateService.getCerificateDownloadURI(requestBody, {\n      apiPath: '/learner/certreg/v2',\n      apiPathLegacy: '/certreg/v1',\n      rcApiPath: '/learner/rc/${schemaName}/v1',\n    })\n      .pipe(takeUntil(this.unsubscribe$))\n      .subscribe((resp) => {\n        if (_.get(resp, 'printUri')) {\n          this.certDownloadAsPdf.download(resp.printUri, null, courseObj.trainingName);\n        } else {\n          this.toasterService.error(this.resourceService.messages.emsg.m0076);\n        }\n      }, error => {\n        console.log('Portal :: CSL : Download certificate CSL API failed ', error);\n      });\n  }\n\n  downloadPdfCertificate(value) {\n    if (_.get(value, 'url')) {\n      const request = {\n        request: {\n          pdfUrl: _.get(value, 'url')\n        }\n      };\n      this.profileService.downloadCertificates(request).subscribe((apiResponse) => {\n        const signedPdfUrl = _.get(apiResponse, 'result.signedUrl');\n        if (signedPdfUrl) {\n          window.open(signedPdfUrl, '_blank');\n        } else {\n          this.toasterService.error(this.resourceService.messages.emsg.m0076);\n        }\n      }, (err) => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0076);\n      });\n    } else {\n      this.toasterService.error(this.resourceService.messages.emsg.m0076);\n    }\n  }\n\n  toggle(showMore) {\n    if (showMore === true) {\n      this.showMoreRolesLimit = this.roles.length;\n      this.showMoreRoles = false;\n    } else {\n      this.showMoreRoles = true;\n      this.showMoreRolesLimit = this.configService.appConfig.PROFILE.defaultShowMoreLimit;\n    }\n  }\n\n  toggleCourse(showMoreCourse, courseLimit) {\n    if (showMoreCourse === true) {\n      this.courseLimit = courseLimit;\n      this.showMoreTrainings = false;\n    } else {\n      this.showMoreTrainings = true;\n      this.courseLimit = 3;\n    }\n  }\n\n  updateProfile(data) {\n    this.profileService.updateProfile({ framework: data }).subscribe(res => {\n      this.userProfile.framework = data;\n      this.toasterService.success(this.resourceService.messages.smsg.m0046);\n      this.profileModal && this.profileModal.deny();\n      // this.showEdit = false;\n    }, err => {\n      // this.showEdit = false;\n      this.toasterService.warning(this.resourceService.messages.emsg.m0012);\n      this.profileModal && this.profileModal.deny();\n      this.cacheService.set('showFrameWorkPopUp', 'installApp');\n    });\n  }\n\n  openContent(content) {\n    this.playerService.playContent(content.data.metaData);\n  }\n\n  public prepareVisits(event) {\n    const inViewLogs = _.map(event, (content, index) => ({\n      objid: content.metaData.courseId ? content.metaData.courseId : content.metaData.identifier,\n      objtype: 'course', index: index,\n      section: content.section,\n    }));\n    if (this.telemetryImpression) {\n      this.telemetryImpression.edata.visits = inViewLogs;\n      this.telemetryImpression.edata.subtype = 'pageexit';\n      this.telemetryImpression = Object.assign({}, this.telemetryImpression);\n    }\n  }\n  private getCustodianOrgUser() {\n    this.orgDetailsService.getCustodianOrgDetails().subscribe(custodianOrg => {\n      if (_.get(this.userService, 'userProfile.rootOrg.rootOrgId') === _.get(custodianOrg, 'result.response.value')) {\n        this.isCustodianOrgUser = true;\n      } else {\n        this.isCustodianOrgUser = false;\n      }\n    });\n  }\n\n  goBack() {\n    this.navigationhelperService.goBack();\n  }\n\n  setInteractEventData() {\n    this.myFrameworkEditEdata = {\n      id: 'profile-edit-framework',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.editProfileInteractEdata = {\n      id: 'profile-edit',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.editMobileInteractEdata = {\n      id: 'profile-edit-mobile',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.editEmailInteractEdata = {\n      id: 'profile-edit-emailId',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.downloadCertificateEData = {\n      id: 'profile-download-certificate',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.editRecoveryIdInteractEdata = {\n      id: 'profile-edit-recoveryId',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.addRecoveryIdInteractEdata = {\n      id: 'profile-add-recoveryId',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.downloadOthersCertificateEData = {\n      id: 'profile-download-others-certificate',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.submitTeacherDetailsInteractEdata = {\n      id: 'add-teacher-details',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n    this.updateTeacherDetailsInteractEdata = {\n      id: 'edit-teacher-details',\n      type: 'click',\n      pageid: 'profile-read'\n    };\n  }\n\n  navigate(url, formAction) {\n    this.router.navigate([url], {queryParams: {formaction: formAction}});\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env\n        },\n        object: {\n          id: this.userService.userid,\n          type: 'User',\n          ver: '1.0'\n        },\n        edata: {\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: 'profile-read',\n          subtype: this.activatedRoute.snapshot.data.telemetry.subtype,\n          uri: this.router.url,\n          duration: this.navigationhelperService.getPageLoadTime()\n        }\n      };\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.userSubscription) {\n      this.userSubscription.unsubscribe();\n    }\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n  /**\n   * @since - #SH-19\n   * @param  {object} coursedata - data of the course which user will click from the courses section\n   * @description - This method will redirect to the courses page which enrolled by the user\n   */\n  navigateToCourse(coursedata) {\n    const courseId = _.get(coursedata, 'courseId');\n    const batchId = _.get(coursedata, 'batchId');\n    const interactData = {\n      context: {\n        env: _.get(this.activatedRoute.snapshot.data.telemetry, 'env'),\n        cdata: [{\n          type: 'batch',\n          id: _.get(coursedata, 'batchId')\n        }]\n      },\n      edata: {\n        id: 'course-play',\n        type: 'click',\n        pageid: 'profile-read',\n      },\n      object: {\n        id: courseId,\n        type: _.get(coursedata, 'content.contentType'),\n        ver: '1.0',\n        rollup: {},\n      }\n    };\n    this.telemetryService.interact(interactData);\n    this.router.navigate([`learn/course/${courseId}/batch/${batchId}`]);\n  }\n\n  toggleOtherCertific(showMore) {\n    if (showMore) {\n      if (this.otherCertificates.length !== this.otherCertificatesCounts) {\n        this.getOtherCertificates(_.get(this.userProfile, 'userId'), 'all');\n      }\n      this.otherCertificateLimit = this.otherCertificatesCounts;\n      this.showMoreCertificates = false;\n    } else {\n      this.otherCertificateLimit = this.configService.appConfig.PROFILE.defaultViewMoreLimit;\n      this.showMoreCertificates = true;\n    }\n  }\n\n  /**\n   * @since - #SH-920\n   * @description - This method will map self declared values with teacher details dynamic fields to display on profile page\n   */\n  getSelfDeclaredDetails() {\n    this.selfDeclaredInfo = [];\n    this.profileService.getPersonaTenantForm().pipe(takeUntil(this.unsubscribe$)).subscribe(res => {\n      const tenantConfig: any = res.find(config => config.code === 'tenant');\n      this.tenantInfo = _.get(tenantConfig, 'templateOptions.options').find(tenant => tenant.value === this.declarationDetails.orgId);\n\n      this.profileService.getSelfDeclarationForm(this.declarationDetails.orgId).pipe(takeUntil(this.unsubscribe$)).subscribe(formConfig => {\n        const externalIdConfig = formConfig.find(config => config.code === 'externalIds');\n        (externalIdConfig.children as FieldConfig<any>[]).forEach(config => {\n          if (this.declarationDetails.info[config.code]) {\n            this.selfDeclaredInfo.push({ label: config.fieldName, value: this.declarationDetails.info[config.code], code: config.code });\n          }\n        });\n      });\n    });\n  }\n\n  copyToClipboard(userName) {\n    const textElement = document.createElement('textarea');\n    textElement.style.position = 'fixed';\n    textElement.value = userName;\n    document.body.appendChild(textElement);\n    textElement.select();\n    document.execCommand('copy');\n    document.body.removeChild(textElement);\n    this.toasterService.success((this.resourceService.messages.profile.smsg.m0041).replace('{instance}', this.instance));\n  }\n\n  triggerAutoScroll() {\n    setTimeout(() => {\n      const element = document.getElementById(this.scrollToId);\n      if (!element) { return; }\n      const elementPosition = element.getBoundingClientRect().top;\n      const offsetPosition = elementPosition - 144;\n\n      window.scrollTo({\n          top: offsetPosition,\n          behavior: 'smooth'\n      });\n    });\n  }\n\n  private getUserLocation(profile: any) {\n   const userLocation = {};\n    if (profile && profile.userLocations && profile.userLocations.length) {\n        profile.userLocations.forEach((d) => {\n            userLocation[d.type] = d;\n        });\n    }\n    return userLocation;\n}\n\nprivate async getPersonaConfig(persona: string) {\n  const formFields = await this.formService.getFormConfig(ProfilePageComponent.SUPPORTED_PERSONA_LIST_FORM_REQUEST).toPromise();\n  return formFields.find(config => config.code === persona);\n}\n\nprivate async getSubPersonaConfig(persona: string, userLocation: any): Promise<string[]> {\n  if ((!this.userProfile.profileUserTypes || !this.userProfile.profileUserTypes.length) &&\n  (!this.userProfile.profileUserType || !this.userProfile.profileUserType.subType)) {\n      return undefined;\n  }\n  let formFields;\n  try {\n      const state = userLocation.state;\n      formFields = await this.formService.getFormConfig({\n        ...ProfilePageComponent.DEFAULT_PERSONA_LOCATION_CONFIG_FORM_REQUEST,\n        ...(state ? {contentType: state.code} : {})\n      }).toPromise();\n  } catch (e) {\n      formFields = await this.formService.getFormConfig(ProfilePageComponent.DEFAULT_PERSONA_LOCATION_CONFIG_FORM_REQUEST).toPromise();\n  }\n\n  const personaConfig = formFields.find(formField => formField.code === 'persona');\n  const personaChildrenConfig: FieldConfig<any>[] = personaConfig['children'][persona];\n  const subPersonaConfig = personaChildrenConfig.find(formField => formField.code === 'subPersona');\n  if (!subPersonaConfig) {\n      return undefined;\n   }\n  const subPersonaList = [];\n  if (_.get(subPersonaConfig, 'templateOptions.multiple')) {\n    if (this.userProfile.profileUserTypes && this.userProfile.profileUserTypes.length) {\n      this.userProfile.profileUserTypes.forEach(ele => {\n        if (_.get(ele, 'subType')) {\n          subPersonaList.push(ele.subType);\n        }\n      });\n    } else {\n      subPersonaList.push(this.userProfile.profileUserType.subType);\n    }\n  } else {\n    subPersonaList.push(this.userProfile.profileUserType.subType);\n  }\n\n   const subPersonaFieldConfigOption = [];\n   subPersonaList.forEach((ele) => {\n    subPersonaFieldConfigOption.push((subPersonaConfig.templateOptions.options as FieldConfigOption<any>[]).\n    find(option => option.value === ele).label);\n   });\n\n  return subPersonaFieldConfigOption;\n}\n\npublic onLocationModalClose(event) {\n  this.showEditUserDetailsPopup = !this.showEditUserDetailsPopup;\n  this.showFullScreenLoader = !event?.isSubmitted ? false : true;\n  setTimeout(() => {\n    if (this.showFullScreenLoader) {\n      this.showFullScreenLoader = false;\n      this.toasterService.error(this.resourceService.messages.emsg.m0005);\n    }\n  }, 5000);\n}\n\n}\n"],"sourceRoot":"webpack:///"}