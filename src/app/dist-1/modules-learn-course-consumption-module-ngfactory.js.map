{"version":3,"sources":["./src/app/modules/learn/components/batch/batch-details/batch-details.component.html","./src/app/modules/learn/components/course-consumption/certificate-name-update-popup/certificate-name-update-popup.component.html","./src/app/modules/learn/components/batch/unenroll-batch/unenroll-batch.component.ts","./src/app/modules/dashboard/interfaces/index.ts","./src/app/modules/learn/components/course-consumption/course-player/course-player.component.html","./src/app/modules/learn/components/course-consumption/assessment-player/assessment-player.component.html","./src/app/modules/dashboard/interfaces/map.ts","./src/app/modules/learn/course-consumption-routing.module.ts","./src/app/modules/learn/components/course-consumption/certificate-name-update-popup/certificate-name-update-popup.component.ts","./src/app/modules/learn/components/course-consumption/course-completion/course-completion.component.html","./src/app/modules/learn/components/batch/unenroll-batch/unenroll-batch.component.html","./src/app/modules/learn/components/course-consumption/course-consumption-header/course-consumption-header.component.html","./src/app/modules/learn/components/course-consumption/course-details/course-details.component.html","./src/app/modules/learn/components/course-consumption/assessment-player/assessment-player.component.ts","./src/app/modules/learn/components/course-consumption/course-consumption-page/course-consumption-page.component.html","./src/app/modules/learn/components/course-consumption/course-completion/course-completion.component.ts","./src/app/modules/shared-feature/components/confirmation-popup/confirmation-popup.component.html","./src/app/modules/shared-feature/components/global-consent-pii/global-consent-pii.component.html","./src/app/modules/learn/course-consumption.module.ts","./src/app/modules/learn/components/batch/batch-details/batch-details.component.ts","./src/app/modules/dashboard/index.ts"],"names":[],"mappings":"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","file":"modules-learn-course-consumption-module-ngfactory.js","sourcesContent":["<!-- Join Course Table -->\n<app-modal-wrapper [config]=\"{disableClose: true}\" (dismiss)=\"showJoinModal = !showJoinModal;\" *ngIf=\"showJoinModal\">\n  <ng-template sbModalContent let-data>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible normal\">\n          <button aria-label=\"close dialog\" mat-dialog-close class=\"mat-close-btn\">\n            <span>&times;</span>\n          </button>\n          <div class=\"sb-modal-header font-weight-normal\">\n            {{resourceService?.frmelmnts?.lbl?.selectBatch}}\n          </div>\n          <div class=\"sb-modal-content\" *ngIf=\"showAllBatchList\">\n            <div class=\"join-batch\">\n              <div class=\"join-batch__heading\">\n                <div>{{resourceService?.frmelmnts?.lbl?.availableBatches}}</div>\n                <div>{{resourceService?.frmelmnts?.lbl?.courseCreatedBy}}</div>\n              </div>\n              <div class=\"join-batch__body\" *ngFor=\"let batch of allBatchList\">\n                <div>{{batch.startDate | dateFormat}}<span *ngIf=\"batch.endDate\"> - {{batch.endDate | dateFormat}}\n                  </span></div>\n                <div *ngIf=\"userNames[batch.createdBy]\">{{userNames[batch.createdBy].firstName}}\n                  {{userNames[batch.createdBy].lastName}}</div>\n                <button class=\"sb-btn sb-btn-outline-secondary sb-btn-normal\" tabindex=\"0\"\n                  (click)=\"enrollBatch(batch); logTelemetry('enroll-batch', courseHierarchy, batch?.identifier)\">{{resourceService?.frmelmnts?.lbl?.join}}</button>\n              </div>\n            </div>\n          </div>\n          <div *ngIf=\"showAllBatchError\">\n            <div class=\"sb-no-batch-found\">{{resourceService.messages.stmsg.m0081}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n\n<!-- create batch -->\n<mat-accordion class=\"sb-mat-accordion mb-16\" *ngIf=\"isTrackable && viewBatch\">\n  <mat-expansion-panel>\n    <mat-expansion-panel-header tabindex=\"0\" attr.aria-label=\"{{resourceService?.frmelmnts?.lbl?.batches}} accordion\" aria-controls=\"batches\">\n      <mat-panel-title class=\"sb-mat-accordion__title d-flex flex-ai-center flex-jc-space-between\">\n        {{resourceService?.frmelmnts?.lbl?.batches}}\n      </mat-panel-title>\n    </mat-expansion-panel-header>\n    <div class=\"sb-mat-accordion__content\" role=\"region\" id=\"batches\" aria-labelledby=\"batches\">\n      <div class=\"batch-details\">\n        <div class=\"mb-16\" *ngIf=\"showBatchList\">\n          <div class=\"batch-details__dropdown\">\n            <div>\n              <mat-form-field appearance=\"fill\" class=\"sb-mat__dropdown w-100 mb-16\">\n                <mat-label>{{resourceService.frmelmnts?.lbl?.batchStatus}}</mat-label>\n                <mat-select role=\"listbox\" aria-label=\"Select Status\" [(value)]=\"selectedLanguage\"\n                  class=\"selection\"\n                  [(ngModel)]=\"batchStatus\" (selectionChange)=\"getSelectedBatches()\">\n                  <mat-option role=\"option\" *ngFor=\"let option of statusOptions\" [value]=\"option.value\"\n                    attr.aria-label=\"{{option.name}}\">{{option.name}}</mat-option>\n                </mat-select>\n              </mat-form-field>\n            </div>\n            <div *ngFor=\"let batch of batchList\">\n\n              <div class=\"sb-color-primary fmedium font-weight-bold\"><i class=\"calendar outline icon\"></i>\n                {{batch.startDate | dateFormat}}\n                <span *ngIf=\"batch.endDate\"> - {{batch.endDate | dateFormat}} </span>\n              </div>\n              <div class=\"batch-details__edit d-flex flex-ai-center py-8\">\n                <div *ngIf=\"allowBatchCreation && allowCertCreation\">\n                  <div *ngIf=\"!isCertAdded(batch)\" class=\"sb-color-primary fnormal font-weight-bold\">\n                    <a href=\"javascript:void(0)\" tabindex=\"0\"\n                      (click)=\"navigateToConfigureCertificate('add', batch?.identifier); logTelemetry('add-certificate')\">{{resourceService?.frmelmnts?.cert?.lbl?.addCert}}</a>\n                  </div>\n                  <div *ngIf=\"isCertAdded(batch)\" class=\"sb-color-primary fnormal font-weight-bold\">\n                    <a href=\"javascript:void(0)\" tabindex=\"0\"\n                      (click)=\"navigateToConfigureCertificate('edit', batch?.identifier); logTelemetry('edit-certificate')\">{{resourceService?.frmelmnts?.cert?.lbl?.editCert}}</a>\n                  </div>\n                </div>\n                <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary ml-auto\" tabindex=\"0\"\n                  (click)=\"batchUpdate(batch); logTelemetry('update-batch', courseHierarchy, batch?.identifier);\"\n                  [ngClass]=\"{'sb-btn-disabled': (!isExpiredBatchEditable && batch.status === 2)}\"\n                  [disabled]=\"(!isExpiredBatchEditable && batch.status === 2)\">\n                  {{resourceService?.frmelmnts?.lbl?.edit}}\n                </button>\n              </div>\n\n\n              <div class=\"batch-details__created mt-8 fsmall\" *ngIf=\"userNames[batch.createdBy]\">\n                {{resourceService?.frmelmnts?.lbl?.courseCreatedBy}}\n                {{userNames[batch.createdBy].firstName}} {{userNames[batch.createdBy].lastName}}\n              </div>\n              <div class=\"batch-details__created mt-8 fsmall\" *ngIf=\"isValidEnrollmentEndDate(batch.enrollmentEndDate)\">\n                <span class=\"sb-label-12size\"\n                  *ngIf=\"!isEnrollmentAllowed(batch.enrollmentEndDate)\">{{resourceService.messages.stmsg.m0136}}\n                  {{batch.enrollmentEndDate | dateFormat}}</span>\n                <span class=\"sb-label-status-error\"\n                  *ngIf=\"isEnrollmentAllowed(batch.enrollmentEndDate)\">{{resourceService.messages.stmsg.m0134}}</span>\n              </div>\n            </div>\n          </div>\n          <div class=\"content my-15\" *ngIf=\"batchList.length <= 0\">\n            <div class=\"sb-no-batch-found\">{{resourceService.messages.stmsg.m0081}}</div>\n          </div>\n        </div>\n        <div *ngIf=\"showError\">\n          <div class=\"sb-no-batch-found\">{{resourceService.messages.stmsg.m0081}}</div>\n        </div>\n        <div class=\"batch-deatils__button text-right\" *ngIf=\"isTrackable && showCreateBatchBtn\">\n          <button class=\"sb-btn sb-btn-primary sb-btn-normal width-100\" tabindex=\"0\"\n            (click)=\"createBatch(); logTelemetry('create-batch', courseHierarchy);\"\n            *ngIf=\"allowBatchCreation\">{{resourceService.frmelmnts.lbl.createbatch}}</button>\n        </div>\n      </div>\n    </div>\n  </mat-expansion-panel>\n</mat-accordion>\n\n<!-- batch details -->\n<mat-accordion class=\"sb-mat-accordion mb-16\" *ngIf=\"showBatchDetailsBeforeJoin\">\n  <mat-expansion-panel>\n    <mat-expansion-panel-header>\n      <mat-panel-title class=\"sb-mat-accordion__title d-flex flex-ai-center flex-jc-space-between\">\n        {{resourceService?.frmelmnts?.lbl?.batchdetails}}\n      </mat-panel-title>\n    </mat-expansion-panel-header>\n    <div class=\"sb-mat-accordion__content\">\n      <div class=\"batch-details\">\n        <div class=\"mb-16\">\n          <div *ngIf=\"batchDetails?.startDate\">\n            <div class=\"content-metadeta__title fsmall font-weight-bold mb-8 sb-color-gray-800\">\n              {{resourceService?.frmelmnts?.lbl?.coursebatchstartdate}}</div>\n            <div class=\"content-metadeta__text  fnormal sb-color-gray-400\">{{batchDetails?.startDate | dateFormat}}\n            </div>\n          </div>\n          <hr class=\"section-hr\" *ngIf=\"batchDetails?.endDate\" />\n          <div *ngIf=\"batchDetails?.endDate\">\n            <div class=\"content-metadeta__title fsmall font-weight-bold mb-8 sb-color-gray-800\">\n              {{resourceService?.frmelmnts?.lbl?.coursebatchenddate}}</div>\n            <div class=\"content-metadeta__text  fnormal sb-color-gray-400\">{{batchDetails?.endDate | dateFormat}}</div>\n          </div>\n          <hr class=\"section-hr\" *ngIf=\"isValidEnrollmentEndDate(batchDetails?.enrollmentEndDate)\" />\n          <div *ngIf=\"isValidEnrollmentEndDate(batchDetails?.enrollmentEndDate)\">\n            <div class=\"content-metadeta__title fsmall font-weight-bold mb-8 sb-color-gray-800\">\n              {{resourceService?.frmelmnts?.lbl?.enrollmentenddate}}</div>\n            <div class=\"content-metadeta__text  fnormal sb-color-gray-400\"> {{batchDetails?.enrollmentEndDate |\n              dateFormat}}</div>\n            <div class=\"sb-label-status-error fsmall\" *ngIf=\"isEnrollmentAllowed(batchDetails?.enrollmentEndDate)\">\n              {{resourceService?.messages?.stmsg?.m0134}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </mat-expansion-panel>\n</mat-accordion>\n<mat-accordion *ngIf=\"showCertificateDetails\" class=\"sb-mat-accordion mb-16\">\n  <mat-expansion-panel>\n    <mat-expansion-panel-header title class=\"sb-mat-accordion__title d-flex flex-ai-center flex-jc-space-between\">\n      <mat-panel-title>\n        <span>{{resourceService?.frmelemnts?.scttl?.certques}}</span>\n      </mat-panel-title>\n    </mat-expansion-panel-header>\n    <div class=\"sb-mat-accordion__content\">\n      <div class=\"batch-details\">\n        <div class=\"mb-16\">\n          <ul>\n            <li *ngIf=\"showCompletionCertificate\" class=\"fsmall mb-8 sb-color-gray-800\">\n              {{resourceService?.frmelmnts?.bltpt?.earnyourcert}}</li>\n            <li *ngIf=\"showMeritCertificate\" class=\"fsmall mb-8 sb-color-gray-800\">\n              {{resourceService?.frmelemnts?.bltpt?.earnmcert |\n              interpolate:'{percent}': meritCertPercent}}</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </mat-expansion-panel>\n</mat-accordion>\n\n<!-- Leave batch card -->\n<mat-accordion class=\"sb-mat-accordion mb-16\"\n  *ngIf=\"enrolledCourse && enrolledBatchInfo && !viewBatch\">\n  <mat-expansion-panel>\n    <mat-expansion-panel-header>\n      <mat-panel-title class=\"sb-mat-accordion__title d-flex flex-ai-center flex-jc-space-between\">\n        {{resourceService.frmelmnts.lbl.batchdetails}}\n      </mat-panel-title>\n    </mat-expansion-panel-header>\n    <div class=\"sb-mat-accordion__content\">\n      <div class=\"batch-details\">\n        <div class=\"mb-16\">\n          <div class=\"batch-details__name sb-color-primary font-weight-bold fmedium\">\n            {{enrolledBatchInfo?.name}}</div>\n          <div class=\"batch-details__created mt-8 fsmall\">\n            <span class=\"date\">{{enrolledBatchInfo.startDate | dateFormat}} </span>\n            <span *ngIf=\"enrolledBatchInfo.endDate\" class=\"date\"> -\n              {{enrolledBatchInfo?.endDate | dateFormat}}</span>\n          </div>\n        </div>\n        <div class=\"batch-deatils__button text-right\">\n          <button\n            [ngClass]=\"{'sb-btn-disabled': isUnenrollbtnDisabled,'sb-btn-outline-primary': !isUnenrollbtnDisabled}\"\n            class=\"sb-btn sb-btn-outline-primary sb-btn-normal\" tabindex=\"0\"\n            (click)=\"unenrollBatch(enrolledBatchInfo); logTelemetry('unenroll-batch', courseHierarchy);\"\n            [disabled]=\"isUnenrollbtnDisabled\">{{generaliseLabelService?.frmelmnts?.btn?.unenroll}}</button>\n        </div>\n        <div class=\"batch-details__created mt-8 fsmall\">\n          <span class=\"right floated\" *ngIf=\"enrolledBatchInfo?.participantCount>=0\">\n            {{enrolledBatchInfo?.participantCount}} {{resourceService.frmelmnts.lbl.learners}}\n          </span>\n          <span>\n            {{enrolledBatchInfo?.mentors?.length}} {{resourceService.frmelmnts.lbl.mentors}}\n          </span>\n        </div>\n      </div>\n    </div>\n  </mat-expansion-panel>\n</mat-accordion>\n\n<app-modal-wrapper [config]=\"{disableClose: true, size: 'small'}\" (dismiss)=\"showMessageModal = false;\"\n  *ngIf=\"showMessageModal\">\n  <ng-template sbModalContent>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible small\">\n          <button aria-label=\"close dialog\" mat-dialog-close class=\"mat-close-btn\">\n            <span>&times;</span>\n          </button>\n          <div class=\"sb-modal-header\">\n            {{generaliseLabelService?.frmelmnts?.btn?.enroll}}\n          </div>\n          <!--/Header-->\n          <!--Content-->\n          <div class=\"sb-modal-content\">\n            <div class=\"ui center aligned segment\">\n              <p>{{batchMessage}}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>","<app-modal-wrapper [config]=\"{disableClose: true, size: 'normal', panelClass: 'material-modal'}\" (dismiss)=\"closePopup()\" #modal>\n  <ng-template sbModalContent>\n    <div class=\"sb-mat__modal\">\n\n      <!--Header-->\n      <div mat-dialog-title class=\"mb-0\">\n        <div class=\"title\">{{resourceService?.frmelmnts?.lbl?.profileNameConfirmations}}</div>\n        <button aria-label=\"close dialog\" mat-dialog-close class=\"close-btn\"></button>\n      </div>\n      <!--/Header-->\n\n      <!--Content-->\n      <div class=\"sb-mat__modal__content\">\n        <div class=\"d-flex flex-jc-center\">\n          <img src=\"./assets/images/profile-certificate.svg\" alt=\"\">\n        </div>\n        <div class=\"profile-section-content\">\n          <div class=\"profile-info d-flex flex-dc\">\n            <span\n              class=\"text-center d-flex flex-ai-center flex-jc-center mb-8\">{{resourceService?.frmelmnts?.lbl?.firstName}}:\n              <span *ngIf=\"!isNameEditable\" class=\"font-weight-bold ml-8\">{{profileInfo.firstName }} <img\n                  src=\"./assets/images/edit-icon.svg\" alt=\"edit-icon\" class=\"cursor-pointer ml-8\" tabindex=\"0\"\n                  (click)=\"allowToEdit('firstName')\" appTelemetryInteract\n                  [telemetryInteractObject]=\"courseInteractObject\"\n                  [telemetryInteractEdata]=\"{id:'certificatefNameChangeEdit' , type: 'click' , pageid:'course-consumption'}\"></span>\n              <span *ngIf=\"isNameEditable\" class=\"pt-8\"><input class=\"sb-form-control ml-8\"\n                  [(ngModel)]=\"profileInfo.firstName\" (blur)=\"isNameEditable = false\" #crtFirstName /></span>\n            </span>\n            <span\n              class=\"text-center d-flex flex-ai-center flex-jc-center\">{{resourceService?.frmelmnts?.lbl?.lastName}}:\n              <span *ngIf=\"!isLastNameEditable\" class=\"font-weight-bold ml-8\">{{profileInfo.lastName }} <img\n                  src=\"./assets/images/edit-icon.svg\" alt=\"edit-icon\" class=\"cursor-pointer ml-8\" tabindex=\"0\"\n                  (click)=\"allowToEdit('lastName')\" appTelemetryInteract\n                  [telemetryInteractObject]=\"courseInteractObject\"\n                  [telemetryInteractEdata]=\"{id:'certificatelNameChangeEdit' , type: 'click' , pageid:'course-consumption'}\"></span>\n              <span *ngIf=\"isLastNameEditable\" class=\"pt-8\"><input class=\"sb-form-control ml-8\"\n                  [(ngModel)]=\"profileInfo.lastName\" (blur)=\"isLastNameEditable = false\" #crtLastName /></span>\n            </span>\n          </div>\n          <div class=\"profile-info-para mt-8 text-center\">\n            <p class=\"mb-8\">\n              {{resourceService?.frmelmnts?.lbl?.nameUpdateConfirmation | interpolate:'{instance}': instance}}\n            </p>\n            <p class=\"mb-0 fnormal font-weight-normal\">\n              <input class=\"mr-8 cursor-pointer\" type=\"checkbox\" [(ngModel)]=\"certificateNameChecked\" value=\"true\"\n                tabindex=\"0\" (click)=\"onClickCheckbox(certificateNameChecked)\" appTelemetryInteract\n                [telemetryInteractObject]=\"courseInteractObject\"\n                [telemetryInteractEdata]=\"{id:'certificateNameUpdateConfirmation' , type: 'click' , pageid:'course-consumption'}\">\n              {{resourceService?.frmelmnts?.lbl?.certificateNameUpdate}}\n            </p>\n          </div>\n        </div>\n      </div>\n      <!--/Content-->\n\n      <!--Actions-->\n      <div class=\"sb-mat__modal__actions text-center\">\n        <button appTelemetryInteract [telemetryInteractObject]=\"courseInteractObject\" tabindex=\"0\"\n          [telemetryInteractEdata]=\"{id:'viewCertificateNameChangedPopupSubmit' , type: 'click' , pageid:'course-consumption'}\"\n          [ngClass]=\"certificateNameChecked ? '' : 'sb-btn-disabled'\" [disabled]=\"!disableContinueBtn\" tabindex=\"0\"\n          (click)=\"updateProfileName()\" class=\"sb-btn sb-btn-normal sb-btn-primary\" type=\"button\">\n          {{resourceService.frmelmnts.lbl.continue}} </button>\n      </div>\n      <!-- pass \"sb-btn-disabled\" class for button disabled -->\n      <!--/Actions-->\n\n    </div>\n  </ng-template>\n</app-modal-wrapper>","\nimport { takeUntil } from 'rxjs/operators';\nimport { UserService, CoursesService, GeneraliseLabelService } from '@sunbird/core';\nimport { ResourceService, ToasterService, ConfigService, NavigationHelperService } from '@sunbird/shared';\nimport { CourseBatchService } from '../../../services';\nimport { Component, OnInit, OnDestroy, AfterViewInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { IImpressionEventInput } from '@sunbird/telemetry';\nimport * as _ from 'lodash-es';\nimport { Subject } from 'rxjs';\nimport { TelemetryService, IInteractEventObject, IInteractEventEdata } from '@sunbird/telemetry';\n@Component({\n  selector: 'app-unenroll-batch',\n  templateUrl: './unenroll-batch.component.html'\n})\nexport class UnEnrollBatchComponent implements OnInit, OnDestroy, AfterViewInit {\n  batchId: string;\n  batchDetails: any;\n  showEnrollDetails = false;\n  readMore = false;\n  disableSubmitBtn = false;\n  public unsubscribe = new Subject<void>();\n  telemetryCdata: Array<{}>;\n  submitInteractEdata: IInteractEventEdata;\n  telemetryInteractObject: IInteractEventObject;\n  /**\n\t * telemetryImpression object for update batch page\n\t*/\n  telemetryImpression: IImpressionEventInput;\n  constructor(public router: Router, public activatedRoute: ActivatedRoute, public courseBatchService: CourseBatchService,\n    public resourceService: ResourceService, public toasterService: ToasterService, public userService: UserService,\n    public configService: ConfigService, public coursesService: CoursesService,\n    private telemetryService: TelemetryService,\n    public navigationhelperService: NavigationHelperService, public generaliseLabelService: GeneraliseLabelService) { }\n\n  ngOnInit() {\n    this.activatedRoute.params.subscribe((params) => {\n      this.batchId = params.batchId;\n      const primaryCategory = _.get(this.activatedRoute, 'snapshot.queryParams.primaryCategory');\n      this.telemetryInteractObject = { id: this.batchId, type: primaryCategory || 'Course', ver: '1.0' };\n      this.courseBatchService.getEnrollToBatchDetails(this.batchId).pipe(\n        takeUntil(this.unsubscribe))\n        .subscribe((data) => {\n          this.batchDetails = data;\n          this.telemetryInteractObject = { id: this.batchId, type: primaryCategory || 'Course', ver: '1.0', rollup: {l1: _.get(data, 'courseId'),\n          l2: this.batchId}};\n          if (this.batchDetails.enrollmentType !== 'open') {\n            this.toasterService.error(this.generaliseLabelService.messages.fmsg.m0082);\n            this.redirect();\n          }\n          this.fetchParticipantsDetails();\n          this.setTelemetryData();\n        }, (err) => {\n          this.toasterService.error(this.resourceService.messages.fmsg.m0054);\n          this.redirect();\n        });\n    });\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n  redirect() {\n    this.router.navigate(['./'], { relativeTo: this.activatedRoute.parent });\n  }\n  fetchParticipantsDetails() {\n    if (!_.isUndefined(this.batchDetails.participants)) {\n      const request = {\n        filters: {\n          identifier: this.batchDetails.participants\n        }\n      };\n      this.courseBatchService.getUserList(request).pipe(\n        takeUntil(this.unsubscribe))\n        .subscribe((res) => {\n          this.batchDetails.participantDetails = res.result.response.content;\n          this.showEnrollDetails = true;\n        }, (err) => {\n          this.toasterService.error(this.resourceService.messages.fmsg.m0056);\n          this.redirect();\n        });\n    } else {\n      this.showEnrollDetails = true;\n    }\n  }\n  unenrollFromCourse() {\n    this.setTelemetryData();\n    const request = {\n      request: {\n        courseId: this.batchDetails.courseId,\n        userId: this.userService.userid,\n        batchId: this.batchDetails.identifier\n      }\n    };\n    this.disableSubmitBtn = true;\n    this.courseBatchService.unenrollFromCourse(request).pipe(\n      takeUntil(this.unsubscribe))\n      .subscribe((data) => {\n        this.coursesService.revokeConsent.emit();\n        this.disableSubmitBtn = true;\n        this.toasterService.success(this.resourceService.messages.smsg.m0045);\n        this.goBackToCoursePage();\n      }, (err) => {\n        this.disableSubmitBtn = false;\n        this.toasterService.error(this.resourceService.messages.emsg.m0009);\n      });\n  }\n  goBackToCoursePage() {\n    const textbook = _.get(this.activatedRoute, 'snapshot.queryParams.textbook');\n    const queryParams = textbook ? { textbook } : {};\n    this.router.navigate(['/learn/course', this.batchDetails.courseId], { queryParams }).then(() => {\n      this.telemetryService.syncEvents(false);\n      window.location.reload();\n    });\n  }\n  ngAfterViewInit () {\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env\n        },\n        edata: {\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          uri: '/unenroll/batch/' + this.activatedRoute.snapshot.params.batchId,\n          duration: this.navigationhelperService.getPageLoadTime()\n        },\n        object: {\n          id: this.activatedRoute.snapshot.params.batchId,\n          type: this.activatedRoute.snapshot.data.telemetry.object.type,\n          ver: this.activatedRoute.snapshot.data.telemetry.object.ver\n        }\n      };\n    });\n  }\n  setTelemetryData() {\n    this.telemetryCdata = [{ 'type': 'batch', 'id': this.batchDetails.identifier}];\n    this.submitInteractEdata = {\n      id: 'unenrollBatch',\n      type: 'click',\n      pageid: 'Unenroll-Batch'\n    };\n  }\n}\n","export * from './dashboardParams';\nexport * from './dashboardData';\nexport * from './chartData';\nexport * from './report';\nexport * from './datatable';\nexport * from './userCertData';\nexport * from './dataset';\nexport * from './map';\n","<!-- Accordion and batch card section start -->\n<div *ngIf=\"!loader\" [appTelemetryStart]=\"telemetryCourseStart\" [appTelemetryEnd]=\"telemetryCourseEndEvent\">\n  <div class=\"ui container relative9\" [appTelemetryImpression]=\"telemetryCourseImpression\">\n    <div class=\"sb-course-details sb-g sb-g--gap24 py-16 text-left cc-player\">\n      <div class=\"sb-course-details__training sb-g-col-xs-12 sb-g-col-md-9 sb-g-col-lg-9 sb-g-col-xxxl-12\">\n        {{ generaliseLabelService?.frmelmnts?.lbl?.LastUpdatedOn }}\n        <!-- Course details for mobile view -->\n        <!-- <div class=\"sb-bg-color-white p-8 mb-16 mobile only\"\n          *ngIf=\"enrolledBatchInfo?.cert_templates; else noMobileCertificate\">\n          <div class=\"certified-course__certificate d-inline-flex flex-ai-center py-8 px-16 width-100\">\n            <img src=\"assets/images/certificate-icon.png\" alt=\"Certificate\">\n            <span\n              class=\"fnormal sb-color-primary ml-16 font-weight-bold\">{{generaliseLabelService?.frmelmnts?.lbl?.courseContainCertificate}}</span>\n          </div>\n        </div>\n\n        <ng-template #noMobileCertificate>\n          <div class=\"sb-bg-color-white p-8 mb-16 mobile only\">\n            <div class=\"certified-course__certificate d-inline-flex flex-ai-center py-8 px-16 width-100\">\n              <img src=\"assets/images/certificate-icon.png\" alt=\"Certificate\">\n              <span\n                class=\"fnormal sb-color-primary ml-16 font-weight-bold\">{{generaliseLabelService?.frmelmnts?.lbl?.courseDontContainCertificate}}</span>\n            </div>\n          </div>\n        </ng-template> -->\n\n        <div *ngIf=\"isEnrolledCourseUpdated\" class=\"mobile only\">\n          <div class=\"sb-no-course-found my-16 d-flex flex-ai-center\">\n            <div><img src=\"assets/images/alert.svg\" alt=\"alert-image\" width=\"20px\" height=\"20px\"></div>\n            <div class=\"ml-8\">{{ generaliseLabelService?.frmelmnts?.lbl?.courseLastUpdatedOn }} {{\n              courseHierarchy?.lastUpdatedOn | date:'dd/MM/yyyy' }}</div>\n          </div>\n        </div>\n\n        <div class=\"sb-bg-color-white p-8 mb-16 mobile only sbt-certified-course\"\n          *ngIf=\"enrolledCourse && !enrolledBatchInfo?.cert_templates\">\n          <div class=\"certified-course__certificate d-inline-flex flex-ai-center py-8 px-16 width-100\">\n            <img src=\"assets/images/certificate-icon.png\" alt=\"Certificate\">\n            <span\n              class=\"fnormal sb-color-primary ml-16 font-weight-bold\">{{generaliseLabelService?.frmelmnts?.lbl?.courseDontContainCertificate}}</span>\n          </div>\n        </div>\n\n        <!-- Course details displayed on top when course is not enrolled -->\n        <app-course-details [courseHierarchy]=\"courseHierarchy\" *ngIf=\"!enrolledCourse\"></app-course-details>\n\n        <div class=\"training-modules my-16\">\n          <div class=\"training-modules__title d-flex flex-ai-center mb-16\">\n            <h4 class=\"sb-pageSection-title sb-pageSection-title-light\">\n              {{resourceService?.frmelmnts?.lbl?.coursestructure}}</h4>\n            <button *ngIf=\"!isExpandedAll\"\n              class=\"sb-btn sb-btn-normal sb-btn-outline-primary ml-auto d-flex flex-ai-center\" tabindex=\"0\"\n              (click)=\"isExpandedAll = true; logTelemetry('expand-all', courseHierarchy);\"><img\n                src=\"assets/images/plus.png\" class=\"mr-8\" alt=\"\"\n                width=\"12px\">{{resourceService?.frmelmnts?.lbl?.expandAll}}</button>\n            <button *ngIf=\"isExpandedAll\"\n              class=\"sb-btn sb-btn-normal sb-btn-outline-primary ml-auto d-flex flex-ai-center\" tabindex=\"0\"\n              (click)=\"isExpandedAll = false; logTelemetry('collapse-all', courseHierarchy);\"><img\n                src=\"assets/images/collapse.png\" class=\"mr-8\" alt=\"\"\n                width=\"12px\">{{resourceService?.frmelmnts?.lbl?.collapseAll}}</button>\n          </div>\n\n          <div *ngFor=\"let item of courseHierarchy?.children; let index = index\">\n            <sb-accordion [multi]=\"false\">\n              <sb-accordion-item [expanded]=\"isExpanded(index)\" (collapsedChange)=\"collapsedChange($event, index)\"\n                [collapsed]=\"item?.collapsed\">\n                <sb-accordion-header class=\"sb-bg-color-gray-0\" (click)=\"isModuleExpanded = true;\" tabindex=\"0\">\n                  <i class=\"icon-svg icon-svg--sm icon-tick mr-8\" role=\"img\" aria-label=\"tick-icon\"\n                    *ngIf=\"enrolledCourse && item?.consumedContent === item?.contentCount\">\n                    <svg class=\"icon\">\n                      <use xlink:href=\"./assets/images/sprite.svg#circle-with-check-symbol\"></use>\n                    </svg>\n                  </i>\n                  <div class=\"progress-circle progress-circle--sm mr-8\" [attr.data-percentage]=\"item?.progress\"\n                    *ngIf=\"enrolledCourse && item?.consumedContent > 0 && item?.consumedContent !== item?.contentCount\">\n                    <svg class=\"progress-circle__svg\" viewport=\"0 0 2000 2000\">\n                      <circle class=\"progress-circle__stroke\" r=\"50%\" cx=\"50%\" cy=\"50%\"></circle>\n                      <circle class=\"progress-circle__stroke\" r=\"50%\" cx=\"50%\" cy=\"50%\"></circle>\n                    </svg>\n                  </div>\n                  {{item?.name}}\n                </sb-accordion-header>\n                <sb-accordion-body>\n                  <div class=\"chapter-box\">\n                    <div *ngIf=\"item;else noContent\">\n                      <div\n                        *ngIf=\"item?.mimeType !== 'application/vnd.ekstep.content-collection' && !item?.children?.length\">\n                        <div class=\"child-content-padding\">\n                          <sb-toc-card [content]=\"item\" (tocCardClick)=\"navigateToContent($event, item, 'toc-card')\"\n                            [type]=\"cardType\" [contentStatus]=\"contentStatus\" [maxAttempts]=\"item?.maxAttempts\"\n                            [scoreLabel]=\"'Best Score'\" [disabled]=\"'disabled-toc-card'\">\n                          </sb-toc-card>\n                        </div>\n                      </div>\n                      <div *ngIf=\"item?.children?.length\">\n                        <div *ngFor=\"let child of item?.children\">\n                          <!-- toc card for Non Self Assess content -->\n                          <sb-toc-child-item\n                            *ngIf=\"child?.contentType !== 'SelfAssess' && child?.mimeType !== 'application/vnd.sunbird.questionset'\"\n                            [childData]=\"child\" class=\"sb-toc-child-item\"\n                            (tocCardClick)=\"navigateToContent($event, item, 'child-item')\"\n                            [contentStatus]=\"contentStatus\" [type]=\"cardType\">\n                          </sb-toc-child-item>\n                          <!-- toc card for Self Assess content with Label for Best Score -->\n                          <sb-toc-child-item\n                            *ngIf=\"child?.contentType === 'SelfAssess' || child?.mimeType === 'application/vnd.sunbird.questionset'\"\n                            [childData]=\"child\" class=\"sb-toc-child-item\"\n                            (tocCardClick)=\"navigateToContent($event, item, 'child-item')\"\n                            [contentStatus]=\"contentStatus\" [type]=\"cardType\" [maxAttempts]=\"child?.maxAttempts\"\n                            [scoreLabel]=\"'Best Score'\" [disabled]=\"'disabled-toc-card'\">\n                          </sb-toc-child-item>\n                        </div>\n                      </div>\n                    </div>\n                    <ng-template #noContent>\n                      <div class=\"heading\">{{noContentMessage}}</div>\n                    </ng-template>\n\n                  </div>\n                </sb-accordion-body>\n              </sb-accordion-item>\n            </sb-accordion>\n          </div>\n        </div>\n\n        <!-- Course details displayed on bottom when course is enrolled -->\n        <app-course-details [courseHierarchy]=\"courseHierarchy\" *ngIf=\"enrolledCourse\"></app-course-details>\n\n      </div>\n      <div class=\"sb-course-details__info sb-g-col-xs-12 sb-g-col-md-3 sb-g-col-lg-3 sb-g-col-xxxl-4\">\n\n        <!-- <div class=\"sb-bg-color-white p-8 mb-16 computer only\" *ngIf=\"enrolledBatchInfo?.cert_templates; else noCertificate\">\n          <div class=\"certified-course__certificate d-inline-flex flex-ai-center py-8 px-16 width-100\">\n            <img src=\"assets/images/certificate-icon.png\" alt=\"Certificate\">\n            <span\n              class=\"fnormal sb-color-primary ml-16 font-weight-bold\">{{generaliseLabelService?.frmelmnts?.lbl?.courseContainCertificate}}</span>\n          </div>\n        </div>\n\n        <ng-template #noCertificate>\n          <div class=\"sb-bg-color-white p-8 mb-16 computer only\">\n            <div class=\"certified-course__certificate d-inline-flex flex-ai-center py-8 px-16 width-100\">\n              <img src=\"assets/images/certificate-icon.png\" alt=\"Certificate\">\n              <span\n                class=\"fnormal sb-color-primary ml-16 font-weight-bold\">{{generaliseLabelService?.frmelmnts?.lbl?.courseDontContainCertificate}}</span>\n            </div>\n          </div>\n        </ng-template> -->\n\n        <div *ngIf=\"isEnrolledCourseUpdated\" class=\"computer only\">\n          <div class=\"sb-no-course-found my-16 d-flex flex-ai-center\">\n            <div><img src=\"assets/images/alert.svg\" alt=\"alert-image\" width=\"20px\" height=\"20px\"></div>\n            <div class=\"ml-8\">{{ generaliseLabelService?.frmelmnts?.lbl?.courseLastUpdatedOn }} {{\n              courseHierarchy?.lastUpdatedOn | date:'dd/MM/yyyy' }}</div>\n          </div>\n        </div>\n\n        <div class=\"sb-bg-color-white p-8 mb-16 computer only  sbt-certified-course\"\n          *ngIf=\"enrolledCourse && certificateDescription && !certificateDescription?.isCertificate\">\n          <div class=\"certified-course__certificate d-inline-flex flex-ai-center py-8 px-16 width-100\">\n            <img src=\"assets/images/certificate-icon.png\" alt=\"Certificate\">\n            <span\n              class=\"fnormal sb-color-primary ml-16 font-weight-bold\">{{generaliseLabelService?.frmelmnts?.lbl?.courseDontContainCertificate}}</span>\n          </div>\n        </div>\n\n        <div class=\"sb-bg-color-white p-8 mb-16 computer only\"\n          *ngIf=\"enrolledCourse && certificateDescription && certificateDescription?.description\">\n          <div class=\"certified-course__certificate d-inline-flex flex-ai-center p-8 width-100\">\n            <img src=\"assets/images/certificate-icon.png\" alt=\"Certificate\">\n            <span\n              class=\"fnormal sb-color-primary ml-16 font-weight-bold\">{{generaliseLabelService?.frmelmnts?.lbl?.courseContainCertificate}}</span>\n          </div>\n          <p class=\"fsmall px-4 pt-8\"> {{certificateDescription?.description}} </p>\n        </div>\n\n        <!-- 2. Course Progress bar -->\n        <div class=\"sb-bg-color-white certified-course__progress p-16 mb-16\"\n          *ngIf=\"enrolledCourse && !addToGroup && !courseMentor\">\n          <div class=\"fsmall relative9 relative\">\n            <div class=\"kabab-menu pull-right\" *ngIf=\"progressToDisplay === 100 && showForceSync && isConnected\"\n              (click)=\"dropdownMenu();\"></div>\n            <div class=\"kabab-menu-dropdown-content\" [hidden]=\"dropdownContent\">\n              <div class=\"d-flex flex-ai-center list p-8 w-100\" (click)=\"forceSync()\">\n                {{resourceService?.frmelmnts?.lbl?.forceSync}}</div>\n            </div>\n          </div>\n          <div class=\"fsmall\">{{resourceService?.frmelmnts?.lbl?.courseProgress}}</div>\n          <div class=\"sb-color-primary fnormal font-weight-bold mt-8\">{{progressToDisplay}}%\n            <span>{{resourceService?.frmelmnts?.lbl?.completed}}</span></div>\n          <mat-progress-bar mode=\"determinate\" [value]=\"progressToDisplay\" class=\"mb-0 mr-0 mt-8 tiny\"></mat-progress-bar>\n        </div>\n\n        <!-- 3. Join batch, leave batch and show batch popup-->\n        <app-batch-details *ngIf=\"courseStatus !== 'Unlisted'\" [courseId]=\"courseId\" [batchId]=\"batchId\"\n          [enrolledCourse]=\"enrolledCourse\" [enrolledBatchInfo]=\"enrolledBatchInfo\" [courseHierarchy]=\"courseHierarchy\"\n          [courseProgressData]=\"courseProgressData\" (allBatchDetails)=\"getAllBatchDetails($event)\"></app-batch-details>\n\n        <!-- Consent to share PII  -->\n        <div class=\"mb-16\" *ngIf=\"showDataSettingSection && isConnected\">\n          <app-global-consent-pii [collection]=\"courseHierarchy\" [isglobalConsent]=\"false\" [type]=\"courseConsent\"\n            [consentConfig]=\"consentConfig\"></app-global-consent-pii>\n        </div>\n\n        <!-- Credits & License information -->\n        <div class=\"course-player--metadata text-left\">\n          <app-course-info [courseHierarchy]=\"courseHierarchy\"></app-course-info>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n\n<router-outlet></router-outlet>\n\n<app-modal-wrapper [config]=\"{disableClose: false, size: 'small'}\" *ngIf=\"showJoinTrainingModal\"\n  (dismiss)=\"showJoinTrainingModal = false; logTelemetry('join-training-popup-close')\">\n  <ng-template sbModalContent let-data>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible small\">\n          <button aria-label=\"close dialog\" mat-dialog-close class=\"mat-close-btn\">\n            <span>&times;</span>\n          </button>\n          <!--Header-->\n          <div class=\"sb-modal-header\">\n            {{generaliseLabelService?.frmelmnts?.btn?.enroll}}\n          </div>\n          <!--/Header-->\n          <!--Content-->\n          <div class=\"sb-modal-content\">\n            <div class=\"ui center aligned segment\">\n              <p>{{batchMessage}}</p>\n            </div>\n          </div>\n          <!--/Content-->\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n\n<app-modal-wrapper *ngIf=\"shareLinkModal\" [config]=\"{disableClose: false, panelClass: 'material-modal'}\"\n  (dismiss)=\"closeSharePopup('close-share-link-popup')\">\n  <ng-template sbModalContent>\n    <app-share-link [shareLink]=\"shareLink\" [telemetryShareData]=\"telemetryShareData\">\n    </app-share-link>\n  </ng-template>\n</app-modal-wrapper>\n\n<app-confirmation-popup *ngIf=\"showConfirmationPopup\" [popupMode]=\"popupMode\" [batchId]=\"createdBatchId\"\n  (close)=\"onPopupClose($event)\"></app-confirmation-popup>\n\n<!-- new UI -->\n<div class=\"sb-bg-color-gray-0 textbook-container hide\">\n  <div class=\"ui container\">\n    <div class=\"textbook py-16 d-flex flex-ai-center\">\n      <div class=\"textbook__details d-flex flex-ai-center\">\n        <img src=\"./assets/images/book.png\" class=\"textbook__bookimg\" alt=\"\">\n        <div class=\"ml-8 textbook__heading\">\n          <h5 class=\"textbook__title sb-color-primary font-weight-bold mb-0\" tabindex=\"0\">TN X SCIENCE EM ALL ONE MARKS\n            COLLECTIONS</h5>\n          <div class=\"textbook__rating\">\n            <sui-rating class=\"star mini\" [ngModel]=\"4\" [maximum]=\"5\"></sui-rating>\n          </div>\n        </div>\n      </div>\n      <button class=\"sb-btn sb-btn-secondary sb-btn-normal ml-auto textbook__addbtn\">Add to Group</button>\n    </div>\n  </div>\n</div>\n<app-course-completion *ngIf=\"showCourseCompleteMessage\" [certificateDescription]=\"certificateDescription\"\n  (close)=\"onCourseCompleteClose()\"></app-course-completion>\n<!-- Start - Modal for Assessment attempts -->\n  <app-modal-wrapper *ngIf=\"showLastAttemptsModal\" [config]=\"{disableClose: false, size: 'small'}\" #modal>\n    <ng-template sbModalContent>\n      <div class=\"sb-modal\">\n        <div class=\"transition ui dimmer page modals active visible\">\n          <div class=\"ui modal transition active visible small\">\n            <div class=\"sb-modal-content sb-join-modal-content\">\n              <div class=\"sb-h4 px-0 py-20\">\n                {{resourceService?.frmelmnts?.lbl?.selfAssessLastAttempt}}\n              </div>\n            </div>\n            <div class=\"sb-modal-actions\">\n              <button class=\"sb-btn sb-btn-normal sb-btn-primary\" tabindex=\"0\"\n                (click)=\"showLastAttemptsModal = false; _navigateToContent();\">\n                {{resourceService.frmelmnts?.btn?.ok}}\n              </button>\n              <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" tabindex=\"0\"\n                (click)=\"showLastAttemptsModal = false;\">\n                {{resourceService.frmelmnts?.btn?.cancel}}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  </app-modal-wrapper>\n<!-- End - Modal for Assessment attempts -->","\n<app-landing-section [textToDisplay]=\"\" \n[layoutConfiguration]=\"layoutConfiguration\" [noTitle]=\"true\"></app-landing-section>\n<!-- Header: Back Button Previous Module & Next Module button -->\n  <div [ngClass]=\"layoutConfiguration ? 'sb-back-actionbar' : 'sb-bg-color-white back-btn-container cc-player__btn-back relative9'\" class=\"relative position mt-0\">\n    <div class=\"ui container py-0 px-0 d-flex flex-ai-center\">\n    <div class=\"p-0 d-flex flex-ai-center w-100\">\n   <!-- Back button -->\n   <button type=\"button\" [ngClass]=\"layoutConfiguration ? 'sb-btn-round' : ''\" class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn px-0\" tabindex=\"0\" (click)=\"goBack(); logTelemetry('back-track', courseHierarchy)\">\n   <i class=\"icon-svg icon-svg--xxs icon-back mr-4\"><svg class=\"icon icon-svg--primary\">\n       <use xlink:href=\"assets/images/sprite.svg#arrow-long-left\"></use>\n     </svg></i>\n   <span>{{resourceService?.frmelmnts?.btn?.back}}</span>\n </button>\n <div class=\"w-100 relative9 m-0 p-0 ml-16\" [ngClass]=\"{'header-block': isFullScreenView}\">\n  <div class=\"textbook p-0\">\n    <!-- Textbook details -->\n    <div class=\"textbook__details d-flex flex-ai-center\">\n      <!-- Textbook image -->\n      <div class=\"textbook__heading\">\n        <!-- Textbook title -->\n        <h5 class=\"textbook__title sb-color-primary font-weight-bold mb-0\" tabindex=\"0\">{{courseHierarchy?.name | titlecase}}\n        </h5>\n        <!-- Textbook Rating with share icon -->\n        <div class=\"textbook__rating mt-4\">\n          <button tabindex=\"0\" (click)=\"onShareLink();shareLinkModal=true;\"\n            class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn\">\n            <i class=\"icon-svg icon-svg--xxs icon-share mr-4\"><svg class=\"icon icon-svg--primary\">\n              <use xlink:href=\"assets/images/sprite.svg#share\"></use>\n            </svg></i>\n            {{resourceService?.frmelmnts?.lbl?.share}}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n      </div>\n      </div>\n      </div>\n\n\n<div *ngIf=\"!showLoader\" [appTelemetryImpression]=\"telemetryPlayerPageImpression\" [ngClass]=\"layoutConfiguration ? 'sbt-inside-page-container' : ''\" class=\"text-left relative9\">\n  <!-- CC-Player Video -->\n  <div class=\"ui container\">\n    <div class=\"cc-player sb-g\">\n      <section class=\"sb-g-col-xs-12 sb-g-col-md-8 sb-g-col-lg-8 sb-g-col-xxxl-12 cc-player__video sb-toc-player-column\">\n     \n        <div class=\"toc-content text-left\">\n          <div class=\"content-video\">\n            <section class=\"content-video__player\" id=\"player-area-height\">\n              <div class=\"aspectratio\" data-ratio=\"16:9\" id=\"help-video-aspect-ratio\" #aspectRatio>\n                <app-player *ngIf=\"showPlayer\" class=\"content-player\" [playerOption]=\"playerOption\" [playerConfig]=\"playerConfig\"\n                  [contentProgressEvents$]=\"contentProgressEvents$\" (assessmentEvents)=\"onAssessmentEvents($event)\"\n                  (questionScoreSubmitEvents)=\"onQuestionScoreSubmitEvents($event)\"\n                  (questionScoreReviewEvents)=\"onQuestionScoreReviewEvents($event)\"\n                  (ratingPopupClose)=\"onRatingPopupClose()\" (selfAssessLastAttempt)=\"onSelfAssessLastAttempt($event)\"></app-player>\n              </div>\n              <app-content-actions [assessmentEvents]=\"assessmentEvents\" *ngIf=\"isFullScreenView\" class=\"player-fullscreen-action-items\" [isFullScreen]=\"true\" [contentData]=\"activeContent\" [objectRollUp]=\"objectRollUp\">\n              </app-content-actions>\n              <app-content-actions [assessmentEvents]=\"assessmentEvents\" *ngIf=\"activeContent\" [contentData]=\"activeContent\" [objectRollUp]=\"objectRollUp\">\n              </app-content-actions>\n            </section>\n          </div>\n          <div class=\"mt-8\">\n            <app-credits-and-licence *ngIf=\"activeContent\" [contentData]=\"activeContent\"></app-credits-and-licence>\n          </div>\n        </div>\n      </section>\n      <section class=\"sb-g-col-xs-12 sb-g-col-md-4 sb-g-col-lg-4 sb-g-col-xxxl-4\">\n        <div class=\"cc-player__list px-0\">\n <!-- Module Progress bar -->\n <div class=\"certified-course__progress\" *ngIf=\"totalContents > 0\">\n     <!-- Previous / next module buttons -->\n     <div class=\"d-flex flex-ai-center flex-jc-space-between mb-8\">\n      <!-- Previous module button -->\n      <button class=\"sb-btn sb-btn-link sb-btn-link-primary sb-btn-normal sb-left-icon-btn\" aria-label=\"previous-module\" *ngIf=\"prevModule\"\n        tabindex=\"0\" (click)=\"navigateToPlayerPage(prevModule); logTelemetry('previous-module', prevModule, true);\">\n        <i class=\"icon-svg icon-svg--xxs icon-back mr-4 rotate-90\" role=\"img\" aria-label=\"arrow-up\"><svg class=\"icon icon-svg--primary\"><use xlink:href=\"assets/images/sprite.svg#arrow-up\"></use></svg></i>{{generaliseLabelService?.frmelmnts?.lbl?.prevModule | translate}}\n      </button>\n      <!-- Previous Module button -->\n      <!-- Next Module button -->\n      <button class=\"sb-btn sb-btn-link sb-btn-link-primary sb-btn-normal sb-right-icon-btn ml-auto\" aria-label=\"next-module\" *ngIf=\"nextModule\"\n        tabindex=\"0\" (click)=\"navigateToPlayerPage(nextModule); logTelemetry('next-module', nextModule, true)\">\n        {{generaliseLabelService?.frmelmnts?.lbl?.nextModule | translate}}<i class=\"icon-svg icon-svg--xxs icon-back ml-4 rotate90\" role=\"img\" aria-label=\"arrow-up\"><svg class=\"icon icon-svg--primary\"><use xlink:href=\"assets/images/sprite.svg#arrow-up\"></use></svg></i>\n      </button>\n      <!-- Next Module button -->\n    </div>\n    <div *ngIf=\"!isUnitCompleted\"> \n      <div class=\"fsmall\">{{generaliseLabelService?.frmelmnts?.lbl?.moduleProgress}}</div>         \n      <div class=\"sb-color-primary fnormal font-weight-bold mt-4\">{{consumedContents}}/{{totalContents}} {{resourceService?.frmelmnts?.lbl?.completed}}</div>\n      <mat-progress-bar mode=\"determinate\" [value]=\"consumedContents\" class=\"mb-0 mr-0 mt-8 tiny\"></mat-progress-bar>\n    </div>\n  \n  <div class=\"module-complete-content d-flex flex-ai-center py-8 px-16 mb-8\" *ngIf=\"isUnitCompleted\">\n    <div class=\"mr-16 complete-content-image\"><img src=\"./assets/images/badge-complete.svg\" alt=\"complete-content-image\"></div>\n    <label class=\"font-weight-bold mb-0 sb-color-secondary fnormal\">{{generaliseLabelService?.frmelmnts?.lbl?.moduleFinish}}</label>\n  </div>\n</div>\n       \n\n        <h5 class=\"p-16 mb-0 font-weight-bold\">{{resourceService?.frmelmnts?.lbl?.contentsLabel}}</h5>\n        <div class=\"side-toc-content chapter-box\">\n          <div *ngFor=\"let item of courseHierarchy?.children; let index = index;\">\n            <p *ngIf=\"item?.mimeType === 'application/vnd.ekstep.content-collection'\" class=\"title\">{{item?.name}}</p>\n            <div *ngIf=\"item;else noContent\">\n              <div *ngIf=\"item?.mimeType !== 'application/vnd.ekstep.content-collection' && !item?.children?.length\">\n                <ng-container *ngIf=\"item?.contentType\">\n                  <div class=\"child-content-padding\">\n                    <!-- toc card for Non Self Assess content -->\n                \n                    <sb-toc-card *ngIf=\"item?.contentType !== 'SelfAssess'\" [content]=\"item\"\n                      (tocCardClick)=\"navigateToInitPlayer($event, 'toc-card')\" [type]=\"cardType\" [contentStatus]=\"contentStatus\">\n                    </sb-toc-card>\n                    <!-- toc card for Self Assess content with Label for Best Score -->\n                    <sb-toc-card *ngIf=\"item?.contentType === 'SelfAssess'\" [content]=\"item\"\n                      (tocCardClick)=\"navigateToInitPlayer($event, 'toc-card')\" [type]=\"cardType\" [contentStatus]=\"contentStatus\"\n                      [maxAttempts]=\"item?.maxAttempts\" [scoreLabel]=\"'Best Score'\" [disabled]=\"'disabled-toc-card'\">\n                    </sb-toc-card>\n                  </div>\n                </ng-container>\n                </div>\n\n              <div *ngIf=\"item?.mimeType === 'application/vnd.sunbird.questionset'\">\n                <div class=\"child-content-padding\">\n                  <sb-toc-card [content]=\"item\" (tocCardClick)=\"navigateToInitPlayer($event, 'toc-card')\" [type]=\"cardType\"\n                    [contentStatus]=\"contentStatus\" [maxAttempts]=\"item?.maxAttempts\" [scoreLabel]=\"'Best Score'\" [disabled]=\"'disabled-toc-card'\">\n                  </sb-toc-card>\n                </div>\n              </div>\n\n              <div *ngIf=\"item?.children?.length\">\n                <div *ngFor=\"let child of item?.children\" >\n                  <div class=\"toc-child-item\" *ngIf=\"child?.mimeType !== 'application/vnd.sunbird.question'\">\n                    <sb-toc-child-item [activeContent]=\"activeContent\" [childData]=\"child\" (tocCardClick)=\"navigateToInitPlayer($event, 'child-item')\"\n                      [contentStatus]=\"contentStatus\" [type]=\"cardType\">\n                    </sb-toc-child-item>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <ng-template #noContent>\n              <div class=\"heading\">{{noContentMessage}}</div>\n            </ng-template>\n          </div>\n          <sb-toc-card [content]=\"courseHierarchy\"\n            *ngIf=\"courseHierarchy?.mimeType !== 'application/vnd.ekstep.content-collection'\"\n            (tocCardClick)=\"navigateToInitPlayer($event)\" [type]=\"cardType\" [contentStatus]=\"contentStatus\">\n          </sb-toc-card>\n        </div>\n      </div>\n      </section>\n    </div>\n  </div>\n\n  <div class=\"ui container py-16\" *ngIf=\"showLoader\">\n    <app-loader [data]='loaderMessage'></app-loader>\n  </div>\n</div>\n\n<app-modal-wrapper *ngIf=\"shareLinkModal\" [config]=\"{disableClose: false, panelClass: 'material-modal'}\" (dismiss)=\"shareLinkModal = false\">\n  <ng-template sbModalContent>\n    <app-share-link [shareLink]=\"shareLink\" [telemetryShareData]=\"telemetryShareData\">\n    </app-share-link>\n  </ng-template>\n</app-modal-wrapper>\n\n<app-course-completion *ngIf=\"showCourseCompleteMessage\" [certificateDescription]=\"certificateDescription\" (close)=\"onCourseCompleteClose()\"></app-course-completion>\n\n<!-- Start - Modal for Assessment attempts -->\n<app-modal-wrapper *ngIf=\"showMaxAttemptsModal\" [config]=\"{disableClose: true, size: 'normal'}\"\n  (dismiss)=\"closeLoginModal()\" #modal>\n  <ng-template sbModalContent>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible normal\">\n          <div class=\"sb-modal-content sb-join-modal-content\">\n            <div class=\"sb-h4 px-0 py-20\">\n              {{resourceService?.frmelmnts?.lbl?.selfAssessMaxAttempt}}\n            </div>\n          </div>\n          <div class=\"sb-modal-actions\">\n            <a appTelemetryInteract [telemetryInteractObject]=\"telemetryInteractObject\" tabindex=\"0\"\n              [telemetryInteractEdata]=\"signInInteractEdata\"\n              (click)=\"goBack(); showMaxAttemptsModal = !showMaxAttemptsModal\"\n              class=\"sb-btn sb-btn-normal sb-btn-error ml-auto sb-cls-btn\">\n              {{resourceService?.frmelmnts?.btn?.close}}\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n<!-- End - Modal for Assessment attempts -->\n\n<!-- Start - Modal for Assessment attempts -->\n<app-modal-wrapper *ngIf=\"showLastAttemptsModal\" [config]=\"{disableClose: true, size: 'small'}\" #modal>\n  <ng-template sbModalContent>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible small\">\n\n          <div class=\"sb-modal-content sb-join-modal-content\">\n            <div class=\"sb-h4 px-0 py-20\">\n              {{resourceService?.frmelmnts?.lbl?.selfAssessLastAttempt}}\n            </div>\n          </div>\n          <div class=\"sb-modal-actions\">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary\" tabindex=\"0\"\n              (click)=\"showLastAttemptsModal = false; onTocCardClick();\">\n              {{resourceService.frmelmnts?.btn?.ok}}\n            </button>\n            <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" tabindex=\"0\"\n              (click)=\"showLastAttemptsModal = false;\">\n              {{resourceService.frmelmnts?.btn?.cancel}}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n<!-- End - Modal for Assessment attempts -->\n\n    <!--Rating popup -->\n    <app-content-rating *ngIf=\"contentRatingModal && playerConfig\" [contentData]=\"playerConfig.metadata\"\n      (closeModal)=\"onRatingPopupClose()\"></app-content-rating>\n","export interface IGeoJSON {\n    type: string;\n    features: Feature[];\n}\n\nexport interface Feature {\n    type: FeatureType;\n    geometry: Geometry;\n    properties: Properties;\n}\n\nexport interface Geometry {\n    type: GeometryType;\n    coordinates: Array<Array<number[]>>;\n}\n\nexport enum GeometryType {\n    Polygon = 'Polygon',\n}\n\nexport interface Properties {\n    [key: string]: any;\n}\n\nexport enum FeatureType {\n    Feature = 'Feature',\n}\n\nexport interface ICustomMapObj {\n    drillDown: boolean;\n    name: string;\n    fitBounds: boolean;\n    district?: string;\n    st_nm?: string;\n    dt_code?: string | number;\n    st_code?: string | number;\n}\n\n\nexport interface IInputMapData {\n    state: string;\n    districts?: string[];\n    metrics?: string[];\n    folder?: string;\n    labelExpr?: string;\n    reportLoc?: string;\n    reportData?: string;\n    strict?: boolean;\n    country?: string;\n    states?: string[];\n}\n","import { CourseConsumptionPageComponent, CoursePlayerComponent } from './components';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthGuard } from '@sunbird/core';\nimport { UnEnrollBatchComponent } from './components/batch/unenroll-batch/unenroll-batch.component';\nimport { AssessmentPlayerComponent } from './components/course-consumption/assessment-player/assessment-player.component';\nimport { PendingchangesGuard } from '@sunbird/public';\nimport { CourseProgressExhaustComponent } from '../dashboard';\n\nconst telemetryEnv = 'Course';\nconst objectType = 'Course';\nconst routes: Routes = [\n  {\n    path: 'play/:collectionId', component: AssessmentPlayerComponent, canDeactivate: [PendingchangesGuard],\n    data: {\n      telemetry: {\n        env: telemetryEnv, pageid: 'course-player', type: 'view', object: { ver: '1.0', type: 'batch' }\n      },\n      menuBar: {\n        visible: false\n      }\n    }\n  }, {\n    path: '', component: CourseConsumptionPageComponent,\n    data: { telemetry: { env: telemetryEnv } },\n    children: [\n      {\n        path: ':courseId', component: CoursePlayerComponent,\n        data: {\n          telemetry: {\n            env: telemetryEnv, pageid: 'course-details', type: 'view', object: { ver: '1.0', type: 'batch' }\n          },\n          menuBar: {\n            visible: false\n        },\n          breadcrumbs: [{ label: 'Home', url: '/home' }, { label: 'Courses', url: '/learn' }]\n        },\n        children: [{\n          path: '', loadChildren: () => import('./batch.module').then(m => m.BatchModule)\n        },\n      ]\n      },\n      {\n        path: ':courseId/courseProgressExhaust', component: CourseProgressExhaustComponent,\n      },   \n\n      {\n        path: ':courseId/dashboard', loadChildren: () => import('./../dashboard/dashboard.module').then(m => m.DashboardModule), canActivate: [AuthGuard],\n        data: {\n          roles: 'createBatchRole',\n          telemetry: { env: telemetryEnv, pageid: 'course-stats', type: 'view', object: { ver: '1.0', type: 'course' } },\n          menuBar: {\n            visible: false\n          }\n        }\n      },\n      {\n        path: ':courseId/batch/:batchId', component: CoursePlayerComponent,\n        data: {\n          // routeReuse: {\n          //   reuse: true,\n          //   path: 'learn/course/play'\n          // },\n          menuBar: {\n            visible: false\n        },\n          telemetry: { env: telemetryEnv, pageid: 'course-read', type: 'workflow', object: { ver: '1.0', type: 'course' } },\n          breadcrumbs: [{ label: 'Home', url: '/home' }, { label: 'Courses', url: '/learn' }]\n        },\n        children: [\n          {\n            path: 'unenroll/batch/:batchId', component: UnEnrollBatchComponent,\n            data: {\n              telemetry: { env: telemetryEnv, pageid: 'batch-enroll', type: 'view', object: { ver: '1.0', type: 'batch' } }\n            }\n          }\n        ]\n      },\n      {\n        path: ':courseId/:courseStatus', component: CoursePlayerComponent,\n        data: {\n          telemetry: {\n            env: telemetryEnv, pageid: 'course-player-unlisted', type: 'view', object: { ver: '1.0', type: 'batch' }\n          },\n          menuBar: {\n            visible: false\n          },\n          breadcrumbs: [{ label: 'Home', url: '/home' }, { label: 'Courses', url: '/learn' }]\n        }\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CourseConsumptionRoutingModule { }\n","import { Component, Input, Output, OnInit, ViewChild, EventEmitter, ElementRef, OnDestroy } from '@angular/core';\nimport { ToasterService, ResourceService} from '@sunbird/shared';\nimport { UserService, LearnerService } from '@sunbird/core';\nimport * as _ from 'lodash-es';\nimport { ProfileService } from '@sunbird/profile';\nimport { IInteractEventObject } from '@sunbird/telemetry';\n\n@Component({\n  selector: 'app-certificate-name-update-popup',\n  templateUrl: './certificate-name-update-popup.component.html',\n  styleUrls: ['./certificate-name-update-popup.component.scss']\n})\nexport class CertificateNameUpdatePopupComponent implements OnInit, OnDestroy {\n  @Input() showProfileUpdatePopup;\n  @Input() profileInfo;\n  @ViewChild('modal') modal;\n  @Output() close = new EventEmitter();\n  @ViewChild('crtFirstName') fNameInputEl: ElementRef;\n  @ViewChild('crtLastName') lNameInputEl: ElementRef;\n\n\n  disableContinueBtn = false;\n  isNameEditable = false;\n  isLastNameEditable = false;\n  certificateNameChecked = false;\n  instance: string;\n  public learner: LearnerService;\n  courseInteractObject: IInteractEventObject;\n\n  constructor( public userService: UserService,\n    public resourceService: ResourceService,\n    private toasterService: ToasterService,\n    public learnerService: LearnerService,\n    private profileService: ProfileService) { }\n\n  ngOnInit() {\n    this.instance = _.upperCase(this.resourceService.instance);\n  }\n\n  onClickCheckbox(tncChecked) {\n    this.disableContinueBtn = !tncChecked;\n    this.isNameEditable = false;\n    this.isLastNameEditable = false;\n  }\n\n  closePopup() {\n    this.modal.deny();\n    this.close.emit();\n  }\n\n  allowToEdit(inputType) {\n    if (inputType === 'firstName') {\n      this.isNameEditable = true;\n      setTimeout(() => {\n        this.fNameInputEl.nativeElement.focus();\n      }, 100);\n    } else if (inputType === 'lastName') {\n      this.isLastNameEditable = true;\n      setTimeout(() => {\n        this.lNameInputEl.nativeElement.focus();\n      }, 100);\n    }\n  }\n\n  /**\n   * This method used to submit profile Update\n   */\n  updateProfileName() {\n    const data = {\n      firstName: _.trim(this.profileInfo.firstName),\n      lastName: _.trim(this.profileInfo.lastName)\n    };\n    this.disableContinueBtn = true;\n    localStorage.setItem('isCertificateNameUpdated_' + this.profileInfo.id, 'true');\n\n    this.profileService.updateProfile(data).subscribe(res => {\n      this.closePopup();\n    }, err => {\n      this.disableContinueBtn = false;\n      this.toasterService.error(this.resourceService.messages.fmsg.m0085);\n    });\n  }\n\n  ngOnDestroy() {\n    if (_.get(this.modal, 'deny')) {\n      this.modal.deny();\n    }\n  }\n}\n","<app-modal-wrapper [config]=\"{disableClose: true, size: 'small', panelClass: 'material-modal'}\" #modal>\n  <ng-template sbModalContent>\n    <div class=\"sb-mat__modal sb-mat__modal--small sb-mat__modal--course-complete\">\n      \n      <div class=\"sb-mat__modal__content p-0\">\n        <button aria-label=\"close dialog\" mat-dialog-close class=\"close-btn\"></button>\n        <div class=\"course-complete sb-bg-white p-32\">\n          <div class=\"course-complete-content\">\n            <div class=\"mr-24\"><img src=\"./assets/images/badge-complete.svg\" width=\"79px\" height=\"69px\" alt=\"\"></div>\n            <div class=\"course-complete-data font-weight-bold\">\n              <div class=\"title mb-8\">{{resourceService?.frmelmnts?.lbl?.congratulations}}!</div>\n              <p>{{generaliseLabelService?.frmelmnts?.lbl?.courseSuccessMessage}}</p>\n            </div>\n          </div>\n          <div class=\"course-complete-para mt-32 sb-color-warning\"\n            *ngIf=\"certificateDescription && !certificateDescription?.isCertificate\">\n            <img src=\"assets/images/alert.svg\" width=\"22px\" height=\"22px\" alt=\"Cpu load warning\" class=\"mr-8\">\n            <span>{{generaliseLabelService?.frmelmnts?.lbl?.courseWithoutCertificateNote }}</span>\n          </div>\n          <div class=\"course-complete-para mt-32\" *ngIf=\"certificateDescription && certificateDescription?.description\">\n            <p class=\"fsmall mb-0 pt-16 pb-8\">{{certificateDescription?.description}}</p>\n          </div>\n          <div class=\"course-complete-para mt-32 sb-color-primary\" *ngIf=\"certificateDescription && certificateDescription?.isCertificate\">\n            <p class=\"fsmall mb-0\">{{generaliseLabelService?.frmelmnts?.lbl?.courseSuccessNotificationMessage}}</p>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n","<app-modal-wrapper [config]=\"{disableClose: true, size: 'small'}\" (dismiss)=\"redirect()\">\n    <ng-template sbModalContent>\n        <div class=\"sb-modal sb-error\">\n            <div class=\"transition ui dimmer page modals active visible\">\n                <div class=\"ui modal transition active visible small\">\n                    <button aria-label=\"close dialog\" mat-dialog-close class=\"mat-close-btn\">\n                        <span>&times;</span>\n                    </button>\n                    <!--Header-->\n                    <div class=\"sb-modal-header\">\n                        {{resourceService.frmelmnts.lbl.unenrollTitle}}\n                    </div>\n                    <!--/Header-->\n                    <!--Content-->\n                    <div class=\"sb-modal-content\">\n                        {{resourceService.frmelmnts.lbl.unenrollMsg}}\n                    </div>\n                    <!--/Content-->\n                    <!--Actions-->\n                    <div class=\"sb-modal-actions\">\n                        <button appTelemetryInteract [telemetryInteractObject]=\"telemetryInteractObject\"\n                            [telemetryInteractEdata]=\"submitInteractEdata\" [telemetryInteractCdata]=\"telemetryCdata\"\n                            class=\"sb-btn sb-btn-normal sb-btn-error\" [disabled]=\"disableSubmitBtn\"\n                            id=\"unenrollFromCourse\" tabindex=\"0\" (click)=\"unenrollFromCourse()\">\n                            {{generaliseLabelService?.frmelmnts?.btn?.unenroll}}\n                        </button>\n                        <button class=\"sb-btn sb-btn-normal sb-btn-outline-error\" tabindex=\"0\" mat-dialog-close>\n                            {{resourceService?.frmelmnts?.btn?.cancel}}\n                        </button>\n                    </div>\n                    <!--/Actions-->\n                </div>\n            </div>\n        </div>\n    </ng-template>\n</app-modal-wrapper>","<!-- Loader -->\n<div class=\"two wide column\" *ngIf=\"showLoader\">\n  <app-loader></app-loader>\n</div>\n<!-- /Loader-->\n<!-- Back Button -->\n  <div [ngClass]=\"layoutConfiguration ? 'sb-back-actionbar' : 'sb-bg-color-white back-btn-container cc-player__btn-back relative9'\" class=\"relative position mt-0\">\n    <div class=\"ui container py-8 px-0 d-flex flex-ai-center\">\n    <div class=\"w-100 d-flex flex-ai-center\">\n      <!-- /* Back button */ -->\n      <button type=\"button\" [ngClass]=\"layoutConfiguration ? 'sb-btn-round' : ''\" class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn px-0\"\n      tabindex=\"0\" (click)=\"goBack()\">\n        <i class=\"icon-svg icon-svg--xxs icon-back mr-4\"><svg class=\"icon icon-svg--primary\">\n            <use xlink:href=\"assets/images/sprite.svg#arrow-long-left\"></use>\n          </svg></i>\n        <span>{{resourceService?.frmelmnts?.btn?.back}}</span>\n      </button>\n<!-- Textbook details with continue playing and join course button routerLink=\"/registration\" -->\n  <!-- Textbook details -->\n  <div class=\"textbook__details d-flex ml-16 flex-basis-1\">\n    <!-- Textbook image -->\n    <div class=\"textbook__bookimg\">\n      <img src=\"{{'assets/images/book.png'}}\" alt=\"{{courseHierarchy?.name}}\">\n    </div>\n    <div class=\"ml-8 textbook__heading\">\n      <!-- Textbook title -->\n      <h5 class=\"textbook__title sb-color-primary font-weight-bold mb-0\" tabindex=\"0\">{{courseHierarchy?.name}}\n      </h5>\n      <!-- Textbook Rating with share icon -->\n      <div class=\"textbook__rating d-flex flex-ai-center\">\n\n        <sui-rating *ngIf=\"courseStatus !== 'Unlisted'\" class=\"star mini\" [isReadonly]=\"true\"\n          [ngModel]=\"courseHierarchy.me_averageRating || 0\" [maximum]=\"5\"></sui-rating>\n\n        <button tabindex=\"0\" (click)=\"onShareLink();sharelinkModal=true;\"\n          class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn ml-8 sb-btn-icon-fix\">\n          <i class=\"icon-svg icon-svg--xs icon-share mr-8\"><svg class=\"icon icon-svg--primary\">\n              <use xlink:href=\"assets/images/sprite.svg#share\"></use>\n            </svg></i>\n          {{resourceService?.frmelmnts?.lbl?.share}}\n        </button>\n\n        <button class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn ml-8 sb-btn-icon-fix\"\n          *ngIf=\"!isDesktopApp && permissionService?.permissionAvailable && courseStatus !== 'Unlisted'\" appPermission\n          appTelemetryInteract [telemetryInteractObject]=\"courseInteractObject\"\n          [telemetryInteractEdata]=\"{id:'copyContent' , type: 'click' , pageid:'course-consumption'}\"\n          [permission]=\"['CONTENT_CREATOR', 'CONTENT_REVIEWER']\" tabindex=\"0\" (click)=\"copyContent(courseHierarchy)\"\n          title=\"{{resourceService?.frmelmnts?.lbl?.copy}}\">\n          <i class=\"icon-svg icon-svg--xs icon-edit mr-8\"><svg class=\"icon icon-svg--primary\">\n              <use xlink:href=\"assets/images/sprite.svg#copy-alternate\"></use>\n            </svg></i>\n          {{resourceService?.frmelmnts?.lbl?.copy}}\n        </button>\n\n        <!-- Discussion Forum -->\n        <app-access-discussion *ngIf=\"isConnected && fetchForumIdReq\" [fetchForumIdReq]=\"fetchForumIdReq\"\n          (routerData)=\"assignForumData($event)\"> </app-access-discussion>\n      </div>\n    </div>\n  </div>\n  \n<div *ngIf=\"batchEndDate && showBatchCounter\" class=\"d-flex\">\n  <span class=\"fnormal sb-color-gray-400\">{{resourceService?.frmelmnts?.lbl?.BatchExpiringIn}}:&nbsp;</span>\n  <span class=\"fsmall font-weight-bold mb-8 sb-color-gray-800\">\n    <h6>{{batchRemaningTime}}</h6>\n  </span>\n</div>\n  <div class=\"d-flex flex-w-wrap flex-ai-center textbook cc-player\">\n    <div class=\"d-flex flex-dc flex-basis-1 mr-32\">\n      <!-- Info displaying if course is flagged -->\n      <h6 class=\"ui small negative message\" *ngIf=\"courseHierarchy.status === 'Flagged'\">\n        {{resourceService?.messages?.imsg?.m0001}}</h6>\n\n      <!-- Info displaying if batch has expired -->\n      <h6 class=\"ui small info message\" *ngIf=\"enrolledCourse && getBatchStatus() && batchEndDate\">\n        {{resourceService?.frmelmnts?.lbl?.expiredBatchWarning | interpolate:'{EndDate}':batchEndDate}}</h6>\n\n    </div>\n    <div class=\"d-flex flex-ai-end flex-w-wrap certified-course\" [ngClass]=\"{'d-flex': isDesktopApp}\">\n    \n      <div class=\"certified-course__btn py-8\" *ngIf=\"showAddGroup\">\n        <button class=\"sb-btn sb-btn-secondary sb-btn-normal ml-auto textbook__addbtn\" appAddToGroup\n          [identifier]=\"courseHierarchy?.identifier\" [pageId]=\"courseHierarchy?.primaryCategory.toLowerCase()\">\n          {{resourceService?.frmelmnts?.lbl?.AddtoGroup}}</button>\n      </div>\n      <div *ngIf=\"isDesktopApp && enrolledCourse && !viewDashboard\" class=\"d-flex py-8\">\n        <button type=\"button\" class=\"sb-btn sb-btn-outline-primary sb-btn-normal mr-8\"\n          *ngIf=\"isConnected && (checkStatus('DOWNLOADED')) && showUpdate\" tabindex=\"0\"\n          (click)=\"updateCollection(courseHierarchy)\">{{resourceService?.frmelmnts?.btn?.update}}</button>\n        <button type=\"button\" class=\"sb-btn sb-btn-outline-primary sb-btn-normal mr-8\"\n          *ngIf=\"checkStatus('DOWNLOADED')\" [disabled]=\"disableDelete\" tabindex=\"0\"\n          (click)=\"logTelemetry('confirm-delete-collection'); showDeleteModal = !showDeleteModal;\">{{resourceService?.frmelmnts?.btn?.delete}}</button>\n        <button type=\"button\" class=\"sb-btn sb-btn-outline-primary sb-btn-normal mr-8\"\n          *ngIf=\"checkStatus('DOWNLOADED')\" tabindex=\"0\"\n          (click)=\"exportCollection(courseHierarchy)\">{{resourceService?.frmelmnts?.lbl?.saveToPenDrive}}</button>\n        <button type=\"button\" class=\"sb-btn sb-btn-outline-primary sb-btn-normal mr-8\" *ngIf=\"checkStatus('DOWNLOAD')\"\n          appOnlineOnly tabindex=\"0\"\n          (click)=\"isYoutubeContentPresent(courseHierarchy)\">{{resourceService?.frmelmnts?.btn?.download}}</button>\n        <button type=\"button\" class=\"sb-btn sb-btn-outline-primary sb-btn-normal mr-8\"\n          *ngIf=\"checkStatus('DOWNLOADING')\">{{resourceService?.frmelmnts?.lbl?.downloading}}</button>\n        <button type=\"button\" class=\"sb-btn sb-btn-outline-primary sb-btn-normal mr-8\"\n          *ngIf=\"checkStatus('PAUSED')\">{{resourceService.frmelmnts?.lbl?.downloadingPaused}}</button>\n      </div>\n      <!-- join course, start learning, continue learning, view dashboard buttons -->\n      <div *ngIf=\"!showAddGroup && isTrackable\" class=\"d-flex flex-ai-baseline\">\n        <div class=\"batch-details__created mt-8 fsmall mx-8\"\n        *ngIf=\"!enrolledBatchInfo && isValidEnrollmentEndDate(enrollmentEndDate)\">\n        <span class=\"sb-label-12size\"\n          *ngIf=\"!isEnrollmentAllowed(enrollmentEndDate)\">{{resourceService?.messages?.stmsg?.m0136}}\n          {{enrollmentEndDate | dateFormat}}</span>\n        <span class=\"sb-label-status-error\"\n          *ngIf=\"isEnrollmentAllowed(enrollmentEndDate)\">{{resourceService?.messages?.stmsg?.m0134}}</span>\n      </div>\n        <div class=\"certified-course__btn py-8\" *ngIf=\"!enrolledCourse && !viewDashboard\">\n          <button [disabled]=\"!(courseConsumptionService.enableCourseEntrollment | async)\"\n            [ngClass]=\"{'sb-btn-disabled': !(courseConsumptionService.enableCourseEntrollment | async)}\"\n            class=\"sb-btn sb-btn-secondary sb-btn-normal ml-auto textbook__addbtn\" tabindex=\"0\"\n            (click)=\"showJoinModal(true); this.logTelemetry(courseHierarchy?.primaryCategory.toLowerCase() === 'course' ? 'join-course' : 'join', courseHierarchy)\">{{resourceService?.frmelmnts?.btn?.enroll}}</button>\n        </div>\n\n        <div class=\"certified-course__btn py-8\" *ngIf=\"enrolledCourse && progress===0 && !viewDashboard\">\n          <button class=\"sb-btn sb-btn-secondary sb-btn-normal ml-auto textbook__addbtn\" [disabled]=\"showResumeCourse\"\n            tabindex=\"0\"\n            (click)=\"resumeCourse(true); this.logTelemetry('course-start', courseHierarchy)\">{{resourceService?.frmelmnts?.lbl?.startLearning}}</button>\n        </div>\n\n        <div class=\"certified-course__btn py-8\" *ngIf=\"enrolledCourse && progress>0 && !viewDashboard\">\n          <button class=\"sb-btn sb-btn-secondary sb-btn-normal textbook__addbtn ml-8 sb-btn-icon-fix\"\n            [disabled]=\"showResumeCourse\" tabindex=\"0\"\n            (click)=\"resumeCourse(true); this.logTelemetry('course-resume', courseHierarchy)\">\n            <i class=\"icon-svg icon-svg--xs icon-play mr-8\"><svg class=\"icon icon-svg--primary\">\n                <use xlink:href=\"assets/images/sprite.svg#play-continue\"></use>\n              </svg></i>{{resourceService?.frmelmnts?.btn?.continueLearning}}</button>\n        </div>\n\n        <div class=\"ml-auto text-right py-8 mr-4\"\n          *ngIf=\"!enrolledCourse && viewDashboard && !router.url.includes('/dashboard')\">\n          <button appTelemetryInteract [telemetryInteractObject]=\"courseInteractObject\"\n            [telemetryInteractEdata]=\"{id:'viewCourseDashboard' , type: 'click' , pageid:'course-consumption'}\"\n            class=\"sb-btn sb-btn-secondary sb-btn-normal\" tabindex=\"0\" (click)=\"showDashboard()\">\n            {{resourceService?.frmelmnts?.btn?.viewCourseStatsDashboard}}\n          </button>\n        </div>\n\n        <div class=\"ml-auto text-right py-8\"\n          *ngIf=\"!isDesktopApp && permissionService?.permissionAvailable && !enrolledCourse && viewDashboard && router.url.includes('/dashboard')\"\n          appPermission [permission]=\"dashboardPermission\">\n          <button appTelemetryInteract [telemetryInteractObject]=\"courseInteractObject\"\n            [telemetryInteractEdata]=\"{id:'close-course-dashboard' , type: 'click' , pageid:'course-consumption'}\"\n            class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" tabindex=\"0\" (click)=\"closeDashboard()\">\n            {{resourceService?.frmelmnts?.btn?.closedb}}\n          </button>\n        </div>\n        <!-- *ngIf=\"!enrolledCourse && viewDashboard && !router.url.includes('/dashboard')\"> -->\n\n        <div class=\"ml-auto text-right py-8\" \n        *ngIf=\"!enrolledCourse && viewCourseProgressReports && !router.url.includes('/dashboard')\">\n        <div [formGroup]=\"reportForm\" class=\"d-flex flex-ai-center\">\n            <mat-form-field appearance=\"fill\" class=\"sb-mat__dropdown w-100 mb-16\">\n              <mat-label>Choose your report</mat-label>\n              <mat-select formControlName=\"reportType\" role=\"listbox\" aria-label=\"Choose your report\" class=\"selection\"\n                (selectionChange)=\"reportChanged($event)\">\n                <mat-option class=\"mat-dropdown__options\" role=\"option\" *ngFor=\"let option of reportTypes\" [value]=\"option\"\n                  attr.aria-label=\"{{option.title}}\">{{option.title}}</mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n        </div>\n\n      </div>\n      <!--Activity Dashboard-->\n      <div *ngIf=\"isGroupAdmin\" class=\"sb-activity-dashboard-btn-content py-8\">\n        <button\n          class=\"sb-btn sb-btn-normal  sb-left-icon-btn ml-8 sb-btn-icon-fix disabled sb-btn-secondary sb-activity-dashboard-btn\"\n          appActivityDashboard [hierarchyData]=\"courseHierarchy\">\n          <img src=\"assets/images/Activity_icon.svg\" width=\"20px\" class=\"mr-8\" alt=\"Activity Dashboard\">\n          {{resourceService?.frmelmnts?.btn?.activityDashboard}}</button>\n      </div>\n    </div>\n  </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"ui active inverted dimmer\" *ngIf=\"showCopyLoader\">\n  <div class=\"ui text centered inline loader mt-40\">{{resourceService.frmelmnts.lbl.copycontent}}</div>\n</div>\n\n<app-certificate-name-update-popup *ngIf=\"showProfileUpdatePopup\" [profileInfo]=\"profileInfo\"\n  (close)=\"showProfileUpdatePopup = false\"></app-certificate-name-update-popup>\n\n<app-modal-wrapper *ngIf=\"sharelinkModal\" [config]=\"{disableClose: false, panelClass: 'material-modal'}\"\n  (dismiss)=\"closeSharePopup('close-share-link-popup')\">\n  <ng-template sbModalContent>\n    <app-share-link [shareLink]=\"shareLink\" [telemetryShareData]=\"telemetryShareData\">\n    </app-share-link>\n  </ng-template>\n</app-modal-wrapper>\n\n<div *ngIf=\"isDesktopApp\">\n  <app-modal-wrapper *ngIf=\"showModal\" [config]=\"{disableClose: true, size: 'normal'}\" (dismiss)=\"showModal = !showModal;\"\n    #modal>\n    <ng-template sbModalContent>\n      <div class=\"sb-modal\">\n        <div class=\"transition ui dimmer page modals active visible\">\n          <div class=\"ui modal transition active visible normal\">\n  \n            <div class=\"sb-modal-header\">\n              {{resourceService.frmelmnts?.btn?.download}}\n            </div>\n            <div class=\"sb-modal-content\">\n              <p>{{resourceService?.messages?.stmsg?.m0137}}</p>\n            </div>\n            <div class=\"sb-modal-actions\">\n              <button class=\"sb-btn sb-btn-normal sb-btn-primary\" tabindex=\"0\"\n                (click)=\"downloadCollection(courseHierarchy); showModal = !showModal;\">\n                {{resourceService.frmelmnts?.btn?.download}}\n              </button>\n              <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" tabindex=\"0\"\n                (click)=\"logTelemetry('cancel-download-collection'); showModal = !showModal;\">\n                {{resourceService.frmelmnts?.btn?.cancel}}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  </app-modal-wrapper>\n\n\n    <app-modal-wrapper *ngIf=\"showDeleteModal\" [config]=\"{disableClose: true, size: 'normal'}\"\n      (dismiss)=\"showDeleteModal = !showDeleteModal;\" #modal>\n      <ng-template sbModalContent>\n        <div class=\"sb-modal\">\n          <div class=\"transition ui dimmer page modals active visible\">\n            <div class=\"ui modal transition active visible normal\">\n    \n              <div class=\"sb-modal-header\">\n                {{resourceService?.frmelmnts?.lbl?.delete}}\n              </div>\n              <div class=\"sb-modal-content\">\n                <p>{{resourceService?.frmelmnts?.lbl?.desktop?.deleteCourse | interpolate:'{name}': courseHierarchy?.name}}\n                </p>\n              </div>\n              <div class=\"sb-modal-actions\">\n                <button class=\"sb-btn sb-btn-normal sb-btn-primary\" tabindex=\"0\"\n                  (click)=\"deleteCollection(courseHierarchy); showDeleteModal = !showDeleteModal;\">\n                  {{resourceService?.frmelmnts?.lbl?.delete}}\n                </button>\n                <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" tabindex=\"0\"\n                  (click)=\"logTelemetry('cancel-delete-collection'); showDeleteModal = !showDeleteModal;\">\n                  {{resourceService.frmelmnts?.btn?.cancel}}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </ng-template>\n    </app-modal-wrapper>\n</div>","<div class=\"training-info\" *ngIf=\"courseHierarchy\">\n  <h4 class=\"font-weight-bold\">{{resourceService?.frmelmnts?.lbl?.courseDetails}}</h4>\n  <div class=\"training-relevant mb-16\">\n    <h6 class=\"mt-0 mb-8 fsmall training-relevant__heading\">{{resourceService?.frmelmnts?.lbl?.courseRelevantFor}}</h6>\n    <div class=\"training-relevant__class mb-4 sb-color-gray-400 fnormal\" *ngIf=\"courseHierarchy?.se_boards\">\n      <span>{{resourceService?.frmelmnts?.lbl?.board}}:&nbsp;</span><span>{{ courseHierarchy?.se_boards?.join(', ')}}</span>\n    </div>\n    <div class=\"training-relevant__medium mb-4 sb-color-gray-400 fnormal\" *ngIf=\"courseHierarchy?.se_mediums\">\n      <span>{{resourceService?.frmelmnts?.lbl?.medium}}:&nbsp;</span><span>{{ courseHierarchy?.se_mediums?.join(', ')}}</span>\n    </div>\n    <div class=\"training-relevant__subject mb-4 sb-color-gray-400 fnormal\" *ngIf=\"courseHierarchy?.se_gradeLevels\">\n      <span>{{resourceService?.frmelmnts?.lbl?.class}}:&nbsp;</span><span>{{ courseHierarchy?.se_gradeLevels?.join(', ')}}</span></div>\n    <!-- <div class=\"training-relevant__medium mb-4 sb-color-gray-400 fnormal\" *ngIf=\"courseHierarchy?.se_subjects\">\n      <span>{{resourceService?.frmelmnts?.lbl?.subject}}:&nbsp;</span><span>{{ courseHierarchy?.se_subjects?.join(', ')}}</span>\n    </div> -->\n    <div class=\"training-relevant__medium mb-4 sb-color-gray-400 fnormal\" *ngIf=\"courseHierarchy?.audience\">\n      <span>{{resourceService?.frmelmnts?.lbl?.userType}}:&nbsp;</span><span>{{ courseHierarchy?.audience?.join(', ')}}</span>\n    </div>\n    <div *ngIf=\"courseHierarchy?.description\">\n      <label class=\"fsmall mt-16 mb-8\">{{resourceService?.frmelmnts?.lbl?.description}}</label>\n      <p *ngIf=\"!readMore\" class=\"traning-relevant__description sb-color-gray-400 fnormal\">\n        {{ courseHierarchy?.description | slice:0:200 }}&nbsp;\n        <span class=\"ui cardsKnowMore mouse-pointer\"\n          *ngIf=\"courseHierarchy?.description?.length > 200 && readMore === false\"\n          tabindex=\"0\" (click)=\"readMore = !readMore;\">{{resourceService?.frmelmnts?.lbl?.readmore}}</span>\n      </p>\n      <p *ngIf=\"readMore\" class=\"traning-relevant__description sb-color-gray-400\">\n        {{ courseHierarchy?.description}}&nbsp;\n        <span class=\"ui cardsKnowMore mouse-pointer\"\n          tabindex=\"0\" (click)=\"readMore = false;\">{{resourceService?.frmelmnts?.lbl?.readless}}</span>\n      </p>\n    </div>\n  </div>\n</div>","import { Location } from '@angular/common';\nimport { TelemetryService, IAuditEventInput, IImpressionEventInput } from '@sunbird/telemetry';\nimport { Component, OnInit, OnDestroy, ViewChild, Inject, HostListener, EventEmitter, Output } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationExtras, NavigationStart } from '@angular/router';\nimport { TocCardType } from '@project-sunbird/common-consumption-v9';\nimport { UserService, GeneraliseLabelService, PlayerService } from '@sunbird/core';\nimport { AssessmentScoreService, CourseBatchService, CourseConsumptionService, CourseProgressService } from '@sunbird/learn';\nimport { PublicPlayerService, ComponentCanDeactivate } from '@sunbird/public';\nimport { ConfigService, ResourceService, ToasterService, NavigationHelperService,\n  ContentUtilsServiceService, ITelemetryShare, LayoutService } from '@sunbird/shared';\nimport * as _ from 'lodash-es';\nimport { combineLatest, Observable, Subject } from 'rxjs';\nimport { first, map, takeUntil, tap } from 'rxjs/operators';\nimport { CsContentProgressCalculator } from '@project-sunbird/client-services/services/content/utilities/content-progress-calculator';\nimport * as TreeModel from 'tree-model';\nimport { NotificationServiceImpl } from '../../../../notification/services/notification/notification-service-impl';\nimport { CsCourseService } from '@project-sunbird/client-services/services/course/interface';\nimport { result } from 'lodash';\n\nconst ACCESSEVENT = 'renderer:question:submitscore';\n\n@Component({\n  selector: 'app-assessment-player',\n  templateUrl: './assessment-player.component.html',\n  styleUrls: ['./assessment-player.component.scss']\n})\nexport class AssessmentPlayerComponent implements OnInit, OnDestroy, ComponentCanDeactivate {\n\n  constructor(\n    public resourceService: ResourceService,\n    private activatedRoute: ActivatedRoute,\n    private courseConsumptionService: CourseConsumptionService,\n    private configService: ConfigService,\n    private courseBatchService: CourseBatchService,\n    private toasterService: ToasterService,\n    private location: Location,\n    private playerService: PlayerService,\n    private publicPlayerService: PublicPlayerService,\n    private userService: UserService,\n    private assessmentScoreService: AssessmentScoreService,\n    private navigationHelperService: NavigationHelperService,\n    private router: Router,\n    private contentUtilsServiceService: ContentUtilsServiceService,\n    private telemetryService: TelemetryService,\n    private layoutService: LayoutService,\n    public generaliseLabelService: GeneraliseLabelService,\n    private CourseProgressService: CourseProgressService,\n    @Inject('CS_COURSE_SERVICE') private CsCourseService: CsCourseService,\n    @Inject('SB_NOTIFICATION_SERVICE') private notificationService: NotificationServiceImpl\n  ) {\n    this.playerOption = {\n      showContentRating: true\n    };\n    // this.assessmentMaxAttempts = this.configService.appConfig.CourseConsumption.selfAssessMaxLimit;\n    const _routerExtras = this.router.getCurrentNavigation();\n    if (_.get(_routerExtras, 'extras.state')) {\n      this.isRouterExtrasAvailable = true;\n      this._routerStateContentStatus = _.get(_routerExtras, 'extras.state.contentStatus');\n      this.contentStatus = _.get(_routerExtras, 'extras.state.contentStatus.content') ?\n        _.get(_routerExtras, 'extras.state.contentStatus.content') : [];\n    }\n  }\n  @ViewChild('modal') modal;\n  @Output() assessmentEvents = new EventEmitter<any>();\n  private unsubscribe = new Subject<void>();\n  contentProgressEvents$ = new Subject();\n  batchId: string;\n  collectionId: string;\n  courseId: string;\n  courseHierarchy;\n  enrolledBatchInfo;\n  showLoader = true;\n  noContentMessage = '';\n  activeContent: any;\n  isContentPresent = false;\n  courseFallbackImg = './../../../../../assets/images/book.png';\n  cardType: TocCardType = TocCardType.COURSE;\n  contentStatus = [];\n  playerConfig;\n  playerOption;\n  courseName: string;\n  courseProgress: number;\n  private objectRollUp = {};\n  public treeModel: any;\n  isParentCourse = false;\n  telemetryContentImpression: IImpressionEventInput;\n  telemetryPlayerPageImpression: IImpressionEventInput;\n  telemetryCdata: Array<{}>;\n  shareLink: string;\n  telemetryShareData: Array<ITelemetryShare>;\n  shareLinkModal: boolean;\n  isUnitCompleted = false;\n  isFullScreenView = false;\n  isCourseCompleted = false;\n  showCourseCompleteMessage = false;\n  certificateDescription = {};\n  parentCourse;\n  prevModule;\n  nextModule;\n  totalContents = 0;\n  consumedContents = 0;\n  layoutConfiguration;\n  isCourseCompletionPopupShown = false;\n  previousContent = null;\n  groupId;\n  assessmentMaxAttempts: number;\n  showMaxAttemptsModal = false;\n  isRouterExtrasAvailable = false;\n  _routerStateContentStatus: any;\n  showLastAttemptsModal = false;\n  navigationObj: { event: any; id: any; };\n  showPlayer = false;\n  showQSExitConfirmation = false;\n  isStatusChange = false;\n  lastActiveContentBeforeModuleChange;\n  contentRatingModal = false;\n  @HostListener('window:beforeunload')\n  canDeactivate() {\n    // returning true will navigate without confirmation\n    // returning false will show a confirm dialog before navigating away\n    return _.get(this.activeContent, 'mimeType') === 'application/vnd.sunbird.questionset' && !this.showQSExitConfirmation ? false : true;\n  }\n\n  navigateToPlayerPage(collectionUnit: {}, event?) {\n    this.previousContent = null;\n    this.lastActiveContentBeforeModuleChange = this.activeContent;\n      const navigationExtras: NavigationExtras = {\n        queryParams: { batchId: this.batchId, courseId: this.courseId, courseName: this.parentCourse.name },\n        state: { contentStatus: this._routerStateContentStatus }\n      };\n\n      if (event && !_.isEmpty(event.event)) {\n        navigationExtras.queryParams.selectedContent = event.data.identifier;\n      } else if (_.get(collectionUnit, 'mimeType') === 'application/vnd.ekstep.content-collection' && _.get(collectionUnit, 'children.length')\n        && _.get(this.contentStatus, 'length')) {\n        const parsedChildren = this.courseConsumptionService.parseChildren(collectionUnit);\n        const collectionChildren = [];\n        this.contentStatus.forEach(item => {\n          if (parsedChildren.find(content => content === item.contentId)) {\n            collectionChildren.push(item);\n          }\n        });\n\n        /* istanbul ignore else */\n        if (collectionChildren.length) {\n          const selectedContent: any = collectionChildren.find(item => item.status !== 2);\n\n          /* istanbul ignore else */\n          if (selectedContent) {\n            navigationExtras.queryParams.selectedContent = selectedContent.contentId;\n          }\n        }\n      }\n      this.router.navigate(['/learn/course/play', _.get(collectionUnit, 'identifier')], navigationExtras);\n  }\n\n  ngOnInit() {\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.initLayout();\n    this.subscribeToQueryParam();\n    this.subscribeToContentProgressEvents().subscribe(data => { });\n    this.navigationHelperService.contentFullScreenEvent.\n    pipe(takeUntil(this.unsubscribe)).subscribe(isFullScreen => {\n      this.isFullScreenView = isFullScreen;\n    });\n    this.noContentMessage = _.get(this.resourceService, 'messages.stmsg.m0121');\n    this.getLanguageChangeEvent();\n    this.routerEventsChangeHandler().subscribe();\n  }\n  initLayout() {\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.layoutService.switchableLayout().\n    pipe(takeUntil(this.unsubscribe)).subscribe(layoutConfig => {\n    if (layoutConfig != null) {\n      this.layoutConfiguration = layoutConfig.layout;\n    }\n   });\n  }\n\n  goBack() {\n    this.previousContent = null;\n    this.lastActiveContentBeforeModuleChange = this.activeContent;\n    const paramas = {};\n    if (!this.isCourseCompletionPopupShown) {\n      paramas['showCourseCompleteMessage'] = true;\n    }\n    if (_.get(this.activatedRoute, 'snapshot.queryParams.textbook')) {\n      paramas['textbook'] = _.get(this.activatedRoute, 'snapshot.queryParams.textbook');\n    }\n    if (!this.isCourseCompleted) {\n      this.isStatusChange = true;\n    }\n    setTimeout(() => {\n      if (this.batchId) {\n        this.router.navigate(['/learn/course', this.courseId, 'batch', this.batchId], {queryParams: paramas});\n      } else {\n        this.router.navigate(['/learn/course', this.courseId], { queryParams: paramas });\n      }\n    }, 500);\n  }\n\n  getLanguageChangeEvent() {\n    this.resourceService.languageSelected$.pipe(takeUntil(this.unsubscribe)).subscribe(item => {\n      this.noContentMessage = _.get(this.resourceService, 'messages.stmsg.m0121');\n    });\n  }\n\n  private subscribeToQueryParam() {\n    combineLatest([this.activatedRoute.params, this.activatedRoute.queryParams])\n      .pipe(takeUntil(this.unsubscribe))\n      .subscribe(([params, queryParams]) => {\n        this.consumedContents = 0;\n        this.totalContents = 0;\n        this.collectionId = params.collectionId;\n        this.batchId = queryParams.batchId;\n        this.courseId = queryParams.courseId;\n        this.courseName = queryParams.courseName;\n        this.groupId = _.get(queryParams, 'groupId');\n        const selectedContent = queryParams.selectedContent;\n        let isSingleContent = this.collectionId === selectedContent;\n        this.isParentCourse = this.collectionId === this.courseId;\n        if (this.batchId) {\n          this.telemetryCdata = [{ id: this.batchId, type: 'CourseBatch' }];\n          if (this.groupId) {\n            this.telemetryCdata.push({\n              id: this.groupId,\n              type: 'Group'\n            });\n          }\n\n          this.getCollectionInfo(this.courseId)\n            .pipe(takeUntil(this.unsubscribe))\n            .subscribe((data) => {\n              const model = new TreeModel();\n              this.treeModel = model.parse(data.courseHierarchy);\n              this.parentCourse = data.courseHierarchy;\n              const module = this.courseConsumptionService.setPreviousAndNextModule(this.parentCourse, this.collectionId);\n              this.nextModule = _.get(module, 'next');\n              this.prevModule = _.get(module, 'prev');\n              this.getCourseCompletionStatus();\n              this.layoutService.updateSelectedContentType.emit(data.courseHierarchy.contentType);\n              if (!this.isParentCourse && data.courseHierarchy.children) {\n                this.courseHierarchy = data.courseHierarchy.children.find(item => item.identifier === this.collectionId);\n              } else {\n                this.courseHierarchy = data.courseHierarchy;\n              }\n              if (!isSingleContent && _.get(this.courseHierarchy, 'mimeType') !==\n              this.configService.appConfig.PLAYER_CONFIG.MIME_TYPE.collection) {\n                isSingleContent = true;\n              }\n              this.enrolledBatchInfo = data.enrolledBatchDetails;\n              this.certificateDescription = this.courseBatchService.getcertificateDescription(this.enrolledBatchInfo);\n              this.setActiveContent(selectedContent, isSingleContent);\n            }, error => {\n              this.toasterService.error(this.resourceService.messages.fmsg.m0051);\n              this.goBack();\n            });\n        } else {\n          this.telemetryCdata = [{\n            id: this.groupId,\n            type: 'Group'\n          }];\n          this.publicPlayerService.getCollectionHierarchy(this.collectionId, {})\n            .pipe(takeUntil(this.unsubscribe))\n            .subscribe((data) => {\n              this.courseHierarchy = data.result.content;\n              this.layoutService.updateSelectedContentType.emit(this.courseHierarchy.contentType);\n              if (this.courseHierarchy.mimeType !== 'application/vnd.ekstep.content-collection') {\n                this.activeContent = this.courseHierarchy;\n                this.initPlayer(_.get(this.activeContent, 'identifier'));\n              } else {\n                this.setActiveContent(selectedContent);\n              }\n            }, error => {\n              this.toasterService.error(this.resourceService.messages.fmsg.m0051);\n              this.goBack();\n            });\n        }\n        this.setTelemetryCourseImpression();\n      });\n  }\n\n\n  private getCollectionInfo(courseId: string): Observable<any> {\n    const inputParams = { params: this.configService.appConfig.CourseConsumption.contentApiQueryParams };\n    return combineLatest([\n      this.courseConsumptionService.getCourseHierarchy(courseId, inputParams),\n      this.courseBatchService.getEnrolledBatchDetails(this.batchId),\n    ]).pipe(map((results: any) => {\n      return {\n        courseHierarchy: results[0],\n        enrolledBatchDetails: results[1],\n      };\n    }));\n  }\n\n  getContentStateRequest(course: any) {\n    return {\n      userId: this.userService.userid,\n      courseId: this.courseId,\n      contentIds: this.courseConsumptionService.parseChildren(course),\n      batchId: this.batchId,\n      fields: ['progress', 'score']\n    };\n  }\n  setActiveContent(selectedContent: string, isSingleContent?: boolean) {\n    this.previousContent = _.cloneDeep(this.activeContent);\n    if (_.get(this.courseHierarchy, 'children')) {\n      let flattenDeepContents = this.courseConsumptionService.flattenDeep(this.courseHierarchy.children);\n      flattenDeepContents = _.filter(flattenDeepContents, (o) => o.mimeType !== 'application/vnd.sunbird.question');\n      if (selectedContent) {\n        this.activeContent = flattenDeepContents.find(content => content.identifier === selectedContent);\n      } else {\n        this.activeContent = this.firstNonCollectionContent(flattenDeepContents);\n      }\n\n      /* istanbul ignore else */\n      if (this.activeContent) {\n        this.isContentPresent = true;\n        this.initPlayer(_.get(this.activeContent, 'identifier'));\n      }\n    } else if (isSingleContent) {\n      this.activeContent = this.courseHierarchy;\n      this.initPlayer(_.get(this.activeContent, 'identifier'));\n    }\n    this.getContentState();\n  }\n\n  private firstNonCollectionContent(contents) {\n    return contents.find((content) => content.mimeType !== 'application/vnd.ekstep.content-collection');\n  }\n\n  navigateToInitPlayer(event: any, id) {\n    this.navigationObj = {\n      event: event,\n      id: id\n    };\n    if (_.get(event, 'event.isDisabled')) {\n      return this.toasterService.error(_.get(this.resourceService, 'frmelmnts.lbl.selfAssessMaxAttempt'));\n    } else if (_.get(event, 'event.isLastAttempt') && !this._routerStateContentStatus) {\n      this.showLastAttemptsModal = true;\n    } else if (_.get(this.navigationObj, 'event.data') && this.navigationObj?.event?.data?.identifier !== this.activeContent?.identifier) {\n      this.onTocCardClick();\n    }\n  }\n\n  onTocCardClick() {\n    this.showPlayer = false;\n    this.previousContent = _.cloneDeep(this.activeContent);\n    this.activeContent = this.navigationObj.event.data;\n    this.initPlayer(_.get(this.activeContent, 'identifier'));\n    this.highlightContent();\n    this.logTelemetry(this.navigationObj.id, this.navigationObj.event.data);\n  }\n\n  private getContentState() {\n    if (this.batchId && (_.get(this.activeContent, 'contentType') === 'SelfAssess' || !this.isRouterExtrasAvailable)) {\n      const req: any = this.getContentStateRequest(this.courseHierarchy);\n      this.CsCourseService\n      .getContentState(req, { apiPath: '/content/course/v1' })\n      .pipe(takeUntil(this.unsubscribe))\n      .subscribe((_res) => {\n        const res = this.CourseProgressService.getContentProgressState(req, _res);\n        const _contentIndex = _.findIndex(this.contentStatus, {contentId: _.get(this.activeContent, 'identifier')});\n        const _resIndex =  _.findIndex(res.content, {contentId: _.get(this.activeContent, 'identifier')});\n        if (_.get(this.activeContent, 'contentType') === 'SelfAssess' && this.isRouterExtrasAvailable) {\n          this.contentStatus[_contentIndex]['status'] = _.get(res.content[_resIndex], 'status');\n        } else {\n          this.contentStatus = res.content || [];\n        }\n        this.highlightContent();\n        this.calculateProgress();\n      }, error => {\n        console.log('Content state read CSL API failed ', error);\n      });\n    } else {\n      this.highlightContent();\n      this.calculateProgress();\n    }\n  }\n\n  public getCurrentContent() {\n   return this.previousContent ? this.previousContent : this.activeContent;\n  }\n  public contentProgressEvent(event) {\n    console.log(\"playercomp.contentProgressEvent.event===\",event)\n    \n    /* istanbul ignore else */\n    if (!this.batchId || _.get(this.enrolledBatchInfo, 'status') !== 1) {\n      return;\n    }\n    const telObject = _.get(event, 'detail.telemetryData');\n    const eid = _.get(telObject, 'eid');\n    const isMimeTypeH5P = _.get(this.activeContent, 'mimeType') === 'application/vnd.ekstep.h5p-archive';\n\n    /* istanbul ignore else */\n    if (eid === 'END' && !isMimeTypeH5P && !this.validEndEvent(event)) {\n      return;\n    }\n    const request: any = {\n      userId: this.userService.userid,\n      contentId: _.cloneDeep(_.get(telObject, 'object.id')) || _.get(this.activeContent, 'identifier'),\n      courseId: this.courseId,\n      batchId: this.batchId,\n      status: (eid === 'END' && (_.get(this.getCurrentContent, 'contentType') !== 'SelfAssess') && this.courseProgress === 100\n      && !this.isStatusChange) ? 2 : 1,\n      progress: (this.courseProgress && !this.isStatusChange) ? this.courseProgress : undefined\n    };\n\n    // Set status to 2 if mime type is application/vnd.ekstep.h5p-archive\n    if (isMimeTypeH5P) {\n      request['status'] = 2;\n    }\n\n    /* istanbul ignore else */\n    if (!eid) {\n      const contentType = this.activeContent.contentType;\n      /* istanbul ignore else */\n      if (contentType === 'SelfAssess' && _.get(event, 'data') === ACCESSEVENT) {\n        request['status'] = 2;\n      }\n    }\n\n    /* istanbul ignore else */\n    if (request.status === 2 && !this.isUnitCompleted) {\n      this.logAuditEvent();\n    }\n    console.log(\"playercomp.contentProgressEvent.request===\",request)\n\n\n    this.courseConsumptionService.updateContentsState(request)\n      .pipe(takeUntil(this.unsubscribe))\n      .subscribe(updatedRes => {\n    console.log(\"playercomp.contentProgressEvent.updatedRes===\",updatedRes)\n\n        if (!this.isRouterExtrasAvailable) {\n          this.contentStatus = _.cloneDeep(updatedRes.content);\n        } else {\n          const _contentIndex = _.findIndex(this.contentStatus, {contentId: request.contentId});\n          const _resIndex =  _.findIndex(updatedRes.content, {contentId: request.contentId});\n          if (_resIndex !== -1) {\n          // Update the available status data object\n            this._routerStateContentStatus['progress'] = _.get(updatedRes, 'progress');\n            this.contentStatus[_contentIndex]['status'] = _.get(updatedRes.content[_resIndex], 'status');\n            this._routerStateContentStatus['totalCount'] = _.get(updatedRes, 'totalCount');\n            this._routerStateContentStatus['completedCount'] = _.get(updatedRes, 'completedCount');\n          }\n        }\n        /* istanbul ignore else */\n        if (!this.isUnitCompleted) {\n          this.calculateProgress(true);\n        }\n      }, err => console.error('updating content status failed', err));\n    this.courseConsumptionService.updateContentState.emit();\n  }\n\n  onAssessmentEvents(event) {\n    /* istanbul ignore else */\n    if (!this.batchId || _.get(this.enrolledBatchInfo, 'status') !== 1) {\n      return;\n    }\n    this.assessmentScoreService.receiveTelemetryEvents(event);\n    this.calculateProgress();\n    this.assessmentEvents.emit(event);\n  }\n  onQuestionScoreReviewEvents(event) {\n    this.assessmentScoreService.handleReviewButtonClickEvent();\n  }\n  onQuestionScoreSubmitEvents(event) {\n    /* istanbul ignore else */\n    if (event) {\n      this.assessmentScoreService.handleSubmitButtonClickEvent(true);\n      this.contentProgressEvent(event);\n    }\n  }\n\n  /**\n   * @since #SH-120\n   * @param  {object} event - telemetry end event data\n   * @description - It will return the progress calculated from client-service(Common Consumption)\n   */\n  private validEndEvent(event) {\n    const playerSummary: Array<any> = _.get(event, 'detail.telemetryData.edata.summary');\n    const contentMimeType = _.get(this.previousContent, 'mimeType') ? _.get(this.previousContent, 'mimeType') : _.get(this.activeContent, 'mimeType');\n    const contentType = _.get(this.previousContent, 'primaryCategory') ? _.get(this.previousContent, 'primaryCategory') : _.get(this.activeContent, 'primaryCategory');\n    this.courseProgress = CsContentProgressCalculator.calculate(playerSummary, contentMimeType);\n    console.log(_.find(playerSummary, ['endpageseen', true]));\n    if (_.toLower(contentType) === 'course assessment') {\n      this.courseProgress = _.find(playerSummary, ['endpageseen', true]) ||\n      _.find(playerSummary, ['visitedcontentend', true]) ? this.courseProgress : 0;\n    }\n    return this.courseProgress;\n  }\n\n  calculateProgress(isLogAuditEvent?: boolean) {\n    /* istanbul ignore else */\n    if (this.batchId &&  _.get(this.courseHierarchy, 'children')) {\n      this.consumedContents = 0;\n      this.totalContents = 0;\n      this.courseHierarchy.children.forEach(unit => {\n        if (unit.mimeType === 'application/vnd.ekstep.content-collection') {\n          let consumedContents = [];\n          let flattenDeepContents = [];\n\n          /* istanbul ignore else */\n          if (_.get(unit, 'children.length')) {\n            flattenDeepContents = this.courseConsumptionService.flattenDeep(unit.children).filter(item => item.mimeType !== 'application/vnd.ekstep.content-collection');\n            /* istanbul ignore else */\n            if (this.contentStatus && this.contentStatus.length) {\n              consumedContents = flattenDeepContents.filter(o => {\n                return this.contentStatus.some(({ contentId, status }) => o.identifier === contentId && status === 2);\n              });\n            }\n          }\n\n          unit.consumedContent = consumedContents.length;\n          unit.contentCount = flattenDeepContents.length;\n          unit.isUnitConsumed = consumedContents.length === flattenDeepContents.length;\n          unit.isUnitConsumptionStart = false;\n\n          if (consumedContents.length) {\n            unit.progress = (consumedContents.length / flattenDeepContents.length) * 100;\n            unit.isUnitConsumptionStart = true;\n          } else {\n            unit.progress = 0;\n            unit.isUnitConsumptionStart = false;\n          }\n\n        } else {\n          const consumedContent = this.contentStatus.filter(({ contentId, status }) => unit.identifier === contentId && status === 2);\n          unit.consumedContent = consumedContent.length;\n          unit.contentCount = 1;\n          unit.isUnitConsumed = consumedContent.length === 1;\n          unit.progress = consumedContent.length ? 100 : 0;\n          unit.isUnitConsumptionStart = Boolean(consumedContent.length);\n        }\n\n        this.consumedContents = this.consumedContents + unit.consumedContent;\n        this.totalContents = this.totalContents + unit.contentCount;\n        this.courseHierarchy.progress = 0;\n        /* istanbul ignore else */\n        if (this.consumedContents) {\n          this.courseHierarchy.progress = (this.consumedContents / this.totalContents) * 100;\n        }\n        this.isUnitCompleted = this.totalContents === this.consumedContents;\n        /* istanbul ignore else */\n        if (isLogAuditEvent && this.isUnitCompleted) {\n          this.logAuditEvent(true);\n        }\n      });\n    } else {\n      this.isUnitCompleted = false;\n      if (this.contentStatus && this.contentStatus.length) {\n        const contentState = this.contentStatus.filter(({ contentId, status }) =>\n          _.get(this.courseHierarchy, 'identifier') === contentId && status === 2);\n        if (contentState.length > 0) {\n          this.isUnitCompleted = true;\n        }\n      }\n      if (isLogAuditEvent && this.isUnitCompleted) {\n        this.logAuditEvent(true);\n      }\n    }\n  }\n\n  private subscribeToContentProgressEvents() {\n    return this.contentProgressEvents$.pipe(\n      map(event => {\n        this.contentProgressEvent(event);\n        return {\n          contentProgressEvent: event\n        };\n      }),\n      takeUntil(this.unsubscribe)\n    );\n  }\n\n  logTelemetry(id, content?: {}, rollup?) {\n    if (this.batchId) {\n      this.telemetryCdata = [{ id: this.batchId, type: 'CourseBatch' }];\n    }\n    if (rollup) {\n      rollup = {l1: this.courseId};\n    }\n    const objectRollUp = this.courseConsumptionService.getContentRollUp(this.courseHierarchy, _.get(content, 'identifier'));\n    const interactData = {\n      context: {\n        env: _.get(this.activatedRoute.snapshot.data.telemetry, 'env') || 'content',\n        cdata: this.telemetryCdata\n      },\n      edata: {\n        id: id,\n        type: 'click',\n        pageid: _.get(this.activatedRoute.snapshot.data.telemetry, 'pageid') || 'play-collection',\n      },\n      object: {\n        id: content ? _.get(content, 'identifier') : this.courseId,\n        type: content ? _.get(content, 'contentType') : 'Course',\n        ver: content ? `${_.get(content, 'pkgVersion')}` : `1.0`,\n        rollup: rollup || this.courseConsumptionService.getRollUp(objectRollUp) || {}\n      }\n    };\n    this.telemetryService.interact(interactData);\n  }\n\n  private setTelemetryContentImpression() {\n    const objectRollUp = this.courseConsumptionService.getContentRollUp(this.courseHierarchy, _.get(this.activeContent, 'identifier'));\n    const telemetryContentImpression = {\n      context: {\n        env: this.activatedRoute.snapshot.data.telemetry.env,\n        cdata: this.telemetryCdata\n      },\n      edata: {\n        type: this.activatedRoute.snapshot.data.telemetry.type,\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n        uri: this.router.url,\n      },\n      object: {\n        id: this.activeContent.identifier,\n        type: this.activeContent.contentType || 'content',\n        ver: this.activeContent.pkgVersion ? this.activeContent.pkgVersion.toString() : '1.0',\n        rollup: this.courseConsumptionService.getRollUp(objectRollUp) || {}\n      }\n    };\n    this.telemetryService.impression(telemetryContentImpression);\n  }\n\n  private setTelemetryCourseImpression() {\n    this.telemetryPlayerPageImpression = {\n      context: {\n        env: this.activatedRoute.snapshot.data.telemetry.env,\n        cdata: this.telemetryCdata\n      },\n      edata: {\n        type: this.activatedRoute.snapshot.data.telemetry.type,\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n        uri: this.router.url,\n      },\n      object: {\n        id:  this.courseId || _.get(this.courseHierarchy, 'identifier'),\n        type: _.get(this.courseHierarchy, 'contentType') || 'Course',\n        ver:  `${_.get(this.courseHierarchy, 'pkgVersion')}` || '1.0',\n        rollup: { l1: this.courseId }\n      }\n    };\n  }\n\n  logAuditEvent(isUnit?: boolean) {\n    const auditEventInput: IAuditEventInput = {\n      'context': {\n        'env': this.activatedRoute.snapshot.data.telemetry.env,\n        'cdata': [\n          { id: this.courseId, type: 'CourseId' },\n          { id: this.userService.userid, type: 'UserId' },\n          { id: this.batchId, type: 'BatchId' },\n        ]\n      },\n      'object': {\n        'id': this.batchId,\n        'type': this.activatedRoute.snapshot.data.telemetry.object.type,\n        'ver': this.activatedRoute.snapshot.data.telemetry.object.ver,\n        'rollup': { l1: this.courseId }\n      },\n      'edata': {\n        props: ['courseId', 'userId', 'batchId'],\n        state: '',\n        prevstate: ''\n      }\n    };\n\n    if (isUnit) {\n      auditEventInput.context.cdata.push({ id: this.courseHierarchy.identifier, type: 'UnitId' });\n      auditEventInput.edata.props.push('unitId');\n    } else {\n      auditEventInput.context.cdata.push({ id: this.activeContent.identifier, type: 'ContentId' });\n      auditEventInput.edata.props.push('contentId');\n    }\n\n    this.telemetryService.audit(auditEventInput);\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  onShareLink() {\n    this.shareLink = this.contentUtilsServiceService.getCourseModulePublicShareUrl(this.courseId, this.collectionId);\n    this.setTelemetryShareData(this.courseHierarchy);\n  }\n\n  onRatingPopupClose() {\n    this.contentRatingModal = false;\n    this.getCourseCompletionStatus(true);\n  }\n\n  setTelemetryShareData(param) {\n    this.telemetryShareData = [{\n      id: param.identifier,\n      type: param.contentType,\n      ver: param.pkgVersion ? param.pkgVersion.toString() : '1.0'\n    }];\n  }\n\n  onCourseCompleteClose() {\n    this.showCourseCompleteMessage = false;\n  }\n\n  highlightContent() {\n    if (this.contentStatus && this.contentStatus.length > 0) {\n      this.contentStatus.forEach((item) => {\n        if (_.get(item, 'contentId') === _.get(this.activeContent, 'identifier') && item.status === 0) {\n          item.status = 1;\n        }\n      });\n    }\n  }\n\n  getCourseCompletionStatus(showPopup: boolean = false) {\n    /* istanbul ignore else */\n    if (!this.isCourseCompleted) {\n      let maxAttemptsExceeded = false;\n      this.showMaxAttemptsModal = false;\n      let isLastAttempt = false;\n      const req: any = this.getContentStateRequest(this.parentCourse);\n      if (_.get(this.activeContent, 'contentType') === 'SelfAssess' || !this.isRouterExtrasAvailable) {\n        this.CsCourseService\n          .getContentState(req, { apiPath: '/content/course/v1' })\n          .pipe(takeUntil(this.unsubscribe))\n          .subscribe((_res) => {\n            const res = this.CourseProgressService.getContentProgressState(req, _res);\n            /* istanbul ignore next*/\n            _.forEach(_.get(res, 'content'), (contentState) => {\n              if (_.get(contentState, 'contentId') === this.activeContent.identifier) {\n                /* istanbul ignore next*/\n                if (_.get(contentState, 'score.length') >= _.get(this.activeContent, 'maxAttempts')) { maxAttemptsExceeded = true; }\n                if (_.get(this.activeContent, 'maxAttempts') - _.get(contentState, 'score.length') === 1) { isLastAttempt = true; }\n                /* istanbul ignore next*/\n                if (_.get(this.activeContent, 'contentType') === 'SelfAssess') {\n                  /* istanbul ignore next*/\n                  const _contentIndex = _.findIndex(this.contentStatus, {contentId: _.get(this.activeContent, 'identifier')});\n                  this.contentStatus[_contentIndex]['bestScore'] = _.get(contentState, 'bestScore');\n                  this.contentStatus[_contentIndex]['score'] = _.get(contentState, 'score');\n                }\n              }\n            });\n\n            /* istanbul ignore else */\n            if (maxAttemptsExceeded && !showPopup) {\n              this.showMaxAttemptsModal = true;\n              this.showQSExitConfirmation = true;\n            } else if (isLastAttempt) {\n              this.toasterService.error(_.get(this.resourceService, 'frmelmnts.lbl.selfAssessLastAttempt'));\n            } else if (_.get(res, 'content.length')) {\n              this.isCourseCompleted = (res.totalCount === res.completedCount);\n              if (!this.isCourseCompleted && !res.totalCount) {\n                this.isCourseCompleted = res.progress >= 100 ? true : this.isCourseCompleted;\n              }\n              this.showCourseCompleteMessage = this.isCourseCompleted && showPopup;\n              if (this.showCourseCompleteMessage) {\n                this.notificationService.fetchNotificationList();\n              }\n              this.isCourseCompletionPopupShown = this.isCourseCompleted;\n            }\n            this.calculateProgress();\n          }, error => {\n            console.log('Content state read CSL API failed ', error);\n          });\n      } else {\n        /* istanbul ignore next*/\n        _.forEach(this.contentStatus, (contentState) => {\n          /* istanbul ignore next*/\n          if (_.get(contentState, 'contentId') === _.get(this.activeContent, 'identifier')) {\n            /* istanbul ignore next*/\n            if (_.get(contentState, 'score.length') >= _.get(this.activeContent, 'maxAttempts')) { maxAttemptsExceeded = true; }\n            if (_.get(this.activeContent, 'maxAttempts') - _.get(contentState, 'score.length') === 1) { isLastAttempt = true; }\n          }\n        });\n        /* istanbul ignore else */\n        if (maxAttemptsExceeded) {\n          this.showMaxAttemptsModal = true;\n          this.showQSExitConfirmation = true;\n        } else if (isLastAttempt) {\n          this.toasterService.error(_.get(this.resourceService, 'frmelmnts.lbl.selfAssessLastAttempt'));\n        } else if (this.contentStatus && this.contentStatus.length) {\n          this.isCourseCompleted = (_.get(this._routerStateContentStatus, 'totalCount') === _.get(this._routerStateContentStatus, 'completedCount'));\n          this.showCourseCompleteMessage = this.isCourseCompleted && showPopup;\n          if (this.showCourseCompleteMessage) {\n            this.notificationService.fetchNotificationList();\n          }\n          this.isCourseCompletionPopupShown = this.isCourseCompleted;\n        }\n      }\n    }\n  }\n\n  private initPlayer(id: string) {\n    let maxAttemptsExceeded = false;\n    this.showMaxAttemptsModal = false;\n    let isLastAttempt = false;\n    /* istanbul ignore if */\n    if (_.get(this.activeContent, 'contentType') === 'SelfAssess') {\n      const _contentIndex = _.findIndex(this.contentStatus, {contentId: _.get(this.activeContent, 'identifier')});\n      /* istanbul ignore if */\n      if (_contentIndex > 0 && _.get(this.contentStatus[_contentIndex], 'score.length') >= _.get(this.activeContent, 'maxAttempts')) { maxAttemptsExceeded = true; }\n      if (_contentIndex > 0 && _.get(this.activeContent, 'maxAttempts') - _.get(this.contentStatus[_contentIndex], 'score.length') === 1) { isLastAttempt = true; }\n    }\n    /* istanbul ignore if */\n    if (maxAttemptsExceeded) {\n      this.showMaxAttemptsModal = true;\n      this.showQSExitConfirmation = true;\n    } else {\n      /* istanbul ignore if */\n      if (isLastAttempt && !this.showLastAttemptsModal && this._routerStateContentStatus) {\n        this.toasterService.error(_.get(this.resourceService, 'frmelmnts.lbl.selfAssessLastAttempt'));\n      }\n      this.assessmentScoreService.init({\n        batchDetails: this.enrolledBatchInfo,\n        courseDetails: this.courseHierarchy,\n        contentDetails: { identifier: id }\n      });\n      const options: any = { courseId: this.collectionId };\n      /* istanbul ignore else */\n      if (this.batchId) {\n        options.batchId = this.batchId;\n      }\n      if (this.activeContent.mimeType === this.configService.appConfig.PLAYER_CONFIG.MIME_TYPE.questionset) {\n        const serveiceRef = this.userService.loggedIn ? this.playerService : this.publicPlayerService;\n        this.publicPlayerService.getQuestionSetHierarchy(id).pipe(\n          takeUntil(this.unsubscribe))\n          .subscribe((response) => {\n            const objectRollup = this.courseConsumptionService.getContentRollUp(this.courseHierarchy, id);\n            this.objectRollUp = objectRollup ? this.courseConsumptionService.getRollUp(objectRollup) : {};\n            if (response && response.context) {\n              response.context.objectRollup = this.objectRollUp;\n            }\n            const contentDetails = {contentId: id, contentData: response.questionSet };\n            this.playerConfig = serveiceRef.getConfig(contentDetails);\n            this.publicPlayerService.getQuestionSetRead(id).subscribe((data: any) => {\n              this.playerConfig['metadata']['instructions'] = _.get(data, 'result.questionset.instructions');\n              this.showPlayer = true;\n            }, (error) => {\n              this.showPlayer = true;\n            });\n            const _contentIndex = _.findIndex(this.contentStatus, { contentId: _.get(this.playerConfig, 'context.contentId') });\n            this.playerConfig['metadata']['maxAttempt'] = _.get(this.activeContent, 'maxAttempts');\n            const _currentAttempt = _.get(this.contentStatus[_contentIndex], 'score.length') || 0;\n            this.playerConfig['metadata']['currentAttempt'] = _currentAttempt == undefined ? 0 : _currentAttempt;\n            this.playerConfig['context']['objectRollup'] = this.objectRollUp; \n            this.showLoader = false;\n          }, (err) => {\n            this.toasterService.error(this.resourceService.messages.stmsg.m0009);\n            this.showLoader = false;\n          });\n      } else {\n      this.courseConsumptionService.getConfigByContent(id, options)\n        .pipe(first(), takeUntil(this.unsubscribe))\n        .subscribe(config => {\n          this.showPlayer = true;\n          const objectRollup = this.courseConsumptionService.getContentRollUp(this.courseHierarchy, id);\n          this.objectRollUp = objectRollup ? this.courseConsumptionService.getRollUp(objectRollup) : {};\n          if (config && config.context) {\n            config.context.objectRollup = this.objectRollUp;\n          }\n          this.playerConfig = config;\n          const _contentIndex = _.findIndex(this.contentStatus, { contentId: _.get(config, 'context.contentId') });\n          this.playerConfig['metadata']['maxAttempt'] = _.get(this.activeContent, 'maxAttempts');\n          const _currentAttempt = _contentIndex > 0 ? _.get(this.contentStatus[_contentIndex], 'score.length') : 0;\n          this.playerConfig['metadata']['currentAttempt'] = _currentAttempt == undefined ? 0 : _currentAttempt;\n          this.showLoader = false;\n          this.setTelemetryContentImpression();\n        }, (err) => {\n          this.showLoader = false;\n          this.toasterService.error(this.resourceService.messages.stmsg.m0009);\n        });\n      }\n    }\n  }\n\n  onSelfAssessLastAttempt(event) {\n    if (_.get(event, 'data') === 'renderer:selfassess:lastattempt' || _.get(event, 'edata.isLastAttempt')) {\n      this.toasterService.error(_.get(this.resourceService, 'frmelmnts.lbl.selfAssessLastAttempt'));\n    }\n    if (_.get(event, 'data') === 'renderer:maxLimitExceeded' || _.get(event, 'edata.maxLimitExceeded')) {\n      this.showMaxAttemptsModal = true;\n      this.showQSExitConfirmation = true;\n    }\n  }\n  routerEventsChangeHandler() {\n    return this.router.events\n      .pipe(\n        takeUntil(this.unsubscribe),\n        tap(event => {\n          if (event instanceof NavigationStart) {\n            const isH5pContent = [_.get(this.playerConfig, 'metadata.mimeType'), _.get(this.activeContent, 'mimeType')].every(mimeType => mimeType === 'application/vnd.ekstep.h5p-archive');\n            if (isH5pContent) {\n              this.contentRatingModal = true;\n            }\n          }\n        })\n      )\n  }\n\n}\n","<app-landing-section [textToDisplay]=\"\" [layoutConfiguration]=\"layoutConfiguration\" [noTitle]=\"true\">\n</app-landing-section>\n<app-course-consumption-header *ngIf=\"!showLoader && !showError && showAddGroup !== null\"\n    [courseHierarchy]=\"courseHierarchy\" [enrolledBatchInfo]=\"enrolledBatchInfo\" [groupId]=\"groupId\"\n    [showAddGroup]=\"showAddGroup\" [layoutConfiguration]=\"layoutConfiguration\"></app-course-consumption-header>\n<div [ngClass]=\"layoutConfiguration ? 'sbt-inside-page-container' : ''\">\n<router-outlet *ngIf=\"!showLoader && !showError\"></router-outlet>\n<div *ngIf=\"showLoader\" class=\"ui container\">\n    <div class=\"ui grid\">\n        <div class=\"twelve wide column\">\n            <app-loader></app-loader>\n        </div>\n    </div>\n</div>\n</div>\n<app-batch-info *ngIf=\"showBatchInfo\" [enrolledBatchInfo]=\"selectedCourseBatches\"\n    (routeChanged)=\"refreshComponent($event)\">\n</app-batch-info>","import { Component, OnDestroy, ViewChild, Input, Output, EventEmitter } from '@angular/core';\nimport { ResourceService } from '@sunbird/shared';\nimport { GeneraliseLabelService } from '@sunbird/core';\nimport { TelemetryService, IInteractEventInput } from '@sunbird/telemetry';\nimport * as _ from 'lodash-es';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-course-completion',\n  templateUrl: './course-completion.component.html',\n  styleUrls: ['./course-completion.component.scss']\n})\nexport class CourseCompletionComponent implements OnDestroy {\n\n  @ViewChild('modal') modal;\n  @Input() certificateDescription;\n  @Output() close = new EventEmitter<void>();\n  constructor(\n    public resourceService: ResourceService,\n    private telemetryService: TelemetryService,\n    private activatedRoute: ActivatedRoute,\n    public generaliseLabelService: GeneraliseLabelService\n    ) { }\n\n  closeModal() {\n    /* istanbul ignore else */\n    if (_.get(this.modal, 'deny')) {\n      this.modal.deny();\n      this.logInteractTelemetry();\n      this.close.emit();\n    }\n  }\n\n  logInteractTelemetry() {\n    const interactData: IInteractEventInput = {\n      context: {\n        cdata: [{ id: 'course-completion', type: 'Feature' }],\n        env: this.activatedRoute.snapshot.data.telemetry.env,\n      },\n      edata: {\n        id: 'close-course-completion-modal',\n        type: 'click',\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n      }\n    };\n    this.telemetryService.interact(interactData);\n  }\n\n  ngOnDestroy() {\n    this.closeModal();\n  }\n}\n","<app-modal-wrapper [config]=\"{disableClose: true, size: 'normal', panelClass: 'material-modal'}\" (dismiss)=\"closeModal()\" #confirmationModal>\n  <ng-template sbModalContent>\n    <div class=\"sb-mat__modal sb-batch-update-modal\">\n\n      <!-- Header-->\n      <div mat-dialog-title class=\"mb-0\">\n        <div class=\"title\"></div>\n        <button aria-label=\"close dialog\" mat-dialog-close class=\"close-btn\"></button>\n      </div>\n\n      <!-- Content-->\n      <div class=\"sb-mat__modal__content\">\n        <div class=\"ui stackable grid my-8\">\n          <div class=\"one wide column\">\n            <div class=\"checkbox-img\"></div>\n          </div>\n          <div class=\"eleven wide column\">\n            <div *ngIf=\"popupMode === 'create'\" class=\"pb-16 font-weight-bold\">\n              {{resourceService?.frmelmnts?.cert?.lbl?.batchCreateSuccess}}</div>\n            <div *ngIf=\"popupMode === 'edit'\" class=\"pb-16 font-weight-bold\">\n              {{resourceService?.frmelmnts?.cert?.lbl?.batchUpdateSuccess}}</div>\n            <div class=\"\">{{resourceService?.frmelmnts?.cert?.lbl?.addCertToBatch}}</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Action-->\n      <div class=\"sb-mat__modal__actions\">\n        <button id=\"close-modal-btn\" class=\"sb-btn sb-btn-normal sb-btn-primary\" tabindex=\"0\"\n          (click)=\"closeModal()\">\n          {{resourceService?.frmelmnts.btn.close}}\n        </button>\n        <button id=\"add-certificate\" class=\"sb-btn sb-btn-normal sb-btn-outline-primary ml-8\" tabindex=\"0\"\n          (click)=\"navigateToAddCertificate()\">\n          {{resourceService?.frmelmnts.cert.lbl.addCert}}\n        </button>\n      </div>\n\n\n    </div>\n  </ng-template>\n</app-modal-wrapper>","<mat-accordion class=\"sb-mat-accordion mb-16\" *ngIf=\"showSettingsPage\">\n  <mat-expansion-panel>\n    <mat-expansion-panel-header>\n      <mat-panel-title class=\"sb-mat-accordion__title\">\n        {{resourceService?.frmelmnts?.lbl?.dataSetting}}\n      </mat-panel-title>\n    </mat-expansion-panel-header>\n    <div class=\"sb-mat-accordion__content\" role=\"region\" id=\"dataSetting\"\n      aria-labelledby=\"dataSetting\">\n      <label class=\"fnormal font-weight-normal text-uppercase\">{{resourceService?.frmelmnts?.lbl?.dataSharingIs}}\n        <span>{{ isDataShareOn ? resourceService?.frmelmnts?.lbl?.on : resourceService?.frmelmnts?.lbl?.off }}</span>\n      </label>\n\n      <p class=\"fsmall mb-0\" *ngIf=\"isDataShareOn\">{{resourceService?.frmelmnts?.lbl?.dataShareOnNote}}</p>\n      <p class=\"fsmall mb-0\" *ngIf=\"!isDataShareOn\">{{resourceService?.frmelmnts?.lbl?.dataShareOffNote}}</p>\n      <label class=\"fsmall font-weight-normal data-labels\"\n        *ngIf=\"lastUpdatedOn\">{{resourceService?.frmelmnts?.lbl?.lastUpdatedOn}} {{lastUpdatedOn | date\n        :'dd/MM/yyyy'}}</label>\n\n      <div class=\"d-flex flex-ai-end flex-jc-flex-end\">\n        <button class=\"sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary font-weight-bold\"\n          (click)=\"toggleEditSetting()\" tabindex=\"0\">\n          {{ editSetting ? resourceService?.frmelmnts?.btn?.close : resourceService?.frmelmnts?.lbl?.editSetting }}\n        </button>\n      </div>\n\n      <div *ngIf=\"editSetting\" class=\"sb-update-data-settings\">\n        <hr>\n        <label\n          class=\"fsmall mb-0 font-weight-bold data-labels\">{{resourceService?.frmelmnts?.lbl?.updateSetting}}</label>\n        <div class=\"d-flex py-8 flex-w-wrap\">\n          <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n            <input [value]=\"'Yes'\" id=\"shareConsent\" type=\"radio\" [(ngModel)]=\"consentPii\">\n            <label for=\"shareConsent\" class=\"fsmall\">{{resourceService?.frmelmnts?.lbl?.shareProfileDetails}}</label>\n          </div>\n          <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n            <input [value]=\"'No'\" id=\"noShareContent\" type=\"radio\" [(ngModel)]=\"consentPii\">\n            <label for=\"noShareContent\"\n              class=\"fsmall\">{{resourceService?.frmelmnts?.lbl?.notShareProfileDetails}}</label>\n          </div>\n        </div>\n        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary w-100 text-uppercase\" tabindex=\"0\"\n          (click)=\"saveConsent()\">{{resourceService?.frmelmnts?.btn?.save}}</button>\n      </div>\n    </div>\n  </mat-expansion-panel>\n</mat-accordion>\n\n<app-modal-wrapper *ngIf=\"showConsentPopup\" [config]=\"{disableClose: true, size: 'normal', panelClass: ['overflow-visible', 'material-modal']}\"\n  (dismiss)=\"showConsentPopup = false;\" #profileDetailsModal>\n  <ng-template sbModalContent>\n    <div class=\"sb-mat__modal\">\n\n          <!--Header-->\n          <div mat-dialog-title class=\"mb-0 px-16\">\n            <div class=\"title\">{{resourceService?.frmelmnts?.lbl?.consentsharedetail}}</div>\n          </div>\n          <!--/Header-->\n\n          <!--Content-->\n          <div class=\"sb-mat__modal__content d-flex flex-dc o-y-visible lineHeight-normal\">\n            <div class=\"profile-fields\">\n              <div class=\"d-flex mb-16 fnormal\">\n                <label\n                  class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.dashboardsortbyusername}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.name || '-'}}</div>\n              </div>\n              <div class=\"d-flex mb-16 fnormal\">\n                <label class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.state}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.state || '-'}}</div>\n              </div>\n              <div class=\"d-flex mb-16 fnormal\">\n                <label class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.userId}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.userid || '-'}}</div>\n              </div>\n              <div class=\"d-flex mb-16 fnormal\">\n                <label class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.externalId}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.externalId || '-'}}</div>\n              </div>\n\n              <div class=\"d-flex mb-16 fnormal\">\n                <label class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.district}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.district || '-'}}</div>\n              </div>\n\n              <div class=\"d-flex mb-16 fnormal\">\n                <label class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.block}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.block || '-'}}</div>\n              </div>\n\n              <div class=\"d-flex mb-16 fnormal\">\n                <label class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.schoolId}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.schoolId || '-'}}</div>\n              </div>\n\n              <div class=\"d-flex mb-16 fnormal\">\n                <label class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.schoolName}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.schoolName || '-'}}</div>\n              </div>\n\n              <div class=\"d-flex mb-16 fnormal\">\n                <label\n                  class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.mobileNumber}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.phone || '-'}}</div>\n              </div>\n\n              <div class=\"d-flex mb-16 fnormal\">\n                <label class=\"font-weight-bold profile-field-label\">{{resourceService?.frmelmnts?.lbl?.emailId}}<span\n                    class=\"mx-8\">:</span></label>\n                <div class=\"font-weight-normal\">{{userInformation.emailId || '-'}}</div>\n              </div>\n            </div>\n            <div class=\"mb-16 fnormal font-weight-normal\" *ngIf=\"type === 'course-consent'\">\n              <img src=\"../../../../../../assets/images/info-icon.svg\" width=\"14px\" height=\"14px\" class=\"mr-8\"\n                alt=\"info\">{{resourceService?.frmelmnts?.lbl?.canEditProfileDetails}}\n            </div>\n\n            <p class=\"mb-0fnormal font-weight-normal\">\n              <input type=\"checkbox\" [(ngModel)]=\"isTncAgreed\" class=\"mr-8\" aria-label=\"term and condition checkbox\">\n              {{consentConfig.tncText | interpolate:'{instance}': instance}}\n              <a class=\"sb-color-primary\" href=\"javascript:void(0)\" tabindex=\"0\"\n                (click)=\"showTncPopup=true\">{{consentConfig.tncLink | interpolate:'{instance}':\n                resourceService?.instance}}</a>\n            </p>\n          </div>\n          <!--/Content-->\n          <!--Actions-->\n          <div class=\"sb-mat__modal__actions\">\n            <button class=\"sb-btn  sb-btn-normal sb-btn-outline-primary text-uppercase\" tabindex=\"0\"\n              (click)=\"updateUserConsent(false)\"\n              *ngIf=\"type === 'course-consent'\">{{resourceService?.frmelmnts?.lbl?.dontShare}}</button>\n            <button type=\"button\" tabindex=\"0\" [ngClass]=\"{'sb-btn-disabled': !isTncAgreed}\" [disabled]=\"!isTncAgreed\"\n              class=\"sb-btn sb-btn-normal sb-btn-primary text-uppercase ml-8\" (click)=\"updateUserConsent(true)\"\n              *ngIf=\"type === 'global-consent'\">{{resourceService?.frmelmnts?.lbl?.continue}}</button>\n            <button type=\"button\" tabindex=\"0\" [ngClass]=\"{'sb-btn-disabled': !isTncAgreed}\" [disabled]=\"!isTncAgreed\"\n            class=\"sb-btn sb-btn-normal sb-btn-primary text-uppercase ml-8\" (click)=\"updateUserConsent(true)\"\n            *ngIf=\"type === 'course-consent'\">{{resourceService?.frmelmnts?.lbl?.share}}</button>\n          </div>\n          <!--/Actions-->\n\n\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n\n<app-tnc-popup (close)=\"showAndHidePopup(false)\" [tncUrl]=\"termsAndConditionLink\" *ngIf=\"showTncPopup\">\n</app-tnc-popup>","import { TelemetryModule } from '@sunbird/telemetry';\nimport { CourseConsumptionRoutingModule } from './course-consumption-routing.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@sunbird/shared';\nimport { SharedFeatureModule } from '@sunbird/shared-feature';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  CoursePlayerComponent, CourseConsumptionHeaderComponent, CourseConsumptionPageComponent,\n  CurriculumCardComponent  } from './components';\nimport { CoreModule } from '@sunbird/core';\nimport { PlayerHelperModule } from '@sunbird/player-helper';\nimport {\n  SuiSelectModule, SuiModalModule, SuiAccordionModule, SuiPopupModule, SuiDropdownModule,\n  SuiProgressModule, SuiRatingModule, SuiCollapseModule\n} from 'ng2-semantic-ui-v9';\nimport { BatchDetailsComponent,  } from './components/batch/batch-details/batch-details.component';\nimport { UnEnrollBatchComponent} from './components/batch/unenroll-batch/unenroll-batch.component';\nimport { CommonConsumptionModule } from '@project-sunbird/common-consumption-v9';\nimport { AssessmentPlayerComponent } from './components/course-consumption/assessment-player/assessment-player.component';\nimport { CourseCompletionComponent } from './components/course-consumption/course-completion/course-completion.component';\nimport { CertificateNameUpdatePopupComponent } from './components/course-consumption/certificate-name-update-popup/certificate-name-update-popup.component';\nimport { CourseDetailsComponent } from './components/course-consumption/course-details/course-details.component';\nimport { CsModule } from '@project-sunbird/client-services';\nimport { CsLibInitializerService } from '../../service/CsLibInitializer/cs-lib-initializer.service';\nimport { NotificationModule } from '../notification/notification.module';\nimport { DiscussionModule } from '../discussion/discussion.module';\nimport { PendingchangesGuard } from '@sunbird/public';\nimport { GroupsModule } from '../groups';\nimport { CourseProgressExhaustModule } from '../dashboard/course-progress-exhaust.module';\n\nexport const csUserServiceFactory = (csLibInitializerService: CsLibInitializerService) => {\n  if (!CsModule.instance.isInitialised) {\n    csLibInitializerService.initializeCs();\n  }\n  return CsModule.instance.userService;\n};\nexport const csCourseServiceFactory = (csLibInitializerService: CsLibInitializerService) => {\n  if (!CsModule.instance.isInitialised) {\n    csLibInitializerService.initializeCs();\n  }\n  return CsModule.instance.courseService;\n};\nexport const csNotificationServiceFactory = (csLibInitializerService: CsLibInitializerService) => {\n  if (!CsModule.instance.isInitialised) {\n    csLibInitializerService.initializeCs();\n  }\n  return CsModule.instance.notificationService;\n};\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    SharedFeatureModule,\n    SuiSelectModule, SuiModalModule, SuiAccordionModule, SuiPopupModule, SuiDropdownModule,\n    SuiProgressModule, SuiRatingModule, SuiCollapseModule,\n    FormsModule,\n    ReactiveFormsModule,\n    CourseConsumptionRoutingModule,\n    CoreModule,\n    TelemetryModule,\n    PlayerHelperModule,\n    CommonConsumptionModule,\n    NotificationModule,\n    DiscussionModule,\n    GroupsModule,\n    CourseProgressExhaustModule\n  ],\n  providers: [\n    { provide: 'CS_USER_SERVICE', useFactory: csUserServiceFactory, deps: [CsLibInitializerService] },\n    { provide: 'CS_COURSE_SERVICE', useFactory: csCourseServiceFactory, deps: [CsLibInitializerService] },\n    { provide: 'CS_NOTIFICATION_SERVICE', useFactory: csNotificationServiceFactory, deps: [CsLibInitializerService] },\n    PendingchangesGuard\n  ],\n  declarations: [CoursePlayerComponent, CourseConsumptionHeaderComponent, AssessmentPlayerComponent,\n    CourseConsumptionPageComponent, BatchDetailsComponent, CurriculumCardComponent, UnEnrollBatchComponent,\n    AssessmentPlayerComponent, CourseCompletionComponent, CourseDetailsComponent, CertificateNameUpdatePopupComponent,\n    ]\n})\nexport class CourseConsumptionModule { }\n","\nimport { takeUntil } from 'rxjs/operators';\nimport { combineLatest } from 'rxjs';\nimport { CourseBatchService, CourseProgressService, CourseConsumptionService } from './../../../services';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Component, OnInit, Input, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { ResourceService, ServerResponse, ToasterService, ConnectionService } from '@sunbird/shared';\nimport { PermissionService, UserService, GeneraliseLabelService } from '@sunbird/core';\nimport * as _ from 'lodash-es';\nimport { TelemetryService } from '@sunbird/telemetry';\nimport { Subject } from 'rxjs';\nimport dayjs from 'dayjs';\n\n@Component({\n  selector: 'app-batch-details',\n  templateUrl: './batch-details.component.html',\n  styleUrls: ['batch-details.component.scss']\n})\n\nexport class BatchDetailsComponent implements OnInit, OnDestroy {\n  public unsubscribe = new Subject<void>();\n  batchStatus: Number;\n  @Input() courseId: string;\n  @Input() enrolledCourse: boolean;\n  @Input() enrolledBatchInfo: any;\n  @Input() batchId: string;\n  @Input() courseHierarchy: any;\n  @Input() courseProgressData: any;\n  isOpen = true;\n  courseMentor = false;\n  batchList = [];\n  userList = [];\n  showError = false;\n  userNames = {};\n  showBatchList = false;\n  showBatchPopup = false;\n  statusOptions = [\n    { name: 'Ongoing', value: 1 },\n    { name: 'Upcoming', value: 0 },\n    { name: 'Expired', value: 2 }\n  ];\n  todayDate = dayjs(new Date()).format('YYYY-MM-DD');\n  progress = 0;\n  isUnenrollbtnDisabled = false;\n  allBatchList = [];\n  showAllBatchList = false;\n  showAllBatchError = false;\n  showJoinModal = false;\n  telemetryCdata: Array<{}> = [];\n  @Output() allBatchDetails = new EventEmitter();\n  allowBatchCreation: boolean;\n  isTrackable = false;\n  courseCreator = false;\n  viewBatch = false;\n  showCreateBatchBtn = false;\n  allowCertCreation = false;\n  ongoingAndUpcomingBatchList = [];\n  batchMessage = '';\n  showMessageModal = false;\n  tocId = '';\n  isConnected = false;\n  isDesktopApp = false;\n  isExpiredBatchEditable = true;\n  showBatchDetailsBeforeJoin = false;\n  batchDetails: {};\n  showCertificateDetails = false;\n  showCompletionCertificate = false;\n  showMeritCertificate = false;\n  meritCertPercent = 0;\n\n  constructor(public resourceService: ResourceService, public permissionService: PermissionService,\n    public userService: UserService, public courseBatchService: CourseBatchService, public toasterService: ToasterService,\n    public router: Router, public activatedRoute: ActivatedRoute, public courseProgressService: CourseProgressService,\n    public courseConsumptionService: CourseConsumptionService, public telemetryService: TelemetryService,\n    public generaliseLabelService: GeneraliseLabelService, private connectionService: ConnectionService) {\n    this.batchStatus = this.statusOptions[0].value;\n  }\n  isUnenrollDisabled() {\n    this.isUnenrollbtnDisabled = true;\n    let progressToDisplay = 0;\n    if (this.courseProgressData) {\n      this.progress = _.get(this.courseProgressData , 'progress') ? Math.round(this.courseProgressData.progress) : 0;\n      progressToDisplay = Math.floor((this.courseProgressData.completedCount / this.courseHierarchy.leafNodesCount) * 100);\n    } else {\n      return;\n    }\n    if ((!this.enrolledBatchInfo.endDate || (this.enrolledBatchInfo.endDate >= this.todayDate)) &&\n    this.enrolledBatchInfo.enrollmentType === 'open' && this.progress !== 100 && progressToDisplay !== 100) {\n      this.isUnenrollbtnDisabled = false;\n    }\n    if (!this.isConnected) {\n      this.isUnenrollbtnDisabled = true;\n    }\n  }\n\n  isValidEnrollmentEndDate(enrollmentEndDate) {\n    return !!enrollmentEndDate;\n  }\n\n  isEnrollmentAllowed(enrollmentEndDate) {\n    return dayjs(enrollmentEndDate).isBefore(this.todayDate);\n  }\n\n  ngOnInit() {\n    this.isDesktopApp = this.userService.isDesktopApp;\n    this.connectionService.monitor()\n    .pipe(takeUntil(this.unsubscribe)).subscribe(isConnected => {\n      this.isConnected = isConnected;\n    });\n    this.tocId = _.get(this.activatedRoute, 'snapshot.queryParams.textbook');\n    this.showCreateBatch();\n      this.courseConsumptionService.showJoinCourseModal\n      .pipe(takeUntil(this.unsubscribe))\n      .subscribe((data) => {\n        this.getJoinCourseBatchDetails();\n      });\n    if (this.enrolledCourse === true) {\n      this.getEnrolledCourseBatchDetails();\n    } else {\n      this.getAllBatchDetails();\n    }\n    this.courseBatchService.updateEvent.pipe(\n      takeUntil(this.unsubscribe))\n      .subscribe((data) => {\n        this.getAllBatchDetails();\n      });\n  }\n  getAllBatchDetails() {\n    this.showCreateBatchBtn = false;\n    this.showBatchList = false;\n    this.showError = false;\n    this.batchList = [];\n    const searchParams: any = {\n      filters: {\n        courseId: this.courseId,\n        status: ['1']\n      },\n      offset: 0,\n      sort_by: { createdDate: 'desc' }\n    };\n    const searchParamsCreator =  _.cloneDeep(searchParams);\n    const searchParamsMentor =  _.cloneDeep(searchParams);\n\n    if (this.courseConsumptionService.canViewDashboard(this.courseHierarchy)) {\n      searchParamsCreator.filters.status = ['0', '1', '2'];\n      searchParamsMentor.filters.status = ['0', '1', '2'];\n      searchParamsCreator.filters.createdBy = this.userService.userid;\n      searchParamsMentor.filters.mentors = [this.userService.userid];\n      combineLatest(\n        this.courseBatchService.getAllBatchDetails(searchParamsCreator),\n        this.courseBatchService.getAllBatchDetails(searchParamsMentor),\n      ).pipe(takeUntil(this.unsubscribe))\n       .subscribe((data) => {\n          const batchList = _.union(data[0].result.response.content, data[1].result.response.content);\n          this.courseConsumptionService.emitBatchList(batchList);\n          this.ongoingAndUpcomingBatchList = _.compact(batchList);\n          this.getSelectedBatches();\n           if (this.batchList.length > 0) {\n             this.fetchUserDetails();\n           } else {\n             this.showBatchList = true;\n           }\n        }, (err) => {\n          this.showError = true;\n          if (!this.isDesktopApp || (this.isDesktopApp && this.isConnected)) {\n            this.toasterService.error(this.resourceService.messages?.fmsg?.m0004);\n          }\n        });\n     } else {\n       searchParams.filters.enrollmentType = 'open';\n       this.courseBatchService.getAllBatchDetails(searchParams).pipe(\n        takeUntil(this.unsubscribe))\n        .subscribe((data: ServerResponse) => {\n          this.allBatchDetails.emit(_.get(data, 'result.response'));\n          if (data.result.response.content && data.result.response.content.length > 0) {\n            this.batchList = data.result.response.content;\n            this.fetchUserDetails();\n            this.showBatchDetails();\n            this.ShowCertDetails();\n          } else {\n            this.showBatchList = true;\n          }\n        },\n        (err: ServerResponse) => {\n          this.showError = true;\n          if (!this.isDesktopApp || (this.isDesktopApp && this.isConnected)) {\n            this.toasterService.error(this.resourceService.messages.fmsg.m0004);\n          }\n        });\n     }\n  }\n\n  getSelectedBatches () {\n    this.batchList = _.filter(this.ongoingAndUpcomingBatchList, batch => {\n      return (_.isEqual(batch.status, this.batchStatus));\n    });\n    let showCreateBtn = true;\n    _.filter(this.ongoingAndUpcomingBatchList, batch => {\n      if (batch.status === 1 || batch.status === 0) {\n        showCreateBtn = false;\n        this.isExpiredBatchEditable = false;\n        return ;\n      }\n  });\n    this.showCreateBatchBtn = showCreateBtn; // this.ongoingAndUpcomingBatchList.length <= 0;\n  }\n  getJoinCourseBatchDetails() {\n    this.showAllBatchList = false;\n    this.showAllBatchError = false;\n    this.allBatchList = [];\n    const searchParams: any = {\n      filters: {\n        courseId: this.courseId,\n        enrollmentType: 'open',\n        status: ['1']\n      },\n      offset: 0,\n      sort_by: { createdDate: 'desc' }\n    };\n      this.courseBatchService.getAllBatchDetails(searchParams)\n      .pipe(takeUntil(this.unsubscribe))\n        .subscribe((data) => {\n          this.allBatchList = _.filter(_.get(data, 'result.response.content'), (batch) => {\n            return !this.isEnrollmentAllowed(_.get(batch, 'enrollmentEndDate'));\n          });\n          // If batch length is 1, then directly join the batch\n          if (this.allBatchList && this.allBatchList.length === 1) {\n            this.enrollBatch(this.allBatchList[0]);\n          } else if (_.isEmpty(this.allBatchList)) {\n            this.showAllBatchError = true;\n          } else {\n            this.showAllBatchList = true;\n            this.showJoinModal = !(this.allowBatchCreation || this.permissionService.checkRolesPermissions(['COURSE_MENTOR']));\n          }\n        }, (err) => {\n          this.showAllBatchError = true;\n          if (!this.isDesktopApp || (this.isDesktopApp && this.isConnected)) {\n            this.toasterService.error(this.resourceService.messages.fmsg.m0004);\n          }\n        });\n  }\n\n  showBatchDetails() {\n    this.showBatchDetailsBeforeJoin = !this.enrolledBatchInfo;\n    this.batchDetails = this.batchList[0];\n  }\n\n  ShowCertDetails(isEnrolledBatch?: boolean) {\n    let batchDetails: any;\n    if (isEnrolledBatch) {\n      batchDetails = this.enrolledBatchInfo;\n    } else {\n      if (this.batchList && this.batchList[0]) {\n        batchDetails = this.batchList[0];\n      }\n    }\n    this.showCertificateDetails = !(_.isEmpty(_.get(batchDetails, 'certTemplates'))) ? true : false;\n    const certDetails = _.get(batchDetails, 'certTemplates');\n    for (const key in certDetails) {\n      const certCriteria = certDetails[key]['criteria'];\n      this.showCompletionCertificate = _.get(certCriteria, 'enrollment.status') === 2 ? true : false;\n      this.showMeritCertificate = _.get(certCriteria, 'assessment.score') ? true : false;\n      this.meritCertPercent = _.get(certCriteria, 'assessment.score.>=');\n    }\n  }\n  getEnrolledCourseBatchDetails() {\n    this.ShowCertDetails(true);\n    if (_.get(this.enrolledBatchInfo, 'participant')) {\n      const participant = [];\n      _.forIn(this.enrolledBatchInfo.participant, (value, key) => {\n        participant.push(key);\n      });\n      this.enrolledBatchInfo.participant = participant;\n    } else {\n      this.enrolledBatchInfo.participant = [];\n    }\n    this.courseProgressService.courseProgressData.pipe(\n      takeUntil(this.unsubscribe))\n      .subscribe(courseProgressData => {\n        this.courseProgressData = courseProgressData;\n        this.isUnenrollDisabled();\n      });\n  }\n  fetchUserDetails() {\n    _.forEach(this.batchList, (val) => {\n      this.userList.push(val.createdBy);\n    });\n    this.userList = _.compact(_.uniq(this.userList));\n    const request = {\n      filters: {\n        identifier: this.userList\n      }\n    };\n    this.courseBatchService.getUserList(request).pipe(\n      takeUntil(this.unsubscribe))\n      .subscribe((res) => {\n        _.forEach(res.result.response.content, (user) => {\n          this.userNames[user.identifier] = user;\n        });\n        this.showBatchList = true;\n      }, (err) => {\n        this.showError = true;\n      });\n  }\n  batchUpdate(batch) {\n    if (batch.enrollmentType === 'open') {\n      this.courseBatchService.setUpdateBatchDetails(batch);\n    }\n    this.router.navigate(['update/batch', batch.identifier],\n      {\n        queryParams: { enrollmentType: batch.enrollmentType },\n        relativeTo: this.activatedRoute\n      });\n  }\n  createBatch() {\n    this.router.navigate(['create/batch'], { relativeTo: this.activatedRoute });\n  }\n  enrollBatch(batch) {\n    this.showJoinModal = false;\n    if (batch.status === 0) {\n      this.showMessageModal = true;\n      this.batchMessage = (this.resourceService.messages.emsg.m009).replace('{startDate}', batch.startDate);\n    } else {\n      this.courseBatchService.setEnrollToBatchDetails(batch);\n      this.router.navigate(['enroll/batch', batch.identifier], {\n        relativeTo: this.activatedRoute, queryParams: {\n          autoEnroll: true,\n          textbook: this.tocId || undefined\n        }\n      });\n    }\n  }\n\n  unenrollBatch(batch) {\n    // this.courseBatchService.setEnrollToBatchDetails(batch);\n    const queryParams = this.tocId ? { textbook: this.tocId } : {};\n    this.router.navigate(['unenroll/batch', batch.identifier], { relativeTo: this.activatedRoute,\n      queryParams: {...queryParams, primaryCategory: _.get(this.courseHierarchy, 'primaryCategory')}});\n  }\n\n  navigateToConfigureCertificate(mode: string, batchId) {\n    this.router.navigate([`/certs/configure/certificate`], {\n      queryParams: {\n        type: mode,\n        courseId: this.courseId,\n        batchId: batchId\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  /**\n   * @since - #SH-58\n   * @description - This method will decide wheather to show the \"Create Batch\" butto or not\n   * @returns - boolean\n   */\n  showCreateBatch() {\n    this.isTrackable = this.courseConsumptionService.isTrackableCollection(this.courseHierarchy);\n    this.allowBatchCreation = this.courseConsumptionService.canCreateBatch(this.courseHierarchy);\n    this.viewBatch = this.courseConsumptionService.canViewDashboard(this.courseHierarchy);\n    this.allowCertCreation = this.courseConsumptionService.canAddCertificates(this.courseHierarchy);\n  }\n\n  isCertAdded(batch) {\n   return _.isEmpty(_.get(batch, 'cert_templates')) ? false : true;\n  }\n  logTelemetry(id, content?: {}, batchId?) {\n    if (batchId || this.batchId) {\n      this.telemetryCdata = [{ id: batchId || this.batchId, type: 'courseBatch' }];\n    }\n    let objectRollUp;\n    if (content) {\n      objectRollUp = this.courseConsumptionService.getContentRollUp(this.courseHierarchy, _.get(content, 'identifier'));\n    }\n    const interactData = {\n      context: {\n        env: _.get(this.activatedRoute.snapshot.data.telemetry, 'env') || 'Course',\n        cdata: this.telemetryCdata || []\n      },\n      edata: {\n        id: id,\n        type: 'click',\n        pageid: _.get(this.activatedRoute.snapshot.data.telemetry, 'pageid') || 'course-consumption',\n      },\n      object: {\n        id: content ? _.get(content, 'identifier') : this.courseId,\n        type: content ? _.get(content, 'primaryCategory') : 'Course',\n        ver: content ? `${_.get(content, 'pkgVersion')}` : `1.0`,\n        rollup: objectRollUp ? this.courseConsumptionService.getRollUp(objectRollUp) : {}\n      }\n    };\n    this.telemetryService.interact(interactData);\n  }\n}\n","export * from './components';\nexport * from './services';\nexport * from './interfaces';\nexport * from './dashboard.module';\n"],"sourceRoot":"webpack:///"}