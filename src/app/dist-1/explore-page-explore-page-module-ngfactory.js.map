{"version":3,"sources":["./src/app/modules/explore-page/components/index.ts","./src/app/modules/explore-page/explore-page.module.ts","./src/app/modules/shared/components/select-option-group/select-option-group.component.html","./src/app/modules/explore-page/components/explore-page/explore-page.component.html","./src/app/modules/content-search/components/search-filter/search-filter.component.html","./node_modules/content-section/content-section.d.ts.ContentSectionComponent.html","./src/app/modules/explore-page/components/explore-page/explore-page.component.ts","./src/app/modules/shared/components/offline-banner/offline-banner.component.html","ng://content-section/lib/services/content-section.service.ts","ng://content-section/lib/components/utility.ts","ng://content-section/lib/components/content-section/content-section.component.ts","ng://content-section/lib/content-section.module.ts","ng://content-section/public-api.ts","./src/app/modules/explore-page/explore-page-routing.module.ts"],"names":[],"mappings":"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","file":"explore-page-explore-page-module-ngfactory.js","sourcesContent":["export * from './explore-page/explore-page.component';\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TelemetryModule } from '@sunbird/telemetry';\nimport { CoreModule } from '@sunbird/core';\nimport { SharedModule } from '@sunbird/shared';\nimport { NgInviewModule } from 'angular-inport';\nimport { ExplorePageRoutingModule } from './explore-page-routing.module';\nimport { SharedFeatureModule } from '@sunbird/shared-feature';\nimport {\n  SuiSelectModule, SuiModalModule, SuiAccordionModule, SuiPopupModule, SuiDropdownModule, SuiProgressModule,\n  SuiRatingModule, SuiCollapseModule, SuiDimmerModule\n} from 'ng2-semantic-ui-v9';\nimport { WebExtensionModule } from '@project-sunbird/web-extensions';\nimport { CommonConsumptionModule } from '@project-sunbird/common-consumption-v9';\nimport { ContentSearchModule } from '@sunbird/content-search';\nimport { SlickModule } from 'ngx-slick';\nimport { ExplorePageComponent } from './components';\nimport { ContentSectionModule } from 'content-section';\nimport {ObservationModule} from '../observation/observation.module';\n\n@NgModule({\n  declarations: [ExplorePageComponent],\n  imports: [\n    ExplorePageRoutingModule,\n    CommonModule,\n    TelemetryModule,\n    CoreModule,\n    SharedModule,\n    NgInviewModule,\n    SharedFeatureModule,\n    SuiSelectModule, SuiModalModule, SuiAccordionModule, SuiPopupModule, SuiDropdownModule, SuiProgressModule,\n    SuiRatingModule, SuiCollapseModule, SuiDimmerModule, WebExtensionModule,\n    CommonConsumptionModule, ContentSearchModule, SlickModule, ContentSectionModule, ObservationModule\n  ]\n})\nexport class ExplorePageModule { }\n","<ng-container *ngIf=\"!layoutConfiguration\">\n  <!-- DUE TO OLD THEME; WE ARE NOT MIGRATING SUI-SELECT -->\n  <sui-select class=\"selection state-selection sbt-dropdown-tick\" [(ngModel)]=\"preSelectedValue\">\n    <div class=\"state-selection__section\" *ngFor=\"let group of optionData\">\n      <div class=\"header\">{{group.label | translate}}</div>\n      <sui-select-option class=\"active\" *ngFor=\"let option of group.option\"\n                         [value]=\"option.name | interpolate: 'CBSE': 'CBSE/NCERT'\"\n        tabindex=\"0\" (click)=\"onChange({label: group.label, value: group.value, selectedOption: option.value })\"></sui-select-option>\n    </div>\n  </sui-select>\n</ng-container>\n\n<ng-container *ngIf=\"layoutConfiguration\">\n  <div class=\"sb-field mb-8 w-100\">\n    <label class=\"fnormal font-weight-bold d-flex\">{{title}}</label>\n  <label class=\"w-100\">\n    <!-- DUE TO OLD THEME; WE ARE NOT MIGRATING SUI-SELECT -->\n    <sui-select class=\"selection sbt-dropdown sbt-dropdown-bold sbt-dropdown--sm sbt-purple--lbg \" [(ngModel)]=\"preSelectedValue\">\n      <div class=\"sbt-dropdown-section\" *ngIf=\"showHeader\">\n        <div *ngFor=\"let group of optionData\">\n          <!-- <div class=\"header\">{{group.label}}</div> -->\n          <sui-select-option class=\"active\" *ngFor=\"let option of group.option\"\n                             [value]=\"option.name | interpolate: 'CBSE': 'CBSE/NCERT'\"\n            tabindex=\"0\" (click)=\"onChange({label: group.label, value: group.value, selectedOption: option.value })\"></sui-select-option>\n        </div>\n      </div>\n      <div class=\"sbt-dropdown-section\"  *ngIf=\"!showHeader\">\n        <div *ngFor=\"let option of optionData; let i=index\">\n          <sui-select-option class=\"active\" [value]=\"option\"\n            tabindex=\"0\" (click)=\"onChange({label: i, value: option , selectedOption: option })\"></sui-select-option>\n        </div>\n      </div>\n    </sui-select>\n  </label>\n  </div>\n</ng-container>\n","<div\n  [ngClass]=\"[layoutConfiguration ? 'sbt-fluid-content-bg':'', (getSelectedTab() === 'home' || getSelectedTab() === 'explore') ? '': '']\">\n  <div class=\"sb-g\" [ngClass]=\"layoutConfiguration ? 'sb-g sbt-container sbt-page-content' : 'sb-g'\"\n    [appTelemetryImpression]=\"telemetryImpression\">\n    <!-- Filter for web version -->\n    <!-- `isFilterEnabled` reference from current page data -->\n    <div *ngIf=\"!isDesktopApp && isFilterEnabled\" [ngClass]=\"FIRST_PANEL_LAYOUT\">\n      <app-search-filter [facets$]=\"facets$\" [layoutConfiguration]=\"layoutConfiguration\" [isOpen]='true'\n        *ngIf=\"initFilter\" (filterChange)=\"getFilters($event)\" [defaultTab]=\"defaultTab\"\n        [pageData]=\"getCurrentPageData()\" [pageId]=\"isUserLoggedIn() ? 'resource-page' : 'explore-page'\"\n        [defaultFilters]=\"defaultFilters\">\n      </app-search-filter>\n    </div>\n    <!-- Filter for desktop version -->\n    <div *ngIf=\"isDesktopApp\" [ngClass]=\"FIRST_PANEL_LAYOUT\">\n      <div *ngIf=\"layoutConfiguration\">\n        <div>\n          <app-network-status></app-network-status>\n          <app-load-offline-content></app-load-offline-content>\n          <app-system-warning></app-system-warning>\n        </div>\n      </div>\n      <div class=\"sb-desktop-filter-section\" *ngIf=\"isFilterEnabled\">\n        <app-search-filter [facets$]=\"facets$\" [layoutConfiguration]=\"layoutConfiguration\" [isOpen]='true'\n          *ngIf=\"initFilter\" (filterChange)=\"getFilters($event)\" [pageData]=\"getCurrentPageData()\"\n          [pageId]=\"isUserLoggedIn() ? 'resource-page' : 'explore-page'\" [defaultFilters]=\"defaultFilters\">\n        </app-search-filter>\n      </div>\n    </div>\n    <div [ngClass]=\"SECOND_PANEL_LAYOUT\" *ngIf=\"subscription$ | async\">\n      <div [appTelemetryImpression]=\"telemetryImpression\"\n        [ngClass]=\"[layoutConfiguration ? 'sbt-page-content-area relative9' : 'ui container mt-24', (getSelectedTab() === 'home' || getSelectedTab() === 'explore') ? 'home-container': '']\">\n        <div *ngIf=\"false\" [ngClass]=\"{'relative9': isUserLoggedIn()}\">\n          <div class=\"sb-bg-color-white py-16 mb-24\">\n            <h4 class=\"sb-categories-title text-left\">{{resourceService?.frmelmnts?.lbl?.courses}}</h4>\n            <ngx-slick class=\"carousel\" #slickModal=\"slick-modal\" [config]=\"slideConfig\">\n              <div ngxSlickItem *ngFor=\"let content of cardData;let index=index\" class=\"mr-16 course-card-width\">\n                <sb-course-curiculum-card ngClass=\"{'sb--card--seperator': !isUserLoggedIn()}\" [index]=\"index\"\n                  [cardData]=\"content\" (cardClick)=\"navigateToCourses($event)\"></sb-course-curiculum-card>\n              </div>\n            </ngx-slick>\n          </div>\n        </div>\n        <div class=\"sb-library-cards relative9\">\n          <div *ngIf=\"!layoutConfiguration && (getSelectedTab() !== 'home' && getSelectedTab() !== 'explore')\">\n            <h4 class=\"sb-categories-title text-left mt-16\" *ngIf=\"apiContentList.length\">\n              {{resourceService?.frmelmnts?.lbl?.textbooks}}</h4>\n          </div>\n          <div class=\"twelve wide column relative9\"\n            *ngIf=\"enrolledSection?.contents?.length && isUserLoggedIn() && !_currentPageData?.sections\">\n            <app-page-section [hideProgress]=\"true\" (visits)=\"prepareVisits($event)\" [section]=\"enrolledSection\"\n              (playEvent)=\"playEnrolledContent($event, 'My courses')\" (viewAll)=\"viewAll($event)\"\n              [layoutConfiguration]=\"layoutConfiguration\"></app-page-section>\n          </div>\n\n          <!-- Template for displaying sections based on form configuration -->\n          <div *ngIf=\"_currentPageData?.sections && _currentPageData?.isEnabled\" aria-label=\"User Preferences\">\n            <div *ngIf=\"getSelectedTab() === 'home'\" (click)=\"showEdit = !showEdit\" class=\"sb-section-preference\"\n              tabindex=\"0\">\n              <div class=\"preference\">\n                <p class=\"header font-weight-bold mb-8\">{{resourceService?.frmelmnts?.lbl?.hi}} {{userProfile?.firstName\n                  | titlecase}} {{userProfile?.lastName |\n                  titlecase}}</p>\n                <p>{{resourceService?.frmelmnts?.lbl?.yourPreferences}}\n                  <span class=\"preference-icon ml-4\"><img src=\"assets/images/icon-info.svg\"></span>\n                </p>\n                <!-- <p>{{resourceService?.frmelmnts?.lbl?.preferencesheader | interpolate:'{instance}': instance}}</p> -->\n                <p>\n                  <span class=\"mr-24\">\n                    <span *ngIf=\"userPreference?.framework?.board?.length\">{{resourceService?.frmelmnts?.lbl?.boards}}:\n                    </span>\n                    <span *ngIf=\"userPreference?.framework?.board?.length\"\n                      class=\"font-weight-bold\">{{convertToString(userPreference?.framework?.board) | interpolate: 'CBSE': 'CBSE/NCERT'}}</span>\n                  </span>\n\n                  <span class=\"mr-24\">\n                    <span *ngIf=\"userPreference?.framework?.medium?.length\">{{resourceService?.frmelmnts?.lbl?.medium}}:\n                    </span>\n                    <span class=\"font-weight-bold\">{{userPreference?.framework?.medium[0]}}</span>\n                    <span class=\"font-weight-bold\" *ngIf=\"userPreference?.framework?.medium?.length > 1\">\n                      ... + {{userPreference?.framework?.medium?.length-1}}\n                    </span>\n                  </span>\n\n                  <span class=\"mr-24\">\n                    <span\n                      *ngIf=\"userPreference?.framework?.gradeLevel?.length\">{{resourceService?.frmelmnts?.lbl?.classes}}:\n                    </span>\n                    <span class=\"font-weight-bold\">{{userPreference?.framework?.gradeLevel[0]}}</span>\n                    <span class=\"font-weight-bold\" *ngIf=\"userPreference?.framework?.gradeLevel?.length > 1\">\n                      ... + {{userPreference?.framework?.gradeLevel?.length-1}}\n                    </span>\n                  </span>\n                </p>\n              </div>\n              <button\n                class=\"sb-btn sb-btn-primary sb-btn-normal sb-btn-border\">{{resourceService?.frmelmnts?.lbl?.changePreferences}}</button>\n            </div>\n          </div>\n          <div *ngFor=\"let section of facetSections\">\n            <div\n              *ngIf=\"getSelectedTab() === 'home' && section?.section?.facetKey === 'ContinueLearning' && enrolledSection?.contents?.length && isUserLoggedIn()\"\n              class=\"sb-library-cards relative9\">\n              <div class=\"twelve wide column relative9\">\n                <app-page-section [hideProgress]=\"true\" (visits)=\"prepareVisits($event)\" [section]=\"enrolledSection\"\n                  (playEvent)=\"playEnrolledContent($event, 'My courses')\" (viewAll)=\"viewAll($event)\"\n                  [layoutConfiguration]=\"layoutConfiguration\">\n                </app-page-section>\n              </div>\n              <hr class=\"section-hr my-32\" />\n            </div>\n\n            <div\n              *ngIf=\"section?.section?.isEnabled && section?.section?.facetKey === 'banner' && bannerList && bannerList.length > 0\">\n              <div class=\"mt-16 font-weight-bold flarge pl-16 text-left\">{{getBannerTitle(section?.section?.title)}}\n              </div>\n              <ngx-slick *ngIf=\"displayBanner \" class=\"carousel banner-carousel relative9 mt-24\"\n                #slickModal=\"slick-modal\" [config]=\"bannerSlideConfig\">\n                <div ngxSlickItem *ngFor=\"let banner of primaryBanner;\" class=\"mr-16\">\n                  <!-- <div class=\"sb--card sb--card--theme2 banner-image\" role=\"link\" tabindex=\"0\" [ngStyle]=\"{'background-image': 'url(' + banner?.ui?.background+ ')'}\" (click)=\"navigateToSpecificLocation(banner); handleBannerClick(banner)\">\n                                    <div class=\"banner-overlay\"></div>\n                                    <div *ngIf=\"banner?.ui?.text !== ''\" class=\"explore-text\">{{banner?.ui?.text}}</div>\n                                  </div> -->\n                  <img [src]=\"banner?.ui?.background\" class=\"w-100 banner-image\" alt=\"{{banner?.ui?.text}}\"\n                    title=\"{{banner?.ui?.text}}\" role=\"link\" tabindex=\"0\"\n                    (click)=\"navigateToSpecificLocation(banner); handleBannerClick(banner)\">\n\n                </div>\n              </ngx-slick>\n              <ngx-slick class=\"carousel banner-carousel relative9 mt-24\"\n                *ngIf=\"displayBanner && secondaryBanner.length>0\" #slickModal=\"slick-modal\"\n                [config]=\"secondaryBannerSlideConfig\">\n                <div ngxSlickItem *ngFor=\"let banner of secondaryBanner\" class=\"banner-image\">\n                  <sb-banner-card-hlist [bannerList]=\"banner\" [secondaryBanner]=\"true\" [platform]=\"'portal'\"\n                    (cardClick)=\"navigateToSpecificLocation(banner); handleBannerClick(banner)\"></sb-banner-card-hlist>\n                </div>\n              </ngx-slick>\n              <hr\n                *ngIf=\"section?.section?.isEnabled && section?.section?.facetKey === 'banner' && bannerList && bannerList.length > 0\"\n                class=\"section-hr my-32\" />\n              </div>\n              <sb-pills-grid *ngIf=\"section?.section?.isEnabled\" [title]=\"getSectionTitle(section?.section?.title)\"\n                [minDisplayCount]=\"section?.section?.theme?.limit || 4\"\n                [viewMoreText]=\"resourceService?.frmelmnts?.lbl?.viewmore\"\n                [viewLessText]=\"resourceService?.frmelmnts?.lbl?.viewless\" [pillSize]=\"'medium'\" [platform]=\"'portal'\"\n                [pillBorder]=\"'semi_round'\" [pillsMultiRow]=\"'auto_responsive'\" [pillTextElipsis]=\"'two_line'\"\n                (select)=\"handlePillSelect($event, section.name)\">\n                <sb-pill-item *ngFor=\"let pillData of section.data\" [name]=\"pillData?.name | titlecase\"\n                  [icon]=\"utilService.getSectionPillIcon(section?.section?.theme?.icons, pillData?.value)\"\n                  [value]=\"pillData\" [theme]=\"pillData?.theme\"></sb-pill-item>\n              </sb-pills-grid>\n              <hr *ngIf=\"section?.section?.isEnabled && section?.data?.length\" class=\"section-hr my-32\" />\n            \n          </div>\n          <div *ngIf=\"showTargetedCategory && targetedCategory.length\">\n            <sb-pills-grid [title]=\"getSectionCategoryTitle('frmelmnts.lbl.targetCategory')\" [minDisplayCount]=\"4\"\n              [pillSize]=\"'medium'\" [platform]=\"'portal'\" [pillBorder]=\"'semi_round'\"\n              [pillsMultiRow]=\"'auto_responsive'\" [pillTextElipsis]=\"'two_line'\"\n              (select)=\"handleTargetedpillSelected($event)\">\n              <sb-pill-item *ngFor=\"let pillData of targetedCategory\" [name]=\"(pillData?.icon?.web ? pillData?.name : '') | titlecase\"\n              [icon]=\"pillData?.icon?.web\" [value]=\"(pillData?.icon?.web ? pillData : '')\" [theme]=\"(pillData?.icon?.web ? targetedCategorytheme : Categorytheme)\"></sb-pill-item>\n            </sb-pills-grid>\n            <hr class=\"section-hr my-32\" />\n          </div>\n          <div *ngIf=\"getSelectedTab() === 'home'\">\n            <div *ngFor=\"let section of contentSections\" class=\"pl-16\">\n              <sb-content-section *ngIf=\"section?.isEnabled\" (cardClick)=\"playContent($event, section?.title)\"\n                [sortBy]=\"section?.apiConfig?.sortBy\" [searchRequest]=\"section?.searchRequest\" [title]=\"section?.title\"\n                [layoutConfig]=\"layoutConfiguration\" (viewMoreClick)=\"viewAll($event, section)\"\n                [viewMoreButtonText]=\"resourceService?.frmelmnts?.lnk?.viewall\">\n              </sb-content-section>\n            </div>\n          </div>\n          <div *ngIf=\"facetSections.length === 0 && !showLoader && getSelectedTab() === 'home'\">\n            <app-no-result-found (exploreMoreContent)=\"navigateToExploreContent()\" [filters]=\"selectedFilters\"\n              [title]=\"noResultMessage?.title\" [subTitle]=\"noResultMessage?.subTitle\"\n              [buttonText]=\"noResultMessage?.buttonText\"\n              [showExploreContentButton]=\"noResultMessage?.showExploreContentButton\"\n              [telemetryInteractEdataObject]=\"exploreMoreButtonEdata\"></app-no-result-found>\n          </div>\n\n        </div>\n        <!-- Template for displaying page sections -->\n\n        <div *ngIf=\"!_currentPageData?.sections\">\n          <div *ngFor=\"let section of pageSections; let last = last\" [ngClass]=\"{'last mb-0':last}\">\n            <sb-library-cards-grid *ngIf=\"!isDesktopApp\" [layoutConfig]=\"layoutConfiguration\"\n              [type]=\"'infinite_card_grid'\" [title]=\"section.name\"\n              [contentList]=\"section.contents | sortBy:'name':'asc'\" [maxCardCount]=\"3\"\n              (viewMoreClick)=\"viewAll(section)\" (cardClick)=\"playContent($event, section.name)\">\n            </sb-library-cards-grid>\n            <div class=\"sb-desktop-library-card relative9\">\n              <sb-library-cards-grid *ngIf=\"isDesktopApp\" [layoutConfig]=\"layoutConfiguration\"\n                [type]=\"'infinite_card_grid_with_hover'\" [title]=\"section?.name\"\n                [contentList]=\"section.contents | sortBy:'name':'asc'\" [maxCardCount]=\"3\"\n                (hoverActionClick)=\"hoverActionClicked($event)\" (viewMoreClick)=\"viewAll(section)\">\n              </sb-library-cards-grid>\n            </div>\n          </div>\n        </div>\n        <div *ngIf=\"showLoader && getSelectedTab() !== 'explore'\">\n          <sb-library-cards-grid [layoutConfig]=\"layoutConfiguration\" *ngFor=\"let i of numberOfSections\"\n            [type]=\"'infinite_card_grid'\" [isLoading]=\"true\" [maxCardCount]=\"!isUserLoggedIn() ? 4: 3\">\n          </sb-library-cards-grid>\n        </div>\n        <div\n          *ngIf=\"apiContentList.length === 0 && !showLoader && (getSelectedTab() !== 'home' && getSelectedTab() !== 'explore')\">\n          <app-no-result-found (exploreMoreContent)=\"navigateToExploreContent()\" [filters]=\"selectedFilters\"\n            [title]=\"noResultMessage?.title\" [subTitle]=\"noResultMessage?.subTitle\"\n            [buttonText]=\"noResultMessage?.buttonText\"\n            [showExploreContentButton]=\"noResultMessage?.showExploreContentButton\"\n            [telemetryInteractEdataObject]=\"exploreMoreButtonEdata\"></app-no-result-found>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<app-offline-banner *ngIf=\"!isUserLoggedIn()\" [slug]=\"userService.slug\"></app-offline-banner>\n<!-- Show Modal if content has any YouTube data-->\n<app-modal-wrapper *ngIf=\"showModal\" [config]=\"{disableClose: false}\" (dismiss)=\"showModal = !showModal\">\n  <ng-template sbModalContent let-data>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible normal\">\n          <button aria-label=\"close dialog\" mat-dialog-close class=\"mat-close-btn\">\n            <span>&times;</span>\n          </button>\n          <div class=\"sb-modal-header\">\n            {{resourceService.frmelmnts?.btn?.download}}\n          </div>\n          <div class=\"sb-modal-content\">\n            <p>{{resourceService?.messages?.stmsg?.m0137 }}</p>\n          </div>\n          <div class=\"sb-modal-actions\">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary\" tabindex=\"0\"\n              (click)=\"callDownload(); showModal = !showModal; logTelemetry(contentData, 'confirm-download-content');\">\n              {{resourceService.frmelmnts?.btn?.yes}}\n            </button>\n            <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" tabindex=\"0\"\n              (click)=\"showModal = !showModal; logTelemetry(contentData, 'cancel-download-content');\">\n              {{resourceService.frmelmnts?.btn?.cancel}}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n\n<app-batch-info *ngIf=\"showBatchInfo && isUserLoggedIn()\" [enrolledBatchInfo]=\"selectedCourseBatches\"\n  (modelClose)=\"showBatchInfo = false\">\n</app-batch-info>\n\n\n<app-modal-wrapper *ngIf=\"showEdit\" [config]=\"{disableClose: false, panelClass: ['overflow-visible', 'material-modal']}\">\n  <ng-template sbModalContent let-data>\n    <app-popup [dialogProps]=\"data\" [formInput]=\"userPreference?.framework\" [showCloseIcon]=\"true\"\n      [buttonLabel]=\"resourceService?.frmelmnts?.btn?.submit\" [isPreference]=\"true\" [isGuestUser]=\"isGuestUser\"\n      (submit)=\"updateProfile($event)\" (close)=\"showEdit = !showEdit\">\n    </app-popup>   \n  </ng-template>\n</app-modal-wrapper>","<ng-container *ngIf=\"!isLayoutAvailable()\" tabindex=\"-1\">\n    <div *ngIf=\"(boards.length || emptyBoard) && refresh\" class=\"sb-header-filter-bar zindex-2\">\n        <div class=\"d-flex state-medium-container sb-bg-color-white\">\n            <div class=\"ui container d-flex flex-ai-center\">\n                <div *ngIf=\"boards?.length\" class=\"state-medium-container__dropdown\">\n                    <div class=\"sb-field mb-0\"><label>\n                            <app-select-option-group *ngIf=\"optionData\" [optionData]=\"optionData\"\n                                [selectedOption]=\"selectedOption\" (selectedValue)=\"selectedGroupOption($event);\">\n                            </app-select-option-group>\n                        </label>\n                    </div>\n                </div>\n                <div *ngIf=\"boards?.length && allValues?.medium?.length\" class=\"state-medium-container__separator\">\n                </div>\n                <div class=\"state-medium-container__medium\" *ngIf=\"allValues?.medium?.length\">\n                    <sb-library-filters [list]=\"allValues['medium']\" [layout]=\"filterLayout.SQUARE\"\n                        [selectedItems]=\"selectedFilters['medium']\"\n                        (selectedFilter)=\"filterChangeEvent.next({ event: $event, type: 'medium'})\">\n                    </sb-library-filters>\n                </div>\n            </div>\n        </div>\n        <div class=\"sb-class-bar sb-bg-color-gray-0\" *ngIf=\"allValues?.gradeLevel?.length\">\n            <div class=\"ui container\">\n                <sb-library-filters [list]=\"allValues['gradeLevel']\" [layout]=\"filterLayout.ROUND\"\n                    [selectedItems]=\"selectedFilters['gradeLevel']\"\n                    (selectedFilter)=\"filterChangeEvent.next({ event: $event, type: 'gradeLevel'})\">\n                </sb-library-filters>\n            </div>\n        </div>\n​\n        <div class=\"sb-bg-color-white sb-global-filter-section\">\n            <div class=\"ui container\">\n                <div class=\"d-flex flex-ai-center flex-w-wrap\">\n                    <div *ngIf=\"allValues?.subject?.length\" class=\"state-medium-container__dropdown\">\n                        <div class=\"sb-field mb-0\"><label>\n                                <sui-multi-select [hasLabels]=\"false\" [(ngModel)]=\"selectedNgModels['subject']\"\n                                    (selectedOptionsChange)=\"filterChangeEvent.next({ event: $event, type: 'subject'})\"\n                                    defaultSelectionText={{resourceService?.frmelmnts?.lbl?.subject}}\n                                    zeroSelectionText={{resourceService.frmelmnts.lbl.Select}}\n                                    class=\"selection sbt-dropdown-tick text-cencapitalize\"\n                                    [ngClass]=\"!layoutConfiguration ? 'state-selection' : 'sbt-dropdown sbt-dropdown-bold sbt-dropdown--sm sbt-purple--lbg'\">\n                                    <div\n                                        [ngClass]=\"!layoutConfiguration ? 'state-selection__section' : 'sbt-dropdown-section'\">\n                                        <sui-select-option *ngFor=\"let dropdownValue of allValues['subject']\"\n                                            [value]=\"dropdownValue\">\n                                        </sui-select-option>\n                                    </div>\n                                </sui-multi-select>\n                            </label>\n                        </div>\n                    </div>\n​\n                    <div *ngIf=\"allValues?.publisher?.length\" class=\"state-medium-container__separator\"> </div>\n​\n                    <div *ngIf=\"allValues?.publisher?.length\" class=\"state-medium-container__dropdown\">\n                        <div class=\"sb-field mb-0\"><label>\n                                <sui-multi-select [hasLabels]=\"false\" [(ngModel)]=\"selectedNgModels['publisher']\"\n                                    (selectedOptionsChange)=\"filterChangeEvent.next({ event: $event, type: 'publisher'})\"\n                                    defaultSelectionText={{resourceService?.frmelmnts?.lbl?.publishedBy}}\n                                    zeroSelectionText={{resourceService?.frmelmnts?.lbl?.Select}}\n                                    class=\"selection sbt-dropdown-tick text-cencapitalize\"\n                                    [ngClass]=\"!layoutConfiguration ? 'state-selection' : 'sbt-dropdown sbt-dropdown-bold sbt-dropdown--sm sbt-purple--lbg'\">\n                                    <div\n                                        [ngClass]=\"!layoutConfiguration ? 'state-selection__section' : 'sbt-dropdown-section'\">\n                                        <sui-select-option *ngFor=\"let dropdownValue of allValues['publisher']\"\n                                            [value]=\"dropdownValue\">\n                                        </sui-select-option>\n                                    </div>\n                                </sui-multi-select>\n                            </label>\n                        </div>\n                    </div>\n​\n                    <div *ngIf=\"allValues?.audience?.length\" class=\"state-medium-container__separator\"> </div>\n​\n​\n                    <div *ngIf=\"allValues?.audience?.length\" class=\"state-medium-container__dropdown\">\n                        <div class=\"sb-field mb-0\"><label>\n                                <sui-multi-select [hasLabels]=\"false\" [(ngModel)]=\"selectedNgModels['audience']\"\n                                    (selectedOptionsChange)=\"filterChangeEvent.next({ event: $event, type: 'audience'})\"\n                                    defaultSelectionText={{resourceService?.frmelmnts?.lbl?.userType}}\n                                    zeroSelectionText={{resourceService.frmelmnts.lbl.Select}} tabindex=\"0\"\n                                    class=\"selection sbt-dropdown-tick text-cencapitalize\"\n                                    [ngClass]=\"!layoutConfiguration ? 'state-selection' : 'sbt-dropdown sbt-dropdown-bold sbt-dropdown--sm sbt-purple--lbg'\">\n                                    <div\n                                        [ngClass]=\"!layoutConfiguration ? 'state-selection__section' : 'sbt-dropdown-section'\">\n                                        <sui-select-option *ngFor=\"let dropdownValue of allValues['audience']\"\n                                            [value]=\"dropdownValue\">\n                                        </sui-select-option>\n                                    </div>\n                                </sui-multi-select>\n                            </label>\n                        </div>\n                    </div>\n                    <button (click)=\"resetFilters()\" appTelemetryInteract [telemetryInteractEdata]=\"getInteractEdata()\"\n                        tabindex=\"0\"\n                        class=\"sb-btn sb-btn-normal sb-btn-outline-primary ml-auto\">{{resourceService.frmelmnts?.btn?.reset\n                        | translate}}\n                    </button>\n                </div>\n​\n            </div>\n        </div>\n​\n    </div>\n</ng-container>\n<div *ngIf=\"isLayoutAvailable()\" class=\"sbt-filter\" tabindex=\"-1\">\n​<mat-accordion class=\"sb-mat-accordion sbt-filter-accordion\">\n        <mat-expansion-panel [expanded]=\"isOpen\">\n            <mat-expansion-panel-header>\n                <div class=\"sbt-filter-switcher-container cursor-pointer mobile only\" (click)=\"isOpen = !isOpen\" tabindex=\"0\">\n                    <div class=\"sbt-filter-switcher\"><i class=\"sliders horizontal icon\"></i></div>\n                    <div class=\"sbt-filter-text\">{{resourceService.frmelmnts?.lbl?.filters | translate}}</div>\n                </div>\n                <div class=\"sbt-filter-switcher-container cursor-pointer computer only\">\n                    <div class=\"sbt-filter-switcher\"><i class=\"sliders horizontal icon\"></i></div>\n                    <div class=\"sbt-filter-text\">{{resourceService.frmelmnts?.lbl?.filters | translate}}</div>\n                </div>\n            </mat-expansion-panel-header>\n            <ng-container>\n                <div [hidden]=\"!((boards.length || emptyBoard) && refresh)\" class=\"sbt-filter-bar mr-16 pl-24\">\n                    <div class=\"sbt-reset-bar d-flex flex-ai-center flex-ai-jc-center\" tabindex=\"0\">\n                        <button (click)=\"onSearchFrameworkFilterReset()\" tabindex=\"0\" appTelemetryInteract\n                            [telemetryInteractEdata]=\"getInteractEdata()\"\n                            class=\"sb-btn sb-btn-xs sb-btn-link-primary pull-right sbt-btn-reset cursor-pointer\">{{resourceService.frmelmnts?.btn?.reset\n                            | translate}}\n                            <i class=\"icon undo\"></i></button>\n                        <span class=\"sbt-filter-close\"><i class=\"icon-svg icon-svg--xxs icon-close cursor-pointer\"\n                                (click)=\"isOpen = !isOpen\" tabindex=\"0\"\n                                attr.aria-label=\"{{resourceService.frmelmnts?.btn?.close}}\">\n                                <svg class=\"icon icon-svg--red\">\n                                    <use xlink:href=\"./assets/images/sprite.svg#close\"></use>\n                                </svg>\n                            </i>\n                        </span>\n                    </div>\n                    <div class=\"fsmall my-8 text-left filter-pref-text\" tabindex=\"0\">\n                        {{resourceService.frmelmnts?.lbl?.basedOnPref | translate}}</div>\n                    <div class=\"sbt-filter-scrollable pr-24\">\n​\n                        <ng-container *ngIf=\"filterFormTemplateConfig && refreshSearchFilterComponent\">\n                            <sb-search-framework-filter [frameworkAssociations]=\"allValues\"\n                                [frameworkCategoryFilterFieldTemplateConfig]=\"filterFormTemplateConfig\"\n                                [baseSearchFilter]=\"defaultFilters\" #sbSearchFrameworkFilterComponent>\n                            </sb-search-framework-filter>\n                        </ng-container>\n​\n                    </div>\n                </div>\n            </ng-container>\n        </mat-expansion-panel>\n    </mat-accordion>\n</div>","<sb-library-cards-grid *ngIf=\"contentList?.length\" [layoutConfig]=\"layoutConfig\" [title]=\"title\"\n  [maxCardCount]=\"maxCardCount\" [contentList]=\"contentList\" (menuClick)=\"onCardMenuClick($event)\"\n  [viewMoreButtonText]='viewMoreButtonText' (viewMoreClick)=\"onViewMoreClick($event)\" (cardClick)=\"onCardClick($event)\">\n</sb-library-cards-grid>\n<hr *ngIf=\"contentList?.length\" class=\"section-hr my-32\" />","import { forkJoin, Subject, Observable, BehaviorSubject, merge, of, concat, combineLatest } from 'rxjs';\nimport { OrgDetailsService, UserService, SearchService, FormService, PlayerService, CoursesService, ObservationUtilService } from '@sunbird/core';\nimport { PublicPlayerService } from '@sunbird/public';\nimport { Component, OnInit, OnDestroy, HostListener, AfterViewInit } from '@angular/core';\nimport {\n    ResourceService, ToasterService, ConfigService, NavigationHelperService, LayoutService, COLUMN_TYPE, UtilService,\n    OfflineCardService, BrowserCacheTtlService, IUserData\n} from '@sunbird/shared';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { cloneDeep, get, find, map as _map, pick, omit, groupBy, sortBy, replace, uniqBy, forEach, has, uniq, flatten, each, isNumber, toString, partition, toLower, includes } from 'lodash-es';\nimport { IInteractEventEdata, IImpressionEventInput, TelemetryService } from '@sunbird/telemetry';\nimport { map, tap, switchMap, skipWhile, takeUntil, catchError, startWith } from 'rxjs/operators';\nimport { ContentSearchService } from '@sunbird/content-search';\nimport { ContentManagerService } from '../../../public/module/offline/services';\nimport * as _ from 'lodash-es';\nimport { CacheService } from 'ng2-cache-service';\nimport { ProfileService } from '@sunbird/profile';\nimport { SegmentationTagService } from '../../../core/services/segmentation-tag/segmentation-tag.service';\n\n@Component({\n    selector: 'app-explore-page-component',\n    templateUrl: './explore-page.component.html',\n    styleUrls: ['./explore-page.component.scss']\n})\nexport class ExplorePageComponent implements OnInit, OnDestroy, AfterViewInit {\n    public initFilter = false;\n    public inViewLogs = [];\n    public showLoader = true;\n    public noResultMessage;\n    public apiContentList: Array<any> = [];\n    private unsubscribe$ = new Subject<void>();\n    public telemetryImpression: IImpressionEventInput;\n    public pageSections: Array<any> = [];\n    public channelId: string;\n    public custodianOrg = true;\n    public defaultFilters;\n    public selectedFilters = {};\n    exploreMoreButtonEdata: IInteractEventEdata;\n    public numberOfSections;\n    public isLoading = true;\n    public cardData: Array<{}> = [];\n    bannerSegment: any;\n    displayBanner: boolean;\n    bannerList?: any[];\n    layoutConfiguration: any;\n    formData: any;\n    FIRST_PANEL_LAYOUT;\n    SECOND_PANEL_LAYOUT;\n    svgToDisplay;\n    pageTitleSrc;\n    private fetchContents$ = new BehaviorSubject(null);\n    public subscription$;\n    isDesktopApp = false;\n    contentName;\n    contentData;\n    showDownloadLoader = false;\n    showModal = false;\n    downloadIdentifier: string;\n    contentDownloadStatus = {};\n    isConnected = true;\n    isGuestUser: any;\n    private _facets$ = new Subject();\n    public showBatchInfo = false;\n    public enrolledCourses: Array<any>;\n    public enrolledSection: any;\n    public selectedCourseBatches: any;\n    private myCoursesSearchQuery = JSON.stringify({\n        'request': { 'filters': { 'contentType': ['Course'], 'objectType': ['Content'], 'status': ['Live'] }, 'sort_by': { 'lastPublishedOn': 'desc' }, 'limit': 10, 'organisationId': _.get(this.userService.userProfile, 'organisationIds') }\n    });\n    public facets$ = this._facets$.asObservable().pipe(startWith({}), catchError(err => of({})));\n    queryParams: { [x: string]: any; };\n    _currentPageData: any;\n    facetSections: any = [];\n    contentSections = [];\n    instance: string;\n    userPreference: any;\n    searchResponse: any = [];\n    selectedFacet: { facet: any; value: any; };\n    showEdit = false;\n    isFilterEnabled = true;\n    defaultTab = 'Textbook';\n    userProfile: any;\n    targetedCategory: any = [];\n    subscription: any;\n    userType: any;\n    targetedCategorytheme: any;\n    showTargetedCategory = false;\n    selectedTab: any;\n    primaryBanner = [];\n    secondaryBanner = [];\n    Categorytheme:any;\n    get slideConfig() {\n        return cloneDeep(this.configService.appConfig.LibraryCourses.slideConfig);\n    }\n\n    get bannerSlideConfig() {\n        return cloneDeep(this.configService.appConfig.Banner.slideConfig);\n    }\n\n    get secondaryBannerSlideConfig() {\n        return cloneDeep(this.configService.appConfig.AdditionalBanner.slideConfig);\n    }\n\n    @HostListener('window:scroll', []) onScroll(): void {\n        if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight * 2 / 3)\n            && this.pageSections.length < this.apiContentList.length) {\n            this.pageSections.push(this.apiContentList[this.pageSections.length]);\n            this.addHoverData();\n        }\n    }\n\n    constructor(private searchService: SearchService, private toasterService: ToasterService, public userService: UserService,\n        public resourceService: ResourceService, private configService: ConfigService, public activatedRoute: ActivatedRoute,\n        private router: Router, private orgDetailsService: OrgDetailsService, private publicPlayerService: PublicPlayerService,\n        private contentSearchService: ContentSearchService, private navigationhelperService: NavigationHelperService,\n        public telemetryService: TelemetryService, public layoutService: LayoutService,\n        private formService: FormService, private playerService: PlayerService, private coursesService: CoursesService,\n        private utilService: UtilService, private offlineCardService: OfflineCardService,\n        public contentManagerService: ContentManagerService, private cacheService: CacheService,\n        private browserCacheTtlService: BrowserCacheTtlService, private profileService: ProfileService,\n        private segmentationTagService: SegmentationTagService, private observationUtil: ObservationUtilService) {\n            this.instance = (<HTMLInputElement>document.getElementById('instance'))\n            ? (<HTMLInputElement>document.getElementById('instance')).value.toUpperCase() : 'SUNBIRD';\n        this.subscription = this.utilService.currentRole.subscribe(async (result) => {\n            if (result) {\n                this.userType = result;\n            }\n        });\n        }\n\n\n    private initConfiguration() {\n        this.defaultFilters = this.userService.defaultFrameworkFilters;\n        if (this.utilService.isDesktopApp) {\n            this.setDesktopFilters(true);\n        }\n        this.numberOfSections = [get(this.configService, 'appConfig.SEARCH.SECTION_LIMIT') || 3];\n        this.layoutConfiguration = this.layoutService.initlayoutConfig();\n        this.redoLayout();\n    }\n\n    public isUserLoggedIn(): boolean {\n        return this.userService && (this.userService.loggedIn || false);\n    }\n\n    private getFormConfig(input = { formType: 'contentcategory', formAction: 'menubar', contentType: 'global' }): Observable<object> {\n       return this.formService.getFormConfig(input);\n    }\n\n    private _addFiltersInTheQueryParams(updatedFilters = {}) {\n        this.getCurrentPageData();\n        const params = _.get(this.activatedRoute, 'snapshot.queryParams');\n        const queryParams = { ...this.defaultFilters, selectedTab: _.get(this.activatedRoute, 'snapshot.queryParams.selectedTab') || _.get(this.defaultTab, 'contentType') || 'textbook', ...updatedFilters, ...params };\n        this.router.navigate([], { queryParams, relativeTo: this.activatedRoute });\n    }\n\n    private fetchChannelData() {\n        return forkJoin(this.getChannelId(), this.getFormConfig())\n            .pipe(\n                switchMap(([channelData, formConfig]) => {\n                    const { channelId, custodianOrg } = channelData;\n                    this.channelId = channelId;\n                    this.custodianOrg = custodianOrg;\n                    this.formData = formConfig;\n                    if (this.isUserLoggedIn()) {\n                        this.defaultFilters = this.cacheService.exists('searchFilters') ? this.getPersistFilters(true) : this.userService.defaultFrameworkFilters;\n                        this.userProfile = this.userService.userProfile;\n                    } else {\n                        this.userService.getGuestUser().subscribe((response) => {\n                            const guestUserDetails: any = response;\n                            if (guestUserDetails && !this.cacheService.exists('searchFilters')) {\n                                this.userProfile = guestUserDetails;\n                                this.userProfile['firstName'] = guestUserDetails.formatedName;\n                                this.defaultFilters = guestUserDetails.framework ? guestUserDetails.framework : this.defaultFilters;\n                            } else {\n                                this.userProfile = guestUserDetails;\n                                this.userProfile['firstName'] = guestUserDetails.formatedName;\n                                this.defaultFilters = this.getPersistFilters(true);\n                            }\n                        });\n                    }\n                    this._addFiltersInTheQueryParams();\n                    return this.contentSearchService.initialize(this.channelId, this.custodianOrg, get(this.defaultFilters, 'board[0]'));\n                }),\n                tap(data => {\n                    this.initFilter = true;\n                }, err => {\n                    this.toasterService.error(get(this.resourceService, 'frmelmnts.lbl.fetchingContentFailed'));\n                    this.navigationhelperService.goBack();\n                })\n            );\n    }\n\n    private getQueryParams = () => {\n        const { queryParams, params } = this.activatedRoute;\n        return combineLatest(queryParams, params).pipe(\n            tap(([params = {}, queryParams = {}]) => {\n                if (this.isUserLoggedIn()) {\n                    this.prepareVisits([]);\n                }\n                if (_.get(params, 'board') && params.board[0] === 'CBSE') {\n                    params.board[0] = 'CBSE/NCERT';\n                }\n                this.queryParams = { ...params, ...queryParams };\n            }));\n    }\n\n    ngOnInit() {\n        this.isDesktopApp = this.utilService.isDesktopApp;\n        this.setUserPreferences();\n        this.subscription$ = this.activatedRoute.queryParams.subscribe(queryParams => {\n        this.selectedTab = queryParams.selectedTab;\n        this.showTargetedCategory = false;\n        this.getFormConfigs();\n        });\n        this.initConfiguration();\n\n        this.segmentationTagService.getSegmentCommand();\n        const enrolledSection$ = this.getQueryParams().pipe(\n                tap(() => {\n                    const currentPage = this._currentPageData = this.getCurrentPageData();\n                    this.pageTitleSrc = get(this.resourceService, 'RESOURCE_CONSUMPTION_ROOT') + get(currentPage, 'title');\n                    this.isFilterEnabled = true;\n                    if (_.get(currentPage, 'filter')) {\n                        this.isFilterEnabled = _.get(currentPage, 'filter.isEnabled');\n                    }\n                    if ((_.get(currentPage, 'filter') && !_.get(currentPage, 'filter.isEnabled'))) {\n                        this.fetchContents$.next(currentPage);\n                    }\n            }),\n            switchMap(this.fetchEnrolledCoursesSection.bind(this))\n        );\n\n        this.subscription$ = merge(concat(this.fetchChannelData(), enrolledSection$), this.initLayout(), this.fetchContents())\n            .pipe(\n                takeUntil(this.unsubscribe$),\n                catchError((err: any) => {\n                    console.error(err);\n                    return of({});\n                })\n            );\n        this.listenLanguageChange();\n        this.contentManagerService.contentDownloadStatus$.subscribe(contentDownloadStatus => {\n            this.contentDownloadStatus = contentDownloadStatus;\n            this.addHoverData();\n        });\n    }\n\n    public fetchEnrolledCoursesSection() {\n        return this.coursesService.enrolledCourseData$\n            .pipe(\n                tap(({ enrolledCourses, err }) => {\n                    this.enrolledCourses = this.enrolledSection = [];\n                    const sortingField = (get(this.getCurrentPageData(), 'sortingField'))?\n                    (get(this.getCurrentPageData(), 'sortingField')) : 'enrolledDate';\n                    const sortingOrder = (get(this.getCurrentPageData(), 'sortingOrder'))?\n                    (get(this.getCurrentPageData(), 'sortingOrder')) : 'desc';\n                    const enrolledSection = {\n                        name: this.getSectionName(get(this.activatedRoute, 'snapshot.queryParams.selectedTab')),\n                        length: 0,\n                        count: 0,\n                        contents: []\n                    };\n                    const { contentType: pageContentType = null, search: { filters: { primaryCategory: pagePrimaryCategories = [] } } } = this.getCurrentPageData();\n                    if (err) { return enrolledSection; }\n                    const enrolledContentPredicate = course => {\n                        const { primaryCategory = null, contentType = null } = _.get(course, 'content') || {};\n                        return pagePrimaryCategories.some(category =>\n                             (_.toLower(category) === _.toLower(primaryCategory)) || (_.toLower(category) === _.toLower(contentType))) ||\n                              (_.toLower(contentType) === _.toLower(pageContentType));\n                    };\n                    let filteredCourses = _.filter(enrolledCourses || [], enrolledContentPredicate);\n                    filteredCourses = _.orderBy(filteredCourses, [sortingField], [sortingOrder]);\n                    this.enrolledCourses = _.orderBy(filteredCourses, [sortingField], [sortingOrder]);\n                    const { constantData, metaData, dynamicFields } = _.get(this.configService, 'appConfig.CoursePageSection.enrolledCourses');\n                    enrolledSection.contents = _.map(filteredCourses, content => {\n                        const formatedContent = this.utilService.processContent(content, constantData, dynamicFields, metaData);\n                        formatedContent.metaData.mimeType = 'application/vnd.ekstep.content-collection';\n                        formatedContent.metaData.contentType = _.get(content, 'content.primaryCategory') || _.get(content, 'content.contentType');\n                        const trackableObj = _.get(content, 'content.trackable');\n                        if (trackableObj) {\n                            formatedContent.metaData.trackable = trackableObj;\n                        }\n                        return formatedContent;\n                    });\n                    enrolledSection.count = enrolledSection.contents.length;\n                    this.enrolledSection = enrolledSection;\n                }));\n    }\n\n    initLayout() {\n        return this.layoutService.switchableLayout()\n            .pipe(\n                tap((layoutConfig: { layout: object }) => {\n                    if (layoutConfig != null) {\n                        this.layoutConfiguration = layoutConfig.layout;\n                    }\n                    this.redoLayout();\n                })\n            );\n    }\n\n    redoLayout() {\n        const contentType = _.get(this.getCurrentPageData(), 'contentType');\n        if (this.isDesktopApp) {\n            this.FIRST_PANEL_LAYOUT = this.layoutService.redoLayoutCSS(0, this.layoutConfiguration, COLUMN_TYPE.threeToNine, true);\n            this.SECOND_PANEL_LAYOUT = this.layoutService.redoLayoutCSS(1, this.layoutConfiguration, COLUMN_TYPE.threeToNine, true);\n        } else {\n            if (this.layoutConfiguration != null && (contentType !== 'home' && contentType !== 'explore')) {\n                this.FIRST_PANEL_LAYOUT = this.layoutService.redoLayoutCSS(0, this.layoutConfiguration, COLUMN_TYPE.threeToNine, true);\n                this.SECOND_PANEL_LAYOUT = this.layoutService.redoLayoutCSS(1, this.layoutConfiguration, COLUMN_TYPE.threeToNine, true);\n            } else {\n                this.FIRST_PANEL_LAYOUT = this.layoutService.redoLayoutCSS(0, null, COLUMN_TYPE.fullLayout);\n                this.SECOND_PANEL_LAYOUT = this.layoutService.redoLayoutCSS(1, null, COLUMN_TYPE.fullLayout);\n            }\n        }\n    }\n\n    private getChannelId(): Observable<{ channelId: string, custodianOrg: boolean }> {\n        if (this.isUserLoggedIn()) {\n            return this.orgDetailsService.getCustodianOrgDetails()\n                .pipe(\n                    map(custodianOrg => {\n                        const result = { channelId: this.userService.hashTagId, custodianOrg: false };\n                        if (this.userService.hashTagId === get(custodianOrg, 'result.response.value')) {\n                            result.custodianOrg = true;\n                        }\n                        return result;\n                    }));\n        } else {\n            if (this.userService.slug) {\n                return this.orgDetailsService.getOrgDetails(this.userService.slug)\n                    .pipe(map(((orgDetails: any) => ({ channelId: orgDetails.hashTagId, custodianOrg: false }))));\n            } else {\n                return this.orgDetailsService.getCustodianOrgDetails()\n                    .pipe(map(((orgDetails: any) => ({ channelId: get(orgDetails, 'result.response.value'), custodianOrg: true }))));\n            }\n        }\n    }\n\n    public getPageData(input) {\n        const contentTypes = _.sortBy(this.formData, 'index');\n        this.defaultTab = _.find(contentTypes, ['default', true]);\n        return find(this.formData, data => data.contentType === input);\n    }\n\n    public getCurrentPageData() {\n        return this.getPageData(get(this.activatedRoute, 'snapshot.queryParams.selectedTab') || _.get(this.defaultTab, 'contentType') || 'textbook');\n    }\n\n    public getFilters({ filters, status }) {\n        if (!filters || status === 'FETCHING') { return; }\n        // If filter are available in cache; merge with incoming filters\n        /* istanbul ignore if */\n        if (this.cacheService.exists('searchFilters')) {\n            const _searchFilters = this.cacheService.get('searchFilters');\n            const _cacheFilters = {\n                gradeLevel: [..._.intersection(filters['gradeLevel'], _searchFilters['gradeLevel']), ..._.difference(filters['gradeLevel'], _searchFilters['gradeLevel'])],\n                subject: [..._.intersection(filters['subject'], _searchFilters['subject']),\n                    ..._.difference(filters['subject'], _searchFilters['subject'])],\n                medium: [..._.intersection(filters['medium'], _searchFilters['medium']), ..._.difference(filters['medium'], _searchFilters['medium'])],\n                publisher: [..._.intersection(filters['publisher'], _searchFilters['publisher']), ..._.difference(filters['publisher'], _searchFilters['publisher'])],\n                audience: [..._.intersection(filters['audience'], _searchFilters['audience']), ..._.difference(filters['audience'], _searchFilters['audience'])],\n                channel: [..._.intersection(filters['channel'], _searchFilters['channel']), ..._.difference(filters['channel'], _searchFilters['channel'])],\n                audienceSearchFilterValue: [..._.intersection(filters['audienceSearchFilterValue'], _searchFilters['audienceSearchFilterValue']),\n                    ..._.difference(filters['audienceSearchFilterValue'], _searchFilters['audienceSearchFilterValue'])],\n                board: filters['board'],\n                selectedTab: this.getSelectedTab()\n            };\n            filters = _cacheFilters;\n        }\n        const currentPageData = this.getCurrentPageData();\n        const _cacheTimeout = _.get(currentPageData, 'metaData.cacheTimeout') || 86400000;\n        this.cacheService.set('searchFilters', filters, { expires: Date.now() + _cacheTimeout });\n        this.showLoader = true;\n        this.selectedFilters = pick(filters, _.get(currentPageData , 'metaData.filters'));\n       \n        // We dont have CBSC filter\n        // if (this.selectedFilters['board'][0] === 'CBSE/NCERT') {\n        //     this.selectedFilters['board'][0] = 'CBSE';\n        // }\n        if (has(filters, 'audience') || (localStorage.getItem('userType') && currentPageData.contentType !== 'all')) {\n            const userTypes = get(filters, 'audience') || [localStorage.getItem('userType')];\n            const audienceSearchFilterValue = _.get(filters, 'audienceSearchFilterValue');\n            const userTypeMapping = get(this.configService, 'appConfig.userTypeMapping');\n            this.selectedFilters['audience'] = audienceSearchFilterValue || uniq(flatten(_map(userTypes, userType => userTypeMapping[userType])));\n        }\n        if (this.utilService.isDesktopApp) {\n            this.setDesktopFilters(false);\n        }\n        this.fetchContents$.next(currentPageData);\n    }\n\n    setDesktopFilters(isDefaultFilters) {\n        const userPreferences: any = this.userService.anonymousUserPreference;\n            if (userPreferences) {\n                _.forEach(['board', 'medium', 'gradeLevel', 'subject'], (item) => {\n                    if (!_.has(this.selectedFilters, item) || !_.get(this.selectedFilters[item], 'length')) {\n                         const itemData = _.isArray(userPreferences.framework[item]) ?\n                            userPreferences.framework[item] : _.split(userPreferences.framework[item], ', ');\n                        if (isDefaultFilters) {\n                            this.defaultFilters[item] = itemData;\n                        } else {\n                            this.selectedFilters[item] = itemData;\n                        }\n                    }\n                });\n            }\n    }\n\n    private fetchContents() {\n        return this.fetchContents$\n            .pipe(\n                skipWhile(data => data === undefined || data === null),\n                switchMap(currentPageData => {\n                    this.facetSections = [];\n                    this.apiContentList = [];\n                    this.pageSections = [];\n                    this.svgToDisplay = get(currentPageData, 'theme.imageName');\n                    this.displayBanner = (_.get(currentPageData, 'contentType') === 'home') ? true : false;\n\n                    this.redoLayout();\n                    this.facetSections = [];\n                    if (_.get(currentPageData, 'filter')) {\n                        this.isFilterEnabled = _.get(currentPageData, 'filter.isEnabled');\n                    }\n                    if (_.get(currentPageData, 'contentType') === 'explore') {\n                        this.contentSections = [];\n                        return this.getExplorePageSections();\n                    } else {\n                        const { search: { fields = [], filters = {}, facets = ['subject'] } = {}, metaData: { groupByKey = 'subject' } = {} } = currentPageData || {};\n                    let _reqFilters;\n                    // If home or explore page; take filters from user preferences\n                    if (_.get(currentPageData, 'contentType') === 'home') {\n                        _reqFilters = this.contentSearchService.mapCategories({ filters: {..._.get(this.userPreference, 'framework')} });\n                        delete _reqFilters['id'];\n                        this.segmentationTagService.getUpdatedCommands().then(() => {\n                            this.showorHideBanners();\n                        });\n                    } else {\n                        _reqFilters = this.contentSearchService.mapCategories({ filters: { ...this.selectedFilters, ...filters } });\n                    }\n                    const request = {\n                      filters: _reqFilters,\n                        fields,\n                        isCustodianOrg: this.custodianOrg,\n                        channelId: this.channelId,\n                        frameworkId: this.contentSearchService.frameworkId,\n                        ...(this.isUserLoggedIn() && { limit: get(currentPageData, 'limit') }),\n                        ...(get(facets, 'length') && { facets })\n                    };\n                    if (!this.isUserLoggedIn() && get(this.selectedFilters, 'channel') && get(this.selectedFilters, 'channel.length') > 0) {\n                        request.channelId = this.selectedFilters['channel'];\n                    }\n                    const option = this.searchService.getSearchRequest(request, get(filters, 'primaryCategory'));\n                    option.filters['visibility'] = option.filters['channel'] = [];\n                    return this.searchService.contentSearch(option)\n                        .pipe(\n                            map((response) => {\n                                const { subject: selectedSubjects = [] } = (this.selectedFilters || {}) as { subject: [] };\n                                this._facets$.next(request.facets ?\n                                    this.utilService.processCourseFacetData(_.get(response, 'result'), _.get(request, 'facets')) : {});\n                                this.searchResponse = get(response, 'result.content');\n                                if (_.has(response, 'result.QuestionSet')) {\n                                  this.searchResponse = _.merge(this.searchResponse, _.get(response, 'result.QuestionSet'));\n                                }\n                                const filteredContents = omit(groupBy(this.searchResponse, content => {\n                                    return content[groupByKey] || content['subject'] || 'Others';\n                                }), ['undefined']);\n                                for (const [key, value] of Object.entries(filteredContents)) {\n                                    const isMultipleSubjects = key && key.split(',').length > 1;\n                                    if (isMultipleSubjects) {\n                                        const subjects = key && key.split(',');\n                                        subjects.forEach((subject) => {\n                                            if (filteredContents[subject]) {\n                                                filteredContents[subject] = uniqBy(filteredContents[subject].concat(value), 'identifier');\n                                            } else {\n                                                filteredContents[subject] = value;\n                                            }\n                                        });\n                                        delete filteredContents[key];\n                                    }\n                                }\n                                const sections = [];\n                                for (const section in filteredContents) {\n                                    if (section) {\n                                        if (selectedSubjects.length && !(find(selectedSubjects, selectedSub => toLower(selectedSub) === toLower(section)))) {\n                                            continue;\n                                        }\n                                        sections.push({\n                                            name: section,\n                                            contents: filteredContents[section]\n                                        });\n                                    }\n                                }\n                                // Construct data array for sections\n                                if (_.get(currentPageData, 'sections') && _.get(currentPageData, 'sections').length > 0) {\n                                    const facetKeys = _.map(currentPageData.sections, (section) => section.facetKey);\n                                    facetKeys.push(currentPageData.sections.find(section => section.merge).merge.destination);\n                                    const facets = this.utilService.processCourseFacetData(_.get(response, 'result'), facetKeys);\n                                    forEach(currentPageData.sections, facet => {\n                                        if (_.get(facets, facet.facetKey)) {\n                                            const _facetArray = [];\n                                            forEach(facets[facet.facetKey], _facet => {\n                                                if (facet.filter) {\n                                                    for (const key in facet.filter) {\n                                                       if (facet.filter[key].includes(_facet['name'])) {\n                                                        _facetArray.push({\n                                                            name: _facet['name'] === 'tv lesson' ? 'tv classes' : _facet['name'],\n                                                            value: _facet['name'],\n                                                            theme: this.utilService.getRandomColor(facet.theme.colorMapping),\n                                                            type: _facet.type ? _facet.type : '',\n                                                            landing: facet.landing ? facet.landing : '',\n                                                            search: facet.search\n                                                        });\n                                                       }\n                                                    }\n                                                } else {\n                                                    _facetArray.push({\n                                                        name: _facet['name'],\n                                                        value: _facet['name'],\n                                                        theme: this.utilService.getRandomColor(facet.theme.colorMapping),\n                                                        type: _facet.type ? _facet.type : '',\n                                                        landing: facet.landing ? facet.landing : '',\n                                                        search: facet.search\n                                                    });\n                                                }\n                                            });\n                                            this.facetSections.push({\n                                                name: facet.facetKey,\n                                                data: _.sortBy(_facetArray, ['name']),\n                                                section: facet,\n                                                isEnabled: facet.isEnabled,\n                                                index: facet.index\n                                            });\n                                        }\n                                    });\n                                    this.facetSections = _.sortBy(this.facetSections, ['index']);\n                                    if (facetKeys.indexOf('search') > -1) {\n                                        this.contentSections = [];\n                                        const searchSections = currentPageData.sections.filter(sec => sec.facetKey === 'search');\n                                        searchSections.forEach((item) => {\n                                            this.contentSections.push(this.getContentSection(item, option));\n                                        });\n\n                                    }\n                                }\n                                return _map(sections, (section) => {\n                                    forEach(section.contents, contents => {\n                                        contents.cardImg = contents.appIcon || 'assets/images/book.png';\n                                    });\n                                    return section;\n                                });\n                            }), tap(data => {\n                                // this.userPreference = this.setUserPreferences();\n                                this.showLoader = false;\n                                const userProfileSubjects = _.get(this.userService, 'userProfile.framework.subject') || [];\n                                const [userSubjects, notUserSubjects] = partition(sortBy(data, ['name']), value => {\n                                    const { name = null } = value || {};\n                                    if (!name) { return false; }\n                                    return find(userProfileSubjects, subject => toLower(subject) === toLower(name));\n                                });\n                                this.apiContentList = [...userSubjects, ...notUserSubjects];\n                                if (this.apiContentList !== undefined && !this.apiContentList.length) {\n                                    return;\n                                }\n                                this.pageSections = this.apiContentList.slice(0, 4);\n                                this.addHoverData();\n                            }, err => {\n                                this.showLoader = false;\n                                this.apiContentList = [];\n                                this.pageSections = [];\n                                this.toasterService.error(this.resourceService.messages.fmsg.m0004);\n                            }));\n                    }\n                })\n            );\n    }\n\n    getFormConfigs() {\n            if (this.selectedTab === 'home') {\n                if (!this.userType) {\n                    if (this.isUserLoggedIn()) {\n                        this.isGuestUser = false;\n                    this.userService.userData$.subscribe((profileData: IUserData) => {\n                        if (profileData\n                            && profileData.userProfile\n                            && profileData.userProfile['profileUserType']) {\n                            this.userType = profileData.userProfile['profileUserType']['type'];\n                        }\n                    });\n                } else {\n                    this.isGuestUser = true;\n                    const user = localStorage.getItem('userType');\n                    if (user) {\n                        this.userType = user;\n                    }\n                }\n            }\n            this.observationUtil.browseByCategoryForm()\n                .then((data: any) => {\n                    let currentBoard;\n                    if (this.userPreference && this.userPreference['framework'] && this.userPreference['framework']['id']) {\n                        currentBoard = Array.isArray(this.userPreference?.framework?.id) ? (this.userPreference?.framework?.id[0]) : (this.userPreference?.framework?.id);\n                    }\n                    const currentUserType = this.userType?.toLowerCase();\n                    if (currentUserType && currentBoard && data && data[currentBoard] &&\n                        data[currentBoard][currentUserType]) {\n                        this.showTargetedCategory = true;\n                        this.targetedCategory = data[currentBoard][currentUserType];\n                        this.targetedCategorytheme = {\n                            \"iconBgColor\": \"rgba(255,255,255,1)\",\n                            \"pillBgColor\": \"rgba(255,255,255,1)\"\n                        }\n                        this.Categorytheme={\n                            \"iconBgColor\": \"rgba(255,0,0,0)\",\n                            \"pillBgColor\": \"rgba(255,0,0,0)\"\n                        }\n                    }\n                    else {\n                        this.showTargetedCategory = false\n                    }\n                });\n             }\n    }\n\n    private getContentSection(section, searchOptions) {\n        const sectionFilters = _.get(section, 'apiConfig.req.request.filters');\n        const requiredProps = ['se_boards', 'se_gradeLevels', 'se_mediums'];\n        if (_.has(sectionFilters, ...requiredProps) && searchOptions.filters) {\n            const preferences = _.pick(searchOptions.filters, requiredProps);\n            section.apiConfig.req.request.filters = { ...section.apiConfig.req.request.filters, ...preferences };\n        }\n\n        return {\n            isEnabled: Boolean(_.get(section, 'isEnabled')),\n            searchRequest: _.get(section, 'apiConfig.req'),\n            title: get(this.resourceService, section.title) || section.defaultTitle\n        };\n    }\n\n    addHoverData() {\n        each(this.pageSections, (pageSection) => {\n            forEach(pageSection.contents, contents => {\n                if (this.contentDownloadStatus[contents.identifier]) {\n                    contents['downloadStatus'] = this.contentDownloadStatus[contents.identifier];\n                }\n            });\n            this.pageSections[pageSection] = this.utilService.addHoverData(pageSection.contents, true);\n        });\n    }\n\n    public playContent(event, sectionName?) {\n        const telemetryData = {\n            cdata: [{\n                type: 'Section',\n                id: (sectionName && sectionName.includes('NCERT')) ? 'NCERT' : sectionName\n            }],\n            edata: {\n                id: 'content-card',\n            },\n            object: {\n                id: event.data.identifier,\n                type: event.data.contentType || 'content',\n                ver: event.data.pkgVersion ? event.data.pkgVersion.toString() : '1.0'\n            }\n        };\n        this.getInteractEdata(telemetryData);\n        this.moveToTop();\n        if (this.isUserLoggedIn()) {\n            this.playerService.playContent(event.data);\n        } else {\n            this.publicPlayerService.playContent(event);\n        }\n    }\n\n    ngAfterViewInit() {\n        setTimeout(() => {\n            this.setTelemetryData();\n        });\n    }\n\n    ngOnDestroy() {\n        this.unsubscribe$.next();\n        this.unsubscribe$.complete();\n    }\n\n    private setTelemetryData() {\n        const uri = this.isUserLoggedIn() ? this.router.url : (this.userService.slug ? '/' + this.userService.slug + this.router.url : this.router.url);\n        this.exploreMoreButtonEdata = {\n            id: 'explore-more-content-button',\n            type: 'click',\n            pageid: this.isUserLoggedIn() ? 'library' : this.activatedRoute.snapshot.data.telemetry.pageid\n        };\n        this.telemetryImpression = {\n            context: {\n                env: this.isUserLoggedIn() ? 'library' : this.activatedRoute.snapshot.data.telemetry.env\n            },\n            edata: {\n                type: this.activatedRoute.snapshot.data.telemetry.type,\n                pageid: this.isUserLoggedIn() ? 'library' : this.activatedRoute.snapshot.data.telemetry.pageid,\n                uri,\n                subtype: this.activatedRoute.snapshot.data.telemetry.subtype,\n                duration: this.navigationhelperService.getPageLoadTime()\n            }\n        };\n    }\n\n    private listenLanguageChange() {\n        this.resourceService.languageSelected$.pipe(takeUntil(this.unsubscribe$)).subscribe((languageData) => {\n            this.setNoResultMessage();\n            if (_.get(this.pageSections, 'length') && this.isDesktopApp) {\n                this.addHoverData();\n            }\n        });\n    }\n\n    private setNoResultMessage() {\n        const { key = null, selectedTab = null } = this.activatedRoute.snapshot.queryParams;\n        let { noBookfoundTitle: title, noBookfoundTitle: subTitle, noBookfoundTitle: buttonText, noContentfoundTitle, noContentfoundSubTitle, noContentfoundButtonText,\n            desktop: { yourSearch = '', notMatchContent = '' } = {} } = get(this.resourceService, 'frmelmnts.lbl');\n        if (key) {\n            const title_part1 = replace(yourSearch, '{key}', key);\n            const title_part2 = notMatchContent;\n            title = title_part1 + ' ' + title_part2;\n        } else if (selectedTab !== 'textbook') {\n            title = noContentfoundTitle;\n            subTitle = noContentfoundSubTitle;\n            buttonText = noContentfoundButtonText;\n        }\n        this.noResultMessage = { title, subTitle, buttonText, showExploreContentButton: true };\n    }\n\n    public navigateToExploreContent() {\n        const navigationUrl = this.isUserLoggedIn() ? 'search/Library' : 'explore';\n        const queryParams = {\n            ...this.selectedFilters,\n            appliedFilters: false,\n            ...(!this.isUserLoggedIn() && {\n                pageTitle: get(this.resourceService, get(this.getCurrentPageData(), 'title')),\n                softConstraints: JSON.stringify({ badgeAssertions: 100, channel: 99, gradeLevel: 98, medium: 97, board: 96 })\n            })\n        };\n        this.router.navigate([navigationUrl, 1], { queryParams });\n    }\n\n    navigateToCourses(event) {\n        const telemetryData = {\n            cdata: [{\n                type: 'library-courses',\n                id: get(event, 'data.title'),\n            }],\n            edata: {\n                id: 'course-card'\n            },\n            object: {}\n        };\n        this.getInteractEdata(telemetryData);\n        if (get(event, 'data.contents.length') === 1) {\n            if (!this.isUserLoggedIn()) {\n                this.router.navigate(['explore-course/course', get(event, 'data.contents[0].identifier')]);\n            } else {\n                const metaData = pick(event.data.contents[0], ['identifier', 'mimeType', 'framework', 'contentType']);\n                const { onGoingBatchCount, expiredBatchCount, openBatch, inviteOnlyBatch } =\n                    this.coursesService.findEnrolledCourses(metaData.identifier);\n\n                /* istanbul ignore else */\n                if (!expiredBatchCount && !onGoingBatchCount) { // go to course preview page, if no enrolled batch present\n                    return this.playerService.playContent(metaData);\n                }\n\n                if (onGoingBatchCount === 1) { // play course if only one open batch is present\n                    metaData.batchId = openBatch.ongoing.length ? openBatch.ongoing[0].batchId : inviteOnlyBatch.ongoing[0].batchId;\n                    return this.playerService.playContent(metaData);\n                } else {\n                    this.toasterService.error(this.resourceService.messages.fmsg.m0051);\n                }\n            }\n        } else {\n            this.searchService.subjectThemeAndCourse = event.data;\n            const navigationUrl = this.isUserLoggedIn() ? 'resources/curriculum-courses' : 'explore/list/curriculum-courses';\n            this.router.navigate([navigationUrl], {\n                queryParams: {\n                    title: get(event, 'data.title')\n                },\n            });\n        }\n    }\n\n    getInteractEdata(event) {\n        const cardClickInteractData = {\n            context: {\n                cdata: event.cdata,\n                env: this.isUserLoggedIn() ? 'library' : this.activatedRoute.snapshot.data.telemetry.env,\n            },\n            edata: {\n                id: get(event, 'edata.id'),\n                type: 'click',\n                pageid: this.isUserLoggedIn() ? 'library' : this.activatedRoute.snapshot.data.telemetry.pageid\n            },\n            object: get(event, 'object')\n        };\n        this.telemetryService.interact(cardClickInteractData);\n    }\n\n    hoverActionClicked(event) {\n        event['data'] = event.content;\n        this.contentName = event.content.name;\n        this.contentData = event.data;\n        let telemetryButtonId: any;\n        switch (event.hover.type.toUpperCase()) {\n            case 'OPEN':\n                this.playContent(event);\n                this.logTelemetry(this.contentData, 'play-content');\n                break;\n            case 'DOWNLOAD':\n                this.downloadIdentifier = get(event, 'content.identifier');\n                this.showModal = this.offlineCardService.isYoutubeContent(this.contentData);\n                if (!this.showModal) {\n                    this.showDownloadLoader = true;\n                    this.downloadContent(this.downloadIdentifier);\n                }\n                telemetryButtonId = this.contentData.mimeType ===\n                    'application/vnd.ekstep.content-collection' ? 'download-collection' : 'download-content';\n                this.logTelemetry(this.contentData, telemetryButtonId);\n                break;\n        }\n    }\n\n    callDownload() {\n        this.showDownloadLoader = true;\n        this.downloadContent(this.downloadIdentifier);\n    }\n\n    downloadContent(contentId) {\n        this.contentManagerService.downloadContentId = contentId;\n        this.contentManagerService.downloadContentData = this.contentData;\n        this.contentManagerService.failedContentName = this.contentName;\n        this.contentManagerService.startDownload({})\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe(data => {\n                this.downloadIdentifier = '';\n                this.contentManagerService.downloadContentId = '';\n                this.contentManagerService.downloadContentData = {};\n                this.contentManagerService.failedContentName = '';\n                this.showDownloadLoader = false;\n            }, error => {\n                this.downloadIdentifier = '';\n                this.contentManagerService.downloadContentId = '';\n                this.contentManagerService.downloadContentData = {};\n                this.contentManagerService.failedContentName = '';\n                this.showDownloadLoader = false;\n                each(this.pageSections, (pageSection) => {\n                    each(pageSection.contents, (pageData) => {\n                        pageData['downloadStatus'] = this.resourceService.messages.stmsg.m0138;\n                    });\n                });\n                if (!(error.error.params.err === 'LOW_DISK_SPACE')) {\n                    this.toasterService.error(this.resourceService.messages.fmsg.m0090);\n                }\n            });\n    }\n\n    logTelemetry(content, actionId) {\n        const telemetryInteractObject = {\n            id: content.identifier,\n            type: content.contentType,\n            ver: content.pkgVersion ? content.pkgVersion.toString() : '1.0'\n        };\n\n        const appTelemetryInteractData: any = {\n            context: {\n                env: get(this.activatedRoute, 'snapshot.root.firstChild.data.telemetry.env') ||\n                    get(this.activatedRoute, 'snapshot.data.telemetry.env') ||\n                    get(this.activatedRoute.snapshot.firstChild, 'children[0].data.telemetry.env')\n            },\n            edata: {\n                id: actionId,\n                type: 'click',\n                pageid: this.router.url.split('/')[1] || 'explore-page'\n            }\n        };\n\n        if (telemetryInteractObject) {\n            if (telemetryInteractObject.ver) {\n                telemetryInteractObject.ver = isNumber(telemetryInteractObject.ver) ?\n                    toString(telemetryInteractObject.ver) : telemetryInteractObject.ver;\n            }\n            appTelemetryInteractData.object = telemetryInteractObject;\n        }\n        this.telemetryService.interact(appTelemetryInteractData);\n    }\n\n    public prepareVisits(event) {\n        _.forEach(event, (inView, index) => {\n            if (inView.metaData.identifier) {\n                this.inViewLogs.push({\n                    objid: inView.metaData.identifier,\n                    objtype: inView.metaData.contentType,\n                    index: index,\n                    section: inView.section,\n                });\n            }\n        });\n        this.telemetryImpression.edata.visits = this.inViewLogs;\n        this.telemetryImpression.edata.subtype = 'pageexit';\n        this.telemetryImpression = Object.assign({}, this.telemetryImpression);\n    }\n\n    public playEnrolledContent(event, sectionType?) {\n        if (!this.isUserLoggedIn()) {\n            this.publicPlayerService.playContent(event);\n        } else {\n            if (sectionType) {\n                event.section = this.getSectionName(get(this.activatedRoute, 'snapshot.queryParams.selectedTab'));\n                event.data.identifier = _.get(event, 'data.metaData.courseId');\n            }\n            const { section, data } = event;\n            const isPageAssemble = _.get(this.getCurrentPageData(), 'isPageAssemble');\n            const metaData = isPageAssemble ? _.get(data, 'metaData') : data;\n\n            const { onGoingBatchCount, expiredBatchCount, openBatch, inviteOnlyBatch } =\n                this.coursesService.findEnrolledCourses(metaData.identifier);\n\n            if (!expiredBatchCount && !onGoingBatchCount) { // go to course preview page, if no enrolled batch present\n                return this.playerService.playContent(metaData);\n            }\n            if (sectionType) {\n                metaData.batchId = _.get(metaData, 'metaData.batchId');\n                metaData.trackable = {\n                    enabled: 'Yes'\n                };\n                return this.playerService.playContent(metaData);\n              }\n\n            if (onGoingBatchCount === 1) { // play course if only one open batch is present\n                metaData.batchId = _.get(openBatch, 'ongoing.length') ? _.get(openBatch, 'ongoing[0].batchId') : _.get(inviteOnlyBatch, 'ongoing[0].batchId');\n                return this.playerService.playContent(metaData);\n            } else if (onGoingBatchCount === 0 && expiredBatchCount === 1) {\n                metaData.batchId = _.get(openBatch, 'expired.length') ? _.get(openBatch, 'expired[0].batchId') : _.get(inviteOnlyBatch, 'expired[0].batchId');\n                return this.playerService.playContent(metaData);\n            }\n            this.selectedCourseBatches = { onGoingBatchCount, expiredBatchCount, openBatch, inviteOnlyBatch, courseId: metaData.identifier };\n            this.showBatchInfo = true;\n        }\n    }\n\n\n    logViewAllTelemetry(event) {\n        const telemetryData = {\n            cdata: [{\n                type: 'Section',\n                id: (event && event.name && event.name.includes('NCERT')) ? 'NCERT' : event.name\n            }],\n            edata: {\n                id: 'view-all'\n            }\n        };\n        this.getInteractEdata(telemetryData);\n    }\n\n    public viewAll(event, contentSection?) {\n        this.moveToTop();\n        let searchQuery;\n        if (contentSection) {\n            event = { contents: event.data, count: event.data.length, name: contentSection.title };\n            searchQuery = contentSection.searchRequest;\n        } else {\n            if (this.isUserLoggedIn() && !_.get(event, 'searchQuery')) {\n                searchQuery = JSON.parse(this.myCoursesSearchQuery);\n            } else {\n                searchQuery = JSON.parse(event.searchQuery);\n            }\n        }\n\n        this.logViewAllTelemetry(event);\n        const searchQueryParams: any = {};\n        _.forIn(searchQuery.request.filters, (value, key) => {\n            if (_.isPlainObject(value)) {\n                searchQueryParams.dynamic = JSON.stringify({ [key]: value });\n            } else {\n                searchQueryParams[key] = value;\n            }\n        });\n        searchQueryParams.defaultSortBy = _.get(searchQuery, 'request.sort_by') ? JSON.stringify(searchQuery.request.sort_by) : JSON.stringify({ lastPublishedOn: 'desc' });\n        searchQueryParams['exists'] = _.get(searchQuery, 'request.exists');\n        searchQueryParams['isContentSection'] = Boolean(contentSection);\n        if (this.isUserLoggedIn()) {\n            this.cacheService.set('viewAllQuery', searchQueryParams, { maxAge: 600 });\n        } else {\n            this.cacheService.set('viewAllQuery', searchQueryParams);\n        }\n        this.cacheService.set('pageSection', event, { maxAge: this.browserCacheTtlService.browserCacheTtl });\n        const queryParams = contentSection ? { ...searchQueryParams, ...{ selectedTab: this.queryParams.selectedTab } } :\n        { ...searchQueryParams, ...this.queryParams };\n        const sectionUrl = _.get(this.router, 'url.split') && this.router.url.split('?')[0] + '/view-all/' + event.name.replace(/\\s/g, '-');\n        this.router.navigate([sectionUrl, 1], { queryParams: queryParams, state: { currentPageData: this.getCurrentPageData()} });\n    }\n\n  private getSectionName(selectedTab) {\n    let sectionName;\n    switch (_.toLower(selectedTab)) {\n      case 'textbook': {\n        sectionName = 'tbk.trk.frmelmnts.lbl.mytrainings';\n        break;\n      }\n      case 'course': {\n        sectionName = 'crs.trk.frmelmnts.lbl.mytrainings';\n        break;\n      }\n      case 'tvprogram': {\n        sectionName = 'tvc.trk.frmelmnts.lbl.mytrainings';\n        break;\n      }\n      default: {\n        sectionName = 'frmelmnts.lbl.myEnrolledCollections';\n      }\n    }\n    return sectionName;\n  }\n\n    sectionViewAll() {\n        const searchQueryParams: any = {};\n        if (this.selectedFacet) {\n            if (_.get(this._currentPageData.search.filters, 'filters.' + this.selectedFacet.facet)) {\n                this._currentPageData.search.filters[this.selectedFacet.facet].push(this.selectedFacet.value);\n            } else {\n                this._currentPageData.search.filters[this.selectedFacet.facet] = [];\n                this._currentPageData.search.filters[this.selectedFacet.facet].push(this.selectedFacet.value);\n            }\n        }\n        _.forIn(this._currentPageData.search.filters, (value, key) => {\n            if (_.isPlainObject(value)) {\n                searchQueryParams.dynamic = JSON.stringify({ [key]: value });\n            } else {\n                searchQueryParams[key] = value;\n            }\n        });\n        searchQueryParams.defaultSortBy = JSON.stringify({ lastPublishedOn: 'desc' });\n        if (this.isUserLoggedIn()) {\n            this.cacheService.set('viewAllQuery', searchQueryParams, { maxAge: 600 });\n        } else {\n            this.cacheService.set('viewAllQuery', searchQueryParams);\n        }\n        delete this.queryParams['id'];\n        const queryParams = { ...searchQueryParams, ...this.queryParams };\n        const sectionUrl = _.get(this.router, 'url.split') && this.router.url.split('?')[0] + '/view-all/' + 'Suggested'.replace(/\\s/g, '-');\n        this.router.navigate([sectionUrl, 1], { queryParams: queryParams, state: { currentPageData: this.getCurrentPageData() } });\n    }\n\n    setUserPreferences() {\n        try {\n            if (this.isUserLoggedIn()) {\n                this.userPreference = { framework: this.userService.defaultFrameworkFilters };\n            } else {\n                this.userService.getGuestUser().subscribe((response) => {\n                    this.userPreference = response;\n                });\n            }\n        } catch (error) {\n            return null;\n        }\n    }\n\n    convertToString(value) {\n        return _.isArray(value) ? _.join(value, ', ') : undefined;\n    }\n\n    handlePillSelect(event, facetName) {\n        if (!event || !event.data || !event.data.length) {\n            return;\n        }\n        let params = {};\n        const contentType = _.get(this.getCurrentPageData(), 'contentType');\n        if (contentType === 'home') {\n            params = _.omit(this.queryParams, ['id', 'selectedTab']);\n        }\n        params[event.data[0].value.type ? event.data[0].value.type : facetName] = event.data[0].value.value;\n        params['selectedTab'] = 'all';\n        params['showClose'] = 'true';\n        params['isInside'] = event.data[0].value.name;\n        params['returnTo'] = contentType;\n        params['title'] = event.data[0].value.landing ? event.data[0].value.landing.title : '';\n        params['description'] = event.data[0].value.landing ? event.data[0].value.landing.description : '';\n        params['ignoreSavedFilter'] = true;\n\n        const updatedCategoriesMapping = _.mapKeys(params, (_, key) => {\n            const mappedValue = get(this.contentSearchService.getCategoriesMapping, [key]);\n            return mappedValue || key;\n        });\n\n        const paramValuesInLowerCase = _.mapValues(updatedCategoriesMapping, value => {\n            if (_.toLower(value) === 'cbse') { return 'CBSE/NCERT'; }\n            return Array.isArray(value) ? _.map(value, _.toLower) : _.toLower(value);\n        });\n\n        params = paramValuesInLowerCase;\n        params['searchFilters'] = event.data[0].value.search ? JSON.stringify(event.data[0].value.search.facets) : '';\n\n        if (this.isUserLoggedIn()) {\n            this.router.navigate(['search/Library', 1], { queryParams: params });\n        } else {\n            this.router.navigate(['explore', 1], { queryParams: params });\n        }\n    }\n\n    handleTargetedpillSelected(event) {\n        if (!event || !event.data || !event.data.length) {\n            return;\n        }\n        let pillData = event.data[0].value;\n        if(_.isEmpty(pillData)){\n            return;\n        }\n        if(this.isUserLoggedIn()) {\n            if(pillData.name === 'observation'){\n                this.router.navigate(['observation']);\n            }\n        }\n    }\n\n\n    getSectionTitle (title) {\n        return get(this.resourceService, 'frmelmnts.lbl.browseBy') + ' ' + get(this.resourceService, title);\n    }\n\n    getSectionCategoryTitle (title) {\n        return get(this.resourceService, 'frmelmnts.lbl.browseOther') + ' ' + get(this.resourceService, title);\n    }\n\n    getBannerTitle (title) {\n        return get(this.resourceService, title);\n    }\n\n    getSelectedTab () {\n        return get(this.activatedRoute, 'snapshot.queryParams.selectedTab');\n    }\n\n    updateProfile(event) {\n        if (this.isUserLoggedIn()) {\n            this.profileService.updateProfile({ framework: event }).subscribe(res => {\n                this.userPreference.framework = event;\n                this.getFormConfigs();\n                this.toasterService.success(_.get(this.resourceService, 'messages.smsg.m0058'));\n                this._addFiltersInTheQueryParams(event);\n                this.showorHideBanners();\n                if (window['TagManager']) {\n                    window['TagManager'].SBTagService.pushTag(this.userPreference, 'USERFRAMEWORK_', true);\n                }\n            }, err => {\n                this.toasterService.warning(this.resourceService.messages.emsg.m0012);\n            });\n        } else {\n            const req = { ...this.userPreference, framework: event };\n            this.userService.updateGuestUser(req).subscribe(res => {\n                this.userPreference.framework = event;\n                this.getFormConfigs();\n                this.toasterService.success(_.get(this.resourceService, 'messages.smsg.m0058'));\n                this.showorHideBanners();\n                if (window['TagManager']) {\n                    window['TagManager'].SBTagService.pushTag(this.userPreference, 'USERFRAMEWORK_', true);\n                }\n            }, err => {\n                this.toasterService.warning(_.get(this.resourceService, 'messages.emsg.m0012'));\n            });\n        }\n        // this.setUserPreferences();\n        // this.fetchContents$.next(this._currentPageData);\n    }\n\n    getExplorePageSections () {\n        return of(forEach(this.getCurrentPageData().sections, facet => {\n            const _facetArray = [];\n            forEach(facet.data, _facet => {\n                _facetArray.push({\n                    name: _facet['name'],\n                    value: _facet['value'],\n                    landing: facet.landing ? facet.landing : '',\n                    search: facet.search\n                });\n            });\n            this.facetSections.push({\n                name: facet.facetKey,\n                data: _facetArray,\n                section: facet\n            });\n        }));\n    }\n\n    showorHideBanners() {\n        this.bannerSegment = [];\n         this.segmentationTagService.exeCommands.find((cmd) => {\n            if (cmd.controlFunction === 'BANNER_CONFIG') {\n                const banners = _.get(cmd, 'controlFunctionPayload.values');\n                forEach(banners, banner => {\n                    this.bannerSegment.push(banner);\n                });\n            }\n        });\n        this.displayBanner = (this.bannerSegment && this.bannerSegment.length > 0) ? true : false;\n        this.bannerList = [];\n        if (this.bannerSegment && this.bannerSegment.length) {\n            this.setBannerConfig();\n        }\n    }\n\n    setBannerConfig() {\n        this.bannerList = this.bannerSegment.filter((value) =>\n            Number(value.expiry) > Math.floor(Date.now() / 1000)\n        );\n        this.primaryBanner = [];\n        this.secondaryBanner = [];\n        this.bannerList.forEach((banner) => {\n            if (banner.type === 'secondary') {\n                this.secondaryBanner.push(banner);\n              } else {\n                this.primaryBanner.push(banner);\n              }\n        });\n    }\n\n    navigateToSpecificLocation(data) {\n        switch (data.code) {\n            case 'banner_external_url':\n                window.open(_.get(data.action, 'params.route'), '_blank');\n                break;\n            case 'banner_search':\n                const queryParams = _.get(data.action, 'params.filter.filters');\n                if (_.get(data.action, 'params.query')) {\n                    queryParams['key'] = _.get(data.action, 'params.query');\n                }\n                const contentType = _.get(this.getCurrentPageData(), 'contentType');\n                queryParams['showClose'] = 'true';\n                queryParams['returnTo'] = contentType;\n                queryParams['isInside'] = (data.ui && data.ui.landing && data.ui.text) || '';\n                queryParams['selectedTab'] = 'all';\n                queryParams['title'] = (data.ui && data.ui.landing && data.ui.landing.title) || '';\n                queryParams['description'] = (data.ui && data.ui.landing && data.ui.landing.description) || '';\n                if (this.isUserLoggedIn()) {\n                    this.router.navigate(['search/Library', 1], { queryParams: queryParams });\n                } else {\n                    this.router.navigate(['explore', 1], { queryParams: queryParams });\n                }\n                break;\n            case 'banner_internal_url':\n                const route = _.get(data.action, 'params.route');\n                const anonymousUrl = _.get(data.action, 'params.anonymousRoute');\n                const url = (this.isUserLoggedIn()) ? route : anonymousUrl;\n                if (url) {\n                    this.router.navigate([url]);\n                    this.moveToTop();\n                } else {\n                    this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0004'));\n                }\n                break;\n            case 'banner_content':\n                const contentId = _.get(data.action, 'params.identifier');\n                const params = {};\n                params['key'] = contentId;\n                params['selectedTab'] = 'all';\n                params['text'] = data.ui.text;\n                this.router.navigate(['explore', 1], { queryParams: params });\n                break;\n        }\n    }\n    public moveToTop() {\n        window.scroll({\n            top: 0,\n            left: 0,\n            behavior: 'smooth'\n        });\n    }\n    handleBannerClick(data) {\n        const telemetryData = {\n          context: {\n            env:  this.activatedRoute.snapshot.data.telemetry.env,\n            cdata: [{\n              id: data.code,\n              type: (data.type && data.type === 'secondary') ? 'AdditionalBanner' : 'Banner'\n            }]\n          },\n          edata: {\n            id: data.code,\n            type: 'click',\n            pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n          }\n        };\n        this.telemetryService.interact(telemetryData);\n    }\n\n    getPersistFilters(defaultFilters?) {\n        if (this.cacheService.exists('searchFilters')) {\n            const _filter = this.cacheService.get('searchFilters');\n            if (defaultFilters) {\n                return {\n                    board: this.isUserLoggedIn() ? _.get(this.userService.defaultFrameworkFilters, 'board') : _.get(_filter, 'board'),\n                    gradeLevel: _.get(_filter, 'gradeLevel'),\n                    medium: _.get(_filter, 'medium'),\n                    subject: _.get(_filter, 'subject')\n                };\n            }\n        }\n    }\n}\n","<div *ngIf=\"appDownloadUrl && showBanner\" class=\"ui fluid container computer only sb-sticky-bottom\" >\n  <div class=\"ui container sb-banner mt-24\">\n    <div class=\"sb-banner-content\">\n      <div class=\"sb-banner-content-right\">\n        <div class=\"sb-banner-heading\">\n          {{resourceService?.frmelmnts?.lbl?.downloadAppLite | interpolate:'{instance}': instance}}\n        </div>\n        <dl class=\"mt-8 mb-0\">\n          <div class=\"d-flex\" *ngIf=\"desktopAppVersion\">\n            <dt class=\"description-list-key\">{{resourceService?.frmelmnts?.lbl?.versionKey}}</dt>\n            <dd class=\"description-list-value\">{{desktopAppVersion}}</dd>\n          </div>\n        </dl>\n      </div>\n      <div class=\"sb-banner-content-left\">\n        <button appTelemetryInteract [telemetryInteractEdata]=\"{id:'offlineApp-button' , type:'click' , pageid:pageId }\" class=\"sb-btn sb-btn-primary sb-btn-normal\" tabindex=\"0\" (click)=\"navigateToDownloadApkPage()\">{{resourceService?.frmelmnts?.btn?.downloadDesktopApp}}&#x200E;</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\n\nconst HOST = document.location.origin;\n@Injectable({\n  providedIn: 'root'\n})\nexport class ContentSectionService {\n\n  constructor(private http: HttpClient) { }\n\n  search(requestBody) {\n    const url = `${HOST}/api/content/v1/search?orgdetails=orgName,email`;\n    return this.http.post(url, requestBody)\n      .pipe(map((val: any) => {\n        if (val.result && val.result.content) {\n          val.result.content.forEach(element => this.updateCardData(element));\n        }\n        return val.result;\n      }));\n  }\n\n  updateCardData(content) {\n   content.cardImg =  content.appIcon || content.courseLogoUrl || content.cardImg || 'assets/images/book.png';\n   return content;\n  }\n}\n","// @dynamic\nexport class Utility {\n  static sortBy = (key) => {\n    return (a, b) => (a[key] > b[key]) ? 1 : ((b[key] > a[key]) ? -1 : 0);\n  }\n}\n","import { Component, Input, OnInit, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { IContentSearchRequest } from '../model';\nimport { ContentSectionService } from '../../services/content-section.service';\nimport { IContent } from '@project-sunbird/common-consumption-v9';\nimport { Utility } from '../utility';\nimport { Subject } from 'rxjs';\n\nconst DEFAULT_LAYOUT_CONFIG = {\n  source: '',\n  name: 'newLayout',\n  options: ''\n};\nconst DEFAULT_TITLE = 'Section';\nconst DEFAULT_MAX_CARD_COUNT = 4;\nconst DEFAULT_LOADING = false;\nconst DEFAULT_VIEW_MORE_TEXT = 'View all';\n\n@Component({\n  selector: 'sb-content-section',\n  templateUrl: './content-section.component.html',\n  styles: []\n})\nexport class ContentSectionComponent implements OnInit, OnDestroy {\n\n  @Input() title: string = DEFAULT_TITLE;\n  @Input() searchRequest: IContentSearchRequest;\n  @Input() layoutConfig = DEFAULT_LAYOUT_CONFIG;\n  @Input() maxCardCount: number = DEFAULT_MAX_CARD_COUNT; /* Max card count to be shown */\n  @Input() isMenu = false; /* Show Menu on each card */\n  @Input() isLoading: boolean = DEFAULT_LOADING;\n  @Input() viewMoreButtonText: string = DEFAULT_VIEW_MORE_TEXT;\n  @Input() sortBy: string;\n\n  @Output() cardClick: EventEmitter<MouseEvent> = new EventEmitter<MouseEvent>();\n  @Output() menuClick: EventEmitter<MouseEvent> = new EventEmitter();\n  @Output() viewMoreClick: EventEmitter<MouseEvent> = new EventEmitter<MouseEvent>();\n\n  contentList: IContent[] = [];\n  count: number;\n  private unsubscribe$ = new Subject<void>();\n  constructor(private contentSectionService: ContentSectionService) { }\n\n  ngOnInit(): void {\n    this.fetchContents();\n  }\n\n  fetchContents() {\n    if (this.searchRequest) {\n      this.contentSectionService.search(this.searchRequest).subscribe((res: any) => {\n        this.contentList = this.sortBy ? res.content.concat().sort(Utility.sortBy(this.sortBy)) : res.content;\n        this.count = res.count;\n      });\n    }\n  }\n\n  onCardClick(event: MouseEvent) {\n    this.cardClick.emit(event);\n  }\n\n  onCardMenuClick(event: MouseEvent) {\n    this.menuClick.emit(event);\n  }\n\n  onViewMoreClick(event: MouseEvent) {\n    this.viewMoreClick.emit(event);\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ContentSectionComponent } from './components/content-section/content-section.component';\nimport { CommonConsumptionModule } from '@project-sunbird/common-consumption-v9';\nimport { HttpClientModule } from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\n\n\n@NgModule({\n  declarations: [ContentSectionComponent],\n  imports: [CommonConsumptionModule, HttpClientModule, CommonModule],\n  exports: [ContentSectionComponent]\n})\nexport class ContentSectionModule { }\n","/*\n * Public API Surface of content-section\n */\n\nexport * from './lib/services/content-section.service';\nexport * from './lib/components/content-section/content-section.component';\nexport * from './lib/content-section.module';\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ExplorePageComponent } from './components';\nconst routes: Routes = [\n  {\n    path: '', component: ExplorePageComponent, data: {\n      telemetry: {\n        env: 'explore', pageid: 'explore', type: 'view', subtype: 'paginate'\n      },\n      softConstraints: { badgeAssertions: 98, board: 99, channel: 100 }\n    }\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ExplorePageRoutingModule { }\n"],"sourceRoot":"webpack:///"}