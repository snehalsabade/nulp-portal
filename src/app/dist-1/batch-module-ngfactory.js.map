{"version":3,"sources":["./src/app/modules/learn/batch-routing.module.ts","./src/app/modules/learn/batch.module.ts","./src/app/modules/learn/components/batch/enroll-batch/enroll-batch.component.html","./src/app/modules/learn/components/batch/update-course-batch/update-course-batch.component.ts","./src/app/modules/learn/components/batch/create-batch/create-batch.component.html","./src/app/modules/learn/components/batch/create-batch/create-batch.component.ts","./src/app/modules/learn/components/batch/enroll-batch/enroll-batch.component.ts","./src/app/modules/learn/components/batch/update-course-batch/update-course-batch.component.html"],"names":[],"mappings":"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","file":"batch-module-ngfactory.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UpdateCourseBatchComponent } from './components/batch/update-course-batch/update-course-batch.component';\nimport { CreateBatchComponent } from './components/batch/create-batch/create-batch.component';\nimport { EnrollBatchComponent } from './components/batch/enroll-batch/enroll-batch.component';\nimport { AuthGuard } from '@sunbird/core';\n\nconst telemetryEnv = 'Course';\nconst objectType = 'Course';\nconst routes: Routes = [\n  {\n    path: 'enroll/batch/:batchId', component: EnrollBatchComponent,\n    data: {\n      telemetry: { env: telemetryEnv, pageid: 'batch-enroll', type: 'view', object: { ver: '1.0', type: 'batch' } }\n    }\n  },\n  {\n    path: 'update/batch/:batchId', component: UpdateCourseBatchComponent, canActivate: [AuthGuard],\n    data: {\n      telemetry: { env: telemetryEnv, pageid: 'batch-edit', type: 'view', object: { ver: '1.0', type: 'batch' } },\n      roles: 'createBatchRole'\n    }\n  },\n  {\n    path: 'create/batch', component: CreateBatchComponent, canActivate: [AuthGuard],\n    data: {\n      telemetry: {\n        env: telemetryEnv, pageid: 'batch-create', type: 'view', mode: 'create',\n        object: { ver: '1.0', type: 'batch' }\n      },\n      roles: 'createBatchRole'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BatchRoutingModule { }\n","import { TelemetryModule } from '@sunbird/telemetry';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n import { SharedModule } from '@sunbird/shared';\nimport { CoreModule } from '@sunbird/core';\nimport { SharedFeatureModule } from '@sunbird/shared-feature';\nimport { EnrollBatchComponent } from './components/batch/enroll-batch/enroll-batch.component';\nimport { CreateBatchComponent } from './components/batch/create-batch/create-batch.component';\nimport { UpdateCourseBatchComponent } from './components/batch/update-course-batch/update-course-batch.component';\nimport { BatchRoutingModule } from './batch-routing.module';\nimport { SuiModule } from 'ng2-semantic-ui-v9';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    SuiModule,\n    FormsModule,\n    CoreModule,\n    TelemetryModule,\n    SharedFeatureModule,\n    BatchRoutingModule,\n    ReactiveFormsModule,\n    MatTooltipModule\n  ],\n  providers: [],\n  declarations: [EnrollBatchComponent, CreateBatchComponent, UpdateCourseBatchComponent]\n})\nexport class BatchModule { }\n","<app-modal-wrapper *ngIf=\"modalVisibility\" [config]=\"{disableClose: true, size: 'normal', panelClass: 'material-modal'}\" (dismiss)=\"redirect()\"\n    #enrollBatch>\n    <ng-template sbModalContent>\n        <div class=\"sb-mat__modal\">\n\n            <!--Header-->\n            <div mat-dialog-title class=\"mb-0 px-16\">\n                <div class=\"title\">{{batchDetails.name}}</div>\n                <button aria-label=\"close dialog\" mat-dialog-close class=\"close-btn\"></button>\n            </div>\n            <!--/Header-->\n\n            <!--Content-->\n            <div class=\"sb-mat__modal__content\">\n                <div class=\"ui grid\">\n                    <div class=\"twelve wide column\">\n                        <div class=\"content\">\n                            <div class=\"ui grid\">\n                                <div class=\"ten wide column pl-25\">\n                                    <div class=\"ui grid\">\n                                        <div class=\"twelve wide column batch-des pb-0\"\n                                            *ngIf=\"batchDetails.description\">\n                                            <label>{{resourceService.frmelmnts.lbl.batchdescription}}</label>\n                                            <div *ngIf=\"batchDetails.description\" class=\"des-content\">\n                                                <p *ngIf=\"!readMore\"> {{ batchDetails.description |\n                                                    slice:0:120}}&nbsp;\n                                                    <span class=\"ui cardsKnowMore mouse-pointer\"\n                                                        *ngIf=\"batchDetails.description && batchDetails.description.length > 120 && readMore === false\"\n                                                        tabindex=\"0\"\n                                                        (click)=\"readMore = !readMore;\">{{resourceService.frmelmnts.lbl.readmore}}</span>\n                                                </p>\n                                                <p *ngIf=\"readMore\" class=\"courseStructureDesc\"> {{\n                                                    batchDetails.description}}&nbsp;\n                                                    <span class=\"ui cardsKnowMore mouse-pointer\" tabindex=\"0\"\n                                                        (click)=\"readMore = false;\">{{resourceService.frmelmnts.lbl.readless}}</span>\n                                                </p>\n                                            </div>\n                                        </div>\n\n                                    </div>\n                                    <div class=\"ui grid batch-date\">\n                                        <div class=\"twelve wide column start-date pb-0\">\n                                            <label>{{resourceService.frmelmnts.lbl.startdate}}</label>\n                                            <span class=\"pl-10\">{{batchDetails.startDate | dateFormat}}</span>\n                                        </div>\n                                        <div class=\"twelve wide column end-date\" *ngIf=\"batchDetails.endDate\">\n                                            <label>{{resourceService.frmelmnts.lbl.enddate}}</label>\n                                            <span *ngIf=\"batchDetails.endDate\"\n                                                class=\"pl-10\">{{batchDetails.endDate | dateFormat}}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!--/Content-->\n            <!--Actions-->\n            <div class=\"sb-mat__modal__actions\">\n                <button appTelemetryInteract\n                    [telemetryInteractObject]=\"{id:batchId , ver : '1.0' , type:'CourseBatch' , rollup:{l1: batchDetails.courseId,l2: batchDetails.identifier}}\"\n                    [telemetryInteractEdata]=\"submitInteractEdata\" [telemetryInteractCdata]=\"telemetryCdata\"\n                    [disabled]=\"disableSubmitBtn\" class=\"sb-btn sb-btn-normal sb-btn-primary\"\n                    id=\"enrollToCourse\" tabindex=\"0\" (click)=\"enrollToCourse()\">\n                    {{generaliseLabelService?.frmelmnts?.btn?.enroll}}\n                </button>\n            </div>\n            <!--Actions-->\n\n        </div>\n    </ng-template>\n</app-modal-wrapper>\n\n<app-modal-wrapper *ngIf=\"showLoader\" [config]=\"{disableClose: false, size: 'normal'}\">\n    <ng-template sbModalContent>\n        <div class=\"sb-modal\">\n            <div class=\"transition ui dimmer page modals active visible\">\n                <div class=\"ui modal transition active visible normal\">\n                    <div class=\"twelve wide column my-20\">\n                        <app-loader></app-loader>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ng-template>\n</app-modal-wrapper>","import { IInteractEventEdata } from './../../../../telemetry/interfaces/telemetry';\n\nimport { Component, OnInit, ViewChild, OnDestroy, AfterViewInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {combineLatest, Subject, forkJoin} from 'rxjs';\nimport { takeUntil, mergeMap } from 'rxjs/operators';\nimport { RouterNavigationService, ResourceService, ToasterService, NavigationHelperService } from '@sunbird/shared';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { UserService } from '@sunbird/core';\nimport { CourseConsumptionService, CourseBatchService } from './../../../services';\nimport { IImpressionEventInput, IInteractEventObject, TelemetryService } from '@sunbird/telemetry';\nimport * as _ from 'lodash-es';\nimport dayjs from 'dayjs';\nimport { LazzyLoadScriptService } from 'LazzyLoadScriptService';\nimport { CsModule } from '@project-sunbird/client-services';\nimport { CsLibInitializerService } from '../../../../../service/CsLibInitializer/cs-lib-initializer.service';\nimport { IFetchForumConfig } from '../../../../groups/interfaces';\nimport { DiscussionService } from '../../../../../../app/modules/discussion/services/discussion/discussion.service';\n\n@Component({\n  selector: 'app-update-course-batch',\n  templateUrl: './update-course-batch.component.html'\n})\nexport class UpdateCourseBatchComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  private updateBatchModal;\n\n  @ViewChild('updateBatchModal') set setBatchModal(element) {\n    if (element) {\n      this.updateBatchModal = element;\n    }\n    this.initDropDown();\n  }\n  /**\n  * batchId\n  */\n  private batchId: string;\n\n  public showUpdateModal = false;\n\n  public disableSubmitBtn = false;\n\n  private courseId: string;\n\n  public selectedParticipants: any = [];\n\n  public showFormInViewMode: boolean;\n\n  public selectedMentors: any = [];\n\n  private userSearchTime: any;\n  private removedUsers: any = [];\n\n  forumIds: any;\n  fetchForumIdReq: any;\n  private discussionCsService: any;\n  createForumRequest: any;\n  showDiscussionForum: string;\n\n  /**\n   * To fetch create-forum request payload for batch\n   */\n   fetchForumConfigReq: Array<IFetchForumConfig>;\n  /**\n\t * This variable hepls to show and hide loader.\n   * It is kept true by default as at first when we comes\n   * to a popup the loader should be displayed before the\n   * data is loaded\n\t */\n  public showLoader = true;\n\n  /**\n  * courseCreator\n  */\n  public courseCreator = false;\n  /**\n  * participantList for users\n  */\n  public participantList = [];\n  /**\n  * batchDetails for form\n  */\n  private batchDetails: any;\n  /**\n  * mentorList for mentors in the batch\n  */\n  public mentorList: Array<any> = [];\n  /**\n   * form group for batchAddUserForm\n  */\n  public batchUpdateForm: FormGroup;\n  /**\n  * To navigate to other pages\n  */\n  public router: Router;\n  /**\n   * To send activatedRoute.snapshot to router navigation\n   * service for redirection to update batch  component\n  */\n  private activatedRoute: ActivatedRoute;\n  /**\n  * Refrence of UserService\n  */\n  private userService: UserService;\n  /**\n  * Refrence of UserService\n  */\n  private courseBatchService: CourseBatchService;\n  /**\n  * To call resource service which helps to use language constant\n  */\n  public resourceService: ResourceService;\n  /**\n  * To show toaster(error, success etc) after any API calls\n  */\n  private toasterService: ToasterService;\n  /**\n   * telemetryImpression object for update batch page\n  */\n  public telemetryImpression: IImpressionEventInput;\n\n  public pickerMinDate = new Date(new Date().setHours(0, 0, 0, 0));\n\n  public pickerMinDateForEndDate = new Date(this.pickerMinDate.getTime() + (24 * 60 * 60 * 1000));\n\n  public pickerMinDateForEnrollmentEndDate;\n\n  public courseConsumptionService: CourseConsumptionService;\n\n  public unsubscribe = new Subject<void>();\n  public enrolmentType: string;\n\n  updateBatchInteractEdata: IInteractEventEdata;\n  telemetryInteractObject: IInteractEventObject;\n  clearButtonInteractEdata: IInteractEventEdata;\n  telemetryCdata: Array<{}> = [];\n  isCertificateIssued: string;\n  isEnableDiscussions: string;\n  callCreateDiscussion = true;\n  /**\n   * Constructor to create injected service(s) object\n   * @param {RouterNavigationService} routerNavigationService Reference of routerNavigationService\n   * @param {Router} router Reference of Router\n   * @param {ActivatedRoute} activatedRoute Reference of ActivatedRoute\n   * @param {UserService} UserService Reference of UserService\n  */\n  constructor(routerNavigationService: RouterNavigationService,\n    activatedRoute: ActivatedRoute,\n    route: Router,\n    resourceService: ResourceService, userService: UserService,\n    courseBatchService: CourseBatchService,\n    toasterService: ToasterService,\n    courseConsumptionService: CourseConsumptionService,\n    public navigationhelperService: NavigationHelperService, private lazzyLoadScriptService: LazzyLoadScriptService,\n    private telemetryService: TelemetryService,\n    private csLibInitializerService: CsLibInitializerService,\n    private discussionService: DiscussionService) {\n    this.resourceService = resourceService;\n    this.router = route;\n    this.activatedRoute = activatedRoute;\n    this.userService = userService;\n    this.courseBatchService = courseBatchService;\n    this.toasterService = toasterService;\n    this.courseConsumptionService = courseConsumptionService;\n    if (!CsModule.instance.isInitialised) {\n      this.csLibInitializerService.initializeCs();\n    }\n    this.discussionCsService = CsModule.instance.discussionService;\n  }\n\n  /**\n   * Initialize form fields and getuserlist\n  */\n  ngOnInit() {\n    combineLatest(this.activatedRoute.params, this.activatedRoute.parent.params,\n      this.activatedRoute.queryParams,\n      (params, parentParams, queryParams) => ({ ...params, ...parentParams, ...queryParams })).pipe(\n        mergeMap((params) => {\n          this.batchId = params.batchId;\n          this.courseId = params.courseId;\n          this.enrolmentType = params.enrollmentType;\n          this.setTelemetryInteractData();\n          return this.fetchBatchDetails();\n        }),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe((data) => {\n        this.showDiscussionForum = _.get(data.courseDetails, 'discussionForum.enabled');\n        this.generateDataForDF();\n        if (this.showDiscussionForum === 'Yes') {\n          this.fetchForumConfig();\n        }\n        this.showUpdateModal = true;\n        if (data.courseDetails.createdBy === this.userService.userid) {\n          this.courseCreator = true;\n        }\n        this.batchDetails = data.batchDetails;\n        if (this.batchDetails.enrollmentType !== 'open' && data.participantList && data.participantList.length > 0) {\n          this.batchDetails.participants = data.participantList;\n        }\n        const userList = this.sortUsers(data.userDetails);\n        this.participantList = userList.participantList;\n        this.mentorList = userList.mentorList;\n        if (this.batchDetails.mentors) {\n          this.batchDetails.mentors.forEach(id => {\n            _.remove(this.mentorList, mentor => mentor.id === id);\n          });\n        }\n        if (this.batchDetails.participants) {\n          this.batchDetails.participants.forEach(id => {\n            _.remove(this.participantList, participant => participant.id === id);\n          });\n        }\n        this.initializeUpdateForm();\n        this.getEnabledForumId();\n        this.fetchParticipantDetails();\n      }, (err) => {\n        if (err.error && err.error.params.errmsg) {\n          this.toasterService.error(err.error.params.errmsg);\n        } else {\n          this.toasterService.error(this.resourceService.messages.fmsg.m0054);\n        }\n        this.redirect();\n      });\n  }\n\n  private fetchBatchDetails() {\n    if (this.enrolmentType === 'open') {\n      const requestBody = {\n        filters: { 'status': '1' },\n      };\n      const participantList = {};\n      return combineLatest(\n        this.courseBatchService.getUserList(requestBody),\n        this.courseConsumptionService.getCourseHierarchy(this.courseId),\n        this.courseBatchService.getUpdateBatchDetails(this.batchId),\n        (userDetails, courseDetails, batchDetails) => (\n          { userDetails, courseDetails, batchDetails, participantList}\n        ));\n    } else {\n      const requestBody = {\n        filters: { 'status': '1' },\n      };\n      return combineLatest(\n        this.courseBatchService.getUserList(requestBody),\n        this.courseConsumptionService.getCourseHierarchy(this.courseId),\n        this.courseBatchService.getUpdateBatchDetails(this.batchId),\n        this.courseBatchService.getParticipantList(\n          { 'request': { 'batch': { 'batchId': this.batchId } } }),\n        (userDetails, courseDetails, batchDetails, participantList) => (\n          { userDetails, courseDetails, batchDetails, participantList }\n        ));\n    }\n  }\n  private isSubmitBtnDisable(batchForm): boolean {\n    const batchFormControls = ['name', 'description', 'enrollmentType', 'mentors', 'startDate', 'endDate', 'users'];\n    for (let i = 0; i < batchFormControls.length; i++) {\n      if (batchForm.controls[batchFormControls[i]].status !== 'VALID') {\n        return true;\n      }\n    }\n    if (batchForm.controls['enrollmentEndDate'].status !== 'VALID' && batchForm.controls['enrollmentEndDate'].pristine) {\n      return false;\n    }\n    return true;\n  }\n  /**\n  * initializes form fields and apply field level validation\n  */\n  private initializeUpdateForm(): void {\n    this.isCertificateIssued = _.get(this.batchDetails, 'cert_templates') &&\n    Object.keys(_.get(this.batchDetails, 'cert_templates')).length ? 'yes' : 'no';\n    const endDate = this.batchDetails.endDate ? new Date(this.batchDetails.endDate) : null;\n    const enrollmentEndDate = this.batchDetails.enrollmentEndDate ? new Date(this.batchDetails.enrollmentEndDate) : null;\n    if (!dayjs(this.batchDetails.startDate).isBefore(dayjs(this.pickerMinDate).format('YYYY-MM-DD'))) {\n      this.pickerMinDateForEnrollmentEndDate = new Date(new Date(this.batchDetails.startDate).setHours(0, 0, 0, 0));\n    } else {\n      this.pickerMinDateForEnrollmentEndDate = this.pickerMinDate;\n    }\n\n    this.batchUpdateForm = new FormGroup({\n      name: new FormControl(this.batchDetails.name, [Validators.required]),\n      description: new FormControl(this.batchDetails.description),\n      enrollmentType: new FormControl(this.batchDetails.enrollmentType, [Validators.required]),\n      startDate: new FormControl(new Date(this.batchDetails.startDate), [Validators.required]),\n      endDate: new FormControl(endDate),\n      mentors: new FormControl(),\n      users: new FormControl(),\n      enrollmentEndDate: new FormControl(enrollmentEndDate),\n      issueCertificate: new FormControl(this.isCertificateIssued, [Validators.required]),\n      enableDiscussions: new FormControl(this.isEnableDiscussions, [Validators.required])\n    });\n\n    this.batchUpdateForm.get('startDate').valueChanges.subscribe(value => {\n      const startDate: any = dayjs(value);\n      if (startDate.isValid()) {\n        if (!dayjs(startDate).isBefore(dayjs(this.pickerMinDate).format('YYYY-MM-DD'))) {\n          this.pickerMinDateForEnrollmentEndDate = new Date(new Date(startDate).setHours(0, 0, 0, 0));\n        } else {\n          this.pickerMinDateForEnrollmentEndDate = this.pickerMinDate;\n        }\n      }\n    });\n\n    this.batchUpdateForm.valueChanges.subscribe(val => {\n      if (this.batchUpdateForm.status === 'VALID') {\n        this.disableSubmitBtn = false;\n      } else {\n        this.disableSubmitBtn = this.isSubmitBtnDisable(this.batchUpdateForm);\n      }\n    });\n    this.disableSubmitBtn = true;\n    if (this.batchDetails.createdBy !== this.userService.userid) {\n      this.showFormInViewMode = true;\n      this.batchUpdateForm.disable();\n    }\n  }\n  /**\n  * fetch mentors and participant details of current batch\n  */\n  private fetchParticipantDetails() {\n    let userList = [];\n    if (this.batchDetails.participants || (this.batchDetails.mentors && this.batchDetails.mentors.length > 0)) {\n      if (this.batchDetails.enrollmentType !== 'open') {\n        if (this.batchDetails.participants && this.batchDetails.participants.length > 100) {\n          userList = this.batchDetails.mentors;\n        } else {\n          userList = _.union(this.batchDetails.participants, this.batchDetails.mentors);\n        }\n      } else {\n        userList = this.batchDetails.mentors;\n      }\n      if (!userList.length) {\n        this.showLoader = false;\n        this.disableSubmitBtn = false;\n        return ;\n      }\n\n      const request = {\n        filters: {\n          identifier: userList\n        },\n        limit : userList.length\n      };\n      this.courseBatchService.getUserList(request).pipe(takeUntil(this.unsubscribe))\n        .subscribe((res) => {\n          this.processParticipantDetails(res);\n        }, (err) => {\n          if (err.error && err.error.params.errmsg) {\n            this.toasterService.error(err.error.params.errmsg);\n          } else {\n            this.toasterService.error(this.resourceService.messages.fmsg.m0056);\n          }\n          this.redirect();\n        });\n    } else {\n      this.showLoader = false;\n      this.disableSubmitBtn = false;\n    }\n  }\n  private processParticipantDetails(res) {\n    const users = this.sortUsers(res);\n    const participantList = users.participantList;\n    const mentorList = users.mentorList;\n    _.forEach(this.batchDetails.participants, (value, key) => {\n      const user = _.find(participantList, ['id', value]);\n      if (user) {\n        this.selectedParticipants.push(user);\n      }\n    });\n    _.forEach(this.batchDetails.mentors, (value, key) => {\n      const mentor = _.find(mentorList, ['id', value]);\n      if (mentor) {\n        this.selectedMentors.push(mentor);\n      }\n    });\n    this.selectedParticipants = _.uniqBy(this.selectedParticipants, 'id');\n    this.selectedMentors = _.uniqBy(this.selectedMentors, 'id');\n    this.disableSubmitBtn = false;\n    this.showLoader = false;\n  }\n  private sortUsers(res) {\n    const participantList = [];\n    const mentorList = [];\n    if (res.result.response.content && res.result.response.content.length > 0) {\n      _.forEach(res.result.response.content, (userData) => {\n        if (_.find(this.selectedMentors, { 'id': userData.identifier }) ||\n          _.find(this.selectedParticipants, { 'id': userData.identifier })) {\n          return;\n        }\n        if (userData.identifier !== this.userService.userid) {\n          const user = {\n            id: userData.identifier,\n            name: userData.firstName + (userData.lastName ? ' ' + userData.lastName : ''),\n            avatar: userData.avatar,\n            otherDetail: this.getUserOtherDetail(userData)\n          };\n          _.forEach(userData.roles, (roles) => {\n            if (roles.role === 'COURSE_MENTOR') {\n              mentorList.push(user);\n            }\n          });\n          participantList.push(user);\n        }\n      });\n    }\n    return {\n      participantList: _.uniqBy(participantList, 'id'),\n      mentorList: _.uniqBy(mentorList, 'id')\n    };\n  }\n\n  private getUserListWithQuery(query, type) {\n    if (this.userSearchTime) {\n      clearTimeout(this.userSearchTime);\n    }\n    this.userSearchTime = setTimeout(() => {\n      this.getUserList(query, type);\n    }, 1000);\n  }\n  private initDropDown() {\n    const count = _.get(this.batchDetails, 'participants') ? _.get(this.batchDetails, 'participants.length') : 0;\n    this.lazzyLoadScriptService.loadScript('semanticDropdown.js').subscribe(() => {\n      $('#participant').dropdown({\n        forceSelection: false,\n        fullTextSearch: true,\n        maxSelections: 100 - count,\n        message: {\n          maxSelections : this.resourceService.messages.imsg.m0047\n        },\n        onAdd: () => {\n        }\n      });\n      if (!$('#mentors input.search').val()) {\n        $('#mentors').dropdown({\n          fullTextSearch: true,\n          forceSelection: false,\n          onAdd: () => {\n          }\n        });\n      }\n      $('#mentors input.search').attr('aria-label', 'select batch mentor'); // fix accessibility on screen reader\n      $('#participant input.search').on('keyup', (e) => {\n        this.getUserListWithQuery($('#participant input.search').val(), 'participant');\n      });\n      $('#mentors input.search').on('keyup', (e) => {\n        this.getUserListWithQuery($('#mentors input.search').val(), 'mentor');\n      });\n    });\n  }\n  /**\n  *  api call to get user list\n  */\n  private getUserList(query: string = '', type) {\n    const requestBody = {\n      filters: {'status': '1'},\n      query: query\n    };\n    this.courseBatchService.getUserList(requestBody,type).pipe(takeUntil(this.unsubscribe))\n      .subscribe((res) => {\n        const userList = this.sortUsers(res);\n        if (type === 'participant') {\n          this.participantList = userList.participantList;\n        } else {\n          this.mentorList = userList.mentorList;\n        }\n      },\n        (err) => {\n          if (err.error && err.error.params.errmsg) {\n            this.toasterService.error(err.error.params.errmsg);\n          } else {\n            this.toasterService.error(this.resourceService.messages.fmsg.m0056);\n          }\n        });\n  }\n\n  public removeMentor(mentor: any) {\n    _.remove(this.selectedMentors, (data) => {\n      return data === mentor;\n    });\n  }\n\n  public removeParticipant(user: any) {\n    if (user && user.id) {\n      this.removedUsers.push(user.id);\n    }\n    _.remove(this.selectedParticipants, (data) => {\n      return data === user;\n    });\n  }\n\n  private removeParticipantFromBatch(batchId, participantId) {\n    return this.courseBatchService.removeUsersFromBatch(participantId,batchId, this.courseId);\n  }\n\n  private addParticipantToBatch(batchId, participantId) {\n    return this.courseBatchService.addUsersToBatch(participantId, batchId,this.courseId);\n  }\n\n  public updateBatch() {\n    this.disableSubmitBtn = true;\n    let participants = [];\n    const selectedMentors = [];\n    let mentors = [];\n    mentors = $('#mentors').dropdown('get value') ? $('#mentors').dropdown('get value').split(',') : [];\n    if (this.batchUpdateForm.value.enrollmentType !== 'open') {\n      participants = $('#participant').dropdown('get value') ? $('#participant').dropdown('get value').split(',') : [];\n    }\n    participants = participants.filter(participantId => !mentors.some(mentorId => mentorId == participantId));\n    if ((this.selectedMentors).length > 0) {\n      _.forEach(this.selectedMentors, (obj) => {\n        selectedMentors.push(obj.id);\n      });\n    }\n    mentors = _.concat(mentors, selectedMentors);\n    const startDate = dayjs(this.batchUpdateForm.value.startDate).format('YYYY-MM-DD');\n    const endDate = this.batchUpdateForm.value.endDate && dayjs(this.batchUpdateForm.value.endDate).format('YYYY-MM-DD');\n    const requestBody = {\n      id: this.batchId,\n      courseId: this.courseId,\n      name: this.batchUpdateForm.value.name,\n      description: this.batchUpdateForm.value.description,\n      enrollmentType: this.batchUpdateForm.value.enrollmentType,\n      startDate: startDate,\n      endDate: endDate || null,\n      createdFor: this.userService.userProfile.organisationIds,\n      mentors: _.compact(mentors)\n    };\n    if (this.batchUpdateForm.value.enrollmentType === 'open' && this.batchUpdateForm.value.enrollmentEndDate) {\n      requestBody['enrollmentEndDate'] = dayjs(this.batchUpdateForm.value.enrollmentEndDate).format('YYYY-MM-DD');\n    }\n    const selected = [];\n    _.forEach(this.selectedMentors, (value) => {\n      selected.push(value.id);\n    });\n    requestBody['mentors'] = _.concat(_.compact(requestBody['mentors']), selected);\n    const requests = [];\n    requests.push(this.courseBatchService.updateBatch(requestBody));\n    if (this.removedUsers && this.removedUsers.length > 0) {\n      _.forEach(this.removedUsers, (id) => {\n        requests.push(this.removeParticipantFromBatch(this.batchId, id));\n      });\n    }\n    if (participants && participants.length > 0) {\n      const userRequest = {\n        userIds: _.compact(participants)\n      };\n      _.forEach(userRequest.userIds, (participantId) => {\n        requests.push(this.addParticipantToBatch(this.batchId, participantId));\n      });\n    }\n\n    forkJoin(requests).subscribe(results => {\n      // this.disableSubmitBtn = false;\n      this.toasterService.success(this.resourceService.messages.smsg.m0034);\n      this.reload();\n      this.checkIssueCertificate(this.batchId, this.batchDetails);\n      this.checkEnableDiscussions(this.batchId);\n    }, (err) => {\n      this.disableSubmitBtn = false;\n      if (err.error && err.error.params && err.error.params.errmsg) {\n        this.toasterService.error(err.error.params.errmsg);\n      } else {\n        this.toasterService.error(this.resourceService.messages.fmsg.m0052);\n      }\n    });\n  }\n\n  /**\n   * @since - release-3.2.10\n   * @param  {string} batchId\n   * @param {Object} batchDetails\n   * @description - It will emit an event;\n   */\n  checkIssueCertificate(batchId, batchDetails?: any) {\n    let isCertInBatch = true;\n    if (batchDetails && _.get(batchDetails, 'cert_templates')) {\n      isCertInBatch = _.isEmpty(_.get(batchDetails, 'cert_templates')) ? false : true;\n    }\n    this.courseBatchService.updateEvent.emit({ event: 'issueCert', value: this.batchUpdateForm.value.issueCertificate,\n    mode: 'edit', batchId: batchId , isCertInBatch : isCertInBatch});\n  }\n  public redirect() {\n    this.router.navigate(['./'], { relativeTo: this.activatedRoute.parent });\n  }\n  private reload() {\n    setTimeout(() => {\n      this.courseBatchService.updateEvent.emit({ event: 'update' });\n      this.router.navigate(['./'], { relativeTo: this.activatedRoute.parent });\n    }, 1000);\n  }\n\n  private getUserOtherDetail(userData) {\n    if (userData.maskedEmail && userData.maskedPhone) {\n      return ' (' + userData.maskedEmail + ', ' + userData.maskedPhone + ')';\n    }\n    if (userData.maskedEmail && !userData.maskedPhone) {\n      return ' (' + userData.maskedEmail + ')';\n    }\n    if (!userData.maskedEmail && userData.maskedPhone) {\n      return ' (' + userData.maskedPhone + ')';\n    }\n  }\n\n  ngAfterViewInit () {\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env\n        },\n        edata: {\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          uri: this.router.url,\n          duration: this.navigationhelperService.getPageLoadTime()\n        },\n        object: {\n          id: this.activatedRoute.snapshot.params.batchId,\n          type: this.activatedRoute.snapshot.data.telemetry.object.type,\n          ver: this.activatedRoute.snapshot.data.telemetry.object.ver,\n          rollup: {\n            l1: this.activatedRoute.snapshot.params.courseId,\n            l2: this.activatedRoute.snapshot.params.batchId\n          }\n        }\n      };\n    });\n  }\n  setTelemetryInteractData() {\n    this.updateBatchInteractEdata = {\n      id: 'update-batch',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n    this.clearButtonInteractEdata = {\n      id: 'clear-button',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n    this.telemetryInteractObject = {\n      id: this.batchId,\n      type: this.activatedRoute.snapshot.data.telemetry.object.type,\n      ver: this.activatedRoute.snapshot.data.telemetry.object.ver\n    };\n  }\n  setTelemetryCData(cdata: []) {\n    this.telemetryCdata = _.unionBy(this.telemetryCdata, cdata, 'id');\n  }\n  ngOnDestroy() {\n    if (this.updateBatchModal && this.updateBatchModal.deny) {\n      this.updateBatchModal.deny();\n    }\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n  resetForm() {\n    if (this.batchDetails.status === 1) {\n      this.batchUpdateForm.controls['name'].reset();\n      this.batchUpdateForm.controls['description'].reset();\n      this.batchUpdateForm.controls['enrollmentEndDate'].reset();\n      this.batchUpdateForm.controls['endDate'].reset();\n    } else {\n      this.batchUpdateForm.reset();\n    }\n  }\n\n  getEnabledForumId() {\n    this.discussionCsService.getForumIds(this.fetchForumIdReq).subscribe(forumDetails => {\n      this.forumIds = _.map(_.get(forumDetails, 'result'), 'cid');\n      this.isEnableDiscussions = (this.forumIds && this.forumIds.length > 0) ? 'true' : 'false';\n      if (this.isEnableDiscussions === 'true') {\n        this.callCreateDiscussion = false;\n      }\n      this.initializeUpdateForm();\n    }, error => {\n      this.toasterService.error(this.resourceService.messages.emsg.m0005);\n    });\n  }\n\n  generateDataForDF() {\n    this.fetchForumIdReq = {\n      type: 'batch',\n      identifier: [this.batchId]\n    };\n  }\n\n  fetchForumConfig() {\n    this.fetchForumConfigReq = [{\n      type: 'batch',\n      identifier: this.batchId\n  }];\n    const subType = 'batch';\n    this.discussionService.fetchForumConfig(subType).subscribe((formData: any) => {\n      this.createForumRequest = formData[0];\n      this.createForumRequest['category']['context'] =  this.fetchForumConfigReq;\n    }, error => {\n      this.toasterService.error(this.resourceService.messages.emsg.m0005);\n    });\n  }\n\n  checkEnableDiscussions(batchId) {\n    if (this.batchUpdateForm.value.enableDiscussions === 'true') {\n      this.enableDiscussionForum();\n    } else {\n      this.disableDiscussionForum(batchId);\n    }\n  }\n\n  enableDiscussionForum() {\n    if (this.createForumRequest && this.callCreateDiscussion) {\n      this.discussionService.createForum(this.createForumRequest).subscribe(resp => {\n        this.handleInputChange('enable-DF-yes');\n        location.reload();\n        this.toasterService.success(_.get(this.resourceService, 'messages.smsg.m0065'));\n      }, error => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0005);\n      });\n    }\n  }\n\n  disableDiscussionForum(batchId) {\n    if (this.forumIds && this.forumIds.length > 0) {\n      const requestBody = {\n        'sbType': 'batch',\n        'sbIdentifier': batchId,\n        'cid': this.forumIds\n      };\n      this.discussionService.removeForum(requestBody).subscribe(resp => {\n        this.handleInputChange('enable-DF-no');\n        location.reload();\n        this.toasterService.success(_.get(this.resourceService, 'messages.smsg.m0066'));\n      }, error => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0005);\n      });\n    }\n  }\n\n  handleInputChange(inputId) {\n    const telemetryData = {\n      context: {\n        env:  this.activatedRoute.snapshot.data.telemetry.env,\n        cdata: [{\n          id: this.courseId,\n          type: 'Course'\n        }, {\n          id: this.batchId,\n          type: 'Batch'\n        }]\n      },\n      edata: {\n        id: inputId,\n        type: 'click',\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n      }\n    };\n    this.telemetryService.interact(telemetryData);\n  }\n  getSelectedMembers() {\n    if(this.batchUpdateForm.value.enrollmentType !== 'open'){\n      return $('#mentors').dropdown('get value') ? $('#mentors').dropdown('get value').split(',') : [];\n    } else {\n      return [];\n    }\n  }\n  checkList(field){\n    if(field =='mentor' ){\n      this.disableSubmitBtn = true;\n      console.log(typeof($('#mentors').dropdown('get value')))\n    }else if(field =='participant'){\n      this.disableSubmitBtn = true;\n\n    }\n\n  }  \n  \n}\n","<app-modal-wrapper *ngIf=\"showCreateModal\"\n  [config]=\"{disableClose: true, size: 'normal', panelClass: ['overflow-visible', 'material-modal']}\" (dismiss)=\"redirect()\"\n  #createBatchModel>\n  <ng-template sbModalContent>\n    <div class=\"sb-mat__modal\">\n\n      <!--Header-->\n      <div mat-dialog-title class=\"mb-0\">\n        <div class=\"title\">\n          {{resourceService?.frmelmnts.lbl.createnewbatch}}\n        </div>\n        <button aria-label=\"close dialog\" mat-dialog-close class=\"close-btn\"></button>\n      </div>\n      <!--/Header-->\n\n      <!--Content-->\n      <div class=\"sb-mat__modal__content\" [appTelemetryImpression]=\"telemetryImpression\">\n        <form [formGroup]=\"createBatchForm\" class=\"sb-form batchAddUserForm pt-8 px-8\">\n          <div class=\"sb-color-primary font-weight-bold pb-24\">Batch Details</div>\n          <div class=\"ui stackable grid\">\n            <div class=\"eight wide column\">\n              <div class=\"sb-field-group\"\n                [ngClass]=\"createBatchForm.controls['name'].invalid && createBatchForm.controls['name'].errors.required && !createBatchForm.controls['name'].pristine ? 'error': ''\">\n                <label class=\"required\">{{resourceService?.frmelmnts?.lbl?.batchname}}</label>\n                <div class=\"sb-field\">\n                  <input type=\"text\" name=\"name\" formControlName=\"name\" class=\"sb-form-control\" autofocus>\n                </div>\n                <div class=\"mt-0 mb-8 ui pointing red basic label below\"\n                  *ngIf=\"createBatchForm.controls.name.invalid && createBatchForm.controls['name'].errors.required && !createBatchForm.controls['name'].pristine\">\n                  {{resourceService?.messages?.stmsg?.m0114}}\n                </div>\n              </div>\n            </div>\n            <div class=\"sb-field-group\">\n              <div class=\"four wide column\">\n                <div>\n                  <label class=\"required\">{{resourceService?.frmelmnts?.cert?.lbl?.issueCertificate}}</label>\n                  <div class=\"d-flex py-8 flex-w-wrap\">\n                    <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n                      <input (change)=\"handleInputChange('issue-certificate-yes', undefined)\"\n                        formControlName=\"issueCertificate\" value=\"yes\" type=\"radio\" id=\"yes\">\n                      <label for=\"yes\">{{resourceService?.frmelmnts?.btn?.yes}}</label>\n                    </div>\n                    <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n                      <input (change)=\"handleInputChange('issue-certificate-no', undefined)\"\n                        formControlName=\"issueCertificate\" value=\"no\" type=\"radio\" id=\"no\">\n                      <label for=\"no\">{{resourceService?.frmelmnts?.btn?.no}}</label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"ui stackable grid mt-0\">\n            <div class=\"eight wide column\">\n              <div class=\"sb-field-group\">\n                <div class=\"sb-field\">\n                  <label>{{resourceService?.frmelmnts?.lbl?.aboutbatch}}</label>\n                  <textarea rows=\"4\" name=\"description\" formControlName=\"description\"\n                    class=\"sb-form-control\"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class=\"four wide column\">\n              <div *ngIf=\"showDiscussionForum === 'Yes'\">\n                <label>{{resourceService?.frmelmnts?.lbl?.enableDiscussions}}</label>\n                <div class=\"d-flex py-8 flex-w-wrap\">\n                  <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n                    <input formControlName=\"enableDiscussions\" type=\"radio\" id=\"true\" value=\"true\">\n                    <label for=\"true\">{{resourceService?.frmelmnts?.btn?.yes}}</label>\n                  </div>\n                  <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n                    <input formControlName=\"enableDiscussions\" type=\"radio\" id=\"false\" value=\"false\">\n                    <label for=\"false\">{{resourceService?.frmelmnts?.btn?.no}}</label>\n                  </div>\n                </div>\n              </div>\n              <div class=\"d-flex flex-dc flex-w-wrap\" *ngIf=\"courseCreator\">\n                <div class=\"mr-8\">\n                  <label for=\"Enrollment Type\">{{resourceService?.frmelmnts?.lbl?.natureofbatch}}</label>\n                </div>\n                <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary py-8\">\n                  <input id=\"create-open\" type=\"radio\" value='open' name=\"enrollmentType\"\n                    formControlName=\"enrollmentType\" (change)=\"handleBatchTypeInputChange()\">\n                  <label for=\"create-open\">{{resourceService?.frmelmnts?.lbl?.open}}</label>\n                </div>\n                <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary py-8\">\n                  <input id=\"invite-only\" type=\"radio\" value='invite-only' name=\"enrollmentType\" formControlName=\"enrollmentType\" (change)=\"handleBatchTypeInputChange()\">\n                  <label for=\"invite-only\">{{resourceService?.frmelmnts?.lbl?.inviteonly}}</label>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"d-flex flex-w-wrap my-16\">\n            <div class=\"sb-field-group pr-8\"\n              [ngClass]=\"createBatchForm.controls['startDate'].invalid && createBatchForm.controls['startDate'].errors.required && !createBatchForm.controls['startDate'].pristine ? 'error': ''\">\n              <label class=\"required\">{{resourceService?.frmelmnts?.lbl?.startdate}}</label>\n              <div class=\"ui read-only calendar rangestartAdd\" id=\"rangestartAdd\">\n                <mat-form-field appearance=\"fill\" class=\"sb-mat__datepicker\">\n                  <mat-label>{{resourceService?.frmelmnts?.lbl?.startdate}}</mat-label>\n                  <input matInput [matDatepicker]=\"startPicker\" formControlName=\"startDate\" [min]=\"pickerMinDate\">\n                  <mat-datepicker-toggle matSuffix [for]=\"startPicker\"></mat-datepicker-toggle>\n                  <mat-datepicker #startPicker></mat-datepicker>\n                </mat-form-field>\n              </div>\n              <div class=\"mt-0 mb-8 ui pointing red basic label below\"\n                *ngIf=\"createBatchForm.controls.startDate.invalid && createBatchForm.controls['startDate'].errors.required && !createBatchForm.controls['startDate'].pristine\">\n                {{resourceService?.messages?.stmsg?.m0113}}\n              </div>\n            </div>\n            <div class=\"sb-field-group\">\n              <label>{{resourceService?.frmelmnts?.lbl?.enddate}}</label>\n              <div apply-script class=\"ui calendar rangeendAdd\" id=\"rangeendAdd\">\n                <mat-form-field appearance=\"fill\" class=\"sb-mat__datepicker\">\n                  <mat-label>{{resourceService?.frmelmnts?.lbl?.enddate}}</mat-label>\n                  <input matInput [matDatepicker]=\"endDatePicker\" formControlName=\"endDate\"\n                    [min]=\"getPickerMinDateForEndDate()\">\n                  <mat-datepicker-toggle matSuffix [for]=\"endDatePicker\"></mat-datepicker-toggle>\n                  <mat-datepicker #endDatePicker></mat-datepicker>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"sb-field-group pl-8\" *ngIf=\"createBatchForm.value.enrollmentType === 'open'\"\n              [ngClass]=\"(createBatchForm.controls['enrollmentEndDate'].invalid && !createBatchForm.controls['enrollmentEndDate'].pristine) ? 'error': ''\">\n              <label>{{resourceService?.frmelmnts?.lbl?.enrollmentenddate | uppercase}}</label>\n              <div class=\"ui read-only calendar rangeenrollMentEnd\" id=\"rangeenrollMentEnd\">\n                <mat-form-field appearance=\"fill\" class=\"sb-mat__datepicker\" [ngClass]=\"{'disabled': !createBatchForm.value.startDate}\"\n                  (click)=\"setTelemetryCData([{id:'course:enrollment:endDate',type:'Feature'},{id:'SB-13073',type:'Task'}])\">\n                  <mat-label>{{resourceService?.frmelmnts?.lbl?.enrollmentenddate}}</mat-label>\n                  <input matInput [matDatepicker]=\"enrollmentEndDatePicker\" formControlName=\"enrollmentEndDate\"\n                    [min]=\"createBatchForm.value.startDate\" [max]=\"createBatchForm.value.endDate\">\n                  <mat-datepicker-toggle matSuffix [for]=\"enrollmentEndDatePicker\"></mat-datepicker-toggle>\n                  <mat-datepicker #enrollmentEndDatePicker></mat-datepicker>\n                </mat-form-field>\n              </div>\n              <div class=\"mt-0 mb-8 ui pointing red basic label below\"\n                *ngIf=\"createBatchForm.controls['enrollmentEndDate'].invalid && !createBatchForm.controls['enrollmentEndDate'].pristine? 'error': ''\">\n                {{resourceService?.messages?.stmsg?.m0135}}\n              </div>\n            </div>\n          </div>\n          <div class=\"sb-field-group mb-8\">\n            <label>{{resourceService?.frmelmnts?.lbl?.batchmentors}}</label>\n            <div class=\"createbatchdropdown ui fluid multiple search selection dropdown\" id=\"mentors\"\n              ng-class=\"batch.isUserSearch === 1 ? 'loading' : undefined\">\n              <input id=\"mentorSelList\" aria-label=\"mentor list\">\n              <i class=\"dropdown icon\"></i>\n              <div class=\"default text\">{{resourceService?.frmelmnts?.intxt?.t0005}}</div>\n              <div class=\"menu\">\n                <div class=\"item\" [attr.data-value]=\"mentor.id\" *ngFor=\"let mentor of mentorList\">\n                  <img class=\"ui mini avatar image\"\n                    src=\"{{mentor.avatar || 'assets/images/user_logo.png' | cdnprefixurl}}\" alt=\"avatar image\">\n                  {{mentor.name}}{{mentor.otherDetail}}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"sb-field-group \" [hidden]=\"createBatchForm.value.enrollmentType === 'open'\">\n            <label>{{resourceService?.frmelmnts?.lbl?.bacthmembers}}</label>\n            <div class=\"createbatchdropdown ui fluid multiple search selection dropdown\" id=\"participants\"\n              ng-class=\"batch.isUserSearch === 1 ? 'loading' : undefined\">\n              <input id=\"userSelList\">\n              <i class=\"dropdown icon\"></i>\n              <div class=\"default text\">{{resourceService?.frmelmnts?.intxt?.t0006}}</div>\n              <div class=\"menu\">\n                <div class=\"item\" *ngFor=\"let user of participantList | participants : getSelectedMembers()\" [attr.data-value]=\"user.id\">\n                  <img class=\"ui mini avatar image\"\n                    src=\"{{user.avatar || 'assets/images/user_logo.png' | cdnprefixurl}}\" alt=\"avatar image\">\n                  {{user.name}}{{user.otherDetail}}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"sb-field mt-24 mb-8\">\n            <label class=\"d-flex flex-ai-center\">\n              <input type=\"checkbox\" formControlName=\"tncCheck\" role=\"checkbox\" class=\"mr-8 cursor-pointer\">\n              <span class=\"font-weight-normal fnormal\">\n                {{resourceService?.frmelmnts?.lbl?.agreeCourseToc | interpolate:'{instance}': instance }}<a\n                  href=\"{{url}}/term-of-use.html#courseGuidelines\" target=\"_blank\"\n                  class=\"sb-color-primary\">{{resourceService?.frmelmnts?.lbl?.courseGuidelines}}</a></span>\n            </label>\n            <small class=\"line-height-normal d-block message sb-color-error font-weight-bold mt-8 pl-20\"\n              *ngIf=\"!createBatchForm.get('tncCheck').valid && this.createBatchForm.get('tncCheck').dirty\">{{resourceService?.frmelmnts?.lbl?.courseToc}}</small>\n          </div>\n\n        </form>\n      </div>\n      <!--/Content-->\n\n      <!--Actions-->\n      <div class=\"sb-mat__modal__actions\">\n\n        <button appTelemetryInteract [telemetryInteractObject]=\"telemetryInteractObject\" tabindex=\"0\"\n          [telemetryInteractEdata]=\"clearButtonInteractEdata\" [telemetryInteractCdata]=\"telemetryCdata\"\n          class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-8\" (click)=\"createBatchForm.reset(); clearList();\">\n          {{resourceService?.frmelmnts?.btn?.clear}}\n        </button>\n\n        <button class=\"sb-btn sb-btn-normal sb-btn-primary\" tabindex=\"0\"\n          [ngClass]=\"{'sb-btn-disabled': !createBatchForm.valid || disableSubmitBtn}\" id=\"submitbutton\"\n          [disabled]=\"!createBatchForm.valid || disableSubmitBtn\" (click)=\"createBatch()\" appTelemetryInteract\n          [telemetryInteractObject]=\"telemetryInteractObject\" [telemetryInteractEdata]=\"createBatchInteractEdata\"\n          [telemetryInteractCdata]=\"telemetryCdata\">\n          {{resourceService?.frmelmnts?.btn?.create}}\n        </button>\n\n      </div>\n      <!--/Actions-->\n\n    </div>\n  </ng-template>\n</app-modal-wrapper>","import { Component, OnInit, ViewChild, OnDestroy, AfterViewInit } from '@angular/core';\nimport { takeUntil, mergeMap } from 'rxjs/operators';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RouterNavigationService, ResourceService, ToasterService, NavigationHelperService } from '@sunbird/shared';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { UserService } from '@sunbird/core';\nimport { CourseConsumptionService, CourseBatchService } from './../../../services';\nimport { IImpressionEventInput, IInteractEventEdata, IInteractEventObject, TelemetryService } from '@sunbird/telemetry';\nimport * as _ from 'lodash-es';\nimport dayjs from 'dayjs';\nimport { Subject, combineLatest, forkJoin } from 'rxjs';\nimport { LazzyLoadScriptService } from 'LazzyLoadScriptService';\nimport { ConfigService } from '@sunbird/shared';\nimport { CsModule } from '@project-sunbird/client-services';\nimport { CsLibInitializerService } from '../../../../../service/CsLibInitializer/cs-lib-initializer.service';\nimport { DiscussionService } from '../../../../../../app/modules/discussion/services/discussion/discussion.service';\n\n@Component({\n  selector: 'app-create-batch',\n  templateUrl: './create-batch.component.html'\n})\nexport class CreateBatchComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  @ViewChild('createBatchModel') private createBatchModel;\n\n  private userSearchTime: any;\n\n  showCreateModal = false;\n\n  disableSubmitBtn = false;\n\n  private courseId: string;\n  /**\n  * courseCreator\n  */\n  courseCreator = false;\n  /**\n  * participantList for mentorList\n  */\n  participantList = [];\n\n  public selectedParticipants: any = [];\n\n  public selectedMentors: any = [];\n  /**\n  * batchData for form\n  */\n  batchData: any;\n  /**\n  * mentorList for mentors in the batch\n  */\n  mentorList: Array<any> = [];\n  /**\n   * form group for batchAddUserForm\n  */\n  createBatchForm: FormGroup;\n  /**\n  * To navigate to other pages\n  */\n  router: Router;\n  /**\n   * To send activatedRoute.snapshot to router navigation\n   * service for redirection to update batch  component\n  */\n  private activatedRoute: ActivatedRoute;\n  /**\n  * Reference of UserService\n  */\n  private userService: UserService;\n  /**\n  * Reference of UserService\n  */\n  private courseBatchService: CourseBatchService;\n  /**\n  * To call resource service which helps to use language constant\n  */\n  public resourceService: ResourceService;\n  /**\n  * To show toaster(error, success etc) after any API calls\n  */\n  private toasterService: ToasterService;\n  /**\n\t * telemetryImpression object for create batch page\n\t*/\n  telemetryImpression: IImpressionEventInput;\n\n  public unsubscribe = new Subject<void>();\n\n  public courseConsumptionService: CourseConsumptionService;\n\n  pickerMinDate = new Date(new Date().setHours(0, 0, 0, 0));\n\n  createBatchInteractEdata: IInteractEventEdata;\n  telemetryInteractObject: IInteractEventObject;\n  clearButtonInteractEdata: IInteractEventEdata;\n  telemetryCdata: Array<{}> = [];\n  url = document.location.origin;\n  instance: string;\n\n  private discussionCsService: any;\n  createForumRequest: any;\n  showDiscussionForum: string;\n\n  /**\n\t * Constructor to create injected service(s) object\n\t * @param {RouterNavigationService} routerNavigationService Reference of routerNavigationService\n   * @param {Router} router Reference of Router\n   * @param {ActivatedRoute} activatedRoute Reference of ActivatedRoute\n   * @param {UserService} UserService Reference of UserService\n  */\n  constructor(routerNavigationService: RouterNavigationService,\n    activatedRoute: ActivatedRoute,\n    route: Router,\n    resourceService: ResourceService, userService: UserService,\n    courseBatchService: CourseBatchService,\n    toasterService: ToasterService,\n    public configService: ConfigService,\n    courseConsumptionService: CourseConsumptionService,\n    public navigationhelperService: NavigationHelperService, private lazzyLoadScriptService: LazzyLoadScriptService,\n    private telemetryService: TelemetryService,\n    private csLibInitializerService: CsLibInitializerService,\n    private discussionService: DiscussionService) {\n    this.resourceService = resourceService;\n    this.router = route;\n    this.activatedRoute = activatedRoute;\n    this.userService = userService;\n    this.courseBatchService = courseBatchService;\n    this.toasterService = toasterService;\n    this.courseConsumptionService = courseConsumptionService;\n    if (!CsModule.instance.isInitialised) {\n      this.csLibInitializerService.initializeCs();\n    }\n    this.discussionCsService = CsModule.instance.discussionService;\n  }\n\n  /**\n   * Initialize form fields and getuserlist\n  */\n  ngOnInit() {\n    this.instance = _.upperCase(this.resourceService.instance);\n    this.activatedRoute.parent.params.pipe(mergeMap((params) => {\n      this.courseId = params.courseId;\n      this.initializeFormFields();\n      this.setTelemetryInteractData();\n      this.showCreateModal = true;\n      return this.fetchBatchDetails();\n    }),\n      takeUntil(this.unsubscribe))\n      .subscribe((data) => {\n        this.showDiscussionForum = _.get(data.courseDetails, 'discussionForum.enabled');\n        if (this.showDiscussionForum === 'Yes') {\n          this.fetchForumConfig();\n        }\n        if (data.courseDetails.createdBy === this.userService.userid) {\n          this.courseCreator = true;\n        }\n        const userList = this.sortUsers(data.userDetails);\n        this.participantList = userList.participantList;\n        this.mentorList = userList.mentorList;\n        this.initDropDown();\n      }, (err) => {\n        if (err.error && err.error?.params?.errmsg) {\n          this.toasterService.error(err.error.params.errmsg);\n        } else {\n          this.toasterService.error(this.resourceService.messages.fmsg.m0056);\n        }\n        this.redirect();\n      });\n  }\n\n  private fetchBatchDetails() {\n    const requestBody = {\n      filters: {'status': '1'},\n    };\n    return combineLatest(\n      this.courseBatchService.getUserList(requestBody),\n      this.courseConsumptionService.getCourseHierarchy(this.courseId),\n      (userDetails, courseDetails) => ({ userDetails, courseDetails })\n    );\n  }\n  /**\n  * It helps to initialize form fields and apply field level validation\n  */\n  private initializeFormFields(): void {\n    this.createBatchForm = new FormGroup({\n      name: new FormControl('', [Validators.required]),\n      description: new FormControl(''),\n      enrollmentType: new FormControl('open', [Validators.required]),\n      startDate: new FormControl(null, [Validators.required]),\n      endDate: new FormControl(),\n      mentors: new FormControl(),\n      users: new FormControl(),\n      enrollmentEndDate: new FormControl(),\n      issueCertificate: new FormControl(null, [Validators.required]),\n      tncCheck: new FormControl(false, [Validators.requiredTrue]),\n      enableDiscussions: new FormControl('false', [Validators.required])\n    });\n  }\n  private sortUsers(res) {\n    const participantList = [];\n    const mentorList = [];\n    if (res.result.response.content && res.result.response.content.length > 0) {\n      _.forEach(res.result.response.content, (userData) => {\n        if ( _.includes(this.selectedMentors , userData.identifier) ||\n          _.includes(this.selectedParticipants , userData.identifier)) {\n          return;\n        }\n        if (userData.identifier !== this.userService.userid) {\n          const user = {\n            id: userData.identifier,\n            name: userData.firstName + (userData.lastName ? ' ' + userData.lastName : ''),\n            avatar: userData.avatar,\n            otherDetail: this.getUserOtherDetail(userData)\n          };\n          _.forEach(userData.roles, (roles) => {\n            if (roles.role === 'COURSE_MENTOR') {\n              mentorList.push(user);\n            }\n          });\n          participantList.push(user);\n        }\n      });\n    }\n    return {\n      participantList: _.uniqBy(participantList, 'id'),\n      mentorList: _.uniqBy(mentorList, 'id')\n    };\n  }\n\n  public createBatch() {\n    this.disableSubmitBtn = true;\n    let participants = [];\n    let mentors = [];\n    mentors = $('#mentors').dropdown('get value') ? $('#mentors').dropdown('get value').split(',') : [];\n    if (this.createBatchForm.value.enrollmentType !== 'open') {\n      participants = $('#participants').dropdown('get value') ? $('#participants').dropdown('get value').split(',') : [];\n      participants = participants.filter(participantId => !mentors.some(mentorId => mentorId == participantId));\n    }\n    const startDate = dayjs(this.createBatchForm.value.startDate).format('YYYY-MM-DD');\n    const endDate = this.createBatchForm.value.endDate && dayjs(this.createBatchForm.value.endDate).format('YYYY-MM-DD');\n    const requestBody = {\n      courseId: this.courseId,\n      name: this.createBatchForm.value.name,\n      description: this.createBatchForm.value.description,\n      enrollmentType: this.createBatchForm.value.enrollmentType,\n      startDate: startDate,\n      endDate: endDate || null,\n      createdBy: this.userService.userid,\n      createdFor: this.userService.userProfile.organisationIds,\n      mentors: _.compact(mentors),\n      tandc : this.createBatchForm.value.tncCheck\n    };\n    if (this.createBatchForm.value.enrollmentType === 'open' && this.createBatchForm.value.enrollmentEndDate) {\n      requestBody['enrollmentEndDate'] = dayjs(this.createBatchForm.value.enrollmentEndDate).format('YYYY-MM-DD');\n    }\n    this.courseBatchService.createBatch(requestBody).pipe(takeUntil(this.unsubscribe))\n      .subscribe((response) => {\n        if (participants && participants.length > 0) {\n          this.addParticipantToBatch(response.result.batchId, participants);\n        } else {\n          this.toasterService.success(this.resourceService.messages.smsg.m0033);\n          this.reload();\n          this.checkIssueCertificate(response.result.batchId);\n          this.checkEnableDiscussions(response.result.batchId);\n        }\n      },\n        (err) => {\n          this.disableSubmitBtn = false;\n          if (err.error && err.error.params.errmsg) {\n            this.toasterService.error(err.error.params.errmsg);\n          } else {\n            this.toasterService.error(this.resourceService.messages.fmsg.m0052);\n          }\n        });\n  }\n  private addParticipantToBatch(batchId, participants) {\n    const userRequest = {\n      userIds: _.compact(participants)\n    };\n    // console.log(userRequest.userIds[0]);\n    forkJoin( \n      userRequest.userIds.map(id =>\n        this.courseBatchService.addUsersToBatch(id, batchId,this.courseId).pipe(takeUntil(this.unsubscribe))\n      )).subscribe((res) => {\n        this.toasterService.success(this.resourceService.messages.smsg.m0033);\n        this.reload();\n        this.checkIssueCertificate(batchId);\n      },\n        (err) => {\n          this.disableSubmitBtn = false;\n          if (err.error && err.error.params.errmsg) {\n            this.toasterService.error(err.error.params.errmsg);\n          } else {\n            this.toasterService.error(this.resourceService.messages.fmsg.m0053);\n          }\n        });\n  }\n  public redirect() {\n    this.createBatchModel.deny();\n    this.router.navigate(['./'], { relativeTo: this.activatedRoute.parent });\n  }\n  private reload() {\n    setTimeout(() => {\n      this.courseBatchService.updateEvent.emit({ event: 'create' });\n      this.router.navigate(['./'], { relativeTo: this.activatedRoute.parent });\n    }, 1000);\n  }\n\n  checkIssueCertificate(batchId) {\n    this.courseBatchService.updateEvent.emit({ event: 'issueCert', value: this.createBatchForm.value.issueCertificate,\n    mode: 'create', batchId: batchId });\n  }\n\n  private getUserOtherDetail(userData) {\n    if (userData.maskedEmail && userData.maskedPhone) {\n      return ' (' + userData.maskedEmail + ', ' + userData.maskedPhone + ')';\n    }\n    if (userData.maskedEmail && !userData.maskedPhone) {\n      return ' (' + userData.maskedEmail + ')';\n    }\n    if (!userData.maskedEmail && userData.maskedPhone) {\n      return ' (' + userData.maskedPhone + ')';\n    }\n  }\n  private initDropDown() {\n    this.lazzyLoadScriptService.loadScript('semanticDropdown.js').subscribe(() => {\n      $('#participants').dropdown({\n        forceSelection: false,\n        fullTextSearch: true,\n        onAdd: () => {\n        }\n      });\n      $('#mentors').dropdown({\n        fullTextSearch: true,\n        forceSelection: false,\n    });\n      $('#participants input.search').on('keyup', (e) => {\n        this.getUserListWithQuery($('#participants input.search').val(), 'participant');\n      });\n      $('#mentors input.search').on('keyup', (e) => {\n        this.getUserListWithQuery($('#mentors input.search').val(), 'mentor');\n      });\n    });\n  }\n  private getUserListWithQuery(query, type) {\n    if (this.userSearchTime) {\n      clearTimeout(this.userSearchTime);\n    }\n    this.userSearchTime = setTimeout(() => {\n      this.getUserList(query, type);\n    }, 1000);\n  }\n  /**\n  *  api call to get user list\n  */\n  private getUserList(query: string = '', type) {\n    this.selectedParticipants = $('#participants').dropdown('get value') ? $('#participants').dropdown('get value').split(',') : [];\n    this.selectedMentors = $('#mentors').dropdown('get value') ? $('#mentors').dropdown('get value').split(',') : [];\n    const requestBody = {\n      filters: {'status': '1'},\n      query: query\n    };\n    this.courseBatchService.getUserList(requestBody,type).pipe(takeUntil(this.unsubscribe))\n      .subscribe((res) => {\n        const list = this.sortUsers(res);\n        if (type === 'participant') {\n          this.participantList = list.participantList;\n        } else {\n          this.mentorList = list.mentorList;\n        }\n      },\n        (err) => {\n          if (err.error && err.error.params.errmsg) {\n            this.toasterService.error(err.error.params.errmsg);\n          } else {\n            this.toasterService.error(this.resourceService.messages.fmsg.m0056);\n          }\n        });\n  }\n  ngAfterViewInit () {\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env\n        },\n        edata: {\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          uri: this.router.url,\n          duration: this.navigationhelperService.getPageLoadTime()\n        }\n      };\n    });\n  }\n\n  setTelemetryInteractData() {\n    this.createBatchInteractEdata = {\n      id: 'create-batch',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n    this.clearButtonInteractEdata = {\n      id: 'clear-button',\n      type: 'click',\n      pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n    };\n    this.telemetryInteractObject = {\n      id: this.courseId,\n      type: this.activatedRoute.snapshot.data.telemetry.object.type,\n      ver: this.activatedRoute.snapshot.data.telemetry.object.ver\n    };\n  }\n\n  setTelemetryCData(cdata: []) {\n    this.telemetryCdata = _.unionBy(this.telemetryCdata, cdata, 'id');\n  }\n\n  ngOnDestroy() {\n    if (this.createBatchModel && this.createBatchModel.deny) {\n      this.createBatchModel.deny();\n    }\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  fetchForumConfig() {\n    this.discussionService.fetchForumConfig('batch').subscribe((formData: any) => {\n      this.createForumRequest = formData[0];\n    }, error => {\n      this.toasterService.error(this.resourceService.messages.emsg.m0005);\n    });\n  }\n\n  checkEnableDiscussions(batchId) {\n    if (this.createBatchForm.value.enableDiscussions === 'true') {\n      this.enableDiscussionForum(batchId);\n    } else {\n      this.handleInputChange('enable-DF-no', {\n        id: batchId,\n        type: 'Batch'\n      });\n    }\n  }\n\n  enableDiscussionForum(batchId) {\n    const fetchForumConfigReq = [{\n      type: 'batch',\n      identifier: batchId\n    }];\n    if (this.createForumRequest) {\n      this.createForumRequest['category']['context'] =  fetchForumConfigReq;\n      this.discussionService.createForum(this.createForumRequest).subscribe(resp => {\n        this.handleInputChange('enable-DF-yes', {\n          id: batchId,\n          type: 'Batch'\n        });\n        this.toasterService.success(_.get(this.resourceService, 'messages.smsg.m0065'));\n      }, error => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0005);\n      });\n    } else {\n      this.toasterService.error(this.resourceService.messages.emsg.m0005);\n    }\n  }\n\n  handleInputChange(inputId, cdata) {\n    const telemetryData = {\n      context: {\n        env:  this.activatedRoute.snapshot.data.telemetry.env,\n        cdata: [{\n          id: this.courseId,\n          type: 'Course'\n        }]\n      },\n      edata: {\n        id: inputId,\n        type: 'click',\n        pageid: this.activatedRoute.snapshot.data.telemetry.pageid\n      }\n    };\n    if (cdata) {\n      telemetryData.context.cdata.push(cdata);\n    }\n    this.telemetryService.interact(telemetryData);\n  }\n\n  handleBatchTypeInputChange() {\n    $('#participants').dropdown('restore defaults')\n  }\n\n  clearList() {\n    $('#mentors').dropdown('restore defaults')\n    $('#participants').dropdown('restore defaults')\n  }\n\n  getPickerMinDateForEndDate() {\n    const startDate = this.createBatchForm.controls.startDate.value as Date;\n    const oneDayMs = 24 * 60 * 60 * 1000;\n    if (startDate) {\n      return new Date(startDate.getTime() + oneDayMs);\n    }\n    return new Date(this.pickerMinDate.getTime() + oneDayMs);\n  }\n\n  getSelectedMembers() {\n    if(this.createBatchForm.value.enrollmentType !== 'open'){\n      return $('#mentors').dropdown('get value') ? $('#mentors').dropdown('get value').split(',') : [];\n    } else {\n      return [];\n    }\n  }\n}\n","\nimport { takeUntil } from 'rxjs/operators';\nimport { UserService, CoursesService, GeneraliseLabelService } from '@sunbird/core';\nimport { ResourceService, ToasterService, ConfigService, NavigationHelperService } from '@sunbird/shared';\nimport { CourseBatchService } from './../../../services';\nimport { Component, OnInit, ViewChild, OnDestroy, AfterViewInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { TelemetryService, IImpressionEventInput, IInteractEventObject, IInteractEventEdata, IAuditEventInput } from '@sunbird/telemetry';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-enroll-batch',\n  templateUrl: './enroll-batch.component.html'\n})\nexport class EnrollBatchComponent implements OnInit, OnDestroy, AfterViewInit {\n  @ViewChild('enrollBatch') enrollBatch;\n  batchId: string;\n  batchDetails: any;\n  showEnrollDetails = false;\n  readMore = false;\n  showLoader = false;\n  disableSubmitBtn = false;\n  public unsubscribe = new Subject<void>();\n  telemetryCdata: Array<{}>;\n  submitInteractEdata: IInteractEventEdata;\n  telemetryInteractObject: IInteractEventObject;\n  /**\n\t * telemetryImpression object for update batch page\n\t*/\n  telemetryImpression: IImpressionEventInput;\n  public modalVisibility = true;\n  tocId = '';\n  constructor(public router: Router, public activatedRoute: ActivatedRoute, public courseBatchService: CourseBatchService,\n    public resourceService: ResourceService, public toasterService: ToasterService, public userService: UserService,\n    public configService: ConfigService, public coursesService: CoursesService,\n    private telemetryService: TelemetryService,\n    public navigationhelperService: NavigationHelperService, public generaliseLabelService: GeneraliseLabelService) { }\n\n  ngOnInit() {\n    this.activatedRoute.params.subscribe((params) => {\n      this.batchId = params.batchId;\n      this.courseBatchService.getEnrollToBatchDetails(this.batchId).pipe(\n        takeUntil(this.unsubscribe))\n        .subscribe((data) => {\n          this.batchDetails = data;\n          this.setTelemetryData();\n          if (this.batchDetails.enrollmentType !== 'open') {\n            this.toasterService.error(this.generaliseLabelService.messages.fmsg.m0082);\n            this.redirect();\n          }\n          if (this.activatedRoute.queryParams) {\n            this.activatedRoute.queryParams.subscribe((queryParams) => {\n              this.tocId = queryParams && queryParams.textbook;\n              if (queryParams.autoEnroll) {\n                this.modalVisibility = false;\n                this.enrollToCourse(this.batchId);\n              }\n            });\n          }\n        }, (err) => {\n          this.toasterService.error(this.resourceService.messages.fmsg.m0054);\n          this.redirect();\n        });\n    });\n  }\n  ngOnDestroy() {\n    if (this.enrollBatch && this.enrollBatch.deny) {\n      this.enrollBatch.deny();\n    }\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n  redirect() {\n    const queryParams = this.tocId ? { textbook: this.tocId } : {};\n    this.router.navigate(['./'], { relativeTo: this.activatedRoute.parent, queryParams });\n  }\n  telemetryLogEvents(status: boolean) {\n    let level = 'ERROR';\n    let msg = 'Enrollment to the batch failed';\n    if (status) {\n      level = 'SUCCESS';\n      msg = 'Enrollment to the batch was success';\n    }\n    const event = {\n      context: {\n        env: 'portal'\n      },\n      edata: {\n        type: 'enroll-batch',\n        level: level,\n        message: msg,\n        pageid: this.router.url.split('?')[0]\n      }\n    };\n    this.telemetryService.log(event);\n  }\n  enrollToCourse(batchId?: any) {\n    this.setTelemetryData();\n    this.logAuditEvent();\n    const request = {\n      request: {\n        courseId: this.batchDetails.courseId,\n        userId: this.userService.userid,\n        batchId: this.batchDetails.identifier\n      }\n    };\n    this.disableSubmitBtn = true;\n    this.courseBatchService.enrollToCourse(request).pipe(\n      takeUntil(this.unsubscribe))\n      .subscribe((data) => {\n        this.disableSubmitBtn = true;\n        this.toasterService.success(this.resourceService.messages.smsg.m0036);\n        this.fetchEnrolledCourseData();\n        this.telemetryLogEvents(true);\n      }, (err) => {\n        this.modalVisibility = true;\n        this.disableSubmitBtn = false;\n        this.toasterService.error(this.resourceService.messages.emsg.m0001);\n        this.telemetryLogEvents(false);\n      });\n  }\n  fetchEnrolledCourseData() {\n    this.showLoader = true;\n    setTimeout(() => {\n      this.coursesService.getEnrolledCourses().pipe(\n        takeUntil(this.unsubscribe))\n        .subscribe(() => {\n          this.disableSubmitBtn = false;\n          this.showLoader = false;\n          this.router.navigate(['/learn/course', this.batchDetails.courseId, 'batch', this.batchDetails.identifier],\n          { queryParams: { consent: true , textbook: this.tocId || undefined} }).then(() => {\n            this.telemetryService.syncEvents(false);\n            window.location.reload();\n          });\n        }, (err) => {\n          this.disableSubmitBtn = false;\n          this.router.navigate(['/learn']);\n        });\n    }, 2000);\n  }\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env\n        },\n        edata: {\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          uri: '/enroll/batch/' + this.activatedRoute.snapshot.params.batchId,\n          duration: this.navigationhelperService.getPageLoadTime()\n        },\n        object: {\n          id: this.activatedRoute.snapshot.params.batchId,\n          type: this.activatedRoute.snapshot.data.telemetry.object.type,\n          ver: this.activatedRoute.snapshot.data.telemetry.object.ver\n        }\n      };\n    });\n  }\n  setTelemetryData() {\n    this.submitInteractEdata = {\n      id: 'enroll-batch-popup',\n      type: 'click',\n      pageid: 'course-consumption'\n    };\n    this.telemetryCdata = [{ 'type': 'batch', 'id': this.batchDetails.identifier }];\n  }\n\n  logAuditEvent() {\n    const auditEventInput: IAuditEventInput = {\n      'context': {\n        'env': this.activatedRoute.snapshot.data.telemetry.env,\n        'cdata': [\n          { id: this.batchDetails.courseId, type: 'CourseId' },\n          { id: this.userService.userid, type: 'UserId' },\n          { id: this.batchDetails.identifier, type: 'BatchId' },\n        ]\n      },\n      'object': {\n        'id': this.batchDetails.identifier,\n        'type': this.activatedRoute.snapshot.data.telemetry.object.type,\n        'ver': this.activatedRoute.snapshot.data.telemetry.object.ver\n      },\n      'edata': {\n        props: ['courseId', 'userId', 'batchId'],\n        state: '',\n        prevstate: ''\n      }\n    };\n\n    this.telemetryService.audit(auditEventInput);\n  }\n}\n","<app-modal-wrapper *ngIf=\"showUpdateModal\"\n  [config]=\"{disableClose: false, size: 'normal', panelClass: ['overflow-visible', 'material-modal']}\" (dismiss)=\"redirect()\"\n  #updateBatchModal>\n  <ng-template sbModalContent>\n    <div class=\"sb-mat__modal\">\n\n      <!--Header-->\n      <div mat-dialog-title class=\"mb-0\">\n        <div class=\"title\">\n          <span *ngIf=\"!showFormInViewMode\">{{resourceService?.frmelmnts?.intxt?.t0007}}</span>\n          <span *ngIf=\"showFormInViewMode\">{{resourceService?.frmelmnts?.intxt?.t0015}}</span>\n        </div>\n        <button aria-label=\"close dialog\" mat-dialog-close class=\"close-btn\"></button>\n      </div>\n\n      <!--Content-->\n      <div class=\"sb-mat__modal__content\" [appTelemetryImpression]=\"telemetryImpression\">\n        <form [formGroup]=\"batchUpdateForm\" class=\"sb-form batchUpdateForm pt-8 px-8\">\n          <div class=\"sb-color-primary font-weight-bold pb-24\">Batch Details</div>\n          <div class=\"ui stackable grid\">\n            <div class=\"eight wide column\">\n              <div class=\"sb-field-group\"\n                [ngClass]=\"batchUpdateForm.controls['name'].invalid && batchUpdateForm.controls['name'].errors.required && !batchUpdateForm.controls['name'].pristine ? 'error': ''\">\n                <label class=\"required\">{{resourceService?.frmelmnts?.lbl?.batchname}}</label>\n                <div class=\"sb-field\">\n                  <input class=\"sb-form-control\" type=\"text\" name=\"name\" formControlName=\"name\"\n                    aria-label=\"name of batch\">\n                </div>\n                <div class=\"mt-0 mb-8 ui pointing red basic label below\"\n                  *ngIf=\"batchUpdateForm.controls.name.invalid && batchUpdateForm.controls['name'].errors.required && !batchUpdateForm.controls['name'].pristine\">\n                  {{resourceService?.messages?.stmsg?.m0114}}\n                </div>\n              </div>\n            </div>\n            <div class=\"four wide column\">\n              <div>\n                <label>{{resourceService?.frmelmnts?.cert?.lbl?.issueCertificate}}</label>\n                <div class=\"d-flex py-8 flex-w-wrap\">\n                  <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n                    <input (change)=\"handleInputChange('issue-certificate-yes')\" formControlName=\"issueCertificate\"\n                      type=\"radio\" id=\"yes\" value=\"yes\">\n                    <label for=\"yes\">{{resourceService?.frmelmnts?.btn?.yes}}</label>\n                  </div>\n                  <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n                    <input (change)=\"handleInputChange('issue-certificate-no')\" formControlName=\"issueCertificate\"\n                      type=\"radio\" id=\"no\" value=\"no\">\n                    <label for=\"no\">{{resourceService?.frmelmnts?.btn?.no}}</label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"ui stackable grid\">\n            <div class=\"eight wide column\">\n              <div class=\"sb-field-group\">\n                <label>{{resourceService?.frmelmnts?.lbl?.aboutbatch}}</label>\n                <div class=\"sb-field\">\n                  <textarea class=\"sb-form-control\" rows=\"4\" name=\"description\" formControlName=\"description\"\n                    aria-label=\"batch description\"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class=\"four wide column\">\n              <div *ngIf=\"showDiscussionForum === 'Yes'\">\n                <label>{{resourceService?.frmelmnts?.lbl?.enableDiscussions}}</label>\n                <div class=\"d-flex py-8 flex-w-wrap\">\n                  <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n                    <input formControlName=\"enableDiscussions\" type=\"radio\" id=\"true\" value=\"true\">\n                    <label for=\"true\">{{resourceService?.frmelmnts?.btn?.yes}}</label>\n                  </div>\n                  <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary\">\n                    <input formControlName=\"enableDiscussions\" type=\"radio\" id=\"false\" value=\"false\">\n                    <label for=\"false\">{{resourceService?.frmelmnts?.btn?.no}}</label>\n                  </div>\n                </div>\n              </div>\n              <div class=\"d-flex flex-dc flex-w-wrap\" *ngIf=\"courseCreator\">\n                <div class=\"mr-8\">\n                  <label for=\"Enrollment Type\">{{resourceService?.frmelmnts?.lbl?.natureofbatch}}</label>\n                </div>\n                <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary py-8\" *ngIf=\"courseCreator\">\n                  <input id=\"update-course-open\" [attr.disabled]=\"batchDetails.status !== 0 ? true : null\" type=\"radio\"\n                    value='open' name=\"enrollmentType\" formControlName=\"enrollmentType\">\n                  <label for=\"update-course-open\">{{resourceService?.frmelmnts?.lbl?.open}}</label>\n                </div>\n                <div class=\"sb-radio-btn-checkbox sb-radio-btn-primary py-8\" *ngIf=\"courseCreator\">\n                  <input id=\"update-course-invite-only\" [attr.disabled]=\"batchDetails.status !== 0 ? true : null\" type=\"radio\"\n                    value='invite-only' name=\"enrollmentType\" formControlName=\"enrollmentType\">\n                  <label for=\"update-course-invite-only\">{{resourceService?.frmelmnts?.lbl?.inviteonly}}</label>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"d-flex flex-w-wrap my-16\">\n            <div class=\"sb-field-group pr-8\"\n              [ngClass]=\"batchUpdateForm.controls['startDate'].invalid && batchUpdateForm.controls['startDate'].errors.required && !batchUpdateForm.controls['startDate'].pristine ? 'error': ''\">\n              <label class=\"required\">{{resourceService?.frmelmnts?.lbl?.startdate}}</label>\n              <div class=\"ui read-only calendar rangestartAdd\" id=\"rangestartAdd\">\n                <mat-form-field appearance=\"fill\" class=\"sb-mat__datepicker sb-mat__datepicker--nolabel\">\n                  <!-- <mat-label>{{resourceService?.frmelmnts?.lbl?.startdate}}</mat-label> -->\n                  <input [attr.disabled]=\"(batchDetails.status !== 0 || showFormInViewMode ) ? true : null\" matInput\n                    [matDatepicker]=\"startDatePicker\" formControlName=\"startDate\"\n                    [min]='batchDetails.status !== 0 ? batchUpdateForm.controls[\"startDate\"].value : pickerMinDate'>\n                  <mat-datepicker-toggle matSuffix [for]=\"startDatePicker\"\n                    [disabled]=\"(batchDetails.status !== 0 || showFormInViewMode ) ? true : null\">\n                  </mat-datepicker-toggle>\n                  <mat-datepicker #startDatePicker></mat-datepicker>\n                </mat-form-field>\n              </div>\n              <div class=\"mt-0 mb-8 ui pointing red basic label below\"\n                *ngIf=\"batchUpdateForm.controls.startDate.invalid && batchUpdateForm.controls['startDate'].errors.required && !batchUpdateForm.controls['startDate'].pristine\">\n                {{resourceService?.messages?.stmsg?.m0113}}\n              </div>\n            </div>\n            <div class=\"sb-field-group\">\n              <label>{{resourceService?.frmelmnts?.lbl?.enddate}}</label>\n              <div class=\"ui calendar rangeendAdd\" id=\"rangeendAdd\">\n                <mat-form-field appearance=\"fill\" class=\"sb-mat__datepicker sb-mat__datepicker--nolabel\">\n                  <!-- <mat-label>{{resourceService?.frmelmnts?.lbl?.enddate}}</mat-label> -->\n                  <input [attr.disabled]=\"(showFormInViewMode) ? true : null\" matInput [matDatepicker]=\"endDatePicker\"\n                    formControlName=\"endDate\" [min]='pickerMinDateForEndDate'>\n                  <mat-datepicker-toggle matSuffix [for]=\"endDatePicker\"\n                    [disabled]=\"(showFormInViewMode) ? true : null\"></mat-datepicker-toggle>\n                  <mat-datepicker #endDatePicker></mat-datepicker>\n                </mat-form-field>\n              </div>\n            </div>\n            <div class=\"sb-field-group pl-8\" *ngIf=\"batchUpdateForm.value.enrollmentType === 'open'\"\n              [ngClass]=\"batchUpdateForm.controls['enrollmentEndDate'].invalid && !batchUpdateForm.controls['enrollmentEndDate'].pristine ? 'error': ''\">\n              <label>{{resourceService?.frmelmnts?.lbl?.enrollmentenddate | uppercase}}</label>\n              <div class=\"ui read-only calendar rangeenrollMentEnd\" id=\"rangeenrollMentEnd\">\n                <mat-form-field appearance=\"fill\" [ngClass]=\"{'disabled': !batchUpdateForm.value.startDate}\"\n                  class=\"sb-mat__datepicker sb-mat__datepicker--nolabel\">\n                  <!-- <mat-label>{{resourceService?.frmelmnts?.lbl?.startdate}}</mat-label> -->\n                  <input (click)=\"setTelemetryCData([{id:'course:enrollment:endDate',type:'Feature'},{id:'SB-13073',type:'Task'}])\"\n                    matInput [matDatepicker]=\"enrollmentEndDatePicker\" formControlName=\"enrollmentEndDate\"\n                    [min]='pickerMinDateForEnrollmentEndDate' [max]=\"batchUpdateForm.value.endDate\"\n                    aria-label=\"enrollment End Date\">\n                  <mat-datepicker-toggle matSuffix [for]=\"enrollmentEndDatePicker\">\n                  </mat-datepicker-toggle>\n                  <mat-datepicker #enrollmentEndDatePicker></mat-datepicker>\n                </mat-form-field>\n              </div>\n              <div class=\"mt-0 mb-8 ui pointing red basic label below\"\n                *ngIf=\"batchUpdateForm.controls['enrollmentEndDate'].invalid && !batchUpdateForm.controls['enrollmentEndDate'].pristine\">\n                {{resourceService?.messages?.stmsg?.m0135}}\n              </div>\n            </div>\n          </div>\n\n          <div class=\"ui tweleve wide column mb-20\" *ngIf=\"showLoader\">\n            <app-loader></app-loader>\n          </div>\n          <div class=\"sb-field-group mb-8\">\n            <label>{{resourceService?.frmelmnts?.lbl?.batchmentors}}</label>\n            <div class=\"createbatchdropdown ui fluid multiple search selection dropdown\" id=\"mentors\"\n              [ngClass]=\"{ 'disabled' : showFormInViewMode }\">\n              <input id=\"mentorSelList\" aria-label=\"mentor list\">\n              <i class=\"dropdown icon\"></i>\n              <div class=\"default text\">{{resourceService?.frmelmnts?.intxt?.t0005}}</div>\n              <div class=\"menu\">\n                <div class=\"item\" [attr.data-value]=\"mentor.id\" (click)=\"checkList('mentor')\" *ngFor=\"let mentor of mentorList\">\n                  <img class=\"ui mini avatar image\"\n                    src=\"{{mentor.avatar || 'assets/images/user_logo.png' | cdnprefixurl}}\" alt=\"avatar-img\">\n                  {{mentor.name}}{{mentor.otherDetail}}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"sb-field-group mb-8\" *ngIf=\"selectedMentors.length > 0\">\n            <label>{{resourceService?.frmelmnts?.lbl?.batchselmentors}}</label>\n            <a class=\"ui label mt-5\" *ngFor=\"let selectmentor of selectedMentors\">\n              <img class=\"ui right spaced avatar image\"\n                src=\"{{selectmentor.avatar || 'assets/images/user_logo.png' | cdnprefixurl}}\" alt=\"avatar-img\">\n              {{selectmentor.name}}{{selectmentor.otherDetail}}\n              <i class=\"delete icon\" *ngIf=\"batchDetails.status === 0\" tabindex=\"0\"\n                (click)=\"removeMentor(selectmentor)\"></i>\n            </a>\n          </div>\n          <div class=\"sb-field-group mb-8\" *ngIf=\"batchUpdateForm.value.enrollmentType !== 'open'\">\n            <label>{{resourceService?.frmelmnts?.lbl?.bacthmembers}}\n              <i *ngIf=\"batchDetails.participants && batchDetails.participants.length >= 100\"\n                matTooltip=\"{{resourceService?.frmelmnts?.lbl?.contactStateAdmin}}\" [matTooltipPosition]=\"'right'\"\n                class=\"sb-icon-info info-icon\"></i>\n            </label>\n            <div class=\"createbatchdropdown ui fluid multiple search selection dropdown\" id=\"participant\"\n              [ngClass]=\"{'disabled' : showFormInViewMode || (batchDetails.participants && batchDetails.participants.length >= 100)}\">\n              <input id=\"userSelList\">\n              <i class=\"dropdown icon\"></i>\n              <div class=\"default text\">{{resourceService?.frmelmnts?.intxt?.t0006}}</div>\n              <div class=\"menu\">\n                <div class=\"item\" (click)=\"checkList('participant')\" *ngFor=\"let user of participantList | participants : getSelectedMembers()\" [attr.data-value]=\"user.id\">\n                  <img class=\"ui mini avatar image\"\n                    src=\"{{user.avatar || 'assets/images/user_logo.png' | cdnprefixurl}}\" alt=\"avatar-image\">\n                  {{user.name}}{{user.otherDetail}}\n                </div>\n              </div>\n            </div>\n            <small *ngIf=\"batchDetails.participants && batchDetails.participants.length > 100\"\n              class=\"sb-color-primary d-flex pt-4\">{{resourceService?.frmelmnts?.lbl?.contactStateAdmin}}</small>\n          </div>\n          <div class=\"sb-field-group mb-8\"\n            *ngIf=\"batchUpdateForm.value.enrollmentType !== 'open' && selectedParticipants.length > 0 && (batchDetails.participants && batchDetails.participants.length <= 100)\">\n            <label>{{resourceService?.frmelmnts?.lbl?.batchparticipants}}</label>\n            <a class=\"ui label mt-5\" *ngFor=\"let user of selectedParticipants\">\n              <img class=\"ui right spaced avatar image\"\n                src=\"{{user.avatar || 'assets/images/user_logo.png' | cdnprefixurl}}\" alt=\"avatar-image\">\n              {{user.name}}{{user.otherDetail}}\n              <i class=\"delete icon\" *ngIf=\"batchDetails.status === 0\" (click)=\"removeParticipant(user)\"></i>\n            </a>\n          </div>\n        </form>\n      </div>\n      <!--/Content-->\n\n      <!--Actions-->\n      <div class=\"sb-mat__modal__actions\">\n\n        <!-- <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" tabindex=\"0\" (click)=\"resetForm()\"\n          [ngClass]=\"{'sb-btn-disabled': showFormInViewMode}\" tabindex=\"0\" appTelemetryInteract\n          [telemetryInteractObject]=\"telemetryInteractObject\" [telemetryInteractEdata]=\"clearButtonInteractEdata\"\n          [telemetryInteractCdata]=\"telemetryCdata\">\n          {{resourceService?.frmelmnts?.btn?.clear}}\n        </button> -->\n\n        <button class=\"sb-btn sb-btn-normal sb-btn-primary ml-8\"\n          [ngClass]=\"{'sb-btn-disabled': disableSubmitBtn || showFormInViewMode}\" appTelemetryInteract\n          [disabled]=\"disableSubmitBtn || showFormInViewMode\" [telemetryInteractObject]=\"telemetryInteractObject\"\n          [telemetryInteractEdata]=\"updateBatchInteractEdata\" [telemetryInteractCdata]=\"telemetryCdata\" tabindex=\"0\"\n          tabindex=\"0\" (click)=\"updateBatch()\">\n          {{resourceService?.frmelmnts?.btn?.update}}\n        </button>\n\n      </div>\n      <!--/Actions-->\n\n    </div>\n  </ng-template>\n</app-modal-wrapper>"],"sourceRoot":"webpack:///"}