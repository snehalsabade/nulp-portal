{"version":3,"sources":["./src/app/modules/public/module/sign-in/sso/sso-routing.module.ts","./src/app/modules/shared-feature/components/sso-merge-confirmation/sso-merge-confirmation.component.ts","./src/app/modules/public/module/sign-in/sso/components/index.ts","./src/app/modules/public/module/sign-in/sso/components/update-contact/update-contact.component.ts","./src/app/modules/shared-feature/components/sso-merge-confirmation/sso-merge-confirmation.component.html","./src/app/modules/public/module/sign-in/sso/components/auth-failed/auth-failed.component.ts","./src/app/modules/public/module/sign-in/sso/sso.module.ts","./src/app/modules/public/module/sign-in/sso/components/select-org/select-org.component.html","./src/app/modules/public/module/sign-in/sso/components/update-contact/update-contact.component.html","./src/app/modules/public/module/sign-in/sso/components/auth-failed/auth-failed.component.html","./src/app/modules/public/module/sign-in/sso/components/select-org/select-org.component.ts"],"names":[],"mappings":"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","file":"module-sign-in-sso-sso-module-ngfactory.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {AuthFailedComponent, SelectOrgComponent, UpdateContactComponent} from './components';\nimport { UUID } from 'angular2-uuid';\nconst uuid = UUID.UUID();\nconst telemetryEnv = 'sso-sign-in';\nconst routes: Routes = [\n  {\n    path: 'select-org', component: SelectOrgComponent,\n    data: {\n      hideHeaderNFooter : true,\n      telemetry: {\n        env: telemetryEnv, pageid: 'select-org', uri: '/select-org', type: 'view', mode: 'self', uuid: uuid\n      }\n    }\n  },\n  {\n    path: 'update/contact', component: UpdateContactComponent,\n    data: {\n      hideHeaderNFooter : true,\n      telemetry: {\n        env: telemetryEnv, pageid: 'update-contact', uri: '/update-contact', type: 'view', mode: 'self', uuid: uuid\n      }\n    }\n  },\n  {\n    path: 'auth', component: AuthFailedComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SsoRoutingModule { }\n","import {Component, Input, OnInit, OnDestroy} from '@angular/core';\nimport {ResourceService} from '@sunbird/shared';\nimport {Subscription} from 'rxjs';\nimport {TenantService} from '@sunbird/core';\n\n\n@Component({\n  selector: 'app-sso-merge-confirmation',\n  templateUrl: './sso-merge-confirmation.component.html',\n  styleUrls: ['./sso-merge-confirmation.component.scss']\n})\nexport class SsoMergeConfirmationComponent implements OnInit, OnDestroy {\n  @Input() userDetails: any;\n  @Input() identifierType: any;\n  @Input() identifierValue: any;\n  @Input() tncVersionAccepted: string;\n  @Input() isTncAccepted: boolean;\n  instance: string;\n  logo: string;\n  tenantName: string;\n  tenantDataSubscription: Subscription;\n  telemetryCdata = [{\n    id: 'user:account:migrate',\n    type: 'Feature'\n  }, {\n    id: 'SB-13773',\n    type: 'Task'\n  }];\n\n  constructor(public resourceService: ResourceService, public tenantService: TenantService) {\n    this.instance = (<HTMLInputElement>document.getElementById('instance'))\n      ? (<HTMLInputElement>document.getElementById('instance')).value.toUpperCase() : 'SUNBIRD';\n  }\n\n  ngOnInit() {\n    this.tenantDataSubscription = this.tenantService.tenantData$.subscribe(data => {\n      if (data && !data.err && data.tenantData) {\n        this.logo = data.tenantData.logo;\n        this.tenantName = data.tenantData.titleName;\n      }\n    });\n  }\n\n  createNewUser() {\n    let queryParams = '&identifier=' + this.identifierType + '&identifierValue=' + this.identifierValue + '&freeUser=true';\n    queryParams = queryParams + '&tncAccepted=' + this.isTncAccepted + '&tncVersion=' + this.tncVersionAccepted;\n    window.location.href = 'v1/sso/create/user?userId=' + this.userDetails.id + queryParams;\n  }\n\n  closeModal() {\n\n  }\n\n  migrateUser() {\n    let queryParams = '&identifier=' + this.identifierType + '&identifierValue=' + this.identifierValue + '&freeUser=true';\n    queryParams = queryParams + '&tncAccepted=' + this.isTncAccepted + '&tncVersion=' + this.tncVersionAccepted;\n    window.location.href = '/v1/sso/migrate/account/initiate?userId=' + this.userDetails.id + queryParams;\n  }\n\n  ngOnDestroy() {\n    if (this.tenantDataSubscription) {\n      this.tenantDataSubscription.unsubscribe();\n    }\n  }\n\n}\n","export * from './select-org/select-org.component';\nexport * from './update-contact/update-contact.component';\nexport * from './auth-failed/auth-failed.component';\n","import { ActivatedRoute } from '@angular/router';\nimport { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\nimport { TenantService, UserService, OtpService, OrgDetailsService, TncService } from '@sunbird/core';\nimport { first, delay } from 'rxjs/operators';\nimport {\n  ResourceService, ToasterService, NavigationHelperService,\n  ServerResponse, UtilService\n} from '@sunbird/shared';\nimport * as _ from 'lodash-es';\nimport {SignupService} from '../../../../signup/services';\nimport { map } from 'rxjs/operators';\nimport { combineLatest } from 'rxjs';\nimport { TelemetryService } from '@sunbird/telemetry';\nimport { RecaptchaComponent } from 'ng-recaptcha';\n\n@Component({\n  templateUrl: './update-contact.component.html',\n  styleUrls: ['./update-contact.component.scss']\n})\nexport class UpdateContactComponent implements OnInit, AfterViewInit {\n  @ViewChild('contactDetailsForm') private contactDetailsForm;\n  @ViewChild('captchaRef') captchaRef: RecaptchaComponent;\n  public telemetryImpression;\n  public tenantInfo: any = {};\n  public showOtpComp = false;\n  public showMergeConfirmation = false;\n  public userBlocked = false;\n  public userExist = false;\n  public disableSubmitBtn = true;\n  public otpData = {};\n  public userDetails: any = {};\n  public showError = false;\n  public custodianOrgDetails;\n  public isValidIdentifier;\n  public validationPattern = {\n    phone: /^[6-9]\\d{9}$/,\n    email: /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[a-z]{2,4}$/\n  };\n  public contactForm = {\n    value: '',\n    type: 'phone',\n    tncAccepted: false\n  };\n  tncLatestVersion: string;\n  termsAndConditionLink: string;\n  instance: string;\n  showTncPopup = false;\n  googleCaptchaSiteKey: string;\n  isP1CaptchaEnabled: any;\n  captchaValidationFailed = false;\n\n\n  constructor(public activatedRoute: ActivatedRoute, private tenantService: TenantService, public resourceService: ResourceService,\n              public userService: UserService, public otpService: OtpService, public toasterService: ToasterService,\n              public navigationHelperService: NavigationHelperService, private orgDetailsService: OrgDetailsService,\n              public utilService: UtilService, public signupService: SignupService,\n              public telemetryService: TelemetryService, public tncService: TncService) {\n  }\n\n  ngOnInit() {\n    this.instance = _.upperCase(this.resourceService.instance || 'SUNBIRD');\n    this.isP1CaptchaEnabled = (<HTMLInputElement>document.getElementById('p1reCaptchaEnabled'))\n      ? (<HTMLInputElement>document.getElementById('p1reCaptchaEnabled')).value : 'true';\n    try {\n      this.googleCaptchaSiteKey = (<HTMLInputElement>document.getElementById('googleCaptchaSiteKey')).value;\n    } catch (error) {\n      this.googleCaptchaSiteKey = '';\n    }\n    this.fetchTncConfiguration();\n    this.setTenantInfo();\n  }\n  ngAfterViewInit () {\n    setTimeout(() => {\n      this.handleFormChangeEvent();\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env,\n        },\n        edata: {\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          uri: this.activatedRoute.snapshot.data.telemetry.uri,\n          duration: this.navigationHelperService.getPageLoadTime()\n        }\n      };\n    });\n  }\n\n  /**\n   * Toogles contact form value based on event data\n   * @param e event data\n   */\n  toggleTncCheckBox(e) {\n    this.contactForm.tncAccepted = e.target.checked;\n    const cData = {\n      env: 'sso-signup',\n      cdata: [\n        {id: 'user:tnc:accept', type: 'Feature'},\n        {id: 'SB-16663', type: 'Task'}\n      ]\n    };\n    const eData = {\n      id: 'user:tnc:accept',\n      type: 'click',\n      subtype: this.contactForm.tncAccepted ? 'selected' : 'unselected',\n      pageid: 'sso-signup'\n    };\n    this.generateInteractEvent(cData, eData);\n  }\n\n  /**\n   * Used to generate interact telemetry\n   * @param tncAcceptedStatus\n   */\n  private generateInteractEvent(cData, eData) {\n    const interactData = {\n      context: cData,\n      edata: eData\n    };\n    this.telemetryService.interact(interactData);\n  }\n\n  /**\n   * Fetches tnc related configuration\n   */\n  fetchTncConfiguration() {\n    this.tncService.getTncConfig().subscribe((data: ServerResponse) => {\n      this.telemetryLogEvents('fetch-terms-condition', true);\n        const response = _.get(data, 'result.response.value');\n        if (response) {\n          try {\n            const tncConfig = this.utilService.parseJson(response);\n            this.tncLatestVersion = _.get(tncConfig, 'latestVersion') || {};\n            this.termsAndConditionLink = tncConfig[this.tncLatestVersion].url;\n          } catch (e) {\n            this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0004'));\n          }\n        }\n      }, (err) => {\n      this.telemetryLogEvents('fetch-terms-condition', false);\n      this.toasterService.error(_.get(this.resourceService, 'messages.fmsg.m0004'));\n      }\n    );\n  }\n\n  handleFormChangeEvent() {\n    if(this.contactDetailsForm){\n      this.contactDetailsForm.valueChanges.pipe(delay(1)).subscribe((data, data2) => {\n        if (_.get(this.contactDetailsForm, 'status') === 'VALID' &&\n          _.get(this.contactDetailsForm, 'controls.tncAccepted.value')) {\n          this.disableSubmitBtn = false;\n          this.isValidIdentifier = true;\n          this.userExist = false;\n          this.userBlocked = false;\n        } else {\n          this.disableSubmitBtn = true;\n          this.isValidIdentifier = _.get(this.contactDetailsForm, 'controls.value.status') === 'VALID'\n            && this.validationPattern[this.contactForm.type].test(this.contactForm.value);\n          this.userExist = false;\n          this.userBlocked = false;\n        }\n      });\n  }\n  }\n  private checkUserExist(captchaResponse?) {\n    const uri = this.contactForm.type + '/' + this.contactForm.value + '?captchaResponse=' + captchaResponse;\n    combineLatest(this.userService.getUserByKey(uri), this.orgDetailsService.getCustodianOrgDetails())\n    .pipe(map(data => ({\n      userDetails: data[0], custOrgDetails: data[1]\n    })))\n    .subscribe(({userDetails, custOrgDetails}) => {\n        this.resetGoogleCaptcha();\n        if (_.get(userDetails, 'result.response.rootOrgId') === _.get(custOrgDetails, 'result.response.value')) {\n          this.userDetails = userDetails.result.response;\n          this.disableSubmitBtn = false;\n          this.userExist = false;\n          this.userBlocked =  false;\n          this.generateOtp();\n        } else {\n          this.userExist = true;\n          this.userBlocked =  false;\n          this.disableSubmitBtn = true;\n        }\n      }, err => {\n        this.userDetails = {};\n        if (_.get(err, 'error.params.status') && err.error.params.status === 'USER_ACCOUNT_BLOCKED') {\n          this.userBlocked =  true;\n          this.userExist = false;\n          this.disableSubmitBtn = true;\n          return;\n        }\n        if (_.get(err, 'error.params.status') && err.error.params.status === 'I\\'m a teapot') {\n          this.disableSubmitBtn = true;\n          this.captchaValidationFailed = true;\n          return;\n        }\n        this.generateOtp();\n        this.disableSubmitBtn = false;\n        this.userExist = false;\n        this.userBlocked = false;\n    });\n  }\n\n  public onFormUpdate(captchaResponse?) {\n    this.checkUserExist(captchaResponse);\n    const cData = {\n      env: 'sso-signup',\n      cdata: []\n    };\n    const eData = {\n      id: this.contactForm.type === 'email' ? 'submit-email' : 'submit-phone',\n      type: 'click',\n      pageid: 'sso-sign-in',\n    };\n    this.generateInteractEvent(cData, eData);\n  }\n\n  private generateOtp() {\n    const request = {\n      request: {\n        'key': this.contactForm.value,\n        'type': this.contactForm.type\n      }\n    };\n    this.otpService.generateOTP(request).subscribe((data) => {\n        this.prepareOtpData();\n        this.showOtpComp = true;\n      }, (err) => {\n        const errorMessage = (err.error.params.status === 'PHONE_ALREADY_IN_USE') || (err.error.params.status === 'EMAIL_IN_USE') ||\n          (err.error.params.status === 'ERROR_RATE_LIMIT_EXCEEDED') ? err.error.params.errmsg : this.resourceService.messages.fmsg.m0085;\n        this.toasterService.error(errorMessage);\n      }\n    );\n  }\n  resetForm(type = 'phone') {\n    this.disableSubmitBtn = true;\n    this.contactForm = {\n      value: '',\n      type: type,\n      tncAccepted: false\n    };\n    this.userDetails = {};\n    this.userExist = false;\n    this.userBlocked = false;\n  }\n  private prepareOtpData() {\n    this.otpData = {\n      type: this.contactForm.type,\n      value: this.contactForm.value,\n      instructions: this.contactForm.type === 'phone' ?\n        this.resourceService.frmelmnts.instn.t0083 : this.resourceService.frmelmnts.instn.t0084,\n      retryMessage: this.contactForm.type === 'phone' ?\n        this.resourceService.frmelmnts.lbl.unableToUpdateMobile : this.resourceService.frmelmnts.lbl.unableToUpdateEmail,\n      wrongOtpMessage: this.contactForm.type === 'phone' ? this.resourceService.frmelmnts.lbl.wrongPhoneOTP :\n        this.resourceService.frmelmnts.lbl.wrongEmailOTP\n    };\n  }\n  public handleOtpValidationFailed() {\n    this.showOtpComp = false;\n    this.resetForm();\n    setTimeout(() => this.handleFormChangeEvent(), 100);\n  }\n  getQueryParams(queryObj) {\n    return '?' + Object.keys(queryObj).filter(key => queryObj[key])\n      .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(queryObj[key])}`)\n      .join('&');\n  }\n  public handleOtpValidationSuccess() {\n    const query: any = {\n      type: this.contactForm.type,\n      value: this.contactForm.value,\n      tncAccepted: this.contactForm.tncAccepted,\n      tncVersion: this.tncLatestVersion\n    };\n    if (!_.isEmpty(this.userDetails)) {\n      if (this.userDetails.id) {\n        this.showOtpComp = false;\n        this.showMergeConfirmation = true;\n      }\n    } else {\n      window.location.href = `/v1/sso/contact/verified` +\n        this.getQueryParams({...this.activatedRoute.snapshot.queryParams, ...query});\n    }\n  }\n  private setTenantInfo() {\n    this.tenantService.tenantData$.pipe(first()).subscribe(data => {\n      if (!data.err) {\n        this.tenantInfo = {\n          logo: data.tenantData.logo,\n          tenantName: data.tenantData.titleName\n        };\n      }\n    });\n  }\n\n  telemetryLogEvents(api: any, status: boolean) {\n    let level = 'ERROR';\n    let msg = api + ' failed';\n    if (status) {\n      level = 'SUCCESS';\n      msg = api + ' success';\n    }\n    const event = {\n      context: {\n        env: 'sso-signup'\n      },\n      edata: {\n        type: api,\n        level: level,\n        message: msg\n      }\n    };\n    this.telemetryService.log(event);\n  }\n\n  showAndHidePopup(mode: boolean) {\n    this.showTncPopup = mode;\n  }\n\n  /**\n   * @param  {string} captchaResponse - reCaptcha token\n   * @description - Callback function for reCaptcha response\n   * @since - release-3.1.0\n   */\n  resolved(captchaResponse: string) {\n    if (captchaResponse) {\n      this.onFormUpdate(captchaResponse);\n    }\n  }\n\n  /**\n   * @description - Function to reset reCaptcha\n   * @since - release-3.1.0\n   */\n  resetGoogleCaptcha() {\n    const element: HTMLElement = document.getElementById('resetGoogleCaptcha') as HTMLElement;\n    element && element.click();\n  }\n\n  /**\n   * @description - Function to be called on form submit\n   * @since - release-3.1.0\n   */\n  submitForm() {\n    if (this.isP1CaptchaEnabled === 'true') {\n      this.resetGoogleCaptcha();\n      this.captchaRef && this.captchaRef.execute();\n    } else {\n      this.onFormUpdate();\n    }\n  }\n}\n","<div class=\"signup-background signup-background--sso\">\n  <div class=\"fullpage-background-image\">\n    <div class=\"container-wrapper\">\n    <div class=\"sb-merged-account-content text-center\">\n      <img alt=\"{{tenantName}}\" src=\"{{logo}}\" class=\"sb-certificatePage-logo\"/>\n      <div class=\"title text-center my-24\">\n        {{resourceService.frmelmnts?.lbl?.mergeAccount}}</div>\n    </div>\n    <div class=\"text-left\">\n      <p\n        class=\"py-8 m-0\">{{resourceService.messages?.imsg?.m0070 | interpolate:'{instance}': instance | interpolate:'{identifierValue}':identifierValue }}:\n      </p>\n      <ul class=\"m-0 sb-list-items\">\n          <li class=\"mb-8\">\n            {{resourceService.messages?.imsg?.m0063}}\n          </li>\n          <li class=\"mb-8\">\n            {{resourceService.messages?.imsg?.m0064}}\n          </li>\n        </ul>\n        <p class=\"\">{{resourceService.messages?.imsg?.m0062}} {{resourceService.messages?.imsg?.m0141 | interpolate:'{instance}': instance}}</p>\n    </div>\n    <div class=\"d-flex mt-40\">\n      <button class=\"sb-btn sb-btn-outline-primary sb-btn-md width-100 mr-8 mb-auto\"\n              appTelemetryInteract [telemetryInteractCdata]=\"telemetryCdata\"\n              [telemetryInteractEdata]=\"{id: 'sso-create-user', type: 'click', pageid: 'user-migrate'}\"\n               tabindex=\"0\" (click)=\"createNewUser()\">{{resourceService.frmelmnts?.btn?.createNew}}\n      </button>\n      <button class=\"sb-btn sb-btn-primary sb-btn-md width-100 ml-8 mb-auto\"\n              appTelemetryInteract [telemetryInteractCdata]=\"telemetryCdata\"\n              [telemetryInteractEdata]=\"{id: 'sso-user-migrate', type: 'click', pageid: 'user-migrate'}\"\n              tabindex=\"0\" (click)=\"migrateUser()\">{{resourceService.frmelmnts?.btn?.merge}}\n      </button>\n    </div>\n  </div>\n  </div>\n</div>","import {Component, OnInit, OnDestroy} from '@angular/core';\nimport {ResourceService} from '@sunbird/shared';\nimport {ActivatedRoute} from '@angular/router';\nimport {Subscription} from 'rxjs';\nimport {TenantService} from '@sunbird/core';\n\n@Component({\n  selector: 'app-auth-failed',\n  templateUrl: './auth-failed.component.html',\n  styleUrls: ['./auth-failed.component.scss']\n})\nexport class AuthFailedComponent implements OnInit, OnDestroy {\n  instance: string;\n  logo: string;\n  tenantName: string;\n  tenantDataSubscription: Subscription;\n\n  constructor(public activatedRoute: ActivatedRoute, public resourceService: ResourceService,\n              public tenantService: TenantService) {\n    this.instance = (<HTMLInputElement>document.getElementById('instance'))\n      ? (<HTMLInputElement>document.getElementById('instance')).value.toUpperCase() : 'SUNBIRD';\n  }\n\n  queryParam: any;\n\n  ngOnInit() {\n    this.activatedRoute.queryParams.subscribe((queryParams) => {\n      this.queryParam = {...queryParams};\n    });\n    this.tenantDataSubscription = this.tenantService.tenantData$.subscribe(data => {\n      if (data && !data.err && data.tenantData) {\n        this.logo = data.tenantData.logo;\n        this.tenantName = data.tenantData.titleName;\n      }\n    });\n  }\n\n  createNewUser() {\n    let queryParams = '&identifier=' + this.queryParam.identifierType + '&identifierValue=' +\n      this.queryParam.identifierValue + '&freeUser=true' + '&tncAccepted=' + this.queryParam.tncAccepted;\n    queryParams = queryParams + '&tncVersion=' + this.queryParam.tncVersion;\n    window.location.href = 'v1/sso/create/user?userId=' + this.queryParam.userId + queryParams;\n  }\n\n  ngOnDestroy() {\n    if (this.tenantDataSubscription) {\n      this.tenantDataSubscription.unsubscribe();\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SsoRoutingModule } from './sso-routing.module';\nimport {SelectOrgComponent, UpdateContactComponent, AuthFailedComponent} from './components';\nimport {TelemetryModule} from '@sunbird/telemetry';\nimport { SharedFeatureModule } from '@sunbird/shared-feature';\nimport { SuiModule } from 'ng2-semantic-ui-v9';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from '@sunbird/shared';\nimport { RecaptchaModule } from 'ng-recaptcha';\n@NgModule({\n  imports: [\n    CommonModule,\n    SsoRoutingModule,\n    SuiModule,\n    TelemetryModule,\n    SharedFeatureModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RecaptchaModule,\n    SharedModule\n  ],\n  declarations: [SelectOrgComponent, UpdateContactComponent, AuthFailedComponent]\n})\nexport class SsoModule { }\n","<app-modal-wrapper #modal [config]=\"{disableClose: true, size: 'large', panelClass: ['overflow-visible', 'material-modal']}\">\n  <ng-template sbModalContent>\n    <div class=\"sb-mat__modal sb-mat__modal--fullscreen\">\n\n          <div [appTelemetryImpression]=\"telemetryImpression\" class=\"signup-background\">\n            <div class=\"fullpage-background-image\">\n              <div class=\"container-wrapper mx-auto\">\n                <div class=\"d-flex flex-jc-center mb-16\">\n                  <img class=\"image centered\" alt={{tenantInfo.tenantName}} height=\"56\" src=\"{{tenantInfo.logo}}\">\n                </div>\n                <div class=\"title mt-8\">{{ resourceService?.frmelmnts?.lbl?.sltstate || 'Select your State'}}</div>\n                <div *ngIf=\"enableSSO.toLowerCase() === 'false'\"\n                  class=\"line-height-1-3 font-weight-bold text-center mb-50 mt-60\">\n                  <p>Login with State System is temporarily unavailable.</p>\n                  <p> Please try again later.</p>\n                </div>\n                <div *ngIf=\"enableSSO.toLowerCase() === 'true'\">\n                  <div class=\"width-300 mx-auto mt-60\">\n                    <div *ngIf=\"!isIOSDevice\" class=\"w-100 mb-16\">\n                      <mat-form-field appearance=\"fill\" class=\"sb-mat__dropdown mb-16 w-100\">\n                        <mat-label>{{resourceService.frmelmnts?.lbl?.Select}}</mat-label>\n                        <mat-select role=\"listbox\" aria-label=\"Select State\" class=\"selection\"\n                          [(ngModel)]=\"selectedOrg\" (selectionChange)=\"handleOrgChange($event.value)\">\n                          <mat-option class=\"mat-dropdown__options\" role=\"option\" *ngFor=\"let state of orgList\" [value]=\"state.loginUrl\"\n                            attr.aria-label=\"{{state.name}}\">{{state.name}}</mat-option>\n                        </mat-select>\n                      </mat-form-field>\n                    </div>\n                    <!-- Dropdown only for iOS device -->\n                    <label *ngIf=\"isIOSDevice\" class=\"w-100\">\n                      <select name=\"stateOrg\" id=\"stateOrg\"\n                        class=\"sb-form-control mb-50 d-flex mt-60 ui dropdown stateOrg\"\n                        (change)=\"handleOrgChange($event)\">\n                        <option value=\"\" disabled selected>{{ resourceService?.frmelmnts?.lbl?.sltstate || 'Select your\n                          State'}}</option>\n                        <option *ngFor=\"let state of orgList\" [value]=\"state.loginUrl\">{{state.name}}</option>\n                      </select>\n                    </label>\n                    <!-- Dropdown only for iOS device -->\n                    <button appTelemetryInteract [telemetryInteractEdata]=\"submitOrgInteractEdata\"\n                      [ngClass]=\"{'sb-btn-disabled':disableSubmitBtn, 'sb-btn-primary':!disableSubmitBtn}\"\n                      class=\"sb-btn sb-btn-normal sb-btn-primary w-100\" tabindex=\"0\"\n                      (click)=\"handleOrgSelection($event)\">{{ resourceService?.frmelmnts?.btn?.submit ||\n                      'Submit'}}</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        \n      \n    </div>\n  </ng-template>\n</app-modal-wrapper>","<app-modal-wrapper #modal [config]=\"{disableClose: true, size: 'large', panelClass: ['overflow-visible', 'material-modal']}\">\n  <ng-template sbModalContent>\n    <div class=\"sb-mat__modal sb-mat__modal--fullscreen\">\n\n      <div [appTelemetryImpression]=\"telemetryImpression\" class=\"signup-background\">\n        <div class=\"fullpage-background-image\">\n          <div class=\"container-wrapper\">\n\n            <div *ngIf=\"!showOtpComp\">\n              <div class=\"d-flex flex-jc-center mb-24\">\n                <img class=\"image centered\" alt={{tenantInfo.tenantName}} height=\"45\" src=\"{{tenantInfo.logo}}\">\n              </div>\n              <p class=\"text-center mb-24\">{{resourceService?.frmelmnts?.lbl?.mobileEmailInfoText |\n                    interpolate:'{instance}': resourceService.instance}}</p>\n              <form class=\"sb-form borderd\" #contactDetailsForm=\"ngForm\">\n                <div class=\"inline fields d-flex flex-w-wrap mb-8\" id=\"Mandatory\">\n                  <div class=\"ui radio checkbox mr-16\" tabindex=\"0\" (click)=\"resetForm('phone')\">\n                    <input type=\"radio\" value=\"phone\" [(ngModel)]=\"contactForm.type\" name='type'>\n                    <label for=\"phoneNumber\">{{resourceService?.frmelmnts?.lbl?.phoneNumber}}</label>\n                  </div>\n                  <div class=\"ui radio checkbox\" tabindex=\"0\" (click)=\"resetForm('email')\">\n                    <input type=\"radio\" value=\"email\" [(ngModel)]=\"contactForm.type\" name='type'>\n                    <label for=\"email\">{{resourceService?.frmelmnts?.lbl?.email}}</label>\n                  </div>\n                </div>\n                <div *ngIf=\"contactForm.type === 'phone'\" class=\"ui left icon input d-flex sb-field\">\n                  <input [(ngModel)]=\"contactForm.value\" name=\"value\"\n                    placeholder=\"{{ resourceService?.frmelmnts?.lbl?.tenDigitPhone }}\" class=\"sb-form-control\" required>\n                  <!-- pattern=\"validationPattern.phone\" -->\n                  <i class=\" icon\">+91-</i>\n                </div>\n                <label\n                  *ngIf=\"!userBlocked && !isValidIdentifier && contactForm.type === 'phone' && contactDetailsForm.controls.value && disableSubmitBtn && contactDetailsForm.controls.value.touched\"\n                  class=\"sb-color-warning fxsmall mt-8\">\n                  {{ resourceService.frmelmnts?.lbl?.validPhone}}</label>\n                <div *ngIf=\"contactForm.type === 'email'\" class=\"sb-field\">\n                  <input [(ngModel)]=\"contactForm.value\" class=\"sb-form-control\" name=\"value\"\n                    placeholder=\"{{ resourceService.frmelmnts?.lbl?.email }}\" required>\n                  <!-- pattern=\"validationPattern.email\" -->\n                </div>\n                <label\n                  *ngIf=\"!userBlocked && !isValidIdentifier && contactForm.type === 'email' && contactDetailsForm.controls.value && disableSubmitBtn && contactDetailsForm.controls.value.touched\"\n                  class=\"sb-color-warning fxsmall mt-8 pb-0\">\n                  {{resourceService.frmelmnts?.lbl?.validEmail}}</label>\n                <label *ngIf=\"disableSubmitBtn && userBlocked\" class=\"sb-color-warning fxsmall mt-8\">\n                  {{resourceService.frmelmnts?.lbl?.blockedUserError}}</label>\n                <label *ngIf=\"disableSubmitBtn && userExist\" class=\"sb-color-warning fxsmall mt-8\">\n                  {{ contactForm.type === 'phone' ? resourceService.frmelmnts?.lbl?.uniquePhone :\n                      resourceService.frmelmnts?.lbl?.uniqueEmail}}</label>\n                <label *ngIf=\"disableSubmitBtn && captchaValidationFailed\" class=\"sb-color-warning fxsmall mt-8\">\n                  {{resourceService.frmelmnts?.lbl?.captchaValidationFailed}}</label>\n                <div class=\"required sb-checkbox sb-checkbox-primary sb-field mt-16\">\n                  <input type=\"checkbox\" id=\"tncAccepted\" role=\"checkbox\" [(ngModel)]=\"contactForm.tncAccepted\"\n                    (change)=\"toggleTncCheckBox($event)\" name=\"tncAccepted\" class=\"mr-10 cursor-pointer\" required\n                    #tncAccepted=\"ngModel\">\n                  <label for=\"tncAccepted\" class=\"fsmall mr-0\">{{resourceService?.frmelmnts?.lbl?.tncLabel}}\n                    <a class=\"text-underline fsmall\" href=\"javascript:void(0)\" tabindex=\"0\"\n                      (click)=\"showAndHidePopup(true)\">\n                      {{resourceService?.frmelmnts?.lbl?.tncLabelLink | interpolate:'{instance}': instance}}\n                    </a>\n                  </label>\n                </div>\n                <re-captcha *ngIf=\"isP1CaptchaEnabled === 'true' && googleCaptchaSiteKey\" #captchaRef=\"reCaptcha\"\n                  (resolved)=\"$event && resolved($event) && captchaRef.reset()\" siteKey=\"{{googleCaptchaSiteKey}}\"\n                  size=\"invisible\"></re-captcha>\n                <a tabindex=\"0\" (click)=\"captchaRef.reset()\" id=\"resetGoogleCaptcha\"></a>\n                <div class=\"text-center\">\n                  <button [disabled]=\"disableSubmitBtn\"\n                    [ngClass]=\"{'sb-btn-disabled':disableSubmitBtn, 'sb-btn-primary':!disableSubmitBtn}\"\n                    class=\"sb-btn sb-btn-normal mt-24 w-100\" tabindex=\"0\"\n                    (click)=\"submitForm()\">{{resourceService.frmelmnts?.btn?.submitbtn}}</button>\n                </div>\n              </form>\n            </div>\n\n            <div *ngIf=\"showOtpComp\">\n              <app-otp-popup [otpData]=\"otpData\" [redirectToLogin]=\"true\"\n                (verificationSuccess)=\"handleOtpValidationSuccess($event)\"\n                (redirectToParent)=\"handleOtpValidationFailed($event)\">\n              </app-otp-popup>\n            </div>\n            <div *ngIf=\"showMergeConfirmation\">\n              <app-sso-merge-confirmation [userDetails]=\"userDetails\" [identifierType]=\"contactForm.type\"\n                [identifierValue]=\"contactForm.value\" [isTncAccepted]=\"contactForm.tncAccepted\"\n                [tncVersionAccepted]=\"tncLatestVersion\">\n              </app-sso-merge-confirmation>\n            </div>\n          </div>\n\n        </div>\n      </div>\n      <app-tnc-popup (close)=\"showAndHidePopup(false)\" [tncUrl]=\"termsAndConditionLink\" #termsAndCondPopUp\n        *ngIf=\"showTncPopup\">\n      </app-tnc-popup>\n\n    </div>\n  </ng-template>\n</app-modal-wrapper>\n","<app-modal-wrapper #modal [config]=\"{disableClose: true, size: 'large'}\" (dismiss)=\"modal.deny()\">\n  <ng-template sbModalContent>\n    <div class=\"sb-modal\">\n      <div class=\"transition ui dimmer page modals active visible\">\n        <div class=\"ui modal transition active visible large\">\n          <div class=\"signup-background\">\n            <div class=\"fullpage-background-image\">\n              <div class=\"container-wrapper\">\n                <div class=\"sb-merged-account-content text-center\">\n                  <img alt=\"{{tenantName}}\" src=\"{{logo}}\" class=\"sb-certificatePage-logo\" />\n                  <div class=\"title text-center my-24\">\n                    {{resourceService.frmelmnts?.lbl?.mergeAccount}}</div>\n                  <p class=\"py-8 m-0 failed-message font-weight-bold\">{{resourceService.messages?.imsg?.m0072}}\n                    {{resourceService.messages?.imsg?.m0073 | interpolate:'{instance}': instance }}</p>\n                </div>\n                <div class=\"d-flex flex-jc-center mt-40\">\n                  <button class=\"sb-btn sb-btn-primary sb-btn-md w-100\" tabindex=\"0\"\n                    (click)=\"createNewUser()\">{{resourceService.frmelmnts?.btn?.createNew}}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</app-modal-wrapper>","import { first } from 'rxjs/operators';\nimport { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { FormService } from '@sunbird/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { TenantService } from '@sunbird/core';\nimport { ResourceService, NavigationHelperService } from '@sunbird/shared';\nimport { get } from 'lodash-es';\n@Component({\n  templateUrl: './select-org.component.html',\n  styleUrls: ['./select-org.component.scss']\n})\nexport class SelectOrgComponent implements OnInit, AfterViewInit {\n  public selectedOrg: any;\n  public orgList: Array<any>;\n  public errorUrl = '/sso/sign-in/error';\n  public telemetryImpression;\n  public tenantInfo: any = {};\n  public disableSubmitBtn = true;\n  public submitOrgInteractEdata;\n  enableSSO = (<HTMLInputElement>document.getElementById('enableSSO'))\n    ? (<HTMLInputElement>document.getElementById('enableSSO')).value || 'true' : 'true';\n  isIOSDevice = false;\n\n  constructor(private formService: FormService, public activatedRoute: ActivatedRoute, private tenantService: TenantService,\n    public resourceService: ResourceService, public navigationhelperService: NavigationHelperService) { }\n\n  ngOnInit() {\n    this.isIOSDevice = /iPad|iPhone|iPod/.test(navigator.userAgent);\n    this.setTenantInfo();\n    this.setTelemetryData();\n    this.setRedirectUriCookie();\n\n    this.getSsoOrgList().subscribe(formData => this.orgList = formData,\n      error => console.log('no org configured in form')); // show toaster message\n  }\n  private setTenantInfo() {\n    this.tenantService.tenantData$.pipe(first()).subscribe(data => {\n      if (!data.err) {\n        this.tenantInfo = {\n          logo: data.tenantData.logo,\n          tenantName: data.tenantData.titleName\n        };\n      }\n    });\n  }\n  public handleOrgChange(event) {\n    if (this.isIOSDevice) {\n      this.selectedOrg = event.target.value;\n    }\n    this.disableSubmitBtn = false;\n  }\n  private getSsoOrgList() {\n    const formServiceInputParams = {\n      formType: 'organization',\n      formAction: 'sign-in',\n      contentType: 'organization'\n    };\n    return this.formService.getFormConfig(formServiceInputParams);\n  }\n  public handleOrgSelection(event) {\n    window.location.href = this.selectedOrg;\n  }\n\n  ngAfterViewInit () {\n    setTimeout(() => {\n      this.telemetryImpression = {\n        context: {\n          env: this.activatedRoute.snapshot.data.telemetry.env,\n        },\n        edata: {\n          type: this.activatedRoute.snapshot.data.telemetry.type,\n          pageid: this.activatedRoute.snapshot.data.telemetry.pageid,\n          uri: this.activatedRoute.snapshot.data.telemetry.uri,\n          duration: this.navigationhelperService.getPageLoadTime()\n        }\n      };\n    });\n  }\n\n  private setTelemetryData() {\n    this.submitOrgInteractEdata = {\n      id: 'submit-org',\n      type: 'click',\n      pageid: 'sso-sign-in',\n    };\n  }\n  private setRedirectUriCookie() {\n    const redirectUri = get(this.activatedRoute, 'snapshot.queryParams.redirect_uri');\n    if (redirectUri) { document.cookie = `SSO_REDIRECT_URI=${redirectUri}; path=/`; }\n  }\n}\n"],"sourceRoot":"webpack:///"}