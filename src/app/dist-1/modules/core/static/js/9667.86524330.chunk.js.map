{"version":3,"file":"static/js/9667.86524330.chunk.js","mappings":"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","sources":["../../../node_modules/i18next-http-backend/esm/utils.js","../../../node_modules/i18next-http-backend/esm/request.js","../../../node_modules/i18next-http-backend/esm/index.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nexport function defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\nexport function hasXMLHttpRequest() {\n  return typeof XMLHttpRequest === 'function' || (typeof XMLHttpRequest === \"undefined\" ? \"undefined\" : _typeof(XMLHttpRequest)) === 'object';\n}\n\nfunction isPromise(maybePromise) {\n  return !!maybePromise && typeof maybePromise.then === 'function';\n}\n\nexport function makePromise(maybePromise) {\n  if (isPromise(maybePromise)) {\n    return maybePromise;\n  }\n\n  return Promise.resolve(maybePromise);\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { defaults, hasXMLHttpRequest } from './utils.js';\nimport * as fetchNode from './getFetch.cjs';\nvar fetchApi;\n\nif (typeof fetch === 'function') {\n  if (typeof global !== 'undefined' && global.fetch) {\n    fetchApi = global.fetch;\n  } else if (typeof window !== 'undefined' && window.fetch) {\n    fetchApi = window.fetch;\n  }\n}\n\nvar XmlHttpRequestApi;\n\nif (hasXMLHttpRequest) {\n  if (typeof global !== 'undefined' && global.XMLHttpRequest) {\n    XmlHttpRequestApi = global.XMLHttpRequest;\n  } else if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n    XmlHttpRequestApi = window.XMLHttpRequest;\n  }\n}\n\nvar ActiveXObjectApi;\n\nif (typeof ActiveXObject === 'function') {\n  if (typeof global !== 'undefined' && global.ActiveXObject) {\n    ActiveXObjectApi = global.ActiveXObject;\n  } else if (typeof window !== 'undefined' && window.ActiveXObject) {\n    ActiveXObjectApi = window.ActiveXObject;\n  }\n}\n\nif (!fetchApi && fetchNode && !XmlHttpRequestApi && !ActiveXObjectApi) fetchApi = fetchNode.default || fetchNode;\nif (typeof fetchApi !== 'function') fetchApi = undefined;\n\nvar addQueryString = function addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '';\n\n    for (var paramName in params) {\n      queryString += '&' + encodeURIComponent(paramName) + '=' + encodeURIComponent(params[paramName]);\n    }\n\n    if (!queryString) return url;\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n\n  return url;\n};\n\nvar requestWithFetch = function requestWithFetch(options, url, payload, callback) {\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  var headers = defaults({}, typeof options.customHeaders === 'function' ? options.customHeaders() : options.customHeaders);\n  if (payload) headers['Content-Type'] = 'application/json';\n  fetchApi(url, defaults({\n    method: payload ? 'POST' : 'GET',\n    body: payload ? options.stringify(payload) : undefined,\n    headers: headers\n  }, typeof options.requestOptions === 'function' ? options.requestOptions(payload) : options.requestOptions)).then(function (response) {\n    if (!response.ok) return callback(response.statusText || 'Error', {\n      status: response.status\n    });\n    response.text().then(function (data) {\n      callback(null, {\n        status: response.status,\n        data: data\n      });\n    }).catch(callback);\n  }).catch(callback);\n};\n\nvar requestWithXmlHttpRequest = function requestWithXmlHttpRequest(options, url, payload, callback) {\n  if (payload && _typeof(payload) === 'object') {\n    payload = addQueryString('', payload).slice(1);\n  }\n\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  try {\n    var x;\n\n    if (XmlHttpRequestApi) {\n      x = new XmlHttpRequestApi();\n    } else {\n      x = new ActiveXObjectApi('MSXML2.XMLHTTP.3.0');\n    }\n\n    x.open(payload ? 'POST' : 'GET', url, 1);\n\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    x.withCredentials = !!options.withCredentials;\n\n    if (payload) {\n      x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n\n    if (x.overrideMimeType) {\n      x.overrideMimeType('application/json');\n    }\n\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback(x.status >= 400 ? x.statusText : null, {\n        status: x.status,\n        data: x.responseText\n      });\n    };\n\n    x.send(payload);\n  } catch (e) {\n    console && console.log(e);\n  }\n};\n\nvar request = function request(options, url, payload, callback) {\n  if (typeof payload === 'function') {\n    callback = payload;\n    payload = undefined;\n  }\n\n  callback = callback || function () {};\n\n  if (fetchApi) {\n    return requestWithFetch(options, url, payload, callback);\n  }\n\n  if (hasXMLHttpRequest || typeof ActiveXObject === 'function') {\n    return requestWithXmlHttpRequest(options, url, payload, callback);\n  }\n};\n\nexport default request;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { defaults, makePromise } from './utils.js';\nimport request from './request.js';\n\nvar getDefaults = function getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: function parse(data) {\n      return JSON.parse(data);\n    },\n    stringify: JSON.stringify,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    request: request,\n    reloadInterval: typeof window !== 'undefined' ? false : 60 * 60 * 1000,\n    customHeaders: {},\n    queryStringParams: {},\n    crossDomain: false,\n    withCredentials: false,\n    overrideMimeType: false,\n    requestOptions: {\n      mode: 'cors',\n      credentials: 'same-origin',\n      cache: 'default'\n    }\n  };\n};\n\nvar Backend = function () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, Backend);\n\n    this.services = services;\n    this.options = options;\n    this.allOptions = allOptions;\n    this.type = 'backend';\n    this.init(services, options, allOptions);\n  }\n\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n      this.allOptions = allOptions;\n\n      if (this.services && this.options.reloadInterval) {\n        setInterval(function () {\n          return _this.reload();\n        }, this.options.reloadInterval);\n      }\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      this._readAny(languages, languages, namespaces, namespaces, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      this._readAny([language], language, [namespace], namespace, callback);\n    }\n  }, {\n    key: \"_readAny\",\n    value: function _readAny(languages, loadUrlLanguages, namespaces, loadUrlNamespaces, callback) {\n      var _this2 = this;\n\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n\n      loadPath = makePromise(loadPath);\n      loadPath.then(function (resolvedLoadPath) {\n        if (!resolvedLoadPath) return callback(null, {});\n\n        var url = _this2.services.interpolator.interpolate(resolvedLoadPath, {\n          lng: languages.join('+'),\n          ns: namespaces.join('+')\n        });\n\n        _this2.loadUrl(url, callback, loadUrlLanguages, loadUrlNamespaces);\n      });\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback, languages, namespaces) {\n      var _this3 = this;\n\n      this.options.request(this.options, url, undefined, function (err, res) {\n        if (res && (res.status >= 500 && res.status < 600 || !res.status)) return callback('failed loading ' + url + '; status code: ' + res.status, true);\n        if (res && res.status >= 400 && res.status < 500) return callback('failed loading ' + url + '; status code: ' + res.status, false);\n        if (!res && err && err.message && err.message.indexOf('Failed to fetch') > -1) return callback('failed loading ' + url + ': ' + err.message, true);\n        if (err) return callback(err, false);\n        var ret, parseErr;\n\n        try {\n          if (typeof res.data === 'string') {\n            ret = _this3.options.parse(res.data, languages, namespaces);\n          } else {\n            ret = res.data;\n          }\n        } catch (e) {\n          parseErr = 'failed parsing ' + url + ' to json';\n        }\n\n        if (parseErr) return callback(parseErr, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue, callback) {\n      var _this4 = this;\n\n      if (!this.options.addPath) return;\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      var finished = 0;\n      var dataArray = [];\n      var resArray = [];\n      languages.forEach(function (lng) {\n        var addPath = _this4.options.addPath;\n\n        if (typeof _this4.options.addPath === 'function') {\n          addPath = _this4.options.addPath(lng, namespace);\n        }\n\n        var url = _this4.services.interpolator.interpolate(addPath, {\n          lng: lng,\n          ns: namespace\n        });\n\n        _this4.options.request(_this4.options, url, payload, function (data, res) {\n          finished += 1;\n          dataArray.push(data);\n          resArray.push(res);\n\n          if (finished === languages.length) {\n            if (callback) callback(dataArray, resArray);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this5 = this;\n\n      var _this$services = this.services,\n          backendConnector = _this$services.backendConnector,\n          languageUtils = _this$services.languageUtils,\n          logger = _this$services.logger;\n      var currentLanguage = backendConnector.language;\n      if (currentLanguage && currentLanguage.toLowerCase() === 'cimode') return;\n      var toLoad = [];\n\n      var append = function append(lng) {\n        var lngs = languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n\n      append(currentLanguage);\n      if (this.allOptions.preload) this.allOptions.preload.forEach(function (l) {\n        return append(l);\n      });\n      toLoad.forEach(function (lng) {\n        _this5.allOptions.ns.forEach(function (ns) {\n          backendConnector.read(lng, ns, 'read', null, null, function (err, data) {\n            if (err) logger.warn(\"loading namespace \".concat(ns, \" for language \").concat(lng, \" failed\"), err);\n            if (!err && data) logger.log(\"loaded namespace \".concat(ns, \" for language \").concat(lng), data);\n            backendConnector.loaded(\"\".concat(lng, \"|\").concat(ns), err, data);\n          });\n        });\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\nBackend.type = 'backend';\nexport default Backend;"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","arr","each","forEach","slice","defaults","call","arguments","source","prop","undefined","hasXMLHttpRequest","XMLHttpRequest","fetchApi","XmlHttpRequestApi","ActiveXObjectApi","fetch","global","window","ActiveXObject","fetchNode","addQueryString","url","params","queryString","paramName","encodeURIComponent","indexOf","options","payload","callback","queryStringParams","headers","customHeaders","method","body","stringify","requestOptions","then","response","ok","statusText","status","text","data","catch","requestWithFetch","x","open","crossDomain","setRequestHeader","withCredentials","overrideMimeType","h","i","onreadystatechange","readyState","responseText","send","e","console","log","requestWithXmlHttpRequest","_defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","getDefaults","loadPath","addPath","allowMultiLoading","parse","JSON","parsePayload","namespace","fallbackValue","value","_defineProperty","request","reloadInterval","mode","credentials","cache","Backend","services","allOptions","instance","Constructor","TypeError","_classCallCheck","this","type","init","protoProps","staticProps","_this","setInterval","reload","languages","namespaces","_readAny","language","loadUrlLanguages","loadUrlNamespaces","maybePromise","_this2","isPromise","Promise","resolve","resolvedLoadPath","interpolator","interpolate","lng","join","ns","loadUrl","_this3","err","res","message","ret","parseErr","_this4","finished","dataArray","resArray","push","_this5","_this$services","backendConnector","languageUtils","logger","currentLanguage","toLowerCase","toLoad","append","toResolveHierarchy","l","preload","read","warn","concat","loaded"],"sourceRoot":""}