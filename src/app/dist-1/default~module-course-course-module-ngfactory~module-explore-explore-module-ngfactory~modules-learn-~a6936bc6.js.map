{"version":3,"sources":["./src/app/modules/content-search/services/content-search/content-search.service.ts","./src/app/modules/content-search/components/index.ts","./src/app/modules/content-search/components/view-all/view-all.component.html","./src/app/modules/content-search/components/search-filter/search-filter.component.ts","./src/app/modules/content-search/services/index.ts","./src/app/modules/content-search/index.ts","./src/app/modules/content-search/components/view-all/view-all.component.ts"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiE;AACV;AACU;AAClC;;;;AAC/B,IAAM,kBAAkB,GAAG,EAAE,UAAU,EAAE,uCAAuC,EAAE,CAAC;AACnF;IAyBE,8BAAoB,gBAAkC,EAAU,cAA8B;QAA1E,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAtBvF,iBAAY,GAAG,EAAE,CAAC;QAMjB,aAAQ,GAAG;YACjB,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,UAAU,EAAE,EAAE;YACd,OAAO,EAAE,EAAE;YACX,SAAS,EAAE,EAAE;SACd,CAAC;QAIM,oBAAe,GAAG,IAAI,oDAAe,CAAM,SAAS,CAAC,CAAC;IAMoC,CAAC;IArBnG,sBAAI,6CAAW;aAAf;YACE,OAAO,IAAI,CAAC,YAAY,CAAC;QAC3B,CAAC;;;OAAA;IAUD,sBAAI,yCAAO;aAAX;YACE,OAAO,mDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACpC,CAAC;;;OAAA;IAED,sBAAI,gDAAc;aAAlB;YACE,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE;iBACvC,IAAI,CAAC,gEAAS,CAAC,cAAI,IAAI,WAAI,KAAK,SAAS,IAAI,IAAI,KAAK,IAAI,EAAnC,CAAmC,CAAC,CAAC,CAAC;QAClE,CAAC;;;OAAA;IAIM,yCAAU,GAAjB,UAAkB,SAAiB,EAAE,YAAoB,EAAE,YAAoB;QAA1C,mDAAoB;QACvD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;QAChC,IAAI,CAAC,eAAe,GAAG,IAAI,oDAAe,CAAM,SAAS,CAAC,CAAC;QAC3D,OAAO,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACjC,CAAC;IACD,+CAAgB,GAAhB;QAAA,iBA4BC;QA3BC,OAAO,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC;aACpD,IAAI,CAAC,+DAAQ,CAAC,UAAC,cAAc;YAC5B,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,KAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,6CAAK,CAAC,cAAc,EAAE,2BAA2B,CAAC,IAAI,CAAC;wBAC3E,IAAI,EAAE,6CAAK,CAAC,cAAc,EAAE,iCAAiC,CAAC;wBAC9D,UAAU,EAAE,6CAAK,CAAC,cAAc,EAAE,iCAAiC,CAAC;qBACrE,CAAC,CAAC;gBACH,IAAM,aAAa,GAAG,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,UAAC,KAAK,IAAK,YAAK,CAAC,IAAI,KAAK,KAAI,CAAC,YAAY,EAAhC,CAAgC,CAAC,IAAI,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACtH,KAAI,CAAC,YAAY,GAAG,6CAAK,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;aACxD;iBAAM;gBACL,KAAI,CAAC,YAAY,GAAG,6CAAK,CAAC,cAAc,EAAE,iCAAiC,CAAC,CAAC;aAC9E;YACD,IAAI,6CAAK,CAAC,cAAc,EAAE,0BAA0B,CAAC,EAAE;gBACrD,KAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,6CAAK,CAAC,cAAc,EAAE,0BAA0B,CAAC,CAAC,CAAC;aACzF;YACD,OAAO,KAAI,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,KAAI,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;QACrG,CAAC,CAAC,EAAE,0DAAG,CAAC,0BAAgB;YACtB,IAAM,mBAAmB,GAAU,6CAAK,CAAC,gBAAgB,EAAE,6BAA6B,CAAC,CAAC;YAC1F,mBAAmB,CAAC,OAAO,CAAC,kBAAQ;gBAClC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBAC/D,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,KAAK,IAAI,EAAE,CAAC;iBACrD;qBAAM,IAAI,CAAC,KAAI,CAAC,YAAY,IAAI,QAAQ,CAAC,IAAI,KAAK,OAAO,EAAE;oBAC1D,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,KAAK,IAAI,EAAE,CAAC;iBACrD;YACH,CAAC,CAAC,CAAC;YACH,OAAO,IAAI,CAAC;QACd,CAAC,CAAC,EAAE,4DAAK,EAAE,CAAC,CAAC;IACjB,CAAC;IACM,0CAAW,GAAlB,UAAmB,SAAU;QAA7B,iBAkBC;QAjBC,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,SAAS,EAAE;YACpC,OAAO,+CAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACzB;QACD,IAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,UAAC,KAAK,IAAK,YAAK,CAAC,IAAI,KAAK,SAAS,EAAxB,CAAwB,CAAC;eAC9E,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,UAAC,KAAK,IAAK,YAAK,CAAC,IAAI,KAAK,KAAI,CAAC,YAAY,EAAhC,CAAgC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACrG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,6CAAK,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;QAC3E,OAAO,IAAI,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,IAAI,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC,IAAI,CAAC,0DAAG,CAAC,0BAAgB;YAC1H,IAAM,mBAAmB,GAAU,6CAAK,CAAC,gBAAgB,EAAE,6BAA6B,CAAC,CAAC;YAC1F,mBAAmB,CAAC,OAAO,CAAC,kBAAQ;gBAClC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBAC/D,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,KAAK,IAAI,EAAE,CAAC;iBACrD;qBAAM,IAAI,QAAQ,CAAC,IAAI,KAAK,OAAO,IAAI,CAAC,KAAI,CAAC,YAAY,EAAE;oBAC1D,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,KAAK,IAAI,EAAE,CAAC;iBACrD;YACH,CAAC,CAAC,CAAC;YACH,OAAO,KAAI,CAAC,OAAO,CAAC;QACtB,CAAC,CAAC,EAAE,4DAAK,EAAE,CAAC,CAAC;IACf,CAAC;IAED,sBAAI,sDAAoB;aAAxB;YACE,OAAO;gBACL,OAAO,EAAE,aAAa;gBACtB,MAAM,EAAE,YAAY;gBACpB,UAAU,EAAE,gBAAgB;gBAC5B,KAAK,EAAE,WAAW;aACnB,CAAC;QACJ,CAAC;;;OAAA;IAEM,4CAAa,GAApB,UAAqB,EAAgB;QAArC,iBAMC;YANsB,eAAY,EAAZ,OAAO,mBAAG,EAAE;QACjC,OAAO,gDAAQ,CAAC,OAAO,EAAE,UAAC,GAAG,EAAE,KAAK,EAAE,GAAG;YACvC,IAAM,WAAW,GAAG,6CAAK,CAAC,KAAI,CAAC,oBAAoB,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5D,IAAI,WAAW,IAAI,GAAG,KAAK,SAAS,EAAE;gBAAE,GAAG,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;gBAAC,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;aAAE;YACpF,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,OAAO,CAAC,CAAC;IACd,CAAC;;+BAzGH;CA0GC;AAnGgC;;;;;;;;;;;;;ACPjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACQ;AACF;AACY;AACZ;AACR;AACwB;AACkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sGCF5E,uMAC8F,YAApC;;wBAAmC;MAD7F,gwCAC8F,mDAA1F,mBAAiB,SADK,mBAAgC,aAAC,mBAA2C,sBAChF,oBAAe,EADrC,YAC8F,EAA1F,SAAiB,EADK,SAAgC,EAAC,SAA2C,EAChF,SAAe;sGAWrB,6LACqE,gMAAc;sGAJvF,yJAAuD,KACnD,gKAA0C,gFACzB,MACjB,yYACqE,IACrE;;wBAE+C;MAA3C;;wBAA6B;MAFjC,igBAE+C,gFAA2C,kJAC/D,kDALrB,mBAAkB,aAAxB,YACqE,EAD/D,SAAkB,GAEK,mBAA4C,oBAAzE,YAE+C,EAFlB,SAA4C,mDAJ/B,2GACzB,GAK8B,mOAA2C;sGAOtF,wHAA2C,KACvC;;wBAGwD;MAApD;;wBAAkC;MAHtC,kwBAGwD,GADpD,8EAA0L,KAF9L,m2BAGwD,iDADpD,qQAA0L,IAD1L,mBAA2C,mBAD/C,YAGwD,EADpD,SAA0L,EAD1L,SAA2C,GAER,kBAAgB,2BAHvD,YAGwD,EAAjB,8BAAgB,2BAHvD,YAGwD,EAAjB,SAAgB;sGAE3D,wHAA0C,KACtC;;wBAI2D;MADvD;;wBAA0C;MAH9C,s3BAI2D,GAFvD,8EAA0L,KAF9L,kUAI2D,mDAFvD,qQAA0L,IADrK,mBAA2C,mBADpE,YAI2D,EAFvD,SAA0L,EADrK,SAA2C,GAErB,kBAAmB,2BAC9D,+HAAsD,GAJpB,mBAAoC,sBAAzD,kBAAoB,uBAArC,YAI2D,EADZ,SAAmB,EAC9D,SAAsD,EAJpB,SAAoC,EAAzD,SAAoB;sGAR7C,oIAAgE,KAC5D,yYAA2C,IAM3C,yYAA0C,iDAN5B,oBAA4B,sBAA1C,YAA2C,EAA7B,SAA4B,GAM5B,mBAA2B,sBAAzC,YAA0C,EAA5B,SAA2B;sGATrD,4JAAuE,KACnE,gKAA0C,KACtC,kdAAgE,iDAAlD,mBAAiD,aAA/D,YAAgE,EAAlD,SAAiD;sGAkBvE,sJAAgE,KAC5D,8oBAAwC,iDAAzB,mBAAwB,kBAAvC,YAAwC,EAAzB,SAAwB;sGAE3C,sJAAmD,KAC/C,w0BAAmC,iDAAvB,mBAAsB,gBAAlC,YAAmC,EAAvB,SAAsB;uGAc1B,iSAEgE,YAA/C;;wBAA8B;MAF/C,qcAEgE,GAD3B,iEAA6C,MAClB,2EAAQ,mDAAxB,yBAAe,EAD1B,2DAA6C,sBADlF,YAEgE,EAAhB,SAAe,EAD1B,SAA6C,2BAD7C,gHAAgB,GAAC,gHAA0B,GAAhF,YAEgE,EAF3B,SAAgB,EAAC,SAA0B,GAEhB,6DAAQ;uGAZhF,6KAA0F,KACtF,uJAAgC,KAC5B,wQAGiC,YAA7B;;wBAA4B;MAHhC,qcAGiC,GAD7B,mEAA6C,MAChB,8EAAO,MACxC,wQAGoD,YAAhD;;wBAA+C;MAHnD,qcAGoD,GADhD,mEAA6C,MACG,yEAAI,MACxD,odAEgE,IAChE,wQAGoE,YAAhE;;wBAA+C;MAHnD,scAGoE,GADhE,oEAA4D,MACI,yEAAI,MACxE,wQAG+D,YAA3D;;wBAA0C;MAH9C,scAG+D,GAD3D,oEAA4D,MACD,8EAAO,mDAhBpB,0BAAgB,EAA9D,0DAA6C,IAFjD,YAGiC,EADiB,SAAgB,EAA9D,SAA6C,GAIC,0BAAgB,EAA9D,0DAA6C,IAFjD,YAGoD,EADF,SAAgB,EAA9D,SAA6C,GAG7C,mBAAgC,cADpC,aAEgE,EAD5D,SAAgC,GAKgB,0BAAe,EAD/D,8DAA4D,qBAFhE,aAGoE,EAAhB,UAAe,EAD/D,UAA4D,GAKjB,0BAAe,EAD1D,8DAA4D,qBAFhE,aAG+D,EAAhB,UAAe,EAD1D,UAA4D,mDAjB/C,sRAAkD,GAC/D,sRAA4D,GADhE,YAGiC,EAHhB,SAAkD,EAC/D,SAA4D,GAG/C,yRAAqD,GAClE,yRAA+D,GADnE,YAGoD,EAHnC,SAAqD,EAClE,SAA+D,GAMlD,qRAAiD,GAC9D,sRAA2D,GAD/D,aAGoE,EAHnD,SAAiD,EAC9D,UAA2D,GAG9C,sRAAiD,GAC9D,sRAA2D,GAD/D,aAG+D,EAH9C,UAAiD,EAC9D,UAA2D;uGApB3E,+KAC6G,KACzG,0YAA0F,iDAApC,iCAAmC,sBAAzF,YAA0F,EAApC,SAAmC;uGA8BjH,2LAAuH,YAArC;;wBAAoC;MAAtH,i2CAAuH,mDAAjF,mBAA2C,wBAAjF,YAAuH,EAAjF,SAA2C;sGAnFjF,+3BAAkF,IAClF,ghBAAiE,IAC7D,66BACmD,IAC/C,0iBAA2D,IACvD,0YAC8F,IAGlG,khBAAqC,IACjC,04BAC+E,IAC3E,wgBAAsE,IAClE,mJAA4B,KACxB,0YAAuD,IAW3D,0YAAuE,IAoBvE,0YAAgE,IAGhE,0YAAmD,IAGnD,2YAC6G,IA+BjI,2YAAuH,iDAnFjF,mBAA2C,sBAA5D,oBAAgB,EAArC,YAAkF,EAA5C,SAA2C,EAA5D,SAAgB,GAChC,sEAA2D,GAAhE,YAAiE,EAA5D,SAA2D,GAExD,mBAA8C,sBADlD,YACmD,EAA/C,SAA8C,GAD7C,sBAAY,EAAC,yFAAgF,GAAlG,YACmD,EAD9C,SAAY,EAAC,SAAgF,GAEzF,mBAA8B,qBAAnC,YAA2D,EAAtD,SAA8B,GAEO,mBAAmB,cADzD,aAC8F,EAAxD,SAAmB,GAGxD,mBAA+B,sBAApC,aAAqC,EAAhC,SAA+B,GAC3B,mBAA8C,sBAAnD,aAC+E,EAD1E,SAA8C,GAC/C,oFAA0E,GAD9E,aAC+E,EAA3E,UAA0E,GACnD,oBAA8C,sBAArE,aAAsE,EAA/C,UAA8C,GAE1B,qBAAmB,aAAtD,aAAuD,EAApB,UAAmB,GAWpB,yCAAgC,YAAtE,aAAuE,EAAjC,UAAgC,GAoBtC,sCAA+B,cAA/D,aAAgE,EAAhC,UAA+B,GAG/B,oBAAkB,aAAlD,aAAmD,EAAnB,UAAkB,GAI9C,mIAAwG,YAD5G,aAC6G,EAAzG,UAAwG,GA+BhH,oBAAqB,gBAArC,aAAuH,EAAvG,UAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFmF;AACzF;AAC+C;AACb;AACR;AACc;AAC0B;AAC3C;AACV;AAEK;AAEjD;IAmFE,+BAAmB,eAAgC,EAAU,MAAc,EACjE,oBAA0C,EAC1C,cAA8B,EAAU,GAAsB,EAC/D,aAA4B,EAAU,WAAwB,EAC7D,YAA0B;QAJpC,iBAIyC;QAJtB,oBAAe,GAAf,eAAe,CAAiB;QAAU,WAAM,GAAN,MAAM,CAAQ;QACjE,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,mBAAc,GAAd,cAAc,CAAgB;QAAU,QAAG,GAAH,GAAG,CAAmB;QAC/D,kBAAa,GAAb,aAAa,CAAe;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC7D,iBAAY,GAAZ,YAAY,CAAc;QAjF7B,iBAAY,GAAG,2FAAoB,CAAC;QACpC,YAAO,GAAG,IAAI,CAAC;QACd,iBAAY,GAAG,IAAI,4CAAO,EAAQ,CAAC;QACnC,iBAAY,GAAG,IAAI,4CAAO,EAAQ,CAAC;QACpC,eAAU,GAAG,KAAK,CAAC;QAElB,iBAAY,GAAQ,EAAE,CAAC;QACxB,eAAU,GAAU,EAAE,CAAC;QAGvB,gBAAW,GAAG;YACnB,SAAS,EAAE,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,yBAAyB,CAAC,EAAE,KAAK,EAAE,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,sBAAsB,CAAC;SAC9H,CAAC;QACK,WAAM,GAAU,EAAE,CAAC;QAC1B,sBAAiB,GAAG,IAAI,4CAAO,EAAE,CAAC;QAEzB,mBAAc,GAAG,EAAE,CAAC;QACpB,WAAM,GAAG,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,gCAAgC,CAAC,CAAC;QACrE,iBAAY,GAAoD,IAAI,0DAAY,EAAE,CAAC;QAGpF,YAAO,GAAG,IAAI,oDAAe,CAAC,EAAE,CAAC,CAAC;QAClC,eAAU,GAAG,EAAE,CAAC;QACzB,oBAAe,GAAG,EAAE,CAAC;QACrB,cAAS,GAAG,EAAE,CAAC;QACf,qBAAgB,GAAG,EAAE,CAAC;QAEf,iCAA4B,GAAG,IAAI,CAAC;QAKnC,mBAAc,GAAG,kDAAK,CAAC,cAAM,sDAAE,CAAC;YACtC;gBACE,QAAQ,EAAE,OAAO;gBACjB,IAAI,EAAE,UAAU;gBAChB,SAAS,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,sBAAsB,CAAC;gBAC9D,eAAe,EAAE,iBAAiB;gBAClC,QAAQ,EAAE,KAAK;aAChB;YACD;gBACE,QAAQ,EAAE,QAAQ;gBAClB,IAAI,EAAE,UAAU;gBAChB,SAAS,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,sBAAsB,CAAC;gBAC9D,eAAe,EAAE,iBAAiB;gBAClC,QAAQ,EAAE,IAAI;aACf;YACD;gBACE,QAAQ,EAAE,YAAY;gBACtB,IAAI,EAAE,UAAU;gBAChB,SAAS,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,qBAAqB,CAAC;gBAC7D,eAAe,EAAE,qBAAqB;gBACtC,QAAQ,EAAE,IAAI;aACf;YACD;gBACE,QAAQ,EAAE,SAAS;gBACnB,IAAI,EAAE,UAAU;gBAChB,SAAS,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,uBAAuB,CAAC;gBAC/D,eAAe,EAAE,cAAc;gBAC/B,QAAQ,EAAE,IAAI;aACf;SAeF,CAAC,EA3CmC,CA2CnC,CAAC,CAAC;IAMoC,CAAC;IAEzC,sBAAI,6CAAU;aAAd;YACE,OAAO,6CAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,EAAE,gBAAgB,EAAE,YAAY,CAAC,CAAC;QAClM,CAAC;;;OAAA;IACM,4CAAY,GAAnB,UAAoB,KAAK;QACf,SAA+B,KAAI,CAAC,OAAO,IAAI,EAAE,WAAvB,EAAf,UAAU,mBAAG,EAAE,MAAwB;QAC1D,OAAO,6CAAK,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;IAC3C,CAAC;IACO,yDAAyB,GAAjC;QAAA,iBAgBC;QAfC,OAAO,IAAI,CAAC,cAAc,CAAC,WAAW;aACnC,IAAI,CACH,0DAAG,CACD,qBAAW;YACT,IAAM,YAAY,GAA6B,EAAE,CAAC;YAClD,+CAAO,CAAC,WAAW,EAAE,UAAC,KAAK,EAAE,GAAG;gBAC9B,IAAI,KAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;oBACjC,YAAY,CAAC,GAAG,CAAC,GAAG,iDAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;iBACxD;YACH,CAAC,CAAC,CAAC;YACH,KAAI,CAAC,YAAY,GAAG,mDAAW,CAAC,YAAY,CAAC,CAAC;YAC9C,OAAO,YAAY,CAAC;QACtB,CAAC,CACF,CACF,CAAC;IACN,CAAC;IACO,kDAAkB,GAA1B;QACE,IAAI,MAAM,CAAC,UAAU,IAAI,GAAG,EAAE;YAC5B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACrB;IACH,CAAC;IACO,4CAAY,GAApB,UAAqB,EAAoB;YAAlB,iBAAgB,EAAhB,SAAS,mBAAG,IAAI;QACrC,OAAO,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;IAC1D,CAAC;IACO,2CAAW,GAAnB,UAAoB,EAAyD;YAAvD,OAAO,eAAE,gBAAiB,EAAjB,QAAQ,mBAAG,MAAM,OAAE,gBAAyB,EAAzB,QAAQ,mBAAG,CAAC,YAAY,CAAC;QACzE,IAAM,aAAa,GAAG,mDAAW,CAAC,OAAO,CAAC,CAAC;QAC3C,iDAAS,CAAC,aAAa,EAAE,UAAC,MAAM,EAAE,GAAG;YACnC,aAAa,CAAC,GAAG,CAAC,GAAG,kDAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,gDAAQ,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzF,CAAC,CAAC,CAAC;QACH,OAAO,aAAa,CAAC;IACvB,CAAC;IACO,4CAAY,GAApB;QAAA,iBAWC;QAVC,OAAO,IAAI,CAAC,yBAAyB,EAAE;aACpC,IAAI,CACH,gEAAS,CAAC,qBAAW;YACnB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC,CAAC;YAC/C,IAAI,SAAS,GAAG,6CAAK,CAAC,WAAW,EAAE,UAAU,CAAC,IAAI,6CAAK,CAAC,KAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAC5E,SAAS,GAAG,SAAS,KAAK,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC;YAC5D,OAAO,gDAAG,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,SAAS,aAAE,CAAC,EAAE,KAAI,CAAC,yBAAyB,EAAE,CAAC;iBAC3E,IAAI,CAAC,0DAAG,CAAC,UAAC,EAA+C;oBAA9C,OAAO,UAAE,kBAAkB;gBAAwB,8BAAM,OAAO,KAAE,QAAQ,EAAE,kBAAkB,IAAG;YAA9C,CAA8C,CAAC,CAAC,CAAC;QACpH,CAAC,CAAC,CACH,CAAC;IACN,CAAC;IACD,wCAAQ,GAAR;QACE,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,kDAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,IAAI,CAAC,0BAA0B,EAAE,EAAE,IAAI,CAAC,kBAAkB,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC;aACjI,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAClC,SAAS,CAAC,IAAI,EAAE,eAAK;YACpB,OAAO,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,+BAA+B,CAAC,EAAE;YAChE,IAAM,WAAW,yBAAQ,IAAI,CAAC,cAAc,KAAE,WAAW,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,kCAAkC,CAAC,IAAI,6CAAK,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,IAAI,UAAU,GAAE,CAAC;YACnL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,WAAW,eAAE,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;SAC5E;IAGH,CAAC;IACO,kDAAkB,GAA1B;QAAA,iBAYC;QAXC,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAC3B,gEAAS,CAAC,mBAAS;YACjB,OAAO,KAAI,CAAC,YAAY,CAAC,EAAE,SAAS,aAAE,CAAC;iBACpC,IAAI,CACH,0DAAG,CAAC,iBAAO;gBACT,KAAI,CAAC,OAAO,yBAAQ,KAAI,CAAC,OAAO,GAAK,KAAI,CAAC,WAAW,CAAC,EAAE,OAAO,WAAE,CAAC,CAAE,CAAC;gBACrE,KAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC,CAAC,CACH,CAAC;QACN,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IACO,0DAA0B,GAAlC;QAAA,iBAYC;QAXC,OAAO,IAAI,CAAC,YAAY,EAAE;aACvB,IAAI,CACH,0DAAG,CAAC,iBAAO;YACT,OAAO,GAAG,8CAAM,CAAC,OAAO,IAAI,EAAE,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;YACjD,KAAI,CAAC,OAAO,GAAG,OAAO,GAAG,KAAI,CAAC,WAAW,CAAC,EAAE,OAAO,WAAE,CAAC,CAAC;YACvD,KAAI,CAAC,eAAe,EAAE,CAAC;YACvB,KAAI,CAAC,iBAAiB,CAAC,EAAE,OAAO,EAAE,8CAAM,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC;YAC9D,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YACjC,KAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC,CAAC,CACH,CAAC;IACN,CAAC;IACO,kDAAkB,GAA1B;QAAA,iBA0BC;QAzBC,OAAO,IAAI,CAAC,iBAAiB;aAC1B,IAAI,CACH,mEAAY,CAAC,IAAI,CAAC,EAClB,0DAAG,CAAC,UAAC,EAAe;gBAAb,IAAI,YAAE,KAAK;YAChB,IAAI,6CAAK,CAAC,KAAK,EAAE,YAAY,CAAC,EAAE;gBAC9B,IAAM,KAAK,GAAG,6CAAK,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;gBACzC,IAAM,eAAe,GAAG,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;gBAChE,IAAI,kDAAU,CAAC,eAAe,EAAE,KAAK,CAAC,EAAE;oBACtC,IAAI,6CAAK,CAAC,eAAe,EAAE,QAAQ,CAAC,GAAG,CAAC,EAAE;wBACxC,KAAI,CAAC,SAAS,CAAC,EAAE,IAAI,QAAE,KAAK,SAAE,CAAC,CAAC;qBACjC;iBACF;qBAAM;oBACL,KAAI,CAAC,aAAa,CAAC,EAAE,IAAI,QAAE,KAAK,SAAE,CAAC,CAAC;iBACrC;aACF;iBAAM;gBACL,IAAI,IAAI,KAAK,SAAS,EAAE;oBACtB,KAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC;iBACpD;gBACD,KAAI,CAAC,aAAa,CAAC;oBACjB,IAAI,QAAE,aAAa,EAAE,6CAAK,CAAC,KAAK,IAAI,EAAE,EACpC,uBAAa,IAAI,0DAAW,CAAC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,aAAG,IAAI,UAAG,KAAK,aAAa,EAArB,CAAqB,CAAC,EAA/D,CAA+D,CAAC;iBACpF,CAAC,CAAC;aACJ;YACD,KAAI,CAAC,qBAAqB,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC,CAAC;IACV,CAAC;IAEO,+CAAe,GAAvB;QACE,IAAI,6CAAK,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,IAAI,CAAC,6CAAK,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,EAAE;YACxE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SACxB;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;QACjE,IAAI,CAAC,MAAM,GAAG,6CAAK,CAAC,IAAI,CAAC,MAAM,EAAE,cAAI,IAAI,QAAC;YACxC,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,KAAK,EAAE,IAAI,CAAC,IAAI;SACjB,CAAC,EAHuC,CAGvC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;YAC7B,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,IAAI,CAAC,MAAM;SACpB,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,gDAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;QACrD,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YACtB,IAAM,cAAc,GAAG,8CAAM,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,6CAAK,CAAC,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,CAAC;gBACxF,8CAAM,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,UAAU,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC1F,IAAI,CAAC,aAAa,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,cAAc,EAAE,6CAAK,CAAC,cAAc,EAAE,MAAM,CAAC,EAAE,CAAC;YACtH,IAAI,CAAC,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,KAAK,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;YACpI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC;SAC1C;IACH,CAAC;IACO,yCAAS,GAAjB,UAAkB,EAAe;YAAb,IAAI,YAAE,KAAK;QAC7B,IAAM,eAAe,GAAG,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;QAChE,gDAAQ,CAAC,eAAe,EAAE,UAAC,YAAY;YACrC,OAAO,YAAY,KAAK,KAAK,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IACO,6CAAa,GAArB,UAAsB,EAA0C;YAAxC,IAAI,YAAE,aAAY,EAAZ,KAAK,mBAAG,IAAI,OAAE,qBAAkB,EAAlB,aAAa,mBAAG,EAAE;QAC5D,IAAI,KAAK,IAAI,IAAI,EAAE;YACjB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,mBAAI,KAAK,GAAK,CAAC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACxH;aAAM;YACL,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,aAAa,CAAC;SAC5C;IACH,CAAC;IACO,4DAA4B,GAApC,UAAqC,EAAQ;QAA7C,iBAWC;YAXsC,IAAI;QACzC,IAAM,aAAa,GAAG,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;QAC7D,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,6CAAK,CAAC,aAAa,EAAE,QAAQ,CAAC,EAAE;YAClC,OAAO,GAAG,gDAAQ,CAAC,6CAAK,CAAC,aAAa,EAAE,sBAAY,IAAI,0DAAW,CAAC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,EAC5F,aAAG,IAAI,UAAG,KAAK,YAAY,EAApB,CAAoB,CAAC,EAD0B,CAC1B,CAAC,EAAE,eAAK,IAAI,YAAK,KAAK,CAAC,CAAC,EAAZ,CAAY,CAAC,CAAC;SACzD;QACD,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,SAAS,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YAC1E,OAAO,EAAE,CAAC;SACX;QACD,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;IACvC,CAAC;IACO,iDAAiB,GAAzB,UAA0B,EAA+C;QAAzE,iBAoCC;YApC2B,OAAO;QACjC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,iDAAS,CAAC,OAAO,EAAE,UAAC,YAA6B,EAAE,SAAiB;YAClE,IAAI,SAAS,KAAK,OAAO,EAAE;gBACzB,IAAM,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,UAAC,KAAK,IAAK,YAAK,CAAC,IAAI,KAAK,MAAM,EAArB,CAAqB,CAAC,CAAC;gBACtE,SAAS,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY,CAAC,CAAC;aAC9C;YACD,IAAM,MAAM,GAAG,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,6CAAK,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;YACvE,IAAI,6CAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAE;gBAC3B,IAAI,eAAe,UAAC;gBACpB,IAAM,2BAA2B,GAAG,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;gBACvE,IAAI,6CAAK,CAAC,2BAA2B,EAAE,QAAQ,CAAC,EAAE;oBAChD,IAAM,OAAO,GAAG,gDAAQ,CAAC,6CAAK,CAAC,2BAA2B,EAAE,yBAAe,IAAI,aAAM,CAAC,SAAS,CAAC,UAAC,GAAG;wBAClG,wDAAS,CAAC,GAAG,CAAC,KAAK,iDAAS,CAAC,eAAe,CAAC;oBAA7C,CAA6C,CAAC,EAD+B,CAC/B,CAAC,EAAE,eAAK,IAAI,YAAK,KAAK,CAAC,CAAC,EAAZ,CAAY,CAAC,CAAC;oBAC1E,eAAe,GAAG,6CAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAI,CAAC,4BAA4B,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;iBAC/G;qBAAM;oBACL,eAAe,GAAG,KAAI,CAAC,4BAA4B,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;iBAC1E;gBACD,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,eAAe,CAAC;gBAClD,KAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,6CAAK,CAAC,eAAe,EAAE,eAAK,IAAI,YAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,EAAhC,CAAgC,CAAC,CAAC;gBACrG,IAAI,SAAS,KAAK,SAAS,EAAE;oBAC3B,KAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,GAAG,2BAA2B,CAAC;iBAC1E;aACF;QACH,CAAC,CAAC,CAAC;QACH,IAAI,6CAAK,CAAC,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YAC9L,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;YACpC,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;YACxC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;YACrC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YACvC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;YACrC,OAAO,IAAI,CAAC,yBAAyB,EAAE,CAAC;SACzC;IACH,CAAC;IAEO,yDAAyB,GAAjC,UAAkC,YAAsB;QACtD,IAAM,WAAW,GAAG,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,kCAAkC,CAAC,IAAI,6CAAK,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,IAAI,UAAU,CAAC;QAC1I,IAAI,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAChD,gBAAgB,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;QAChC,gBAAgB,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;QACpC,gBAAgB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;QACjC,gBAAgB,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;QACnC,gBAAgB,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;QAClC,gBAAgB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE;YACvB,WAAW,EAAE,YAAY,CAAC,CAAC,uBAAM,IAAI,CAAC,cAAc,KAAE,WAAW,iBAAG,CAAC,CAAC,8CAAM,CAAC,gBAAgB,IAAI,EAAE,EAAE,CAAC,2BAA2B,CAAC,CAAC;YACnI,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM;SACvC,CAAC,CAAC;IACL,CAAC;IACO,2CAAW,GAAnB,UAAoB,YAAsB;QACxC,IAAM,WAAW,GAAG,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,kCAAkC,CAAC,IAAI,6CAAK,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,IAAI,UAAU,CAAC;QAC1I,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE;YACvB,WAAW,EAAE,YAAY,CAAC,CAAC,uBAAM,IAAI,CAAC,cAAc,KAAE,WAAW,iBAAG,CAAC,CAAC,8CAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,EAAE,EAAE,CAAC,2BAA2B,CAAC,CAAC;YAC3I,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM;SACvC,CAAC,CAAC;IACL,CAAC;IACD,mDAAmB,GAAnB,UAAoB,IAAI;QACtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,6CAAK,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC,CAAC;IACxD,CAAC;IACO,iDAAiB,GAAzB;QAAA,iBAmBC;QAlBC,IAAM,OAAO,GAAG,mDAAW,CAAC,IAAI,CAAC,eAAe,EAAE,UAAC,KAAK,EAAE,GAAG;YAC3D,OAAO,iDAAS,CAAC,6CAAK,CAAC,KAAK,EAAE,eAAK,IAAI,oDAAK,CAAC,KAAI,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAvE,CAAuE,CAAC,CAAC,CAAC;QACnH,CAAC,CAAC,CAAC;QACH,IAAI,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,WAAW,CAAC,EAAE;YAC5C,OAAO,CAAC,SAAS,CAAC,GAAG,iDAAS,CAAC,6CAAK,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,EAAE,mBAAS,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAA5B,CAA4B,CAAC,CAAC,CAAC;SACrH;QACD,IAAI,6CAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,EAAE;YACrD,OAAO,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;SACvE;QACD,IAAI,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,UAAU,CAAC,EAAE;YAC3C,OAAO,CAAC,2BAA2B,CAAC,GAAG,iDAAS,CAAC,iDAAS,CAAC,6CAAK,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,sBAAY;gBACtG,IAAM,QAAQ,GAAG,8CAAM,CAAC,KAAI,CAAC,YAAY,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC;gBAC3E,OAAO,QAAQ,CAAC,CAAC,CAAC,6CAAK,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAC3D,CAAC,CAAC,CAAC,CAAC,CAAC;SACN;QACD,OAAO,CAAC,OAAO,CAAC,GAAG,6CAAK,CAAC,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC1G,OAAO,CAAC,aAAa,CAAC,GAAG,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,kCAAkC,CAAC,IAAI,6CAAK,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,IAAI,UAAU,CAAC;QAC/I,OAAO,OAAO,CAAC;IACjB,CAAC;IACO,qDAAqB,GAA7B,UAA8B,aAAqB;QAArB,qDAAqB;QACjD,IAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,WAAE,CAAC,CAAC;QACvD,IAAI,CAAC,aAAa,EAAE;YAClB,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;IACH,CAAC;IACM,gDAAgB,GAAvB;QACE,OAAO;YACL,EAAE,EAAE,cAAc;YAClB,IAAI,EAAE,OAAO;YACb,MAAM,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,gCAAgC,CAAC;YACpE,KAAK,EAAE;gBACL,OAAO,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,EAAE;aACxC;SACF,CAAC;IACJ,CAAC;IACD,2CAAW,GAAX;QACE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;IAC/B,CAAC;IACO,iDAAiB,GAAzB;QACE,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IACD,iDAAiB,GAAjB;QACE,OAAO,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACxE,CAAC;IACM,4CAAY,GAAnB;QACE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED,4DAA4B,GAA5B;QACE,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE;YAC7C,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;SAC3C;QACD,IAAI,IAAI,CAAC,8BAA8B,EAAE;YACvC,IAAI,CAAC,8BAA8B,CAAC,WAAW,EAAE,CAAC;SACnD;IACH,CAAC;IAEO,yDAAyB,GAAjC;QAAA,iBAWC;QAVC,IAAM,sBAAsB,GAAG,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE,CAAC;QACvH,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC,IAAI,CAChE,0DAAG,CAAC,kBAAQ,IAAI,oDAAK,CAAC,gDAAQ,CAAC,QAAQ,EAAE,YAAY,CAAC,EAAE,eAAK;YACnD,QAAI,GAAmB,KAAK,KAAxB,EAAE,YAAY,GAAK,KAAK,aAAV,CAAW;YACrC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,gBAAE,CAAC;QACtC,CAAC,CAAC,EAHc,CAGd,CAAC,EACH,0DAAG,CAAC,iBAAO,IAAM,KAAI,CAAC,YAAY,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,EAChD,4DAAK,CAAC,CAAC,CAAC,EACR,iEAAU,CAAC,aAAG,IAAI,sDAAE,CAAC,EAAE,CAAC,EAAN,CAAM,CAAC,CAC1B,CAAC;IACJ,CAAC;IAEO,yCAAS,GAAjB;QAAA,iBAWC;QAVC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,0DAAG,CAAC,iBAAO;YAClC,OAAO,GAAG,KAAI,CAAC,OAAO,yBAAQ,KAAI,CAAC,OAAO,GAAK,KAAI,CAAC,WAAW,CAAC,EAAE,OAAO,WAAE,CAAC,CAAE,CAAC;YAC/E,IAAM,eAAe,GAAG,MAAM,CAAC,OAAO,CAAC,KAAI,CAAC,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;YACvF,OAAO,GAAG,iDAAS,CAAC,OAAO,EAAE,UAAC,KAAK,EAAE,SAAS;gBACrC,SAAc,gBAAe,CAAC,IAAI,CAAC,UAAC,EAAuB;wBAAtB,QAAQ,UAAE,WAAW;oBAAM,kBAAW,KAAK,SAAS;gBAAzB,CAAyB,CAAC,IAAI,EAAE,IAAtF,EAAV,GAAG,mBAAG,IAAI,MAAuF;gBACxG,OAAO,GAAG,IAAI,SAAS,CAAC;YAC1B,CAAC,CAAC,CAAC;YACH,KAAI,CAAC,iBAAiB,CAAC,EAAE,OAAO,WAAE,CAAC,CAAC;YACpC,KAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC;IACN,CAAC;IAED,sBAAI,gDAAa;aAAjB;YAAA,iBAWC;YAVC,OAAO,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAChD,gEAAS,CAAC,WAAC,IAAI,YAAI,CAAC,cAAc,EAAnB,CAAmB,CAAC,EACnC,0DAAG,CAAC,UAAC,MAAqD;gBACxD,KAAI,CAAC,wBAAwB,GAAG,MAAM,CAAC;gBAEvC,KAAI,CAAC,4BAA4B,GAAG,KAAK,CAAC;gBAC1C,KAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;gBACzB,KAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC;YAC3C,CAAC,CAAC,CACH,CAAC;QACJ,CAAC;;;OAAA;IACH,4BAAC;AAAD,CAAC;;;;;;;;;;;;;;AClbD;AAAA;AAAA;AAAA;AAAwD;;;;;;;;;;;;;ACAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwC;AACX;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACF2B;AAEQ;AAKrC;AACwG;AACxE;AAC1B;AAC8B;AAI7D;IAkIE,0BAAY,aAA4B,EAAE,MAAc,EAAU,aAA4B,EAAU,WAAwB,EAC9H,cAA8B,EAAE,iBAAoC,EACpE,eAAgC,EAAE,cAA8B,EAAU,mBAAwC,EAClH,aAA4B,EAAE,cAA8B,EAAS,WAAwB,EACrF,iBAAoC,EAAE,WAAwB,EAAU,sBAA8C,EACvH,uBAAgD,EAAS,aAA4B;;QAL5B,kBAAa,GAAb,aAAa,CAAe;QAAU,gBAAW,GAAX,WAAW,CAAa;QAEpD,wBAAmB,GAAnB,mBAAmB,CAAqB;QAC7C,gBAAW,GAAX,WAAW,CAAa;QACrF,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAoC,2BAAsB,GAAtB,sBAAsB,CAAwB;QACvH,4BAAuB,GAAvB,uBAAuB,CAAyB;QAAS,kBAAa,GAAb,aAAa,CAAe;QA3H9F,QAAG,GAAG,6CAAK,CAAC;QAoBZ,eAAU,GAAiB,EAAE,CAAC;QAyB9B,aAAQ,GAAG,KAAK,CAAC;QAuBjB,eAAU,GAAG,IAAI,CAAC;QAwBlB,eAAU,GAAG,KAAK,CAAC;QACnB,gBAAW,GAAG,CAAC,CAAC;QACT,kBAAa,GAAG,KAAK,CAAC;QAWtB,gBAAW,GAAG,IAAI,4CAAO,EAAQ,CAAC;QACzC,qBAAgB,GAAG,KAAK,CAAC;QAEzB,uBAAkB,GAAG,KAAK,CAAC;QAKpB,eAAU,GAAG,CAAC,SAAS,EAAE,YAAY,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;QAE5D,gBAAW,GAAG,KAAK,CAAC;QAshBnB,gBAAW,GAAG,qBAAW,IAAI,yBAAQ,IAAI,qDAAM,CAAC,QAAQ,EAAE,cAAI,IAAI,WAAI,CAAC,WAAW,KAAK,WAAW,EAAhC,CAAgC,CAAC,EAA1D,CAA0D,EAAtE,CAAsE,CAAC;QA7gB1G,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,mBAAmB,GAAG,QAAQ,CAAC;QAC3C,IAAI,CAAC,cAAc,2BAAG,IAAI,CAAC,aAAa,0CAAE,cAAc,0CAAE,MAAM,0CAAE,SAAS,0CAAE,cAAc,CAAC;QAC5F,IAAI,CAAC,qBAAqB,GAAG,CAAC,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,qCAAqC,CAAC,EAAE,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,mCAAmC,CAAC;YAClK,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,mCAAmC,CAAC,EAAE,6CAAK,CAAC,IAAI,CAAC,eAAe,EAAE,mCAAmC,CAAC,CAAC,CAAC;IACtI,CAAC;IAED,mCAAQ,GAAR;QAAA,iBAyCC;QAxCC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE;YAC9B,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,kBAAQ;gBAC3C,IAAI,QAAQ,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;oBAC7B,KAAI,CAAC,aAAa,GAAG,6CAAK,CAAC,QAAQ,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;iBAC/D;YACH,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,UAAU,GAAG,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC;QACzE,IAAI,CAAC,UAAU,GAAG,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC;QACzE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC;QACjE,0DAAa,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,IAAI,CAC7E,0DAAG,CAAC,iBAAO,IAAI,QAAC,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,WAAW,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAjD,CAAiD,CAAC,EACjE,6DAAM,CAAC,aAAG,IAAI,YAAI,CAAC,UAAU,KAAK,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,iDAAS,CAAC,KAAI,CAAC,WAAW,EAAE,GAAG,CAAC,WAAW,CAAC,EAAlG,CAAkG,CAAC,EACjH,0DAAG,CAAC,aAAG;YACL,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;YACnC,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YAC1D,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAClD,CAAC,CAAC,EACF,0DAAG,CAAC,UAAC,IAAI;YACP,KAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC5C,KAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,CAAC,EACF,gEAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAC5B,CAAC,SAAS,CAAC,UAAC,QAAa;YACxB,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC7B,CAAC,EAAE,UAAC,KAAK;YACP,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,eAAe,GAAG;gBACrB,aAAa,EAAE,qBAAqB;aACrC,CAAC;YACF,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;IAEL,CAAC;IAEM,qCAAU,GAAjB,UAAkB,OAAO;QACvB,IAAM,UAAU,GAAG,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;QACpD,IAAI,UAAU,CAAC,OAAO,IAAI,IAAI,CAAC,MAAM,EAAE;YACrC,IAAM,YAAU,GAAG,EAAE,CAAC;YACtB,IAAM,YAAU,GAAG,8CAAM,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;YAC9D,iDAAS,CAAC,UAAU,CAAC,OAAO,EAAE,UAAC,KAAK,EAAE,KAAK;gBACzC,IAAM,IAAI,GAAG,8CAAM,CAAC,YAAU,CAAC,MAAM,EAAE,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChE,IAAI,IAAI,EAAE;oBACR,YAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC5B;YACH,CAAC,CAAC,CAAC;YACH,IAAI,YAAU,IAAI,KAAK,CAAC,OAAO,CAAC,YAAU,CAAC,IAAI,YAAU,CAAC,MAAM,GAAG,CAAC,EAAE;gBACpE,UAAU,CAAC,OAAO,GAAG,YAAU,CAAC;aACjC;SACF;QACD,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC;IACpC,CAAC;IAED,qCAAU,GAAV;QAAA,iBAUC;QATC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC;QACjE,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE;YACnC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,sBAAY;YACtD,IAAI,YAAY,IAAI,IAAI,EAAE;gBACxB,KAAI,CAAC,mBAAmB,GAAG,YAAY,CAAC,MAAM,CAAC;aAChD;YACD,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,uCAAY,GAAZ,UAAa,OAAO;QAClB,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;QAC5B,IAAI,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,sBAAsB,CAAC,EAAE;YACtD,IAAM,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,6CAAK,CAAC,OAAO,EAAE,2BAA2B,CAAC,CAAC,CAAC;YACrF,IAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;YACpD,OAAO,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC;gBAC7C,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE;gBAC3C,MAAM,EAAE,CAAC,MAAM,EAAE,YAAY,EAAE,SAAS,CAAC;aAC1C,CAAC,CAAC;SACJ;aAAM;YACL,OAAO,+CAAE,CAAC,EAAE,CAAC,CAAC;SACf;IACH,CAAC;IAED,2CAAgB,GAAhB,UAAiB,MAAM,EAAE,IAAI;QAC3B,IAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,iDAAS,CAAC,MAAM,EAAE,UAAC,KAAK;;YACtB,IAAI,iDAAS,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;gBACpC,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;oBACxB,cAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,IAAI,WAAI,KAAK,CAAC,MAAM,EAAE;iBAC5C;qBAAM;oBACL,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;oBAC1B,cAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,IAAI,WAAI,KAAK,CAAC,MAAM,EAAE;iBAC5C;aACF;QACH,CAAC,CAAC,CAAC;QACH,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,sCAAW,GAAX,UAAY,IAAI;QAAhB,iBA4CC;QA3CC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,QAAa;YAChD,KAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAC,UAAU;gBAC/C,IAAI,6CAAK,CAAC,KAAI,CAAC,cAAc,EAAE,sBAAsB,CAAC,EAAE;oBACtD,IAAI,UAAU,GAAQ,KAAI,CAAC,gBAAgB,CAAC,6CAAK,CAAC,QAAQ,EAAE,2BAA2B,CAAC,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;oBAC3G,UAAU,CAAC,OAAO,GAAG,6CAAK,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;oBAClD,UAAU,GAAG,KAAI,CAAC,WAAW,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;oBAC1D,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;oBAChD,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;iBACzB;gBACD,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAM,kBAAkB,GAAG,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,KAAI,CAAC,WAAW,CAAC,IAAI,KAAI,CAAC,WAAW,CAAC;gBAC7F,IAAI,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,qBAAW,IAAI,kBAAW,KAAK,kBAAkB,EAAlC,CAAkC,CAAC,EAAE;oBACtF,KAAI,CAAC,sBAAsB,CAAC,6CAAK,CAAC,QAAQ,EAAE,oBAAoB,CAAC,EAAE,6CAAK,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC,CAAC;iBACxG;qBAAM;oBACL,IAAI,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,IAAI,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE;wBAC5E,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;wBACtB,KAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC;wBACpD,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;wBACjH,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;qBACjF;yBAAM;wBACL,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;wBACrB,KAAI,CAAC,eAAe,GAAG;4BACrB,SAAS,EAAE,sBAAsB;4BACjC,aAAa,EAAE,sBAAsB;yBACtC,CAAC;qBACH;iBACF;YACH,CAAC,EAAE,aAAG;gBACJ,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,KAAI,CAAC,eAAe,GAAG;oBACrB,aAAa,EAAE,qBAAqB;iBACrC,CAAC;gBACF,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtE,CAAC,CAAC,CAAC;QACL,CAAC,EAAE,UAAC,KAAK;YACP,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,eAAe,GAAG;gBACrB,aAAa,EAAE,qBAAqB;aACrC,CAAC;YACF,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;IACL,CAAC;IACD,+CAAoB,GAApB;QACE,IAAI,CAAC,iBAAiB,GAAG;YACvB,EAAE,EAAE,OAAO;YACX,IAAI,EAAE,OAAO;YACb,MAAM,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,uBAAuB,CAAC;SACrE,CAAC;QACF,IAAI,CAAC,gBAAgB,GAAG;YACtB,EAAE,EAAE,cAAc;YAClB,IAAI,EAAE,OAAO;YACb,MAAM,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,uBAAuB,CAAC;SACrE,CAAC;QACF,IAAI,CAAC,gBAAgB,GAAG;YACtB,EAAE,EAAE,MAAM;YACV,IAAI,EAAE,OAAO;YACb,MAAM,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,uBAAuB,CAAC;SACrE,CAAC;IACJ,CAAC;IACO,+CAAoB,GAA5B,UAA6B,OAAO;QAApC,iBAeC;QAdC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAM,YAAY,GAAG,8CAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,uBAAuB,EAAE,gBAAgB;YACpF,SAAS,EAAE,UAAU,EAAE,eAAe,EAAE,QAAQ,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,iDAAS,CAAC,YAAY,CAAC,EAAE;YAC5B,gDAAQ,CAAC,YAAY,EAAE,UAAC,UAAU,EAAE,QAAQ;gBAC1C,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC;YACtC,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,EAAE;YAC9B,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC3C,+CAAO,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,GAAG;gBACzB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YAC5B,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAEO,yCAAc,GAAtB,UAAuB,OAAO;;QAC5B,IAAM,kBAAkB,GAAG;YACzB,OAAO,EAAE,6CAAK,CAAC,OAAO,CAAC,WAAW,EAAE,uBAAuB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,EAAE;YACzH,eAAe,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,sBAAsB,CAAC;YAC5E,IAAI,EAAE,MAAM;SACb,CAAC;QACF,IAAI,eAAe,GAAG,EAAE,CAAC;QACzB,IAAI,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,gBAAgB,CAAC,EAAE;YACzD,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAAC,6CAAK,CAAC,IAAI,CAAC,WAAW,EAAE,gBAAgB,CAAC,EACnG,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;SAC3C;QACD,IAAM,aAAa,GAAG;YACpB,OAAO,EAAE,6CAAK,CAAC,IAAI,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,uBAAM,6CAAK,CAAC,eAAe,EAAE,SAAS,CAAC,GAAK,IAAI,CAAC,OAAO,CAAE;YAC7H,KAAK,EAAE,IAAI,CAAC,SAAS;YACrB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,iBAAiB;YAC7D,UAAU,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC;YAC7C,IAAI,EAAE,6CAAK,CAAC,eAAe,EAAE,MAAM,CAAC;YACpC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,qBAAqB;SACnE,CAAC;QAEF,IAAI,6CAAK,CAAC,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC,EAAE;YAC3C,aAAa,CAAC,OAAO,GAAG,8CAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAC;SACpE;QAED,aAAa,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC,MAAM;YAClD,aAAa,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,WACrD,GAAC,OAAO,CAAC,WAAW,CAAC,OAAO,IAAG,OAAO,CAAC,WAAW,CAAC,QAAQ,MAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QACpH,IAAI,6CAAK,CAAC,eAAe,EAAE,SAAS,CAAC,EAAE;YACrC,aAAa,CAAC,iBAAiB,CAAC,GAAG,6CAAK,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC;SAC9E;QACD,IAAI,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,sBAAsB,CAAC,EAAE;YACtD,aAAa,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;SAC3C;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE;YAC7B,OAAO,0DAAa,CAClB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,aAAa,CAAC,EAC/C,IAAI,CAAC,cAAc,CAAC,mBAAmB,EACvC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,IAAI,CAAC,0DAAG,CAAC,cAAI,IAAI,QAAC,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,eAAe,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAjF,CAAiF,CAAC,CAAC,CAAC;SACnI;aAAM;YACL,OAAO,0DAAa,CAClB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,aAAa,CAAC,EAC/C,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,IAAI,CAAC,0DAAG,CAAC,cAAI,IAAI,QAAC,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,eAAe,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAApD,CAAoD,CAAC,CAAC,CAAC;SACtG;IACH,CAAC;IAEO,8CAAmB,GAA3B,UAA4B,WAAW;QAAvC,iBASC;QARC,iDAAS,CAAC,WAAW,EAAE,UAAC,KAAK,EAAE,KAAK;YAClC,IAAM,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,CAAC;YACpF,IAAM,QAAQ,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC;YAC/D,IAAM,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC;YACzE,WAAW,CAAC,KAAK,CAAC,GAAG,KAAI,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,CAAC,EACrE,YAAY,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QACH,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,yCAAc,GAAd,UAAe,IAAY;QACzB,IAAI,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;YAC5C,OAAO;SACR;QAID,IAAM,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QACzF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QAChG,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IACM,oCAAS,GAAhB;QACE,MAAM,CAAC,MAAM,CAAC;YACV,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,CAAC;YACP,QAAQ,EAAE,QAAQ;SACrB,CAAC,CAAC;IACP,CAAC;IACC,sCAAW,GAAX,UAAY,KAAK,EAAE,OAAQ;QACzB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,KAAK,CAAC,IAAI,CAAC,WAAW,KAAK,QAAQ,EAAE;YACrE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SAC7C;aAAM;YACL,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,OAAO,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;gBAChD,IAAM,OAAO,GAAG,6CAAK,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;gBACnD,IAAI,CAAC,uBAAuB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;aAC9C;iBAAM;gBACL,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC7C;SACF;IACH,CAAC;IACD,kDAAuB,GAAvB,UAAwB,EAAQ,EAAE,OAAQ;YAAhB,IAAI;QACpB,YAAQ,GAAK,IAAI,SAAT,CAAU;QACpB,SAAuE,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAjI,iBAAiB,yBAAE,iBAAiB,yBAAE,SAAS,iBAAE,eAAe,qBAAiE,CAAC;QAC1I,IAAI,CAAC,iBAAiB,IAAI,CAAC,iBAAiB,EAAE;YAC5C,OAAO,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SACjD;QACD,IAAI,OAAO,EAAE;YACX,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;YAC3B,QAAQ,CAAC,SAAS,GAAG;gBACnB,OAAO,EAAE,KAAK;aACf,CAAC;YACF,OAAO,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SACjD;QAED,IAAI,iBAAiB,KAAK,CAAC,EAAE;YAC3B,QAAQ,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YAChH,OAAO,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SACjD;QAKD,IAAI,CAAC,qBAAqB,GAAG,EAAE,iBAAiB,qBAAE,iBAAiB,qBAAE,SAAS,aAAE,eAAe,mBAAE,QAAQ,EAAE,QAAQ,CAAC,UAAU,EAAE,CAAC;QACjI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,uCAAY,GAAZ;QAAA,iBAWC;QAVC,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE;aACnC,SAAS,CACR,UAAC,WAAgB;YACf,KAAI,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;YACvC,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACzB,CAAC,EACD,aAAG;QAEH,CAAC,CACF,CAAC;IACN,CAAC;IACO,2CAAgB,GAAxB;QAAA,iBAaC;QAZC,IAAM,sBAAsB,GAAG;YAC7B,QAAQ,EAAE,WAAW;YACrB,UAAU,EAAE,QAAQ;YACpB,WAAW,EAAE,gBAAgB;SAC9B,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC,SAAS,CAC9D,UAAC,IAAoB;YACnB,KAAI,CAAC,aAAa,GAAG,8CAAM,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,SAAS,CAAC;QAC3D,CAAC,EACD,UAAC,GAAmB;YAClB,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;IACP,CAAC;IACD,0CAAe,GAAf;QAAA,iBAIC;QAHC,UAAU,CAAC;YACT,KAAI,CAAC,0BAA0B,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IACD,qDAA0B,GAA1B;QACE,IAAI,CAAC,mBAAmB,GAAG;YACzB,OAAO,EAAE;gBACP,GAAG,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,oBAAoB,CAAC;aAC/D;YACD,KAAK,EAAE;gBACL,IAAI,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,qBAAqB,CAAC;gBAChE,MAAM,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,uBAAuB,CAAC;gBACpE,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG;gBACpB,OAAO,EAAE,6CAAK,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,wBAAwB,CAAC;gBACtE,QAAQ,EAAE,IAAI,CAAC,uBAAuB,CAAC,eAAe,EAAE;aACzD;SACF,CAAC;IACJ,CAAC;IACD,sCAAW,GAAX;QACE,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAED,yCAAc,GAAd,UAAe,gBAAgB;QAA/B,iBAIC;QAHC,8CAAM,CAAC,IAAI,CAAC,UAAU,EAAE,UAAC,QAAQ;YAC/B,KAAI,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;QAC5E,CAAC,CAAC,CAAC;IACL,CAAC;IACD,qCAAU,GAAV;QACE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,EAAE,2DAAW,CAAC,UAAU,CAAC,CAAC;QAC5F,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,EAAE,2DAAW,CAAC,UAAU,CAAC,CAAC;IAC/F,CAAC;IAED,yCAAc,GAAd,UAAe,QAAQ;QACrB,IAAM,WAAW,GAAG,EAAE,CAAC;QACvB,iDAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAC,OAAO;YACjC,IAAI,OAAO,CAAC,IAAI,EAAE;gBAChB,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAChC;QACH,CAAC,CAAC,CAAC;QACH,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,yCAAc,GAAd,UAAe,QAAQ;QACrB,OAAO,8CAAM,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;IACjD,CAAC;IAOD,iDAAsB,GAAtB,UAAuB,UAAU,EAAE,QAAQ;QACzC,IAAM,eAAe,GAAG,6CAAK,CAAC,UAAU,EAAE,iBAAiB,CAAC,CAAC;QAC7D,IAAI,eAAe,EAAE;YACX,SAA8G,QAAQ,YAAnF,EAAtB,iBAAe,mBAAG,IAAI,OAAuB,KAAoD,QAAQ,+BAAjB,EAA1B,uBAAqB,mBAAG,EAAE,MAAkB;YAC/H,IAAM,wBAAwB,GAAG,gBAAM;gBAC/B,SAAiD,6CAAK,CAAC,MAAM,EAAE,SAAS,CAAC,IAAI,EAAE,EAA7E,uBAAsB,EAAtB,eAAe,mBAAG,IAAI,OAAE,mBAAkB,EAAlB,WAAW,mBAAG,IAAI,KAAmC,CAAC;gBACtF,OAAO,uBAAqB,CAAC,IAAI,CAAC,kBAAQ,IAAI,wDAAS,CAAC,QAAQ,CAAC,KAAK,iDAAS,CAAC,eAAe,CAAC,EAAlD,CAAkD,CAAC,IAAI,CAAC,iDAAS,CAAC,WAAW,CAAC,KAAK,iDAAS,CAAC,iBAAe,CAAC,CAAC,CAAC;YAC/J,CAAC,CAAC;YACF,IAAM,eAAe,GAAG,gDAAQ,CAAC,eAAe,IAAI,EAAE,EAAE,wBAAwB,CAAC,CAAC;YAClF,IAAM,mBAAmB,GAAG,6CAAK,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;YAC7D,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,UAAU,GAAG,mBAAmB,CAAC;YACtC,IAAM,UAAU,GAAG,6CAAK,CAAC,iDAAS,CAAC,eAAe,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,UAAC,GAAG;gBACnF,IAAM,KAAK,GAAG,6CAAK,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBACpC,KAAK,CAAC,OAAO,GAAG,6CAAK,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBACtC,KAAK,CAAC,KAAK,GAAG,6CAAK,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;SACxD;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,eAAe,GAAG;gBACrB,SAAS,EAAE,sBAAsB;gBACjC,aAAa,EAAE,sBAAsB;aACtC,CAAC;SACH;IACH,CAAC;IAED,2CAAgB,GAAhB,UAAiB,MAAM;QAAvB,iBAoFC;QAnFC,IAAM,UAAU,GAAG,EAAE,CAAC;QACtB,iDAAS,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,GAAG;YAC3B,QAAQ,GAAG,EAAE;gBACX,KAAK,OAAO;oBACV,IAAM,SAAS,GAAG;wBAChB,KAAK,EAAE,GAAG;wBACV,KAAK,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,sBAAsB,CAAC;wBAC1D,WAAW,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,2BAA2B,CAAC;wBACrE,MAAM,EAAE,KAAK;wBACb,IAAI,EAAE,GAAG;qBACV,CAAC;oBACF,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAC3B,MAAM;gBACR,KAAK,QAAQ;oBACX,IAAM,UAAU,GAAG;wBACjB,KAAK,EAAE,GAAG;wBACV,KAAK,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,sBAAsB,CAAC;wBAC1D,WAAW,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,4BAA4B,CAAC;wBACtE,MAAM,EAAE,KAAK;wBACb,IAAI,EAAE,GAAG;qBACV,CAAC;oBACF,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAC5B,MAAM;gBACR,KAAK,YAAY;oBACf,IAAM,cAAc,GAAG;wBACrB,KAAK,EAAE,GAAG;wBACV,KAAK,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,qBAAqB,CAAC;wBACzD,WAAW,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,2BAA2B,CAAC;wBACrE,MAAM,EAAE,KAAK;wBACb,IAAI,EAAE,GAAG;qBACV,CAAC;oBACF,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;oBAChC,MAAM;gBACR,KAAK,SAAS;oBACZ,IAAM,WAAW,GAAG;wBAClB,KAAK,EAAE,GAAG;wBACV,KAAK,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,uBAAuB,CAAC;wBAC3D,WAAW,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,6BAA6B,CAAC;wBACvE,MAAM,EAAE,KAAK;wBACb,IAAI,EAAE,GAAG;qBACV,CAAC;oBACF,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC7B,MAAM;gBACR,KAAK,WAAW;oBACd,IAAM,aAAa,GAAG;wBACpB,KAAK,EAAE,GAAG;wBACV,KAAK,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,yBAAyB,CAAC;wBAC7D,WAAW,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,+BAA+B,CAAC;wBACzE,MAAM,EAAE,KAAK;wBACb,IAAI,EAAE,GAAG;qBACV,CAAC;oBACF,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBAC/B,MAAM;gBACR,KAAK,aAAa;oBAChB,IAAM,eAAe,GAAG;wBACtB,KAAK,EAAE,GAAG;wBACV,KAAK,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,2BAA2B,CAAC;wBAC/D,WAAW,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,iCAAiC,CAAC;wBAC3E,MAAM,EAAE,KAAK;wBACb,IAAI,EAAE,GAAG;qBACV,CAAC;oBACF,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBACjC,MAAM;gBACR,KAAK,SAAS;oBACZ,IAAM,cAAY,GAAG,EAAE,CAAC;oBACxB,iDAAS,CAAC,KAAK,EAAE,UAAC,WAAW;wBAC3B,IAAI,WAAW,CAAC,OAAO,EAAE;4BACvB,WAAW,CAAC,IAAI,GAAG,WAAW,CAAC,OAAO,CAAC;yBACxC;wBACD,cAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACjC,CAAC,CAAC,CAAC;oBACH,IAAM,WAAW,GAAG;wBAClB,KAAK,EAAE,GAAG;wBACV,KAAK,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,uBAAuB,CAAC;wBAC3D,WAAW,EAAE,6CAAK,CAAC,KAAI,CAAC,eAAe,EAAE,uBAAuB,CAAC;wBACjE,MAAM,EAAE,cAAY;wBACpB,IAAI,EAAE,GAAG;qBACV,CAAC;oBACF,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC7B,MAAM;aACT;QACH,CAAC,CAAC,CAAC;QACH,OAAO,UAAU,CAAC;IACpB,CAAC;IACM,4CAAiB,GAAxB;QACE,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,KAAK,KAAK,EAAE;YAC5C,IAAM,iBAAe,GAAG,IAAI,CAAC,uBAAuB,CAAC,cAAc,EAAE,CAAC;YACtE,IAAI,CAAC,CAAC,kBAAkB,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,aAAG,IAAI,wBAAe,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,EAAnC,CAAmC,CAAC;gBACtF,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,aAAG,IAAI,wBAAe,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,EAAnC,CAAmC,CAAC,EAAE;gBACxE,IAAI,CAAC,uBAAuB,CAAC,UAAU,EAAE,CAAC;gBAC1C,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,OAAO;aACR;YACD,IAAI,CAAC,uBAAuB,CAAC,MAAM,EAAE,CAAC;SACrC;aAAM;YACA,QAAI,GAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,GAAtC,CAAuC;YAClD,IAAM,cAAc,GAAG,MAAI,IAAI,CAAC,QAAQ,EAAI,CAAC;YACrC,SAAqB,KAAI,CAAC,WAAW,IAAI,EAAE,aAA3B,EAAhB,WAAW,mBAAG,EAAE,MAA4B;YACpD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,WAAW,eAAE,EAAE,CAAC,CAAC;SACxE;IACH,CAAC;IAEO,wCAAa,GAArB,UAAsB,KAAqF;QAArF,kCAAU,QAAQ,EAAE,iBAAiB,EAAE,UAAU,EAAE,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAE;QACzG,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC/C,CAAC;IAIO,6CAAkB,GAA1B;QACU,SAA2B,8CAAK,CAAC,OAAO,EAAE,OAAO,CAAC,IAAI,EAAE,iBAAlC,EAAtB,eAAe,mBAAG,IAAI,MAAmC;QACjE,IAAI,eAAe,EAAE;YAAE,OAAO,+CAAE,CAAC,eAAe,CAAC,CAAC;SAAE;QACpD,IAAM,WAAW,GAAG,6CAAK,CAAC,IAAI,CAAC,cAAc,EAAE,kCAAkC,CAAC,IAAI,UAAU,CAAC;QACjG,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAC9B,0DAAG,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CACnC,CAAC;IACJ,CAAC;IACH,uBAAC;AAAD,CAAC","file":"default~module-course-course-module-ngfactory~module-explore-explore-module-ngfactory~modules-learn-~a6936bc6.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { FrameworkService, ChannelService } from '@sunbird/core';\nimport { Observable, BehaviorSubject, of } from 'rxjs';\nimport { skipWhile, mergeMap, first, map } from 'rxjs/operators';\nimport * as _ from 'lodash-es';\nconst requiredCategories = { categories: 'board,gradeLevel,medium,class,subject' };\n@Injectable({ providedIn: 'root' })\nexport class ContentSearchService {\n  private channelId: string;\n  public _frameworkId = '';\n  get frameworkId() {\n    return this._frameworkId;\n  }\n  private defaultBoard: string;\n  private custodianOrg: boolean;\n  private _filters = {\n    board: [],\n    medium: [],\n    gradeLevel: [],\n    subject: [],\n    publisher: []\n  };\n  get filters() {\n    return _.cloneDeep(this._filters);\n  }\n  private _searchResults$ = new BehaviorSubject<any>(undefined);\n  get searchResults$(): Observable<any[]> {\n    return this._searchResults$.asObservable()\n      .pipe(skipWhile(data => data === undefined || data === null));\n  }\n\n  constructor(private frameworkService: FrameworkService, private channelService: ChannelService) { }\n\n  public initialize(channelId: string, custodianOrg = false, defaultBoard: string) {\n    this.channelId = channelId;\n    this.custodianOrg = custodianOrg;\n    this.defaultBoard = defaultBoard;\n    this._searchResults$.complete(); // to flush old subscription\n    this._searchResults$ = new BehaviorSubject<any>(undefined);\n    return this.fetchChannelData();\n  }\n  fetchChannelData() {\n    return this.channelService.getFrameWork(this.channelId)\n      .pipe(mergeMap((channelDetails) => {\n        if (this.custodianOrg) {\n          this._filters.board = _.get(channelDetails, 'result.channel.frameworks') || [{\n            name: _.get(channelDetails, 'result.channel.defaultFramework'),\n            identifier: _.get(channelDetails, 'result.channel.defaultFramework')\n          }]; // framework array is empty assigning defaultFramework as only board\n          const selectedBoard = this._filters.board.find((board) => board.name === this.defaultBoard) || this._filters.board[0];\n          this._frameworkId = _.get(selectedBoard, 'identifier');\n        } else {\n          this._frameworkId = _.get(channelDetails, 'result.channel.defaultFramework');\n        }\n        if (_.get(channelDetails, 'result.channel.publisher')) {\n          this._filters.publisher = JSON.parse(_.get(channelDetails, 'result.channel.publisher'));\n        }\n        return this.frameworkService.getSelectedFrameworkCategories(this._frameworkId, requiredCategories);\n      }), map(frameworkDetails => {\n        const frameworkCategories: any[] = _.get(frameworkDetails, 'result.framework.categories');\n        frameworkCategories.forEach(category => {\n          if (['medium', 'gradeLevel', 'subject'].includes(category.code)) {\n            this._filters[category.code] = category.terms || [];\n          } else if (!this.custodianOrg && category.code === 'board') {\n            this._filters[category.code] = category.terms || [];\n          }\n        });\n        return true;\n      }), first());\n  }\n  public fetchFilter(boardName?) {\n    if (!this.custodianOrg || !boardName) {\n      return of(this.filters);\n    }\n    const selectedBoard = this._filters.board.find((board) => board.name === boardName)\n      || this._filters.board.find((board) => board.name === this.defaultBoard) || this._filters.board[0];\n    this._frameworkId = this._frameworkId = _.get(selectedBoard, 'identifier');\n    return this.frameworkService.getSelectedFrameworkCategories(this._frameworkId, requiredCategories).pipe(map(frameworkDetails => {\n      const frameworkCategories: any[] = _.get(frameworkDetails, 'result.framework.categories');\n      frameworkCategories.forEach(category => {\n        if (['medium', 'gradeLevel', 'subject'].includes(category.code)) {\n          this._filters[category.code] = category.terms || [];\n        } else if (category.code === 'board' && !this.custodianOrg) {\n          this._filters[category.code] = category.terms || [];\n        }\n      });\n      return this.filters;\n    }), first());\n  }\n\n  get getCategoriesMapping() {\n    return {\n      subject: 'se_subjects',\n      medium: 'se_mediums',\n      gradeLevel: 'se_gradeLevels',\n      board: 'se_boards'\n    };\n  }\n\n  public mapCategories({ filters = {} }) {\n    return _.reduce(filters, (acc, value, key) => {\n      const mappedValue = _.get(this.getCategoriesMapping, [key]);\n      if (mappedValue && key !== 'subject') { acc[mappedValue] = value; delete acc[key]; }\n      return acc;\n    }, filters);\n  }\n}\n","export * from './no-result/no-result.component';\nexport * from './search-filter/search-filter.component';\nexport * from './page-section/page-section.component';\nexport * from './data-driven-filter/data-driven-filter.component';\nexport * from './topic-picker/topic-picker.component';\nexport * from './view-all/view-all.component';\nexport * from './global-search-filter/global-search-filter.component';\nexport * from './global-search-selected-filter/global-search-selected-filter.component';\n","<app-landing-section [noTitle]=\"true\" [layoutConfiguration]=\"layoutConfiguration\"></app-landing-section>\n<div [ngClass]=\"layoutConfiguration ? 'sbt-fluid-content-bg':''\">\n    <div class=\"sb-g\" [ngClass]=\"layoutConfiguration ? 'sb-g sbt-container sbt-page-content' : 'sb-g'\"\n        [appTelemetryImpression]=\"telemetryImpression\">\n        <div [ngClass]=\"FIRST_PANEL_LAYOUT\" style=\"display: none;\">\n            <app-global-search-filter [queryParamsToOmit]=\"facetsList\" [layoutConfiguration]=\"layoutConfiguration\"\n                [facets]=\"facets\" [isOpen]='true' *ngIf=\"initFilters\" (filterChange)=\"getFilters($event)\">\n            </app-global-search-filter>\n        </div>\n        <div [ngClass]=\"SECOND_PANEL_LAYOUT\">\n            <div [appTelemetryImpression]=\"telemetryImpression\"\n                [ngClass]=\"layoutConfiguration ? 'sbt-page-content-area' : 'ui container'\">\n                <div class=\"relative9\" [appTelemetryImpression]=\"telemetryImpression\">\n                    <div class=\"sb-pageSection\">\n                        <div class=\"sb-pageSection-header\" *ngIf=\"!showLoader\">\n                            <h4 class=\"sb-pageSection-title m-0 mr-5\">{{get(resourceService, sectionName) ||\n                                sectionName}}</h4>\n                            <span *ngIf=\"totalCount\"\n                                class=\"sb-pageSection-count sb-label sb-label-xs sb-label-error\">{{totalCount}}</span>\n                            <button appTelemetryInteract [telemetryInteractEdata]=\"closeIntractEdata\"\n                                class=\"sb-btn sb-btn-normal sb-btn-error ml-auto sb-cls-btn\" type=\"button\"\n                                (click)=\"handleCloseButton()\" tabindex=\"0\">{{resourceService?.frmelmnts?.btn?.close}} <i\n                                    class=\"close icon\"></i></button>\n                        </div>\n                    </div>\n                    <div class=\"twelve wide column mt-16\" *ngIf=\"!showLoader && !noResult\">\n                        <div class=\"sb-grid dynamic-section-card\">\n                            <div class=\"\" *ngFor=\"let content of searchList;let i = index;\">\n                                <ng-container *ngIf=\"!layoutConfiguration\">\n                                    <app-card appContentDirection appTelemetryInteract\n                                        [telemetryInteractEdata]=\"cardIntractEdata\"\n                                        [telemetryInteractObject]=\"{id:content.metaData.identifier,type:content.metaData.contentType || 'Content',ver:content.metaData.pkgVersion ? content.metaData.pkgVersion.toString():'1.0'}\"\n                                        (clickEvent)=\"playContent($event)\" [data]=\"content\"></app-card>\n                                </ng-container>\n                                <ng-container *ngIf=\"layoutConfiguration\">\n                                    <sb-library-card [indexToDisplay]=\"i\" [layoutConfig]=\"layoutConfiguration\"\n                                        appTelemetryInteract [telemetryInteractEdata]=\"cardIntractEdata\"\n                                        [telemetryInteractObject]=\"{id:content.metaData.identifier,type:content.metaData.contentType || 'Content',ver:content.metaData.pkgVersion ? content.metaData.pkgVersion.toString():'1.0'}\"\n                                        (cardClick)=\"playContent($event, content)\" [content]=\"content\"\n                                        [cardImg]=\"content?.image || 'assets/images/book.png'\"></sb-library-card>\n                                </ng-container>\n\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"twelve wide column\" *ngIf=\"noResult && !showLoader\">\n                        <app-no-result [data]=\"noResultMessage\"></app-no-result>\n                    </div>\n                    <div class=\"twelve wide column\" *ngIf=\"showLoader\">\n                        <app-loader [data]='loaderMessage'></app-loader>\n                    </div>\n                    <div class=\"twelve wide column right aligned py-0 mt-16\"\n                        *ngIf=\"searchList && totalCount > configService.appConfig.SEARCH.PAGE_LIMIT && !showLoader && !noResult\">\n                        <div class=\"sb-pagination-container flex-jc-flex-end\" *ngIf=\"pager && pager.pages.length\">\n                            <div class=\"sb-pagination my-0\">\n                                <a role=\"button\" title=\"{{resourceService?.frmelmnts?.lbl?.first}}\"\n                                    attr.aria-label=\"{{resourceService?.frmelmnts?.lbl?.first}}\"\n                                    [ngClass]=\"{disabled:pager.currentPage===1 }\" class=\"sb-item \" tabindex=\"0\"\n                                    (click)=\"navigateToPage(1) \">&laquo;</a>\n                                <a role=\"button\" title=\"{{resourceService?.frmelmnts?.lbl?.previous}}\"\n                                    attr.aria-label=\"{{resourceService?.frmelmnts?.lbl?.previous}}\"\n                                    [ngClass]=\"{disabled:pager.currentPage===1 }\" class=\"sb-item \" tabindex=\"0\"\n                                    (click)=\"navigateToPage(pager.currentPage - 1)\">&lt;</a>\n                                <a role=\"button\" aria-current=\"page\" title=\"{{page}}\" attr.aria-label=\"{{page}}\"\n                                    *ngFor=\"let page of pager.pages\" [ngClass]=\"{active:pager.currentPage===page}\"\n                                    tabindex=\"0\" (click)=\"navigateToPage(page)\" class=\"sb-item\">{{page}}</a>\n                                <a role=\"button\" title=\"{{resourceService?.frmelmnts?.lbl?.next}}\"\n                                    attr.aria-label=\"{{resourceService?.frmelmnts?.lbl?.next}}\"\n                                    [ngClass]=\"{disabled:pager.currentPage=== pager.totalPages}\" tabindex=\"0\"\n                                    (click)=\"navigateToPage(pager.currentPage + 1)\" class=\"sb-item\">&gt;</a>\n                                <a role=\"button\" title=\"{{resourceService?.frmelmnts?.lbl?.last}}\"\n                                    attr.aria-label=\"{{resourceService?.frmelmnts?.lbl?.last}}\"\n                                    [ngClass]=\"{disabled:pager.currentPage=== pager.totalPages}\" tabindex=\"0\"\n                                    (click)=\"navigateToPage(pager.totalPages)\" class=\"sb-item\">&raquo;</a>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<app-batch-info *ngIf=\"showBatchInfo\" [enrolledBatchInfo]=\"selectedCourseBatches\" (modelClose)=\"showBatchInfo = false\">\n</app-batch-info>","import { Component, Output, EventEmitter, Input, OnInit, OnDestroy, ChangeDetectorRef, ViewChild } from '@angular/core';\nimport * as _ from 'lodash-es';\nimport { LibraryFiltersLayout } from '@project-sunbird/common-consumption-v9';\nimport { ResourceService, LayoutService } from '@sunbird/shared';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Subject, merge, of, zip, BehaviorSubject, defer } from 'rxjs';\nimport { debounceTime, map, tap, switchMap, takeUntil, retry, catchError } from 'rxjs/operators';\nimport { ContentSearchService } from '../../services';\nimport { FormService } from '@sunbird/core';\nimport { IFrameworkCategoryFilterFieldTemplateConfig } from 'common-form-elements-web-v9';\nimport { CacheService } from 'ng2-cache-service';\n\n@Component({\n  selector: 'app-search-filter',\n  templateUrl: './search-filter.component.html',\n  styleUrls: ['./search-filter.component.scss']\n})\nexport class SearchFilterComponent implements OnInit, OnDestroy {\n  public filterLayout = LibraryFiltersLayout;\n  public refresh = true;\n  private unsubscribe$ = new Subject<void>();\n  private boardChange$ = new Subject<void>();\n  public emptyBoard = false;\n  private filters;\n  private queryFilters: any = {};\n  public optionData: any[] = [];\n  public selectedBoard: { label: string, value: string, selectedOption: string };\n  public selectedOption: { label: string, value: string, selectedOption: string };\n  public optionLabel = {\n    Publisher: _.get(this.resourceService, 'frmelmnts.lbl.publisher'), Board: _.get(this.resourceService, 'frmelmnts.lbl.boards')\n  };\n  public boards: any[] = [];\n  filterChangeEvent = new Subject();\n  @Input() isOpen;\n  @Input() defaultFilters = {};\n  @Input() pageId = _.get(this.activatedRoute, 'snapshot.data.telemetry.pageid');\n  @Output() filterChange: EventEmitter<{ status: string, filters?: any }> = new EventEmitter();\n  @Input() layoutConfiguration;\n  @Input() pageData;\n  @Input() facets$ = new BehaviorSubject({});\n  @Input() defaultTab = {};\n  selectedFilters = {};\n  allValues = {};\n  selectedNgModels = {};\n  private audienceList;\n  public refreshSearchFilterComponent = true;\n\n  @ViewChild('sbSearchFrameworkFilterComponent') searchFrameworkFilterComponent: any;\n  filterFormTemplateConfig: IFrameworkCategoryFilterFieldTemplateConfig[];\n\n  private _filterConfig$ = defer(() => of([\n    {\n      category: 'board',\n      type: 'dropdown',\n      labelText: _.get(this.resourceService, 'frmelmnts.lbl.boards'),\n      placeholderText: 'Select Category',\n      multiple: false\n    },\n    {\n      category: 'medium',\n      type: 'dropdown',\n      labelText: _.get(this.resourceService, 'frmelmnts.lbl.medium'),\n      placeholderText: 'Select language',\n      multiple: true\n    },\n    {\n      category: 'gradeLevel',\n      type: 'dropdown',\n      labelText: _.get(this.resourceService, 'frmelmnts.lbl.class'),\n      placeholderText: 'Select Sub-Category',\n      multiple: true\n    },\n    {\n      category: 'subject',\n      type: 'dropdown',\n      labelText: _.get(this.resourceService, 'frmelmnts.lbl.subject'),\n      placeholderText: 'Select Topic',\n      multiple: true\n    },\n    // {\n    //   category: 'publisher',\n    //   type: 'dropdown',\n    //   labelText: _.get(this.resourceService, 'frmelmnts.lbl.publishedBy'),\n    //   placeholderText: 'Select Published by',\n    //   multiple: true\n    // },\n    // {\n    //   category: 'audience',\n    //   type: 'dropdown',\n    //   labelText: _.get(this.resourceService, 'frmelmnts.lbl.publishedUserType'),\n    //   placeholderText: 'Select User Type',\n    //   multiple: true\n    // }\n  ]));\n\n  constructor(public resourceService: ResourceService, private router: Router,\n    private contentSearchService: ContentSearchService,\n    private activatedRoute: ActivatedRoute, private cdr: ChangeDetectorRef,\n    public layoutService: LayoutService, private formService: FormService,\n    private cacheService: CacheService) { }\n\n  get filterData() {\n    return _.get(this.pageData, 'metaData.filters') || ['medium', 'gradeLevel', 'board', 'channel', 'subject', 'audience', 'publisher', 'se_subjects', 'se_boards', 'se_gradeLevels', 'se_mediums'];\n  }\n  public getChannelId(index) {\n    const { publisher: publishers = [] } = this.filters || {};\n    return _.get(publishers[index], 'value');\n  }\n  private fetchAndFormatQueryParams() {\n    return this.activatedRoute.queryParams\n      .pipe(\n        map(\n          queryParams => {\n            const queryFilters: Record<string, string[]> = {};\n            _.forIn(queryParams, (value, key) => {\n              if (this.filterData.includes(key)) {\n                queryFilters[key] = _.isArray(value) ? value : [value];\n              }\n            });\n            this.queryFilters = _.cloneDeep(queryFilters);\n            return queryFilters;\n          }\n        )\n      );\n  }\n  private checkForWindowSize() {\n    if (window.innerWidth <= 992) {\n      this.isOpen = false;\n    }\n  }\n  private getFramework({ boardName = null }) {\n    return this.contentSearchService.fetchFilter(boardName);\n  }\n  private sortFilters({ filters, filterBy = 'name', omitKeys = ['gradeLevel'] }) {\n    const sortedFilters = _.cloneDeep(filters);\n    _.forEach(sortedFilters, (values, key) => {\n      sortedFilters[key] = _.includes(omitKeys, key) ? values : _.sortBy(values, [filterBy]);\n    });\n    return sortedFilters;\n  }\n  private fetchFilters() {\n    return this.fetchAndFormatQueryParams()\n      .pipe(\n        switchMap(queryParams => {\n          this.filterChange.emit({ status: 'FETCHING' });\n          let boardName = _.get(queryParams, 'board[0]') || _.get(this.boards, '[0]');\n          boardName = boardName === 'CBSE/NCERT' ? 'CBSE' : boardName;\n          return zip(this.getFramework({ boardName }), this.getAudienceTypeFormConfig())\n            .pipe(map(([filters, audienceTypeFilter]: [object, object]) => ({ ...filters, audience: audienceTypeFilter })));\n        })\n      );\n  }\n  ngOnInit() {\n    this.checkForWindowSize();\n    merge(this.boardChangeHandler(), this.fetchSelectedFilterOptions(), this.handleFilterChange(), this.getFacets(), this.filterConfig$)\n      .pipe(takeUntil(this.unsubscribe$))\n      .subscribe(null, error => {\n        console.error('Error while fetching filters');\n      });\n\n    if (!_.get(this.activatedRoute, 'snapshot.queryParams[\"board\"]')) {\n      const queryParams = { ...this.defaultFilters, selectedTab: _.get(this.activatedRoute, 'snapshot.queryParams.selectedTab') || _.get(this.defaultTab, 'contentType') || 'textbook' };\n      this.router.navigate([], { queryParams, relativeTo: this.activatedRoute });\n    }\n\n    // console.log(\"ngOnInit\");\n  }\n  private boardChangeHandler() {\n    return this.boardChange$.pipe(\n      switchMap(boardName => {\n        return this.getFramework({ boardName })\n          .pipe(\n            tap(filters => {\n              this.filters = { ...this.filters, ...this.sortFilters({ filters }) };\n              this.updateRoute();\n            })\n          );\n      })\n    );\n  }\n  private fetchSelectedFilterOptions() {\n    return this.fetchFilters()\n      .pipe(\n        tap(filters => {\n          filters = _.pick(filters || {}, this.filterData);\n          this.filters = filters = this.sortFilters({ filters });\n          this.updateBoardList();\n          this.updateFiltersList({ filters: _.omit(filters, 'board') });\n          this.emitFilterChangeEvent(true);\n          this.hardRefreshFilter();\n        })\n      );\n  }\n  private handleFilterChange() {\n    return this.filterChangeEvent\n      .pipe(\n        debounceTime(1000),\n        tap(({ type, event }) => {\n          if (_.has(event, 'data.index')) {\n            const index = _.get(event, 'data.index');\n            const selectedIndices = _.get(this.selectedFilters, type) || [];\n            if (_.includes(selectedIndices, index)) {\n              if (_.get(selectedIndices, 'length') > 1) {\n                this.popFilter({ type, index });\n              }\n            } else {\n              this.pushNewFilter({ type, index });\n            }\n          } else {\n            if (type === 'subject') {\n              this.selectedNgModels['selected_subjects'] = event;\n            }\n            this.pushNewFilter({\n              type, updatedValues: _.map(event || [],\n                selectedValue => _.findIndex(this.allValues[type], val => val === selectedValue))\n            });\n          }\n          this.emitFilterChangeEvent();\n        }));\n  }\n\n  private updateBoardList() {\n    if (_.get(this.filters, 'board') || !_.get(this.filters, 'board.length')) {\n      this.emptyBoard = true;\n    }\n    this.boards = this.allValues['board'] = this.filters.board || [];\n    this.boards = _.map(this.boards, node => ({\n      name: node.name,\n      value: node.name,\n    }));\n    this.optionData.push({\n      label: this.optionLabel.Board,\n      value: 'board',\n      option: this.boards\n    });\n    this.optionData = _.uniqBy(this.optionData, 'label');\n    if (this.boards.length) {\n      const selectedOption = _.find(this.boards, { name: _.get(this.queryFilters, 'board[0]') }) ||\n        _.find(this.boards, { name: _.get(this.defaultFilters, 'board[0]') }) || this.boards[0];\n      this.selectedBoard = { label: this.optionLabel.Board, value: 'board', selectedOption: _.get(selectedOption, 'name') };\n      this.selectedBoard.selectedOption = this.selectedBoard.selectedOption === 'CBSE' ? 'CBSE/NCERT' : this.selectedBoard.selectedOption;\n      this.selectedOption = this.selectedBoard;\n    }\n  }\n  private popFilter({ type, index }) {\n    const selectedIndices = _.get(this.selectedFilters, type) || [];\n    _.remove(selectedIndices, (currentIndex) => {\n      return currentIndex === index;\n    });\n  }\n  private pushNewFilter({ type, index = null, updatedValues = [] }) {\n    if (index != null) {\n      this.selectedFilters[type] = [index, ...(this.selectedFilters.hasOwnProperty(type) ? this.selectedFilters[type] : [])];\n    } else {\n      this.selectedFilters[type] = updatedValues;\n    }\n  }\n  private getIndicesFromDefaultFilters({ type }) {\n    const defaultValues = _.get(this.defaultFilters, type) || [];\n    let indices = [];\n    if (_.get(defaultValues, 'length')) {\n      indices = _.filter(_.map(defaultValues, defaultValue => _.findIndex(this.allValues[type] || [],\n        val => val === defaultValue)), index => index !== -1);\n    }\n    if (['audience', 'publisher', 'subject'].includes(type) && !indices.length) {\n      return [];\n    }\n    return indices.length ? indices : [];\n  }\n  private updateFiltersList({ filters }: { filters: Record<string, any[]> }) {\n    this.selectedFilters = {};\n    this.selectedNgModels = {};\n    this.allValues = {};\n    _.forEach(filters, (filterValues: { name: any }[], filterKey: string) => {\n      if (filterKey === 'board') {\n        const boardName = filterValues.find((board) => board.name === 'CBSE');\n        boardName && (boardName.name = 'CBSE/NCERT');\n      }\n      const values = this.allValues[filterKey] = _.map(filterValues, 'name');\n      if (_.get(values, 'length')) {\n        let selectedIndices;\n        const filterValuesFromQueryParams = this.queryFilters[filterKey] || [];\n        if (_.get(filterValuesFromQueryParams, 'length')) {\n          const indices = _.filter(_.map(filterValuesFromQueryParams, queryParamValue => values.findIndex((val) =>\n            _.toLower(val) === _.toLower(queryParamValue))), index => index !== -1);\n          selectedIndices = _.get(indices, 'length') ? indices : this.getIndicesFromDefaultFilters({ type: filterKey });\n        } else {\n          selectedIndices = this.getIndicesFromDefaultFilters({ type: filterKey });\n        }\n        this.selectedFilters[filterKey] = selectedIndices;\n        this.selectedNgModels[filterKey] = _.map(selectedIndices, index => this.allValues[filterKey][index]);\n        if (filterKey === 'subject') {\n          this.selectedNgModels['selected_subjects'] = filterValuesFromQueryParams;\n        }\n      }\n    });\n    if (_.get(this.queryFilters, 'board[0]') !== (this.cacheService.get('searchFilters') && this.cacheService.get('searchFilters')['board'] && this.cacheService.get('searchFilters')['board'][0])) {\n      this.selectedFilters['medium'] = [];\n      this.selectedFilters['gradeLevel'] = [];\n      this.selectedFilters['subject'] = [];\n      this.selectedFilters['publisher'] = [];\n      this.selectedFilters['audience'] = [];\n      this.selectedFilters['channel'] = [];\n      return this.updateRouteForBoardChange();\n    }\n  }\n\n  private updateRouteForBoardChange(resetFilters?: boolean) {\n    const selectedTab = _.get(this.activatedRoute, 'snapshot.queryParams.selectedTab') || _.get(this.defaultTab, 'contentType') || 'textbook';\n    let _selectedFilters = this.getSelectedFilter();\n    _selectedFilters['medium'] = [];\n    _selectedFilters['gradeLevel'] = [];\n    _selectedFilters['subject'] = [];\n    _selectedFilters['publisher'] = [];\n    _selectedFilters['audience'] = [];\n    _selectedFilters['channel'] = [];\n    this.router.navigate([], {\n      queryParams: resetFilters ? { ...this.defaultFilters, selectedTab } : _.omit(_selectedFilters || {}, ['audienceSearchFilterValue']),\n      relativeTo: this.activatedRoute.parent\n    });\n  }\n  private updateRoute(resetFilters?: boolean) {\n    const selectedTab = _.get(this.activatedRoute, 'snapshot.queryParams.selectedTab') || _.get(this.defaultTab, 'contentType') || 'textbook';\n    this.router.navigate([], {\n      queryParams: resetFilters ? { ...this.defaultFilters, selectedTab } : _.omit(this.getSelectedFilter() || {}, ['audienceSearchFilterValue']),\n      relativeTo: this.activatedRoute.parent\n    });\n  }\n  selectedGroupOption(data) {\n    this.selectedOption = data;\n    this.selectedBoard = data;\n    this.filterChange.emit({ status: 'FETCHING' });\n    this.boardChange$.next(_.get(data, 'selectedOption'));\n  }\n  private getSelectedFilter() {\n    const filters = _.mapValues(this.selectedFilters, (value, key) => {\n      return _.compact(_.map(value, index => _.has(this.allValues, [key, index]) ? this.allValues[key][index] : null));\n    });\n    if (_.has(this.selectedFilters, 'publisher')) {\n      filters['channel'] = _.compact(_.map(this.selectedFilters['publisher'], publisher => this.getChannelId(publisher)));\n    }\n    if (_.has(this.selectedNgModels, 'selected_subjects')) {\n      filters['subject'] = this.selectedNgModels['selected_subjects'] || [];\n    }\n    if (_.has(this.selectedFilters, 'audience')) {\n      filters['audienceSearchFilterValue'] = _.flatten(_.compact(_.map(filters['audience'] || {}, audienceType => {\n        const audience = _.find(this.audienceList || {}, { 'name': audienceType });\n        return audience ? _.get(audience, 'searchFilter') : null;\n      })));\n    }\n    filters['board'] = _.get(this.selectedBoard, 'selectedOption') ? [this.selectedBoard.selectedOption] : [];\n    filters['selectedTab'] = _.get(this.activatedRoute, 'snapshot.queryParams.selectedTab') || _.get(this.defaultTab, 'contentType') || 'textbook';\n    return filters;\n  }\n  private emitFilterChangeEvent(skipUrlUpdate = false) {\n    const filters = this.getSelectedFilter();\n    this.filterChange.emit({ status: 'FETCHED', filters });\n    if (!skipUrlUpdate) {\n      this.updateRoute();\n    }\n  }\n  public getInteractEdata() {\n    return {\n      id: 'reset-filter',\n      type: 'click',\n      pageid: _.get(this.activatedRoute, 'snapshot.data.telemetry.pageid'),\n      extra: {\n        filters: this.getSelectedFilter() || {}\n      }\n    };\n  }\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n  private hardRefreshFilter() {\n    this.refresh = false;\n    this.cdr.detectChanges();\n    this.refresh = true;\n  }\n  isLayoutAvailable() {\n    return this.layoutService.isLayoutAvailable(this.layoutConfiguration);\n  }\n  public resetFilters() {\n    this.updateRoute(true);\n  }\n\n  onSearchFrameworkFilterReset() {\n    if (this.cacheService.exists('searchFilters')) {\n      this.cacheService.remove('searchFilters');\n    }\n    if (this.searchFrameworkFilterComponent) {\n      this.searchFrameworkFilterComponent.resetFilter();\n    }\n  }\n\n  private getAudienceTypeFormConfig() {\n    const formServiceInputParams = { formType: 'config', formAction: 'get', contentType: 'userType', component: 'portal' };\n    return this.formService.getFormConfig(formServiceInputParams).pipe(\n      map(response => _.map(_.filter(response, 'visibility'), value => {\n        const { name, searchFilter } = value;\n        return { name: name, searchFilter };\n      })),\n      tap(mapping => { this.audienceList = mapping; }),\n      retry(5),\n      catchError(err => of([]))\n    );\n  }\n\n  private getFacets() {\n    return this.facets$.pipe(tap(filters => {\n      filters = this.filters = { ...this.filters, ...this.sortFilters({ filters }) };\n      const categoryMapping = Object.entries(this.contentSearchService.getCategoriesMapping);\n      filters = _.mapKeys(filters, (value, filterKey) => {\n        const [key = null] = categoryMapping.find(([category, mappedValue]) => mappedValue === filterKey) || [];\n        return key || filterKey;\n      });\n      this.updateFiltersList({ filters });\n      this.hardRefreshFilter();\n    }));\n  }\n\n  get filterConfig$() {\n    return this.resourceService.languageSelected$.pipe(\n      switchMap(_ => this._filterConfig$),\n      tap((config: IFrameworkCategoryFilterFieldTemplateConfig[]) => {\n        this.filterFormTemplateConfig = config;\n        // console.log(\"filterFormTemplateConfig\", this.filterFormTemplateConfig);\n        this.refreshSearchFilterComponent = false;\n        this.cdr.detectChanges();\n        this.refreshSearchFilterComponent = true;\n      })\n    );\n  }\n}\n","export * from './content-search/content-search.service';\n","export * from './content-search.module';\nexport * from './components';\nexport * from './services';\n\n\n","import { PublicPlayerService } from '@sunbird/public';\nimport { Component, OnInit, OnDestroy, AfterViewInit } from '@angular/core';\nimport { combineLatest, Observable, of, Subject } from 'rxjs';\nimport {\n  ServerResponse, PaginationService, ResourceService, ConfigService, ToasterService, INoResultMessage,\n  ILoaderMessage, UtilService, ICard, BrowserCacheTtlService, NavigationHelperService, IPagination,\n  LayoutService, COLUMN_TYPE\n} from '@sunbird/shared';\nimport { SearchService, CoursesService, ISort, PlayerService, OrgDetailsService, UserService, FormService } from '@sunbird/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport * as _ from 'lodash-es';\nimport { takeUntil, map, tap, filter } from 'rxjs/operators';\nimport { IInteractEventEdata, IImpressionEventInput } from '@sunbird/telemetry';\n\n\n@Component({\n  selector: 'app-view-all',\n  templateUrl: './view-all.component.html'\n})\nexport class ViewAllComponent implements OnInit, OnDestroy, AfterViewInit {\n  /**\n   * telemetryImpression\n  */\n  public telemetryImpression: IImpressionEventInput;\n  public closeIntractEdata: IInteractEventEdata;\n  public cardIntractEdata: IInteractEventEdata;\n  public sortIntractEdata: IInteractEventEdata;\n  get = _.get;\n  /**\n   * To call searchService which helps to use list of courses\n   */\n  private searchService: SearchService;\n  /**\n  * To call resource service which helps to use language constant\n  */\n  private resourceService: ResourceService;\n  /**\n   * To get url, app configs\n   */\n  public configService: ConfigService;\n  /**\n  * To show toaster(error, success etc) after any API calls\n  */\n  private toasterService: ToasterService;\n  /**\n   * Contains list of published course(s) of logged-in user\n   */\n  searchList: Array<ICard> = [];\n  /**\n   * To navigate to other pages\n   */\n  public router: Router;\n  /**\n  * To send activatedRoute.snapshot to router navigation\n  * service for redirection to parent component\n  */\n  private activatedRoute: ActivatedRoute;\n  /**\n   * For showing pagination on inbox list\n   */\n  private paginationService: PaginationService;\n  /**\n  * To get enrolled courses details.\n  */\n  coursesService: CoursesService;\n  /**\n  * Refrence of UserService\n  */\n  private userService: UserService;\n  /**\n    * To show / hide no result message when no result found\n   */\n  noResult = false;\n  /**\n   * no result  message\n  */\n  noResultMessage: INoResultMessage;\n  /**\n    * totalCount of the list\n  */\n  totalCount: Number;\n  /**\n   * Current page number of inbox list\n   */\n  pageNumber: number;\n  /**\n   * Contains page limit of outbox list\n   */\n  pageLimit: number;\n  /**\n   * This variable hepls to show and hide page loader.\n   * It is kept true by default as at first when we comes\n   * to a page the loader should be displayed before showing\n   * any data\n   */\n  showLoader = true;\n  /**\n  *baseUrl;\n  */\n  public baseUrl: string;\n  /**\n     * loader message\n    */\n  loaderMessage: ILoaderMessage;\n  /**\n   * Contains returned object of the pagination service\n   * which is needed to show the pagination on inbox view\n   */\n  pager: IPagination;\n  /**\n   *url value\n   */\n  queryParams: any;\n  /**\n *search filters\n */\n  filters: any;\n  hashTagId: string;\n  formAction: string;\n  showFilter = false;\n  pageClicked = 0;\n  public showBatchInfo = false;\n  public selectedCourseBatches: any;\n  /**\n   /**\n    * contains the search filter type\n    */\n  public frameworkData: object;\n  public filterType: string;\n  public frameWorkName: string;\n  public sortingOptions: Array<ISort>;\n  public sectionName: string;\n  public unsubscribe = new Subject<void>();\n  showExportLoader = false;\n  contentName: string;\n  showDownloadLoader = false;\n  layoutConfiguration: any;\n  FIRST_PANEL_LAYOUT: string;\n  SECOND_PANEL_LAYOUT: string;\n  public facets;\n  public facetsList = ['channel', 'gradeLevel', 'subject', 'medium'];\n  public selectedFilters;\n  public initFilters = false;\n  private _enrolledSectionNames: string[];\n\n  constructor(searchService: SearchService, router: Router, private playerService: PlayerService, private formService: FormService,\n    activatedRoute: ActivatedRoute, paginationService: PaginationService,\n    resourceService: ResourceService, toasterService: ToasterService, private publicPlayerService: PublicPlayerService,\n    configService: ConfigService, coursesService: CoursesService, public utilService: UtilService,\n    private orgDetailsService: OrgDetailsService, userService: UserService, private browserCacheTtlService: BrowserCacheTtlService,\n    public navigationhelperService: NavigationHelperService, public layoutService: LayoutService) {\n    this.searchService = searchService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.paginationService = paginationService;\n    this.resourceService = resourceService;\n    this.toasterService = toasterService;\n    this.configService = configService;\n    this.coursesService = coursesService;\n    this.userService = userService;\n    this.router.onSameUrlNavigation = 'reload';\n    this.sortingOptions = this.configService?.dropDownConfig?.FILTER?.RESOURCES?.sortingOptions;\n    this._enrolledSectionNames = [_.get(this.resourceService, 'frmelmnts.lbl.myEnrolledCollections'), _.get(this.resourceService, 'tbk.trk.frmelmnts.lbl.mytrainings'),\n    _.get(this.resourceService, 'crs.trk.frmelmnts.lbl.mytrainings'), _.get(this.resourceService, 'tvc.trk.frmelmnts.lbl.mytrainings')];\n  }\n\n  ngOnInit() {\n    this.initLayout();\n    if (!this.userService.loggedIn) {\n      this.getChannelId();\n    } else {\n      this.showFilter = true;\n      this.userService.userData$.subscribe(userData => {\n        if (userData && !userData.err) {\n          this.frameworkData = _.get(userData.userProfile, 'framework');\n        }\n      });\n    }\n    this.formAction = _.get(this.activatedRoute.snapshot, 'data.formAction');\n    this.filterType = _.get(this.activatedRoute.snapshot, 'data.filterType');\n    this.pageLimit = this.configService.appConfig.ViewAll.PAGE_LIMIT;\n    combineLatest(this.activatedRoute.params, this.activatedRoute.queryParams).pipe(\n      map(results => ({ params: results[0], queryParams: results[1] })),\n      filter(res => this.pageNumber !== Number(res.params.pageNumber) || !_.isEqual(this.queryParams, res.queryParams)),\n      tap(res => {\n        this.showLoader = true;\n        this.queryParams = res.queryParams;\n        this.sectionName = res.params.section.replace(/\\-/g, ' ');\n        this.pageNumber = Number(res.params.pageNumber);\n      }),\n      tap((data) => {\n        this.getframeWorkData();\n        this.manipulateQueryParam(data.queryParams);\n        this.setInteractEventData();\n      }),\n      takeUntil(this.unsubscribe)\n    ).subscribe((response: any) => {\n      this.getContents(response);\n    }, (error) => {\n      this.showLoader = false;\n      this.noResult = true;\n      this.noResultMessage = {\n        'messageText': 'messages.fmsg.m0077'\n      };\n      this.toasterService.error(this.resourceService.messages.fmsg.m0051);\n    });\n\n  }\n\n  public getFilters(filters) {\n    const filterData = filters && filters.filters || {};\n    if (filterData.channel && this.facets) {\n      const channelIds = [];\n      const facetsData = _.find(this.facets, { 'name': 'channel' });\n      _.forEach(filterData.channel, (value, index) => {\n        const data = _.find(facetsData.values, { 'identifier': value });\n        if (data) {\n          channelIds.push(data.name);\n        }\n      });\n      if (channelIds && Array.isArray(channelIds) && channelIds.length > 0) {\n        filterData.channel = channelIds;\n      }\n    }\n    this.selectedFilters = filterData;\n  }\n\n  initLayout() {\n    this.layoutConfiguration = this.layoutService.initlayoutConfig();\n    this.redoLayout();\n    this.layoutService.switchableLayout().\n      pipe(takeUntil(this.unsubscribe)).subscribe(layoutConfig => {\n        if (layoutConfig != null) {\n          this.layoutConfiguration = layoutConfig.layout;\n        }\n        this.redoLayout();\n      });\n  }\n\n  fetchOrgData(orgList) {\n    const url = this.router.url;\n    if (_.get(this.activatedRoute, 'snapshot.data.facets')) {\n      const channelList = this.getChannelList(_.get(orgList, 'contentData.result.facets'));\n      const rootOrgIds = this.processOrgData(channelList);\n      return this.orgDetailsService.searchOrgDetails({\n        filters: { isTenant: true, id: rootOrgIds },\n        fields: ['slug', 'identifier', 'orgName']\n      });\n    } else {\n      return of({});\n    }\n  }\n\n  processFacetList(facets, keys) {\n    const facetObj = {};\n    _.forEach(facets, (facet) => {\n      if (_.indexOf(keys, facet.name) > -1) {\n        if (facetObj[facet.name]) {\n          facetObj[facet.name].push(...facet.values);\n        } else {\n          facetObj[facet.name] = [];\n          facetObj[facet.name].push(...facet.values);\n        }\n      }\n    });\n    return facetObj;\n  }\n\n  getContents(data) {\n    this.getContentList(data).subscribe((response: any) => {\n      this.fetchOrgData(response).subscribe((orgDetails) => {\n        if (_.get(this.activatedRoute, 'snapshot.data.facets')) {\n          let facetsList: any = this.processFacetList(_.get(response, 'contentData.result.facets'), this.facetsList);\n          facetsList.channel = _.get(orgDetails, 'content');\n          facetsList = this.utilService.removeDuplicate(facetsList);\n          this.facets = this.updateFacetsData(facetsList);\n          this.initFilters = true;\n        }\n        this.showLoader = false;\n        const derivedSectionName = _.get(this.resourceService, this.sectionName) || this.sectionName;\n        if (this._enrolledSectionNames.some(sectionName => sectionName === derivedSectionName)) {\n          this.processEnrolledCourses(_.get(response, 'enrolledCourseData'), _.get(response, 'currentPageData'));\n        } else {\n          if (response.contentData.result.count && response.contentData.result.content) {\n            this.noResult = false;\n            this.totalCount = response.contentData.result.count;\n            this.pager = this.paginationService.getPager(response.contentData.result.count, this.pageNumber, this.pageLimit);\n            this.searchList = this.formatSearchresults(response.contentData.result.content);\n          } else {\n            this.noResult = true;\n            this.noResultMessage = {\n              'message': 'messages.stmsg.m0007',\n              'messageText': 'messages.stmsg.m0006'\n            };\n          }\n        }\n      }, err => {\n        this.showLoader = false;\n        this.noResult = true;\n        this.noResultMessage = {\n          'messageText': 'messages.fmsg.m0077'\n        };\n        this.toasterService.error(this.resourceService.messages.fmsg.m0051);\n      });\n    }, (error) => {\n      this.showLoader = false;\n      this.noResult = true;\n      this.noResultMessage = {\n        'messageText': 'messages.fmsg.m0077'\n      };\n      this.toasterService.error(this.resourceService.messages.fmsg.m0051);\n    });\n  }\n  setInteractEventData() {\n    this.closeIntractEdata = {\n      id: 'close',\n      type: 'click',\n      pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n    };\n    this.cardIntractEdata = {\n      id: 'content-card',\n      type: 'click',\n      pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n    };\n    this.sortIntractEdata = {\n      id: 'sort',\n      type: 'click',\n      pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n    };\n  }\n  private manipulateQueryParam(results) {\n    this.filters = {};\n    const queryFilters = _.omit(results, ['key', 'softConstraintsFilter', 'appliedFilters',\n      'sort_by', 'sortType', 'defaultSortBy', 'exists', 'dynamic', 'selectedTab']);\n    if (!_.isEmpty(queryFilters)) {\n      _.forOwn(queryFilters, (queryValue, queryKey) => {\n        this.filters[queryKey] = queryValue;\n      });\n    }\n    if (results && results.dynamic) {\n      const fields = JSON.parse(results.dynamic);\n      _.forIn(fields, (value, key) => {\n        this.filters[key] = value;\n      });\n    }\n  }\n\n  private getContentList(request) {\n    const softConstraintData = {\n      filters: _.get(request.queryParams, 'softConstraintsFilter') ? JSON.parse(request.queryParams.softConstraintsFilter) : {},\n      softConstraints: _.get(this.activatedRoute.snapshot, 'data.softConstraints'),\n      mode: 'soft'\n    };\n    let manipulatedData = {};\n    if (_.get(this.activatedRoute.snapshot, 'data.applyMode')) {\n      manipulatedData = this.utilService.manipulateSoftConstraint(_.get(this.queryParams, 'appliedFilters'),\n        softConstraintData, this.frameworkData);\n    }\n    const requestParams = {\n      filters: _.get(this.queryParams, 'appliedFilters') ? this.filters : { ..._.get(manipulatedData, 'filters'), ...this.filters },\n      limit: this.pageLimit,\n      fields: this.configService.urlConFig.params.CourseSearchField,\n      pageNumber: Number(request.params.pageNumber),\n      mode: _.get(manipulatedData, 'mode'),\n      params: this.configService.appConfig.ViewAll.contentApiQueryParams,\n    };\n\n    if (_.get(this.filters, 'isContentSection')) {\n      requestParams.filters = _.omit(this.filters, ['isContentSection']);\n    }\n\n    requestParams['exists'] = request.queryParams.exists,\n      requestParams['sort_by'] = request.queryParams.sortType ?\n        { [request.queryParams.sort_by]: request.queryParams.sortType } : JSON.parse(request.queryParams.defaultSortBy);\n    if (_.get(manipulatedData, 'filters')) {\n      requestParams['softConstraints'] = _.get(manipulatedData, 'softConstraints');\n    }\n    if (_.get(this.activatedRoute, 'snapshot.data.facets')) {\n      requestParams['facets'] = this.facetsList;\n    }\n    this.pageClicked++;\n    if (this.userService.loggedIn) {\n      return combineLatest(\n        this.searchService.contentSearch(requestParams),\n        this.coursesService.enrolledCourseData$,\n        this.getCurrentPageData()).pipe(map(data => ({ contentData: data[0], enrolledCourseData: data[1], currentPageData: data[2] })));\n    } else {\n      return combineLatest(\n        this.searchService.contentSearch(requestParams),\n        this.getCurrentPageData()).pipe(map(data => ({ contentData: data[0], currentPageData: data[1] })));\n    }\n  }\n\n  private formatSearchresults(sectionData) {\n    _.forEach(sectionData, (value, index) => {\n      const constantData = this.configService.appConfig.ViewAll.otherCourses.constantData;\n      const metaData = this.configService.appConfig.ViewAll.metaData;\n      const dynamicFields = this.configService.appConfig.ViewAll.dynamicFields;\n      sectionData[index] = this.utilService.processContent(sectionData[index],\n        constantData, dynamicFields, metaData);\n    });\n    return sectionData;\n  }\n\n  navigateToPage(page: number): undefined | void {\n    if (page < 1 || page > this.pager.totalPages) {\n      return;\n    }\n    // if (this.pageClicked >= 1 && this.queryParams.selectedTab === 'all') {\n    //   this.navigationhelperService.popHistory();\n    // }\n    const url = decodeURI(this.router.url.split('?')[0].replace(/[^\\/]+$/, page.toString()));\n    this.router.navigate([url], { queryParams: this.queryParams, relativeTo: this.activatedRoute });\n    this.moveToTop();\n  }\n  public moveToTop() {\n    window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n    });\n}\n  playContent(event, content?) {\n    this.moveToTop();\n    if (!this.userService.loggedIn && event.data.contentType === 'Course') {\n      this.publicPlayerService.playContent(event);\n    } else {\n      const url = this.router.url.split('/');\n      if (url[1] === 'learn' || url[1] === 'resources') {\n        const batchId = _.get(content, 'metaData.batchId');\n        this.handleCourseRedirection(event, batchId);\n      } else {\n        this.publicPlayerService.playContent(event);\n      }\n    }\n  }\n  handleCourseRedirection({ data }, batchId?) {\n    const { metaData } = data;\n    const { onGoingBatchCount, expiredBatchCount, openBatch, inviteOnlyBatch } = this.coursesService.findEnrolledCourses(metaData.identifier);\n    if (!expiredBatchCount && !onGoingBatchCount) { // go to course preview page, if no enrolled batch present\n      return this.playerService.playContent(metaData);\n    }\n    if (batchId) {\n      metaData.batchId = batchId;\n      metaData.trackable = {\n        enabled: 'Yes'\n      };\n      return this.playerService.playContent(metaData);\n    }\n\n    if (onGoingBatchCount === 1) { // play course if only one open batch is present\n      metaData.batchId = openBatch.ongoing.length ? openBatch.ongoing[0].batchId : inviteOnlyBatch.ongoing[0].batchId;\n      return this.playerService.playContent(metaData);\n    }\n    // else if (onGoingBatchCount === 0 && expiredBatchCount === 1) {\n    //   metaData.batchId = openBatch.expired.length ? openBatch.expired[0].batchId : inviteOnlyBatch.expired[0].batchId;\n    //   return this.playerService.playContent(metaData);\n    // }\n    this.selectedCourseBatches = { onGoingBatchCount, expiredBatchCount, openBatch, inviteOnlyBatch, courseId: metaData.identifier };\n    this.showBatchInfo = true;\n  }\n\n  getChannelId() {\n    this.orgDetailsService.getOrgDetails()\n      .subscribe(\n        (apiResponse: any) => {\n          this.hashTagId = apiResponse.hashTagId;\n          this.showFilter = true;\n        },\n        err => {\n\n        }\n      );\n  }\n  private getframeWorkData() {\n    const formServiceInputParams = {\n      formType: 'framework',\n      formAction: 'search',\n      contentType: 'framework-code',\n    };\n    this.formService.getFormConfig(formServiceInputParams).subscribe(\n      (data: ServerResponse) => {\n        this.frameWorkName = _.find(data, 'framework').framework;\n      },\n      (err: ServerResponse) => {\n        this.toasterService.error(this.resourceService.messages.emsg.m0005);\n      });\n  }\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.setTelemetryImpressionData();\n    });\n  }\n  setTelemetryImpressionData() {\n    this.telemetryImpression = {\n      context: {\n        env: _.get(this.activatedRoute.snapshot, 'data.telemetry.env')\n      },\n      edata: {\n        type: _.get(this.activatedRoute.snapshot, 'data.telemetry.type'),\n        pageid: _.get(this.activatedRoute.snapshot, 'data.telemetry.pageid'),\n        uri: this.router.url,\n        subtype: _.get(this.activatedRoute.snapshot, 'data.telemetry.subtype'),\n        duration: this.navigationhelperService.getPageLoadTime()\n      }\n    };\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  updateCardData(downloadListdata) {\n    _.each(this.searchList, (contents) => {\n      this.publicPlayerService.updateDownloadStatus(downloadListdata, contents);\n    });\n  }\n  redoLayout() {\n    this.FIRST_PANEL_LAYOUT = this.layoutService.redoLayoutCSS(0, null, COLUMN_TYPE.fullLayout);\n    this.SECOND_PANEL_LAYOUT = this.layoutService.redoLayoutCSS(1, null, COLUMN_TYPE.fullLayout);\n  }\n\n  processOrgData(channels) {\n    const channelList = [];\n    _.forEach(channels.values, (channel) => {\n      if (channel.name) {\n        channelList.push(channel.name);\n      }\n    });\n    return channelList;\n  }\n\n  getChannelList(channels) {\n    return _.find(channels, { 'name': 'channel' });\n  }\n\n  /**\n   * @since - release-3.2.0-SH-652\n   * @param  {} courseData\n   * @description - It will process the enrolled course data if user comes to this page from My courses section\n   */\n  processEnrolledCourses(courseData, pageData) {\n    const enrolledCourses = _.get(courseData, 'enrolledCourses');\n    if (enrolledCourses) {\n      const { contentType: pageContentType = null, search: { filters: { primaryCategory: pagePrimaryCategories = [] } } } = pageData;\n      const enrolledContentPredicate = course => {\n        const { primaryCategory = null, contentType = null } = _.get(course, 'content') || {};\n        return pagePrimaryCategories.some(category => _.toLower(category) === _.toLower(primaryCategory)) || (_.toLower(contentType) === _.toLower(pageContentType));\n      };\n      const filteredCourses = _.filter(enrolledCourses || [], enrolledContentPredicate);\n      const enrolledCourseCount = _.get(filteredCourses, 'length');\n      this.noResult = false;\n      this.totalCount = enrolledCourseCount;\n      const sortedData = _.map(_.orderBy(filteredCourses, ['enrolledDate'], ['desc']), (val) => {\n        const value = _.get(val, 'content');\n        value.batchId = _.get(val, 'batchId');\n        value.batch = _.get(val, 'batch');\n        return value;\n      });\n      this.searchList = this.formatSearchresults(sortedData);\n    } else {\n      this.noResult = true;\n      this.noResultMessage = {\n        'message': 'messages.stmsg.m0007',\n        'messageText': 'messages.stmsg.m0006'\n      };\n    }\n  }\n\n  updateFacetsData(facets) {\n    const facetsData = [];\n    _.forEach(facets, (facet, key) => {\n      switch (key) {\n        case 'board':\n          const boardData = {\n            index: '1',\n            label: _.get(this.resourceService, 'frmelmnts.lbl.boards'),\n            placeholder: _.get(this.resourceService, 'frmelmnts.lbl.selectBoard'),\n            values: facet,\n            name: key\n          };\n          facetsData.push(boardData);\n          break;\n        case 'medium':\n          const mediumData = {\n            index: '2',\n            label: _.get(this.resourceService, 'frmelmnts.lbl.medium'),\n            placeholder: _.get(this.resourceService, 'frmelmnts.lbl.selectMedium'),\n            values: facet,\n            name: key\n          };\n          facetsData.push(mediumData);\n          break;\n        case 'gradeLevel':\n          const gradeLevelData = {\n            index: '3',\n            label: _.get(this.resourceService, 'frmelmnts.lbl.class'),\n            placeholder: _.get(this.resourceService, 'frmelmnts.lbl.selectClass'),\n            values: facet,\n            name: key\n          };\n          facetsData.push(gradeLevelData);\n          break;\n        case 'subject':\n          const subjectData = {\n            index: '4',\n            label: _.get(this.resourceService, 'frmelmnts.lbl.subject'),\n            placeholder: _.get(this.resourceService, 'frmelmnts.lbl.selectSubject'),\n            values: facet,\n            name: key\n          };\n          facetsData.push(subjectData);\n          break;\n        case 'publisher':\n          const publisherData = {\n            index: '5',\n            label: _.get(this.resourceService, 'frmelmnts.lbl.publisher'),\n            placeholder: _.get(this.resourceService, 'frmelmnts.lbl.selectPublisher'),\n            values: facet,\n            name: key\n          };\n          facetsData.push(publisherData);\n          break;\n        case 'contentType':\n          const contentTypeData = {\n            index: '6',\n            label: _.get(this.resourceService, 'frmelmnts.lbl.contentType'),\n            placeholder: _.get(this.resourceService, 'frmelmnts.lbl.selectContentType'),\n            values: facet,\n            name: key\n          };\n          facetsData.push(contentTypeData);\n          break;\n        case 'channel':\n          const channelLists = [];\n          _.forEach(facet, (channelList) => {\n            if (channelList.orgName) {\n              channelList.name = channelList.orgName;\n            }\n            channelLists.push(channelList);\n          });\n          const channelData = {\n            index: '1',\n            label: _.get(this.resourceService, 'frmelmnts.lbl.orgname'),\n            placeholder: _.get(this.resourceService, 'frmelmnts.lbl.orgname'),\n            values: channelLists,\n            name: key\n          };\n          facetsData.push(channelData);\n          break;\n      }\n    });\n    return facetsData;\n  }\n  public handleCloseButton() {\n    if (this.queryParams.selectedTab === 'all') {\n    const previousPageUrl = this.navigationhelperService.getPreviousUrl();\n    if (!['/search/Library/', '/explore/'].some(val => previousPageUrl.url.startsWith(val)) ||\n     ['/explore/view-all/'].some(val => previousPageUrl.url.startsWith(val))) {\n      this.navigationhelperService.popHistory();\n      this.handleCloseButton();\n      return;\n    }\n    this.navigationhelperService.goBack();\n    } else {\n    const [path] = this.router.url.split('/view-all');\n    const redirectionUrl = `/${path.toString()}`;\n    const { selectedTab = '' } = this.queryParams || {};\n    this.router.navigate([redirectionUrl], { queryParams: { selectedTab } });\n    }\n  }\n\n  private getFormConfig(input = { formType: 'contentcategory', formAction: 'menubar', contentType: 'global' }): Observable<object> {\n    return this.formService.getFormConfig(input);\n  }\n\n  private getPageData = selectedTab => formData => _.find(formData, data => data.contentType === selectedTab);\n\n  private getCurrentPageData() {\n    const { currentPageData = null } = _.get(history, 'state') || {};\n    if (currentPageData) { return of(currentPageData); }\n    const selectedTab = _.get(this.activatedRoute, 'snapshot.queryParams.selectedTab') || 'textbook';\n    return this.getFormConfig().pipe(\n      map(this.getPageData(selectedTab))\n    );\n  }\n}\n"],"sourceRoot":"webpack:///"}